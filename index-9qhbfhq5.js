var es=Object.create;var{getPrototypeOf:Jo,defineProperty:NI,getOwnPropertyNames:Zo}=Object;var Qo=Object.prototype.hasOwnProperty;var e=(J,Z,Q)=>{Q=J!=null?es(Jo(J)):{};let Y=Z||!J||!J.__esModule?NI(Q,"default",{value:J,enumerable:!0}):Q;for(let $ of Zo(J))if(!Qo.call(Y,$))NI(Y,$,{get:()=>J[$],enumerable:!0});return Y};var S6=(J,Z)=>()=>(Z||J((Z={exports:{}}).exports,Z),Z.exports);var FI=(J,Z)=>{for(var Q in Z)NI(J,Q,{get:Z[Q],enumerable:!0,configurable:!0,set:(Y)=>Z[Q]=()=>Y})};var V6=(J,Z)=>()=>(J&&(Z=J(J=0)),Z);var AI=((J)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(J,{get:(Z,Q)=>(typeof require<"u"?require:Z)[Q]}):J)(function(J){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')});var J0=S6((Xo,KA)=>{(function(){function J(Y1,N1){Object.defineProperty(Y.prototype,Y1,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",N1[0],N1[1])}})}function Z(Y1){if(Y1===null||typeof Y1!=="object")return null;return Y1=r1&&Y1[r1]||Y1["@@iterator"],typeof Y1==="function"?Y1:null}function Q(Y1,N1){Y1=(Y1=Y1.constructor)&&(Y1.displayName||Y1.name)||"ReactClass";var Q0=Y1+"."+N1;h1[Q0]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",N1,Y1),h1[Q0]=!0)}function Y(Y1,N1,Q0){this.props=Y1,this.context=N1,this.refs=M1,this.updater=Q0||G1}function $(){}function H(Y1,N1,Q0){this.props=Y1,this.context=N1,this.refs=M1,this.updater=Q0||G1}function K(Y1){return""+Y1}function B(Y1){try{K(Y1);var N1=!1}catch(g0){N1=!0}if(N1){N1=console;var Q0=N1.error,Z0=typeof Symbol==="function"&&Symbol.toStringTag&&Y1[Symbol.toStringTag]||Y1.constructor.name||"Object";return Q0.call(N1,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Z0),K(Y1)}}function q(Y1){if(Y1==null)return null;if(typeof Y1==="function")return Y1.$$typeof===C1?null:Y1.displayName||Y1.name||null;if(typeof Y1==="string")return Y1;switch(Y1){case Q1:return"Fragment";case K1:return"Profiler";case m:return"StrictMode";case J1:return"Suspense";case z1:return"SuspenseList";case m1:return"Activity"}if(typeof Y1==="object")switch(typeof Y1.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),Y1.$$typeof){case t:return"Portal";case n:return(Y1.displayName||"Context")+".Provider";case g:return(Y1._context.displayName||"Context")+".Consumer";case Z1:var N1=Y1.render;return Y1=Y1.displayName,Y1||(Y1=N1.displayName||N1.name||"",Y1=Y1!==""?"ForwardRef("+Y1+")":"ForwardRef"),Y1;case V1:return N1=Y1.displayName||null,N1!==null?N1:q(Y1.type)||"Memo";case w1:N1=Y1._payload,Y1=Y1._init;try{return q(Y1(N1))}catch(Q0){}}return null}function L(Y1){if(Y1===Q1)return"<>";if(typeof Y1==="object"&&Y1!==null&&Y1.$$typeof===w1)return"<...>";try{var N1=q(Y1);return N1?"<"+N1+">":"<...>"}catch(Q0){return"<...>"}}function O(){var Y1=x1.A;return Y1===null?null:Y1.getOwner()}function z(){return Error("react-stack-top-frame")}function F(Y1){if(v1.call(Y1,"key")){var N1=Object.getOwnPropertyDescriptor(Y1,"key").get;if(N1&&N1.isReactWarning)return!1}return Y1.key!==void 0}function V(Y1,N1){function Q0(){y1||(y1=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",N1))}Q0.isReactWarning=!0,Object.defineProperty(Y1,"key",{get:Q0,configurable:!0})}function A(){var Y1=q(this.type);return T1[Y1]||(T1[Y1]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),Y1=this.props.ref,Y1!==void 0?Y1:null}function M(Y1,N1,Q0,Z0,g0,M2,_2,e2){return Q0=M2.ref,Y1={$$typeof:l,type:Y1,key:N1,props:M2,_owner:g0},(Q0!==void 0?Q0:null)!==null?Object.defineProperty(Y1,"ref",{enumerable:!1,get:A}):Object.defineProperty(Y1,"ref",{enumerable:!1,value:null}),Y1._store={},Object.defineProperty(Y1._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(Y1,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(Y1,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:_2}),Object.defineProperty(Y1,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:e2}),Object.freeze&&(Object.freeze(Y1.props),Object.freeze(Y1)),Y1}function j(Y1,N1){return N1=M(Y1.type,N1,void 0,void 0,Y1._owner,Y1.props,Y1._debugStack,Y1._debugTask),Y1._store&&(N1._store.validated=Y1._store.validated),N1}function D(Y1){return typeof Y1==="object"&&Y1!==null&&Y1.$$typeof===l}function w(Y1){var N1={"=":"=0",":":"=2"};return"$"+Y1.replace(/[=:]/g,function(Q0){return N1[Q0]})}function C(Y1,N1){return typeof Y1==="object"&&Y1!==null&&Y1.key!=null?(B(Y1.key),w(""+Y1.key)):N1.toString(36)}function I(){}function b(Y1){switch(Y1.status){case"fulfilled":return Y1.value;case"rejected":throw Y1.reason;default:switch(typeof Y1.status==="string"?Y1.then(I,I):(Y1.status="pending",Y1.then(function(N1){Y1.status==="pending"&&(Y1.status="fulfilled",Y1.value=N1)},function(N1){Y1.status==="pending"&&(Y1.status="rejected",Y1.reason=N1)})),Y1.status){case"fulfilled":return Y1.value;case"rejected":throw Y1.reason}}throw Y1}function E(Y1,N1,Q0,Z0,g0){var M2=typeof Y1;if(M2==="undefined"||M2==="boolean")Y1=null;var _2=!1;if(Y1===null)_2=!0;else switch(M2){case"bigint":case"string":case"number":_2=!0;break;case"object":switch(Y1.$$typeof){case l:case t:_2=!0;break;case w1:return _2=Y1._init,E(_2(Y1._payload),N1,Q0,Z0,g0)}}if(_2){_2=Y1,g0=g0(_2);var e2=Z0===""?"."+C(_2,0):Z0;return u1(g0)?(Q0="",e2!=null&&(Q0=e2.replace(H0,"$&/")+"/"),E(g0,N1,Q0,"",function(t0){return t0})):g0!=null&&(D(g0)&&(g0.key!=null&&(_2&&_2.key===g0.key||B(g0.key)),Q0=j(g0,Q0+(g0.key==null||_2&&_2.key===g0.key?"":(""+g0.key).replace(H0,"$&/")+"/")+e2),Z0!==""&&_2!=null&&D(_2)&&_2.key==null&&_2._store&&!_2._store.validated&&(Q0._store.validated=2),g0=Q0),N1.push(g0)),1}if(_2=0,e2=Z0===""?".":Z0+":",u1(Y1))for(var I2=0;I2<Y1.length;I2++)Z0=Y1[I2],M2=e2+C(Z0,I2),_2+=E(Z0,N1,Q0,M2,g0);else if(I2=Z(Y1),typeof I2==="function")for(I2===Y1.entries&&(E0||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),E0=!0),Y1=I2.call(Y1),I2=0;!(Z0=Y1.next()).done;)Z0=Z0.value,M2=e2+C(Z0,I2++),_2+=E(Z0,N1,Q0,M2,g0);else if(M2==="object"){if(typeof Y1.then==="function")return E(b(Y1),N1,Q0,Z0,g0);throw N1=String(Y1),Error("Objects are not valid as a React child (found: "+(N1==="[object Object]"?"object with keys {"+Object.keys(Y1).join(", ")+"}":N1)+"). If you meant to render a collection of children, use an array instead.")}return _2}function k(Y1,N1,Q0){if(Y1==null)return Y1;var Z0=[],g0=0;return E(Y1,Z0,"","",function(M2){return N1.call(Q0,M2,g0++)}),Z0}function T(Y1){if(Y1._status===-1){var N1=Y1._result;N1=N1(),N1.then(function(Q0){if(Y1._status===0||Y1._status===-1)Y1._status=1,Y1._result=Q0},function(Q0){if(Y1._status===0||Y1._status===-1)Y1._status=2,Y1._result=Q0}),Y1._status===-1&&(Y1._status=0,Y1._result=N1)}if(Y1._status===1)return N1=Y1._result,N1===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,N1),"default"in N1||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,N1),N1.default;throw Y1._result}function S(){var Y1=x1.H;return Y1===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),Y1}function d(){}function o(Y1){if(D0===null)try{var N1=("require"+Math.random()).slice(0,7);D0=(KA&&KA[N1]).call(KA,"timers").setImmediate}catch(Q0){D0=function(Z0){i0===!1&&(i0=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var g0=new MessageChannel;g0.port1.onmessage=Z0,g0.port2.postMessage(void 0)}}return D0(Y1)}function v(Y1){return 1<Y1.length&&typeof AggregateError==="function"?AggregateError(Y1):Y1[0]}function y(Y1,N1){N1!==_0-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),_0=N1}function i(Y1,N1,Q0){var Z0=x1.actQueue;if(Z0!==null)if(Z0.length!==0)try{p(Z0),o(function(){return i(Y1,N1,Q0)});return}catch(g0){x1.thrownErrors.push(g0)}else x1.actQueue=null;0<x1.thrownErrors.length?(Z0=v(x1.thrownErrors),x1.thrownErrors.length=0,Q0(Z0)):N1(Y1)}function p(Y1){if(!Z2){Z2=!0;var N1=0;try{for(;N1<Y1.length;N1++){var Q0=Y1[N1];do{x1.didUsePromise=!1;var Z0=Q0(!1);if(Z0!==null){if(x1.didUsePromise){Y1[N1]=Q0,Y1.splice(0,N1);return}Q0=Z0}else break}while(1)}Y1.length=0}catch(g0){Y1.splice(0,N1+1),x1.thrownErrors.push(g0)}finally{Z2=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),Q1=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),n=Symbol.for("react.context"),Z1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),z1=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),w1=Symbol.for("react.lazy"),m1=Symbol.for("react.activity"),r1=Symbol.iterator,h1={},G1={isMounted:function(){return!1},enqueueForceUpdate:function(Y1){Q(Y1,"forceUpdate")},enqueueReplaceState:function(Y1){Q(Y1,"replaceState")},enqueueSetState:function(Y1){Q(Y1,"setState")}},a=Object.assign,M1={};Object.freeze(M1),Y.prototype.isReactComponent={},Y.prototype.setState=function(Y1,N1){if(typeof Y1!=="object"&&typeof Y1!=="function"&&Y1!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y1,N1,"setState")},Y.prototype.forceUpdate=function(Y1){this.updater.enqueueForceUpdate(this,Y1,"forceUpdate")};var D1={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},g1;for(g1 in D1)D1.hasOwnProperty(g1)&&J(g1,D1[g1]);$.prototype=Y.prototype,D1=H.prototype=new $,D1.constructor=H,a(D1,Y.prototype),D1.isPureReactComponent=!0;var u1=Array.isArray,C1=Symbol.for("react.client.reference"),x1={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},v1=Object.prototype.hasOwnProperty,p1=console.createTask?console.createTask:function(){return null};D1={react_stack_bottom_frame:function(Y1){return Y1()}};var y1,P1,T1={},j0=D1.react_stack_bottom_frame.bind(D1,z)(),N0=p1(L(z)),E0=!1,H0=/\/+/g,A0=typeof reportError==="function"?reportError:function(Y1){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var N1=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y1==="object"&&Y1!==null&&typeof Y1.message==="string"?String(Y1.message):String(Y1),error:Y1});if(!window.dispatchEvent(N1))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Y1);return}console.error(Y1)},i0=!1,D0=null,_0=0,W2=!1,Z2=!1,t2=typeof queueMicrotask==="function"?function(Y1){queueMicrotask(function(){return queueMicrotask(Y1)})}:o;D1=Object.freeze({__proto__:null,c:function(Y1){return S().useMemoCache(Y1)}}),Xo.Children={map:k,forEach:function(Y1,N1,Q0){k(Y1,function(){N1.apply(this,arguments)},Q0)},count:function(Y1){var N1=0;return k(Y1,function(){N1++}),N1},toArray:function(Y1){return k(Y1,function(N1){return N1})||[]},only:function(Y1){if(!D(Y1))throw Error("React.Children.only expected to receive a single React element child.");return Y1}},Xo.Component=Y,Xo.Fragment=Q1,Xo.Profiler=K1,Xo.PureComponent=H,Xo.StrictMode=m,Xo.Suspense=J1,Xo.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x1,Xo.__COMPILER_RUNTIME=D1,Xo.act=function(Y1){var N1=x1.actQueue,Q0=_0;_0++;var Z0=x1.actQueue=N1!==null?N1:[],g0=!1;try{var M2=Y1()}catch(I2){x1.thrownErrors.push(I2)}if(0<x1.thrownErrors.length)throw y(N1,Q0),Y1=v(x1.thrownErrors),x1.thrownErrors.length=0,Y1;if(M2!==null&&typeof M2==="object"&&typeof M2.then==="function"){var _2=M2;return t2(function(){g0||W2||(W2=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(I2,t0){g0=!0,_2.then(function(S4){if(y(N1,Q0),Q0===0){try{p(Z0),o(function(){return i(S4,I2,t0)})}catch(z0){x1.thrownErrors.push(z0)}if(0<x1.thrownErrors.length){var T4=v(x1.thrownErrors);x1.thrownErrors.length=0,t0(T4)}}else I2(S4)},function(S4){y(N1,Q0),0<x1.thrownErrors.length?(S4=v(x1.thrownErrors),x1.thrownErrors.length=0,t0(S4)):t0(S4)})}}}var e2=M2;if(y(N1,Q0),Q0===0&&(p(Z0),Z0.length!==0&&t2(function(){g0||W2||(W2=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),x1.actQueue=null),0<x1.thrownErrors.length)throw Y1=v(x1.thrownErrors),x1.thrownErrors.length=0,Y1;return{then:function(I2,t0){g0=!0,Q0===0?(x1.actQueue=Z0,o(function(){return i(e2,I2,t0)})):I2(e2)}}},Xo.cache=function(Y1){return function(){return Y1.apply(null,arguments)}},Xo.captureOwnerStack=function(){var Y1=x1.getCurrentStack;return Y1===null?null:Y1()},Xo.cloneElement=function(Y1,N1,Q0){if(Y1===null||Y1===void 0)throw Error("The argument must be a React element, but you passed "+Y1+".");var Z0=a({},Y1.props),g0=Y1.key,M2=Y1._owner;if(N1!=null){var _2;J:{if(v1.call(N1,"ref")&&(_2=Object.getOwnPropertyDescriptor(N1,"ref").get)&&_2.isReactWarning){_2=!1;break J}_2=N1.ref!==void 0}_2&&(M2=O()),F(N1)&&(B(N1.key),g0=""+N1.key);for(e2 in N1)!v1.call(N1,e2)||e2==="key"||e2==="__self"||e2==="__source"||e2==="ref"&&N1.ref===void 0||(Z0[e2]=N1[e2])}var e2=arguments.length-2;if(e2===1)Z0.children=Q0;else if(1<e2){_2=Array(e2);for(var I2=0;I2<e2;I2++)_2[I2]=arguments[I2+2];Z0.children=_2}Z0=M(Y1.type,g0,void 0,void 0,M2,Z0,Y1._debugStack,Y1._debugTask);for(g0=2;g0<arguments.length;g0++)M2=arguments[g0],D(M2)&&M2._store&&(M2._store.validated=1);return Z0},Xo.createContext=function(Y1){return Y1={$$typeof:n,_currentValue:Y1,_currentValue2:Y1,_threadCount:0,Provider:null,Consumer:null},Y1.Provider=Y1,Y1.Consumer={$$typeof:g,_context:Y1},Y1._currentRenderer=null,Y1._currentRenderer2=null,Y1},Xo.createElement=function(Y1,N1,Q0){for(var Z0=2;Z0<arguments.length;Z0++){var g0=arguments[Z0];D(g0)&&g0._store&&(g0._store.validated=1)}if(Z0={},g0=null,N1!=null)for(I2 in P1||!("__self"in N1)||"key"in N1||(P1=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),F(N1)&&(B(N1.key),g0=""+N1.key),N1)v1.call(N1,I2)&&I2!=="key"&&I2!=="__self"&&I2!=="__source"&&(Z0[I2]=N1[I2]);var M2=arguments.length-2;if(M2===1)Z0.children=Q0;else if(1<M2){for(var _2=Array(M2),e2=0;e2<M2;e2++)_2[e2]=arguments[e2+2];Object.freeze&&Object.freeze(_2),Z0.children=_2}if(Y1&&Y1.defaultProps)for(I2 in M2=Y1.defaultProps,M2)Z0[I2]===void 0&&(Z0[I2]=M2[I2]);g0&&V(Z0,typeof Y1==="function"?Y1.displayName||Y1.name||"Unknown":Y1);var I2=1e4>x1.recentlyCreatedOwnerStacks++;return M(Y1,g0,void 0,void 0,O(),Z0,I2?Error("react-stack-top-frame"):j0,I2?p1(L(Y1)):N0)},Xo.createRef=function(){var Y1={current:null};return Object.seal(Y1),Y1},Xo.forwardRef=function(Y1){Y1!=null&&Y1.$$typeof===V1?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof Y1!=="function"?console.error("forwardRef requires a render function but was given %s.",Y1===null?"null":typeof Y1):Y1.length!==0&&Y1.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",Y1.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),Y1!=null&&Y1.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var N1={$$typeof:Z1,render:Y1},Q0;return Object.defineProperty(N1,"displayName",{enumerable:!1,configurable:!0,get:function(){return Q0},set:function(Z0){Q0=Z0,Y1.name||Y1.displayName||(Object.defineProperty(Y1,"name",{value:Z0}),Y1.displayName=Z0)}}),N1},Xo.isValidElement=D,Xo.lazy=function(Y1){return{$$typeof:w1,_payload:{_status:-1,_result:Y1},_init:T}},Xo.memo=function(Y1,N1){Y1==null&&console.error("memo: The first argument must be a component. Instead received: %s",Y1===null?"null":typeof Y1),N1={$$typeof:V1,type:Y1,compare:N1===void 0?null:N1};var Q0;return Object.defineProperty(N1,"displayName",{enumerable:!1,configurable:!0,get:function(){return Q0},set:function(Z0){Q0=Z0,Y1.name||Y1.displayName||(Object.defineProperty(Y1,"name",{value:Z0}),Y1.displayName=Z0)}}),N1},Xo.startTransition=function(Y1){var N1=x1.T,Q0={};x1.T=Q0,Q0._updatedFibers=new Set;try{var Z0=Y1(),g0=x1.S;g0!==null&&g0(Q0,Z0),typeof Z0==="object"&&Z0!==null&&typeof Z0.then==="function"&&Z0.then(d,A0)}catch(M2){A0(M2)}finally{N1===null&&Q0._updatedFibers&&(Y1=Q0._updatedFibers.size,Q0._updatedFibers.clear(),10<Y1&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),x1.T=N1}},Xo.unstable_useCacheRefresh=function(){return S().useCacheRefresh()},Xo.use=function(Y1){return S().use(Y1)},Xo.useActionState=function(Y1,N1,Q0){return S().useActionState(Y1,N1,Q0)},Xo.useCallback=function(Y1,N1){return S().useCallback(Y1,N1)},Xo.useContext=function(Y1){var N1=S();return Y1.$$typeof===g&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),N1.useContext(Y1)},Xo.useDebugValue=function(Y1,N1){return S().useDebugValue(Y1,N1)},Xo.useDeferredValue=function(Y1,N1){return S().useDeferredValue(Y1,N1)},Xo.useEffect=function(Y1,N1,Q0){Y1==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var Z0=S();if(typeof Q0==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z0.useEffect(Y1,N1)},Xo.useId=function(){return S().useId()},Xo.useImperativeHandle=function(Y1,N1,Q0){return S().useImperativeHandle(Y1,N1,Q0)},Xo.useInsertionEffect=function(Y1,N1){return Y1==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),S().useInsertionEffect(Y1,N1)},Xo.useLayoutEffect=function(Y1,N1){return Y1==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),S().useLayoutEffect(Y1,N1)},Xo.useMemo=function(Y1,N1){return S().useMemo(Y1,N1)},Xo.useOptimistic=function(Y1,N1){return S().useOptimistic(Y1,N1)},Xo.useReducer=function(Y1,N1,Q0){return S().useReducer(Y1,N1,Q0)},Xo.useRef=function(Y1){return S().useRef(Y1)},Xo.useState=function(Y1){return S().useState(Y1)},Xo.useSyncExternalStore=function(Y1,N1,Q0){return S().useSyncExternalStore(Y1,N1,Q0)},Xo.useTransition=function(){return S().useTransition()},Xo.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var tC=S6((Yo)=>{(function(){function J(){if(I=!1,T){var p=Yo.unstable_now();o=p;var l=!0;try{J:{w=!1,C&&(C=!1,E(S),S=-1),D=!0;var t=j;try{Z:{H(p);for(M=Q(F);M!==null&&!(M.expirationTime>p&&B());){var Q1=M.callback;if(typeof Q1==="function"){M.callback=null,j=M.priorityLevel;var m=Q1(M.expirationTime<=p);if(p=Yo.unstable_now(),typeof m==="function"){M.callback=m,H(p),l=!0;break Z}M===Q(F)&&Y(F),H(p)}else Y(F);M=Q(F)}if(M!==null)l=!0;else{var K1=Q(V);K1!==null&&q(K,K1.startTime-p),l=!1}}break J}finally{M=null,j=t,D=!1}l=void 0}}finally{l?v():T=!1}}}function Z(p,l){var t=p.length;p.push(l);J:for(;0<t;){var Q1=t-1>>>1,m=p[Q1];if(0<$(m,l))p[Q1]=l,p[t]=m,t=Q1;else break J}}function Q(p){return p.length===0?null:p[0]}function Y(p){if(p.length===0)return null;var l=p[0],t=p.pop();if(t!==l){p[0]=t;J:for(var Q1=0,m=p.length,K1=m>>>1;Q1<K1;){var g=2*(Q1+1)-1,n=p[g],Z1=g+1,J1=p[Z1];if(0>$(n,t))Z1<m&&0>$(J1,n)?(p[Q1]=J1,p[Z1]=t,Q1=Z1):(p[Q1]=n,p[g]=t,Q1=g);else if(Z1<m&&0>$(J1,t))p[Q1]=J1,p[Z1]=t,Q1=Z1;else break J}}return l}function $(p,l){var t=p.sortIndex-l.sortIndex;return t!==0?t:p.id-l.id}function H(p){for(var l=Q(V);l!==null;){if(l.callback===null)Y(V);else if(l.startTime<=p)Y(V),l.sortIndex=l.expirationTime,Z(F,l);else break;l=Q(V)}}function K(p){if(C=!1,H(p),!w)if(Q(F)!==null)w=!0,T||(T=!0,v());else{var l=Q(V);l!==null&&q(K,l.startTime-p)}}function B(){return I?!0:Yo.unstable_now()-o<d?!1:!0}function q(p,l){S=b(function(){p(Yo.unstable_now())},l)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),Yo.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var L=performance;Yo.unstable_now=function(){return L.now()}}else{var O=Date,z=O.now();Yo.unstable_now=function(){return O.now()-z}}var F=[],V=[],A=1,M=null,j=3,D=!1,w=!1,C=!1,I=!1,b=typeof setTimeout==="function"?setTimeout:null,E=typeof clearTimeout==="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null,T=!1,S=-1,d=5,o=-1;if(typeof k==="function")var v=function(){k(J)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,i=y.port2;y.port1.onmessage=J,v=function(){i.postMessage(null)}}else v=function(){b(J,0)};Yo.unstable_IdlePriority=5,Yo.unstable_ImmediatePriority=1,Yo.unstable_LowPriority=4,Yo.unstable_NormalPriority=3,Yo.unstable_Profiling=null,Yo.unstable_UserBlockingPriority=2,Yo.unstable_cancelCallback=function(p){p.callback=null},Yo.unstable_forceFrameRate=function(p){0>p||125<p?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):d=0<p?Math.floor(1000/p):5},Yo.unstable_getCurrentPriorityLevel=function(){return j},Yo.unstable_next=function(p){switch(j){case 1:case 2:case 3:var l=3;break;default:l=j}var t=j;j=l;try{return p()}finally{j=t}},Yo.unstable_requestPaint=function(){I=!0},Yo.unstable_runWithPriority=function(p,l){switch(p){case 1:case 2:case 3:case 4:case 5:break;default:p=3}var t=j;j=p;try{return l()}finally{j=t}},Yo.unstable_scheduleCallback=function(p,l,t){var Q1=Yo.unstable_now();switch(typeof t==="object"&&t!==null?(t=t.delay,t=typeof t==="number"&&0<t?Q1+t:Q1):t=Q1,p){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5000}return m=t+m,p={id:A++,callback:l,priorityLevel:p,startTime:t,expirationTime:m,sortIndex:-1},t>Q1?(p.sortIndex=t,Z(V,p),Q(F)===null&&p===Q(V)&&(C?(E(S),S=-1):C=!0,q(K,t-Q1))):(p.sortIndex=m,Z(F,p),w||D||(w=!0,T||(T=!0,v()))),p},Yo.unstable_shouldYield=B,Yo.unstable_wrapCallback=function(p){var l=j;return function(){var t=j;j=l;try{return p.apply(this,arguments)}finally{j=t}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var eC=S6((Go)=>{var MI=e(J0(),1);(function(){function J(){}function Z(O){return""+O}function Q(O,z,F){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Z(V);var A=!1}catch(M){A=!0}return A&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object"),Z(V)),{$$typeof:q,key:V==null?null:""+V,children:O,containerInfo:z,implementation:F}}function Y(O,z){if(O==="font")return"";if(typeof z==="string")return z==="use-credentials"?z:""}function $(O){return O===null?"`null`":O===void 0?"`undefined`":O===""?"an empty string":'something with type "'+typeof O+'"'}function H(O){return O===null?"`null`":O===void 0?"`undefined`":O===""?"an empty string":typeof O==="string"?JSON.stringify(O):typeof O==="number"?"`"+O+"`":'something with type "'+typeof O+'"'}function K(){var O=L.H;return O===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),O}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var B={d:{f:J,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:J,C:J,L:J,m:J,X:J,S:J,M:J},p:0,findDOMNode:null},q=Symbol.for("react.portal"),L=MI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Go.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Go.createPortal=function(O,z){var F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z||z.nodeType!==1&&z.nodeType!==9&&z.nodeType!==11)throw Error("Target container is not a DOM element.");return Q(O,z,null,F)},Go.flushSync=function(O){var z=L.T,F=B.p;try{if(L.T=null,B.p=2,O)return O()}finally{L.T=z,B.p=F,B.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},Go.preconnect=function(O,z){typeof O==="string"&&O?z!=null&&typeof z!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",H(z)):z!=null&&typeof z.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",$(z.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",$(O)),typeof O==="string"&&(z?(z=z.crossOrigin,z=typeof z==="string"?z==="use-credentials"?z:"":void 0):z=null,B.d.C(O,z))},Go.prefetchDNS=function(O){if(typeof O!=="string"||!O)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",$(O));else if(1<arguments.length){var z=arguments[1];typeof z==="object"&&z.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",H(z)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",H(z))}typeof O==="string"&&B.d.D(O)},Go.preinit=function(O,z){if(typeof O==="string"&&O?z==null||typeof z!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",H(z)):z.as!=="style"&&z.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',H(z.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",$(O)),typeof O==="string"&&z&&typeof z.as==="string"){var F=z.as,V=Y(F,z.crossOrigin),A=typeof z.integrity==="string"?z.integrity:void 0,M=typeof z.fetchPriority==="string"?z.fetchPriority:void 0;F==="style"?B.d.S(O,typeof z.precedence==="string"?z.precedence:void 0,{crossOrigin:V,integrity:A,fetchPriority:M}):F==="script"&&B.d.X(O,{crossOrigin:V,integrity:A,fetchPriority:M,nonce:typeof z.nonce==="string"?z.nonce:void 0})}},Go.preinitModule=function(O,z){var F="";if(typeof O==="string"&&O||(F+=" The `href` argument encountered was "+$(O)+"."),z!==void 0&&typeof z!=="object"?F+=" The `options` argument encountered was "+$(z)+".":z&&("as"in z)&&z.as!=="script"&&(F+=" The `as` option encountered was "+H(z.as)+"."),F)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",F);else switch(F=z&&typeof z.as==="string"?z.as:"script",F){case"script":break;default:F=H(F),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',F,O)}if(typeof O==="string")if(typeof z==="object"&&z!==null){if(z.as==null||z.as==="script")F=Y(z.as,z.crossOrigin),B.d.M(O,{crossOrigin:F,integrity:typeof z.integrity==="string"?z.integrity:void 0,nonce:typeof z.nonce==="string"?z.nonce:void 0})}else z==null&&B.d.M(O)},Go.preload=function(O,z){var F="";if(typeof O==="string"&&O||(F+=" The `href` argument encountered was "+$(O)+"."),z==null||typeof z!=="object"?F+=" The `options` argument encountered was "+$(z)+".":typeof z.as==="string"&&z.as||(F+=" The `as` option encountered was "+$(z.as)+"."),F&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',F),typeof O==="string"&&typeof z==="object"&&z!==null&&typeof z.as==="string"){F=z.as;var V=Y(F,z.crossOrigin);B.d.L(O,F,{crossOrigin:V,integrity:typeof z.integrity==="string"?z.integrity:void 0,nonce:typeof z.nonce==="string"?z.nonce:void 0,type:typeof z.type==="string"?z.type:void 0,fetchPriority:typeof z.fetchPriority==="string"?z.fetchPriority:void 0,referrerPolicy:typeof z.referrerPolicy==="string"?z.referrerPolicy:void 0,imageSrcSet:typeof z.imageSrcSet==="string"?z.imageSrcSet:void 0,imageSizes:typeof z.imageSizes==="string"?z.imageSizes:void 0,media:typeof z.media==="string"?z.media:void 0})}},Go.preloadModule=function(O,z){var F="";typeof O==="string"&&O||(F+=" The `href` argument encountered was "+$(O)+"."),z!==void 0&&typeof z!=="object"?F+=" The `options` argument encountered was "+$(z)+".":z&&("as"in z)&&typeof z.as!=="string"&&(F+=" The `as` option encountered was "+$(z.as)+"."),F&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',F),typeof O==="string"&&(z?(F=Y(z.as,z.crossOrigin),B.d.m(O,{as:typeof z.as==="string"&&z.as!=="script"?z.as:void 0,crossOrigin:F,integrity:typeof z.integrity==="string"?z.integrity:void 0})):B.d.m(O))},Go.requestFormReset=function(O){B.d.r(O)},Go.unstable_batchedUpdates=function(O,z){return O(z)},Go.useFormState=function(O,z,F){return K().useFormState(O,z,F)},Go.useFormStatus=function(){return K().useHostTransitionStatus()},Go.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var BA=S6((tO1,Jb)=>{var $o=e(eC(),1);Jb.exports=$o});var Zb=S6((Ho)=>{var d5=e(tC(),1),yq=e(J0(),1),_I=e(BA(),1);(function(){function J(X,G){for(X=X.memoizedState;X!==null&&0<G;)X=X.next,G--;return X}function Z(X,G,W,U){if(W>=G.length)return U;var N=G[W],_=J2(X)?X.slice():h0({},X);return _[N]=Z(X[N],G,W+1,U),_}function Q(X,G,W){if(G.length!==W.length)console.warn("copyWithRename() expects paths of the same length");else{for(var U=0;U<W.length-1;U++)if(G[U]!==W[U]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return Y(X,G,W,0)}}function Y(X,G,W,U){var N=G[U],_=J2(X)?X.slice():h0({},X);return U+1===G.length?(_[W[U]]=_[N],J2(_)?_.splice(N,1):delete _[N]):_[N]=Y(X[N],G,W,U+1),_}function $(X,G,W){var U=G[W],N=J2(X)?X.slice():h0({},X);if(W+1===G.length)return J2(N)?N.splice(U,1):delete N[U],N;return N[U]=$(X[U],G,W+1),N}function H(){return!1}function K(){return null}function B(){}function q(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function L(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function O(){}function z(X){var G=[];return X.forEach(function(W){G.push(W)}),G.sort().join(", ")}function F(X,G,W,U){return new Z$(X,G,W,U)}function V(X,G){X.context===oY&&(rB(X.current,2,G,X,null,null),lZ())}function A(X,G){if(p3!==null){var W=G.staleFamilies;G=G.updatedFamilies,nQ(),kQ(X.current,G,W),lZ()}}function M(X){p3=X}function j(X){return!(!X||X.nodeType!==1&&X.nodeType!==9&&X.nodeType!==11)}function D(X){var G=X,W=X;if(X.alternate)for(;G.return;)G=G.return;else{X=G;do G=X,(G.flags&4098)!==0&&(W=G.return),X=G.return;while(X)}return G.tag===3?W:null}function w(X){if(X.tag===13){var G=X.memoizedState;if(G===null&&(X=X.alternate,X!==null&&(G=X.memoizedState)),G!==null)return G.dehydrated}return null}function C(X){if(D(X)!==X)throw Error("Unable to find node on an unmounted component.")}function I(X){var G=X.alternate;if(!G){if(G=D(X),G===null)throw Error("Unable to find node on an unmounted component.");return G!==X?null:X}for(var W=X,U=G;;){var N=W.return;if(N===null)break;var _=N.alternate;if(_===null){if(U=N.return,U!==null){W=U;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===W)return C(N),X;if(_===U)return C(N),G;_=_.sibling}throw Error("Unable to find node on an unmounted component.")}if(W.return!==U.return)W=N,U=_;else{for(var P=!1,s=N.child;s;){if(s===W){P=!0,W=N,U=_;break}if(s===U){P=!0,U=N,W=_;break}s=s.sibling}if(!P){for(s=_.child;s;){if(s===W){P=!0,W=_,U=N;break}if(s===U){P=!0,U=_,W=N;break}s=s.sibling}if(!P)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(W.alternate!==U)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(W.tag!==3)throw Error("Unable to find node on an unmounted component.");return W.stateNode.current===W?X:G}function b(X){var G=X.tag;if(G===5||G===26||G===27||G===6)return X;for(X=X.child;X!==null;){if(G=b(X),G!==null)return G;X=X.sibling}return null}function E(X){if(X===null||typeof X!=="object")return null;return X=o0&&X[o0]||X["@@iterator"],typeof X==="function"?X:null}function k(X){if(X==null)return null;if(typeof X==="function")return X.$$typeof===R2?null:X.displayName||X.name||null;if(typeof X==="string")return X;switch(X){case r4:return"Fragment";case Xq:return"Profiler";case d8:return"StrictMode";case j1:return"Suspense";case S1:return"SuspenseList";case O0:return"Activity"}if(typeof X==="object")switch(typeof X.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),X.$$typeof){case x4:return"Portal";case f:return(X.displayName||"Context")+".Provider";case RH:return(X._context.displayName||"Context")+".Consumer";case H1:var G=X.render;return X=X.displayName,X||(X=G.displayName||G.name||"",X=X!==""?"ForwardRef("+X+")":"ForwardRef"),X;case n1:return G=X.displayName||null,G!==null?G:k(X.type)||"Memo";case i1:G=X._payload,X=X._init;try{return k(X(G))}catch(W){}}return null}function T(X){return typeof X.tag==="number"?S(X):typeof X.name==="string"?X.name:null}function S(X){var G=X.type;switch(X.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(G._context.displayName||"Context")+".Consumer";case 10:return(G.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return X=G.render,X=X.displayName||X.name||"",G.displayName||(X!==""?"ForwardRef("+X+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return G;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(G);case 8:return G===d8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof G==="function")return G.displayName||G.name||null;if(typeof G==="string")return G;break;case 29:if(G=X._debugInfo,G!=null){for(var W=G.length-1;0<=W;W--)if(typeof G[W].name==="string")return G[W].name}if(X.return!==null)return S(X.return)}return null}function d(X){return{current:X}}function o(X,G){0>C2?console.error("Unexpected pop."):(G!==w2[C2]&&console.error("Unexpected Fiber popped."),X.current=v2[C2],v2[C2]=null,w2[C2]=null,C2--)}function v(X,G,W){C2++,v2[C2]=X.current,w2[C2]=W,X.current=G}function y(X){return X===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),X}function i(X,G){v(G7,G,X),v(X4,X,X),v(E5,null,X);var W=G.nodeType;switch(W){case 9:case 11:W=W===9?"#document":"#fragment",G=(G=G.documentElement)?(G=G.namespaceURI)?mB(G):UX:UX;break;default:if(W=G.tagName,G=G.namespaceURI)G=mB(G),G=cB(G,W);else switch(W){case"svg":G=Pq;break;case"math":G=QA;break;default:G=UX}}W=W.toLowerCase(),W=q1(null,W),W={context:G,ancestorInfo:W},o(E5,X),v(E5,W,X)}function p(X){o(E5,X),o(X4,X),o(G7,X)}function l(){return y(E5.current)}function t(X){X.memoizedState!==null&&v(F4,X,X);var G=y(E5.current),W=X.type,U=cB(G.context,W);W=q1(G.ancestorInfo,W),U={context:U,ancestorInfo:W},G!==U&&(v(X4,X,X),v(E5,U,X))}function Q1(X){X4.current===X&&(o(E5,X),o(X4,X)),F4.current===X&&(o(F4,X),Bz._currentValue=oH)}function m(X){return typeof Symbol==="function"&&Symbol.toStringTag&&X[Symbol.toStringTag]||X.constructor.name||"Object"}function K1(X){try{return g(X),!1}catch(G){return!0}}function g(X){return""+X}function n(X,G){if(K1(X))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",G,m(X)),g(X)}function Z1(X,G){if(K1(X))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",G,m(X)),g(X)}function J1(X){if(K1(X))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",m(X)),g(X)}function z1(X){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var G=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(G.isDisabled)return!0;if(!G.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{p9=G.inject(X),$7=G}catch(W){console.error("React instrumentation encountered an error: %s.",W)}return G.checkDCE?!0:!1}function V1(X){if(typeof V4==="function"&&S7(X),$7&&typeof $7.setStrictMode==="function")try{$7.setStrictMode(p9,X)}catch(G){l9||(l9=!0,console.error("React instrumentation encountered an error: %s",G))}}function w1(X){p0=X}function m1(){p0!==null&&typeof p0.markCommitStopped==="function"&&p0.markCommitStopped()}function r1(X){p0!==null&&typeof p0.markComponentRenderStarted==="function"&&p0.markComponentRenderStarted(X)}function h1(){p0!==null&&typeof p0.markComponentRenderStopped==="function"&&p0.markComponentRenderStopped()}function G1(X){p0!==null&&typeof p0.markRenderStarted==="function"&&p0.markRenderStarted(X)}function a(){p0!==null&&typeof p0.markRenderStopped==="function"&&p0.markRenderStopped()}function M1(X,G){p0!==null&&typeof p0.markStateUpdateScheduled==="function"&&p0.markStateUpdateScheduled(X,G)}function D1(X){return X>>>=0,X===0?32:31-(EO(X)/$V|0)|0}function g1(X){if(X&1)return"SyncHydrationLane";if(X&2)return"Sync";if(X&4)return"InputContinuousHydration";if(X&8)return"InputContinuous";if(X&16)return"DefaultHydration";if(X&32)return"Default";if(X&128)return"TransitionHydration";if(X&4194048)return"Transition";if(X&62914560)return"Retry";if(X&67108864)return"SelectiveHydration";if(X&134217728)return"IdleHydration";if(X&268435456)return"Idle";if(X&536870912)return"Offscreen";if(X&1073741824)return"Deferred"}function u1(X){var G=X&42;if(G!==0)return G;switch(X&-X){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return X&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return X&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),X}}function C1(X,G,W){var U=X.pendingLanes;if(U===0)return 0;var N=0,_=X.suspendedLanes,P=X.pingedLanes;X=X.warmLanes;var s=U&134217727;return s!==0?(U=s&~_,U!==0?N=u1(U):(P&=s,P!==0?N=u1(P):W||(W=s&~X,W!==0&&(N=u1(W))))):(s=U&~_,s!==0?N=u1(s):P!==0?N=u1(P):W||(W=U&~X,W!==0&&(N=u1(W)))),N===0?0:G!==0&&G!==N&&(G&_)===0&&(_=N&-N,W=G&-G,_>=W||_===32&&(W&4194048)!==0)?G:N}function x1(X,G){return(X.pendingLanes&~(X.suspendedLanes&~X.pingedLanes)&G)===0}function v1(X,G){switch(X){case 1:case 2:case 4:case 8:case 64:return G+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function p1(){var X=aY;return aY<<=1,(aY&4194048)===0&&(aY=256),X}function y1(){var X=ZX;return ZX<<=1,(ZX&62914560)===0&&(ZX=4194304),X}function P1(X){for(var G=[],W=0;31>W;W++)G.push(X);return G}function T1(X,G){X.pendingLanes|=G,G!==268435456&&(X.suspendedLanes=0,X.pingedLanes=0,X.warmLanes=0)}function j0(X,G,W,U,N,_){var P=X.pendingLanes;X.pendingLanes=W,X.suspendedLanes=0,X.pingedLanes=0,X.warmLanes=0,X.expiredLanes&=W,X.entangledLanes&=W,X.errorRecoveryDisabledLanes&=W,X.shellSuspendCounter=0;var{entanglements:s,expirationTimes:W1,hiddenUpdates:U1}=X;for(W=P&~W;0<W;){var l1=31-F6(W),Y0=1<<l1;s[l1]=0,W1[l1]=-1;var c1=U1[l1];if(c1!==null)for(U1[l1]=null,l1=0;l1<c1.length;l1++){var W0=c1[l1];W0!==null&&(W0.lane&=-536870913)}W&=~Y0}U!==0&&N0(X,U,0),_!==0&&N===0&&X.tag!==0&&(X.suspendedLanes|=_&~(P&~G))}function N0(X,G,W){X.pendingLanes|=G,X.suspendedLanes&=~G;var U=31-F6(G);X.entangledLanes|=G,X.entanglements[U]=X.entanglements[U]|1073741824|W&4194090}function E0(X,G){var W=X.entangledLanes|=G;for(X=X.entanglements;W;){var U=31-F6(W),N=1<<U;N&G|X[U]&G&&(X[U]|=G),W&=~N}}function H0(X){switch(X){case 2:X=1;break;case 8:X=4;break;case 32:X=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:X=128;break;case 268435456:X=134217728;break;default:X=0}return X}function A0(X,G,W){if(i9)for(X=X.pendingUpdatersLaneMap;0<W;){var U=31-F6(W),N=1<<U;X[U].add(G),W&=~N}}function i0(X,G){if(i9)for(var{pendingUpdatersLaneMap:W,memoizedUpdaters:U}=X;0<G;){var N=31-F6(G);X=1<<N,N=W[N],0<N.size&&(N.forEach(function(_){var P=_.alternate;P!==null&&U.has(P)||U.add(_)}),N.clear()),G&=~X}}function D0(X){return X&=-X,J9!==0&&J9<X?M8!==0&&M8<X?(X&134217727)!==0?_8:QX:M8:J9}function _0(){var X=P0.p;if(X!==0)return X;return X=window.event,X===void 0?_8:FO(X.type)}function W2(X,G){var W=P0.p;try{return P0.p=X,G()}finally{P0.p=W}}function Z2(X){delete X[b6],delete X[M9],delete X[n9],delete X[Da],delete X[wa]}function t2(X){var G=X[b6];if(G)return G;for(var W=X.parentNode;W;){if(G=W[_9]||W[b6]){if(W=G.alternate,G.child!==null||W!==null&&W.child!==null)for(X=YO(X);X!==null;){if(W=X[b6])return W;X=YO(X)}return G}X=W,W=X.parentNode}return null}function Y1(X){if(X=X[b6]||X[_9]){var G=X.tag;if(G===5||G===6||G===13||G===26||G===27||G===3)return X}return null}function N1(X){var G=X.tag;if(G===5||G===26||G===27||G===6)return X.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function Q0(X){var G=X[Vx];return G||(G=X[Vx]={hoistableStyles:new Map,hoistableScripts:new Map}),G}function Z0(X){X[kO]=!0}function g0(X,G){M2(X,G),M2(X+"Capture",G)}function M2(X,G){bH[X]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",X),bH[X]=G;var W=X.toLowerCase();HV[W]=X,X==="onDoubleClick"&&(HV.ondblclick=X);for(X=0;X<G.length;X++)Ix.add(G[X])}function _2(X,G){Ea[G.type]||G.onChange||G.onInput||G.readOnly||G.disabled||G.value==null||(X==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),G.onChange||G.readOnly||G.disabled||G.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function e2(X){if(v5.call(Dx,X))return!0;if(v5.call(jx,X))return!1;if(ka.test(X))return Dx[X]=!0;return jx[X]=!0,console.error("Invalid attribute name: `%s`",X),!1}function I2(X,G,W){if(e2(G)){if(!X.hasAttribute(G)){switch(typeof W){case"symbol":case"object":return W;case"function":return W;case"boolean":if(W===!1)return W}return W===void 0?void 0:null}if(X=X.getAttribute(G),X===""&&W===!0)return!0;return n(W,G),X===""+W?W:X}}function t0(X,G,W){if(e2(G))if(W===null)X.removeAttribute(G);else{switch(typeof W){case"undefined":case"function":case"symbol":X.removeAttribute(G);return;case"boolean":var U=G.toLowerCase().slice(0,5);if(U!=="data-"&&U!=="aria-"){X.removeAttribute(G);return}}n(W,G),X.setAttribute(G,""+W)}}function S4(X,G,W){if(W===null)X.removeAttribute(G);else{switch(typeof W){case"undefined":case"function":case"symbol":case"boolean":X.removeAttribute(G);return}n(W,G),X.setAttribute(G,""+W)}}function T4(X,G,W,U){if(U===null)X.removeAttribute(W);else{switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":X.removeAttribute(W);return}n(U,W),X.setAttributeNS(G,W,""+U)}}function z0(){}function L7(){if(xO===0){wx=console.log,Ex=console.info,kx=console.warn,xx=console.error,Rx=console.group,Cx=console.groupCollapsed,bx=console.groupEnd;var X={configurable:!0,enumerable:!0,value:z0,writable:!0};Object.defineProperties(console,{info:X,log:X,warn:X,error:X,group:X,groupCollapsed:X,groupEnd:X})}xO++}function c(){if(xO--,xO===0){var X={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:h0({},X,{value:wx}),info:h0({},X,{value:Ex}),warn:h0({},X,{value:kx}),error:h0({},X,{value:xx}),group:h0({},X,{value:Rx}),groupCollapsed:h0({},X,{value:Cx}),groupEnd:h0({},X,{value:bx})})}0>xO&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function L1(X){if(WV===void 0)try{throw Error()}catch(W){var G=W.stack.trim().match(/\n( *(at )?)/);WV=G&&G[1]||"",vx=-1<W.stack.indexOf(`
    at`)?" (<anonymous>)":-1<W.stack.indexOf("@")?"@unknown:0:0":""}return`
`+WV+X+vx}function $1(X,G){if(!X||KV)return"";var W=BV.get(X);if(W!==void 0)return W;KV=!0,W=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var U=null;U=b1.H,b1.H=null,L7();try{var N={DetermineComponentFrameRoot:function(){try{if(G){var c1=function(){throw Error()};if(Object.defineProperty(c1.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(c1,[])}catch(K2){var W0=K2}Reflect.construct(X,[],c1)}else{try{c1.call()}catch(K2){W0=K2}X.call(c1.prototype)}}else{try{throw Error()}catch(K2){W0=K2}(c1=X())&&typeof c1.catch==="function"&&c1.catch(function(){})}}catch(K2){if(K2&&W0&&typeof K2.stack==="string")return[K2.stack,W0.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=N.DetermineComponentFrameRoot(),s=P[0],W1=P[1];if(s&&W1){var U1=s.split(`
`),l1=W1.split(`
`);for(P=_=0;_<U1.length&&!U1[_].includes("DetermineComponentFrameRoot");)_++;for(;P<l1.length&&!l1[P].includes("DetermineComponentFrameRoot");)P++;if(_===U1.length||P===l1.length)for(_=U1.length-1,P=l1.length-1;1<=_&&0<=P&&U1[_]!==l1[P];)P--;for(;1<=_&&0<=P;_--,P--)if(U1[_]!==l1[P]){if(_!==1||P!==1)do if(_--,P--,0>P||U1[_]!==l1[P]){var Y0=`
`+U1[_].replace(" at new "," at ");return X.displayName&&Y0.includes("<anonymous>")&&(Y0=Y0.replace("<anonymous>",X.displayName)),typeof X==="function"&&BV.set(X,Y0),Y0}while(1<=_&&0<=P);break}}}finally{KV=!1,b1.H=U,c(),Error.prepareStackTrace=W}return U1=(U1=X?X.displayName||X.name:"")?L1(U1):"",typeof X==="function"&&BV.set(X,U1),U1}function O1(X){var G=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,X=X.stack,Error.prepareStackTrace=G,X.startsWith(`Error: react-stack-top-frame
`)&&(X=X.slice(29)),G=X.indexOf(`
`),G!==-1&&(X=X.slice(G+1)),G=X.indexOf("react_stack_bottom_frame"),G!==-1&&(G=X.lastIndexOf(`
`,G)),G!==-1)X=X.slice(0,G);else return"";return X}function I1(X){switch(X.tag){case 26:case 27:case 5:return L1(X.type);case 16:return L1("Lazy");case 13:return L1("Suspense");case 19:return L1("SuspenseList");case 0:case 15:return $1(X.type,!1);case 11:return $1(X.type.render,!1);case 1:return $1(X.type,!0);case 31:return L1("Activity");default:return""}}function d1(X){try{var G="";do{G+=I1(X);var W=X._debugInfo;if(W)for(var U=W.length-1;0<=U;U--){var N=W[U];if(typeof N.name==="string"){var _=G,P=N.env,s=L1(N.name+(P?" ["+P+"]":""));G=_+s}}X=X.return}while(X);return G}catch(W1){return`
Error generating stack: `+W1.message+`
`+W1.stack}}function B0(X){return(X=X?X.displayName||X.name:"")?L1(X):""}function n0(){if(c8===null)return null;var X=c8._debugOwner;return X!=null?T(X):null}function Y2(){if(c8===null)return"";var X=c8;try{var G="";switch(X.tag===6&&(X=X.return),X.tag){case 26:case 27:case 5:G+=L1(X.type);break;case 13:G+=L1("Suspense");break;case 19:G+=L1("SuspenseList");break;case 31:G+=L1("Activity");break;case 30:case 0:case 15:case 1:X._debugOwner||G!==""||(G+=B0(X.type));break;case 11:X._debugOwner||G!==""||(G+=B0(X.type.render))}for(;X;)if(typeof X.tag==="number"){var W=X;X=W._debugOwner;var U=W._debugStack;X&&U&&(typeof U!=="string"&&(W._debugStack=U=O1(U)),U!==""&&(G+=`
`+U))}else if(X.debugStack!=null){var N=X.debugStack;(X=X.owner)&&N&&(G+=`
`+O1(N))}else break;var _=G}catch(P){_=`
Error generating stack: `+P.message+`
`+P.stack}return _}function s1(X,G,W,U,N,_,P){var s=c8;d2(X);try{return X!==null&&X._debugTask?X._debugTask.run(G.bind(null,W,U,N,_,P)):G(W,U,N,_,P)}finally{d2(s)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function d2(X){b1.getCurrentStack=X===null?null:Y2,tZ=!1,c8=X}function j2(X){switch(typeof X){case"bigint":case"boolean":case"number":case"string":case"undefined":return X;case"object":return J1(X),X;default:return""}}function H4(X){var G=X.type;return(X=X.nodeName)&&X.toLowerCase()==="input"&&(G==="checkbox"||G==="radio")}function a5(X){var G=H4(X)?"checked":"value",W=Object.getOwnPropertyDescriptor(X.constructor.prototype,G);J1(X[G]);var U=""+X[G];if(!X.hasOwnProperty(G)&&typeof W<"u"&&typeof W.get==="function"&&typeof W.set==="function"){var{get:N,set:_}=W;return Object.defineProperty(X,G,{configurable:!0,get:function(){return N.call(this)},set:function(P){J1(P),U=""+P,_.call(this,P)}}),Object.defineProperty(X,G,{enumerable:W.enumerable}),{getValue:function(){return U},setValue:function(P){J1(P),U=""+P},stopTracking:function(){X._valueTracker=null,delete X[G]}}}}function O7(X){X._valueTracker||(X._valueTracker=a5(X))}function P4(X){if(!X)return!1;var G=X._valueTracker;if(!G)return!0;var W=G.getValue(),U="";return X&&(U=H4(X)?X.checked?"true":"false":X.value),X=U,X!==W?(G.setValue(X),!0):!1}function X7(X){if(X=X||(typeof document<"u"?document:void 0),typeof X>"u")return null;try{return X.activeElement||X.body}catch(G){return X.body}}function X5(X){return X.replace(xa,function(G){return"\\"+G.charCodeAt(0).toString(16)+" "})}function l7(X,G){G.checked===void 0||G.defaultChecked===void 0||Sx||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",n0()||"A component",G.type),Sx=!0),G.value===void 0||G.defaultValue===void 0||fx||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",n0()||"A component",G.type),fx=!0)}function k6(X,G,W,U,N,_,P,s){if(X.name="",P!=null&&typeof P!=="function"&&typeof P!=="symbol"&&typeof P!=="boolean"?(n(P,"type"),X.type=P):X.removeAttribute("type"),G!=null)if(P==="number"){if(G===0&&X.value===""||X.value!=G)X.value=""+j2(G)}else X.value!==""+j2(G)&&(X.value=""+j2(G));else P!=="submit"&&P!=="reset"||X.removeAttribute("value");G!=null?i4(X,P,j2(G)):W!=null?i4(X,P,j2(W)):U!=null&&X.removeAttribute("value"),N==null&&_!=null&&(X.defaultChecked=!!_),N!=null&&(X.checked=N&&typeof N!=="function"&&typeof N!=="symbol"),s!=null&&typeof s!=="function"&&typeof s!=="symbol"&&typeof s!=="boolean"?(n(s,"name"),X.name=""+j2(s)):X.removeAttribute("name")}function C9(X,G,W,U,N,_,P,s){if(_!=null&&typeof _!=="function"&&typeof _!=="symbol"&&typeof _!=="boolean"&&(n(_,"type"),X.type=_),G!=null||W!=null){if(!(_!=="submit"&&_!=="reset"||G!==void 0&&G!==null))return;W=W!=null?""+j2(W):"",G=G!=null?""+j2(G):W,s||G===X.value||(X.value=G),X.defaultValue=G}U=U!=null?U:N,U=typeof U!=="function"&&typeof U!=="symbol"&&!!U,X.checked=s?X.checked:!!U,X.defaultChecked=!!U,P!=null&&typeof P!=="function"&&typeof P!=="symbol"&&typeof P!=="boolean"&&(n(P,"name"),X.name=P)}function i4(X,G,W){G==="number"&&X7(X.ownerDocument)===X||X.defaultValue===""+W||(X.defaultValue=""+W)}function b9(X,G){G.value==null&&(typeof G.children==="object"&&G.children!==null?yq.Children.forEach(G.children,function(W){W==null||typeof W==="string"||typeof W==="number"||typeof W==="bigint"||Px||(Px=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):G.dangerouslySetInnerHTML==null||gx||(gx=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),G.selected==null||Tx||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Tx=!0)}function v9(){var X=n0();return X?`

Check the render method of \``+X+"`.":""}function O4(X,G,W,U){if(X=X.options,G){G={};for(var N=0;N<W.length;N++)G["$"+W[N]]=!0;for(W=0;W<X.length;W++)N=G.hasOwnProperty("$"+X[W].value),X[W].selected!==N&&(X[W].selected=N),N&&U&&(X[W].defaultSelected=!0)}else{W=""+j2(W),G=null;for(N=0;N<X.length;N++){if(X[N].value===W){X[N].selected=!0,U&&(X[N].defaultSelected=!0);return}G!==null||X[N].disabled||(G=X[N])}G!==null&&(G.selected=!0)}}function m6(X,G){for(X=0;X<hx.length;X++){var W=hx[X];if(G[W]!=null){var U=J2(G[W]);G.multiple&&!U?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",W,v9()):!G.multiple&&U&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",W,v9())}}G.value===void 0||G.defaultValue===void 0||yx||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),yx=!0)}function U6(X,G){G.value===void 0||G.defaultValue===void 0||ux||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",n0()||"A component"),ux=!0),G.children!=null&&G.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function R7(X,G,W){if(G!=null&&(G=""+j2(G),G!==X.value&&(X.value=G),W==null)){X.defaultValue!==G&&(X.defaultValue=G);return}X.defaultValue=W!=null?""+j2(W):""}function O9(X,G,W,U){if(G==null){if(U!=null){if(W!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(J2(U)){if(1<U.length)throw Error("<textarea> can only have at most one child.");U=U[0]}W=U}W==null&&(W=""),G=W}W=j2(G),X.defaultValue=W,U=X.textContent,U===W&&U!==""&&U!==null&&(X.value=U)}function E4(X,G){return X.serverProps===void 0&&X.serverTail.length===0&&X.children.length===1&&3<X.distanceFromLeaf&&X.distanceFromLeaf>15-G?E4(X.children[0],G):X}function N5(X){return"  "+"  ".repeat(X)}function i7(X){return"+ "+"  ".repeat(X)}function L6(X){return"- "+"  ".repeat(X)}function n7(X){switch(X.tag){case 26:case 27:case 5:return X.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return X=X.type,X.displayName||X.name||null;case 11:return X=X.type.render,X.displayName||X.name||null;case 1:return X=X.type,X.displayName||X.name||null;default:return null}}function M0(X,G){return dx.test(X)?(X=JSON.stringify(X),X.length>G-2?8>G?'{"..."}':"{"+X.slice(0,G-7)+'..."}':"{"+X+"}"):X.length>G?5>G?'{"..."}':X.slice(0,G-3)+"...":X}function w0(X,G,W){var U=120-2*W;if(G===null)return i7(W)+M0(X,U)+`
`;if(typeof G==="string"){for(var N=0;N<G.length&&N<X.length&&G.charCodeAt(N)===X.charCodeAt(N);N++);return N>U-8&&10<N&&(X="..."+X.slice(N-8),G="..."+G.slice(N-8)),i7(W)+M0(X,U)+`
`+L6(W)+M0(G,U)+`
`}return N5(W)+M0(X,U)+`
`}function a0(X){return Object.prototype.toString.call(X).replace(/^\[object (.*)\]$/,function(G,W){return W})}function P5(X,G){switch(typeof X){case"string":return X=JSON.stringify(X),X.length>G?5>G?'"..."':X.slice(0,G-4)+'..."':X;case"object":if(X===null)return"null";if(J2(X))return"[...]";if(X.$$typeof===B4)return(G=k(X.type))?"<"+G+">":"<...>";var W=a0(X);if(W==="Object"){W="",G-=2;for(var U in X)if(X.hasOwnProperty(U)){var N=JSON.stringify(U);if(N!=='"'+U+'"'&&(U=N),G-=U.length-2,N=P5(X[U],15>G?G:15),G-=N.length,0>G){W+=W===""?"...":", ...";break}W+=(W===""?"":",")+U+":"+N}return"{"+W+"}"}return W;case"function":return(G=X.displayName||X.name)?"function "+G:"function";default:return String(X)}}function x6(X,G){return typeof X!=="string"||dx.test(X)?"{"+P5(X,G-2)+"}":X.length>G-2?5>G?'"..."':'"'+X.slice(0,G-5)+'..."':'"'+X+'"'}function c6(X,G,W){var U=120-W.length-X.length,N=[],_;for(_ in G)if(G.hasOwnProperty(_)&&_!=="children"){var P=x6(G[_],120-W.length-_.length-1);U-=_.length+P.length+2,N.push(_+"="+P)}return N.length===0?W+"<"+X+`>
`:0<U?W+"<"+X+" "+N.join(" ")+`>
`:W+"<"+X+`
`+W+"  "+N.join(`
`+W+"  ")+`
`+W+`>
`}function p6(X,G,W){var U="",N=h0({},G),_;for(_ in X)if(X.hasOwnProperty(_)){delete N[_];var P=120-2*W-_.length-2,s=P5(X[_],P);G.hasOwnProperty(_)?(P=P5(G[_],P),U+=i7(W)+_+": "+s+`
`,U+=L6(W)+_+": "+P+`
`):U+=i7(W)+_+": "+s+`
`}for(var W1 in N)N.hasOwnProperty(W1)&&(X=P5(N[W1],120-2*W-W1.length-2),U+=L6(W)+W1+": "+X+`
`);return U}function jJ(X,G,W,U){var N="",_=new Map;for(U1 in W)W.hasOwnProperty(U1)&&_.set(U1.toLowerCase(),U1);if(_.size===1&&_.has("children"))N+=c6(X,G,N5(U));else{for(var P in G)if(G.hasOwnProperty(P)&&P!=="children"){var s=120-2*(U+1)-P.length-1,W1=_.get(P.toLowerCase());if(W1!==void 0){_.delete(P.toLowerCase());var U1=G[P];W1=W[W1];var l1=x6(U1,s);s=x6(W1,s),typeof U1==="object"&&U1!==null&&typeof W1==="object"&&W1!==null&&a0(U1)==="Object"&&a0(W1)==="Object"&&(2<Object.keys(U1).length||2<Object.keys(W1).length||-1<l1.indexOf("...")||-1<s.indexOf("..."))?N+=N5(U+1)+P+`={{
`+p6(U1,W1,U+2)+N5(U+1)+`}}
`:(N+=i7(U+1)+P+"="+l1+`
`,N+=L6(U+1)+P+"="+s+`
`)}else N+=N5(U+1)+P+"="+x6(G[P],s)+`
`}_.forEach(function(Y0){if(Y0!=="children"){var c1=120-2*(U+1)-Y0.length-1;N+=L6(U+1)+Y0+"="+x6(W[Y0],c1)+`
`}}),N=N===""?N5(U)+"<"+X+`>
`:N5(U)+"<"+X+`
`+N+N5(U)+`>
`}if(X=W.children,G=G.children,typeof X==="string"||typeof X==="number"||typeof X==="bigint"){if(_="",typeof G==="string"||typeof G==="number"||typeof G==="bigint")_=""+G;N+=w0(_,""+X,U+1)}else if(typeof G==="string"||typeof G==="number"||typeof G==="bigint")N=X==null?N+w0(""+G,null,U+1):N+w0(""+G,void 0,U+1);return N}function w3(X,G){var W=n7(X);if(W===null){W="";for(X=X.child;X;)W+=w3(X,G),X=X.sibling;return W}return N5(G)+"<"+W+`>
`}function C8(X,G){var W=E4(X,G);if(W!==X&&(X.children.length!==1||X.children[0]!==W))return N5(G)+`...
`+C8(W,G+1);W="";var U=X.fiber._debugInfo;if(U)for(var N=0;N<U.length;N++){var _=U[N].name;typeof _==="string"&&(W+=N5(G)+"<"+_+`>
`,G++)}if(U="",N=X.fiber.pendingProps,X.fiber.tag===6)U=w0(N,X.serverProps,G),G++;else if(_=n7(X.fiber),_!==null)if(X.serverProps===void 0){U=G;var P=120-2*U-_.length-2,s="";for(U1 in N)if(N.hasOwnProperty(U1)&&U1!=="children"){var W1=x6(N[U1],15);if(P-=U1.length+W1.length+2,0>P){s+=" ...";break}s+=" "+U1+"="+W1}U=N5(U)+"<"+_+s+`>
`,G++}else X.serverProps===null?(U=c6(_,N,i7(G)),G++):typeof X.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(U=jJ(_,N,X.serverProps,G),G++);var U1="";N=X.fiber.child;for(_=0;N&&_<X.children.length;)P=X.children[_],P.fiber===N?(U1+=C8(P,G),_++):U1+=w3(N,G),N=N.sibling;N&&0<X.children.length&&(U1+=N5(G)+`...
`),N=X.serverTail,X.serverProps===null&&G--;for(X=0;X<N.length;X++)_=N[X],U1=typeof _==="string"?U1+(L6(G)+M0(_,120-2*G)+`
`):U1+c6(_.type,_.props,L6(G));return W+U+U1}function E3(X){try{return`

`+C8(X,0)}catch(G){return""}}function u(X,G,W){for(var U=G,N=null,_=0;U;)U===X&&(_=0),N={fiber:U,children:N!==null?[N]:[],serverProps:U===G?W:U===X?null:void 0,serverTail:[],distanceFromLeaf:_},_++,U=U.return;return N!==null?E3(N).replaceAll(/^[+-]/gm,">"):""}function q1(X,G){var W=h0({},X||cx),U={tag:G};if(mx.indexOf(G)!==-1&&(W.aTagInScope=null,W.buttonTagInScope=null,W.nobrTagInScope=null),Ca.indexOf(G)!==-1&&(W.pTagInButtonScope=null),Ra.indexOf(G)!==-1&&G!=="address"&&G!=="div"&&G!=="p"&&(W.listItemTagAutoclosing=null,W.dlItemTagAutoclosing=null),W.current=U,G==="form"&&(W.formTag=U),G==="a"&&(W.aTagInScope=U),G==="button"&&(W.buttonTagInScope=U),G==="nobr"&&(W.nobrTagInScope=U),G==="p"&&(W.pTagInButtonScope=U),G==="li"&&(W.listItemTagAutoclosing=U),G==="dd"||G==="dt")W.dlItemTagAutoclosing=U;return G==="#document"||G==="html"?W.containerTagInScope=null:W.containerTagInScope||(W.containerTagInScope=U),X!==null||G!=="#document"&&G!=="html"&&G!=="body"?W.implicitRootScope===!0&&(W.implicitRootScope=!1):W.implicitRootScope=!0,W}function F1(X,G,W){switch(G){case"select":return X==="hr"||X==="option"||X==="optgroup"||X==="script"||X==="template"||X==="#text";case"optgroup":return X==="option"||X==="#text";case"option":return X==="#text";case"tr":return X==="th"||X==="td"||X==="style"||X==="script"||X==="template";case"tbody":case"thead":case"tfoot":return X==="tr"||X==="style"||X==="script"||X==="template";case"colgroup":return X==="col"||X==="template";case"table":return X==="caption"||X==="colgroup"||X==="tbody"||X==="tfoot"||X==="thead"||X==="style"||X==="script"||X==="template";case"head":return X==="base"||X==="basefont"||X==="bgsound"||X==="link"||X==="meta"||X==="title"||X==="noscript"||X==="noframes"||X==="style"||X==="script"||X==="template";case"html":if(W)break;return X==="head"||X==="body"||X==="frameset";case"frameset":return X==="frame";case"#document":if(!W)return X==="html"}switch(X){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G!=="h1"&&G!=="h2"&&G!=="h3"&&G!=="h4"&&G!=="h5"&&G!=="h6";case"rp":case"rt":return ba.indexOf(G)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return G==null;case"head":return W||G===null;case"html":return W&&G==="#document"||G===null;case"body":return W&&(G==="#document"||G==="html")||G===null}return!0}function E1(X,G){switch(X){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G.pTagInButtonScope;case"form":return G.formTag||G.pTagInButtonScope;case"li":return G.listItemTagAutoclosing;case"dd":case"dt":return G.dlItemTagAutoclosing;case"button":return G.buttonTagInScope;case"a":return G.aTagInScope;case"nobr":return G.nobrTagInScope}return null}function f1(X,G){for(;X;){switch(X.tag){case 5:case 26:case 27:if(X.type===G)return X}X=X.return}return null}function e1(X,G){G=G||cx;var W=G.current;if(G=(W=F1(X,W&&W.tag,G.implicitRootScope)?null:W)?null:E1(X,G),G=W||G,!G)return!0;var U=G.tag;if(G=String(!!W)+"|"+X+"|"+U,VF[G])return!1;VF[G]=!0;var N=(G=c8)?f1(G.return,U):null,_=G!==null&&N!==null?u(N,G,null):"",P="<"+X+">";return W?(W="",U==="table"&&X==="tr"&&(W+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,P,U,W,_)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,P,U,_),G&&(X=G.return,N===null||X===null||N===X&&X._debugOwner===G._debugOwner||s1(N,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,U,P)})),!1}function v0(X,G,W){if(W||F1("#text",G,!1))return!0;if(W="#text|"+G,VF[W])return!1;VF[W]=!0;var U=(W=c8)?f1(W,G):null;return W=W!==null&&U!==null?u(U,W,W.tag!==6?{children:null}:null):"",/\S/.test(X)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,G,W):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,G,W),!1}function y0(X,G){if(G){var W=X.firstChild;if(W&&W===X.lastChild&&W.nodeType===3){W.nodeValue=G;return}}X.textContent=G}function m0(X){return X.replace(Sa,function(G,W){return W.toUpperCase()})}function T0(X,G,W){var U=G.indexOf("--")===0;U||(-1<G.indexOf("-")?Yq.hasOwnProperty(G)&&Yq[G]||(Yq[G]=!0,console.error("Unsupported style property %s. Did you mean %s?",G,m0(G.replace(fa,"ms-")))):va.test(G)?Yq.hasOwnProperty(G)&&Yq[G]||(Yq[G]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",G,G.charAt(0).toUpperCase()+G.slice(1))):!ix.test(W)||UV.hasOwnProperty(W)&&UV[W]||(UV[W]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,G,W.replace(ix,""))),typeof W==="number"&&(isNaN(W)?nx||(nx=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",G)):isFinite(W)||ax||(ax=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",G)))),W==null||typeof W==="boolean"||W===""?U?X.setProperty(G,""):G==="float"?X.cssFloat="":X[G]="":U?X.setProperty(G,W):typeof W!=="number"||W===0||sx.has(G)?G==="float"?X.cssFloat=W:(Z1(W,G),X[G]=(""+W).trim()):X[G]=W+"px"}function J5(X,G,W){if(G!=null&&typeof G!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(G&&Object.freeze(G),X=X.style,W!=null){if(G){var U={};if(W){for(var N in W)if(W.hasOwnProperty(N)&&!G.hasOwnProperty(N))for(var _=qV[N]||[N],P=0;P<_.length;P++)U[_[P]]=N}for(var s in G)if(G.hasOwnProperty(s)&&(!W||W[s]!==G[s]))for(N=qV[s]||[s],_=0;_<N.length;_++)U[N[_]]=s;s={};for(var W1 in G)for(N=qV[W1]||[W1],_=0;_<N.length;_++)s[N[_]]=W1;W1={};for(var U1 in U)if(N=U[U1],(_=s[U1])&&N!==_&&(P=N+","+_,!W1[P])){W1[P]=!0,P=console;var l1=G[N];P.error.call(P,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",l1==null||typeof l1==="boolean"||l1===""?"Removing":"Updating",N,_)}}for(var Y0 in W)!W.hasOwnProperty(Y0)||G!=null&&G.hasOwnProperty(Y0)||(Y0.indexOf("--")===0?X.setProperty(Y0,""):Y0==="float"?X.cssFloat="":X[Y0]="");for(var c1 in G)U1=G[c1],G.hasOwnProperty(c1)&&W[c1]!==U1&&T0(X,c1,U1)}else for(U in G)G.hasOwnProperty(U)&&T0(X,U,G[U])}function D2(X){if(X.indexOf("-")===-1)return!1;switch(X){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function z4(X){return Ta.get(X)||X}function g4(X,G){if(v5.call($q,G)&&$q[G])return!0;if(ga.test(G)){if(X="aria-"+G.slice(4).toLowerCase(),X=ox.hasOwnProperty(X)?X:null,X==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",G),$q[G]=!0;if(G!==X)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",G,X),$q[G]=!0}if(Pa.test(G)){if(X=G.toLowerCase(),X=ox.hasOwnProperty(X)?X:null,X==null)return $q[G]=!0,!1;G!==X&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",G,X),$q[G]=!0)}return!0}function N4(X,G){var W=[],U;for(U in G)g4(X,U)||W.push(U);G=W.map(function(N){return"`"+N+"`"}).join(", "),W.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,X):1<W.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,X)}function a7(X,G,W,U){if(v5.call(a9,G)&&a9[G])return!0;var N=G.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),a9[G]=!0;if(typeof W==="function"&&(X==="form"&&G==="action"||X==="input"&&G==="formAction"||X==="button"&&G==="formAction"))return!0;if(U!=null){if(X=U.possibleRegistrationNames,U.registrationNameDependencies.hasOwnProperty(G))return!0;if(U=X.hasOwnProperty(N)?X[N]:null,U!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",G,U),a9[G]=!0;if(tx.test(G))return console.error("Unknown event handler property `%s`. It will be ignored.",G),a9[G]=!0}else if(tx.test(G))return ya.test(G)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",G),a9[G]=!0;if(ha.test(G)||ua.test(G))return!0;if(N==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),a9[G]=!0;if(N==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),a9[G]=!0;if(N==="is"&&W!==null&&W!==void 0&&typeof W!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof W),a9[G]=!0;if(typeof W==="number"&&isNaN(W))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",G),a9[G]=!0;if(jF.hasOwnProperty(N)){if(N=jF[N],N!==G)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",G,N),a9[G]=!0}else if(G!==N)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",G,N),a9[G]=!0;switch(G){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof W){case"boolean":switch(G){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(N=G.toLowerCase().slice(0,5),N==="data-"||N==="aria-")return!0;return W?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',W,G,G,W,G):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',W,G,G,W,G,G,G),a9[G]=!0}case"function":case"symbol":return a9[G]=!0,!1;case"string":if(W==="false"||W==="true"){switch(G){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",W,G,W==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',G,W),a9[G]=!0}}return!0}function z7(X,G,W){var U=[],N;for(N in G)a7(X,N,G[N],W)||U.push(N);G=U.map(function(_){return"`"+_+"`"}).join(", "),U.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,X):1<U.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,X)}function Y7(X){return da.test(""+X)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":X}function s7(X){return X=X.target||X.srcElement||window,X.correspondingUseElement&&(X=X.correspondingUseElement),X.nodeType===3?X.parentNode:X}function W4(X){var G=Y1(X);if(G&&(X=G.stateNode)){var W=X[M9]||null;J:switch(X=G.stateNode,G.type){case"input":if(k6(X,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name),G=W.name,W.type==="radio"&&G!=null){for(W=X;W.parentNode;)W=W.parentNode;n(G,"name"),W=W.querySelectorAll('input[name="'+X5(""+G)+'"][type="radio"]');for(G=0;G<W.length;G++){var U=W[G];if(U!==X&&U.form===X.form){var N=U[M9]||null;if(!N)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");k6(U,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(G=0;G<W.length;G++)U=W[G],U.form===X.form&&P4(U)}break J;case"textarea":R7(X,W.value,W.defaultValue);break J;case"select":G=W.value,G!=null&&O4(X,!!W.multiple,G,!1)}}}function l6(X,G,W){if(LV)return X(G,W);LV=!0;try{var U=X(G);return U}finally{if(LV=!1,Hq!==null||Wq!==null){if(lZ(),Hq&&(G=Hq,X=Wq,Wq=Hq=null,W4(G),X))for(G=0;G<X.length;G++)W4(X[G])}}}function C5(X,G){var W=X.stateNode;if(W===null)return null;var U=W[M9]||null;if(U===null)return null;W=U[G];J:switch(G){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(U=!U.disabled)||(X=X.type,U=!(X==="button"||X==="input"||X==="select"||X==="textarea")),X=!U;break J;default:X=!1}if(X)return null;if(W&&typeof W!=="function")throw Error("Expected `"+G+"` listener to be a function, instead got a value of `"+typeof W+"` type.");return W}function n4(){if(DF)return DF;var X,G=zV,W=G.length,U,N="value"in sY?sY.value:sY.textContent,_=N.length;for(X=0;X<W&&G[X]===N[X];X++);var P=W-X;for(U=1;U<=P&&G[W-U]===N[_-U];U++);return DF=N.slice(X,1<U?1-U:void 0)}function N7(X){var G=X.keyCode;return"charCode"in X?(X=X.charCode,X===0&&G===13&&(X=13)):X=G,X===10&&(X=13),32<=X||X===13?X:0}function o7(){return!0}function i6(){return!1}function g5(X){function G(W,U,N,_,P){this._reactName=W,this._targetInst=N,this.type=U,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var s in X)X.hasOwnProperty(s)&&(W=X[s],this[s]=W?W(_):_[s]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?o7:i6,this.isPropagationStopped=i6,this}return h0(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var W=this.nativeEvent;W&&(W.preventDefault?W.preventDefault():typeof W.returnValue!=="unknown"&&(W.returnValue=!1),this.isDefaultPrevented=o7)},stopPropagation:function(){var W=this.nativeEvent;W&&(W.stopPropagation?W.stopPropagation():typeof W.cancelBubble!=="unknown"&&(W.cancelBubble=!0),this.isPropagationStopped=o7)},persist:function(){},isPersistent:o7}),G}function z9(X){var G=this.nativeEvent;return G.getModifierState?G.getModifierState(X):(X=Js[X])?!!G[X]:!1}function a4(){return z9}function Q4(X,G){switch(X){case"keyup":return Us.indexOf(G.keyCode)!==-1;case"keydown":return G.keyCode!==QR;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y4(X){return X=X.detail,typeof X==="object"&&"data"in X?X.data:null}function s4(X,G){switch(X){case"compositionend":return y4(G);case"keypress":if(G.which!==YR)return null;return $R=!0,GR;case"textInput":return X=G.data,X===GR&&$R?null:X;default:return null}}function C7(X,G){if(Kq)return X==="compositionend"||!MV&&Q4(X,G)?(X=n4(),DF=zV=sY=null,Kq=!1,X):null;switch(X){case"paste":return null;case"keypress":if(!(G.ctrlKey||G.altKey||G.metaKey)||G.ctrlKey&&G.altKey){if(G.char&&1<G.char.length)return G.char;if(G.which)return String.fromCharCode(G.which)}return null;case"compositionend":return XR&&G.locale!=="ko"?null:G.data;default:return null}}function k3(X){var G=X&&X.nodeName&&X.nodeName.toLowerCase();return G==="input"?!!Os[X.type]:G==="textarea"?!0:!1}function DZ(X){if(!eZ)return!1;X="on"+X;var G=X in document;return G||(G=document.createElement("div"),G.setAttribute(X,"return;"),G=typeof G[X]==="function"),G}function x3(X,G,W,U){Hq?Wq?Wq.push(U):Wq=[U]:Hq=U,G=PY(G,"onChange"),0<G.length&&(W=new wF("onChange","change",null,W,U),X.push({event:W,listeners:G}))}function sG(X){fB(X,0)}function wZ(X){var G=N1(X);if(P4(G))return X}function jQ(X,G){if(X==="change")return G}function mX(){SO&&(SO.detachEvent("onpropertychange",cX),TO=SO=null)}function cX(X){if(X.propertyName==="value"&&wZ(TO)){var G=[];x3(G,TO,X,s7(X)),l6(sG,G)}}function DJ(X,G,W){X==="focusin"?(mX(),SO=G,TO=W,SO.attachEvent("onpropertychange",cX)):X==="focusout"&&mX()}function oG(X){if(X==="selectionchange"||X==="keyup"||X==="keydown")return wZ(TO)}function rG(X,G){if(X==="click")return wZ(G)}function tG(X,G){if(X==="input"||X==="change")return wZ(G)}function eG(X,G){return X===G&&(X!==0||1/X===1/G)||X!==X&&G!==G}function wJ(X,G){if(s9(X,G))return!0;if(typeof X!=="object"||X===null||typeof G!=="object"||G===null)return!1;var W=Object.keys(X),U=Object.keys(G);if(W.length!==U.length)return!1;for(U=0;U<W.length;U++){var N=W[U];if(!v5.call(G,N)||!s9(X[N],G[N]))return!1}return!0}function R3(X){for(;X&&X.firstChild;)X=X.firstChild;return X}function pX(X,G){var W=R3(X);X=0;for(var U;W;){if(W.nodeType===3){if(U=X+W.textContent.length,X<=G&&U>=G)return{node:W,offset:G-X};X=U}J:{for(;W;){if(W.nextSibling){W=W.nextSibling;break J}W=W.parentNode}W=void 0}W=R3(W)}}function lX(X,G){return X&&G?X===G?!0:X&&X.nodeType===3?!1:G&&G.nodeType===3?lX(X,G.parentNode):("contains"in X)?X.contains(G):X.compareDocumentPosition?!!(X.compareDocumentPosition(G)&16):!1:!1}function iX(X){X=X!=null&&X.ownerDocument!=null&&X.ownerDocument.defaultView!=null?X.ownerDocument.defaultView:window;for(var G=X7(X.document);G instanceof X.HTMLIFrameElement;){try{var W=typeof G.contentWindow.location.href==="string"}catch(U){W=!1}if(W)X=G.contentWindow;else break;G=X7(X.document)}return G}function EZ(X){var G=X&&X.nodeName&&X.nodeName.toLowerCase();return G&&(G==="input"&&(X.type==="text"||X.type==="search"||X.type==="tel"||X.type==="url"||X.type==="password")||G==="textarea"||X.contentEditable==="true")}function DQ(X,G,W){var U=W.window===W?W.document:W.nodeType===9?W:W.ownerDocument;VV||Bq==null||Bq!==X7(U)||(U=Bq,("selectionStart"in U)&&EZ(U)?U={start:U.selectionStart,end:U.selectionEnd}:(U=(U.ownerDocument&&U.ownerDocument.defaultView||window).getSelection(),U={anchorNode:U.anchorNode,anchorOffset:U.anchorOffset,focusNode:U.focusNode,focusOffset:U.focusOffset}),PO&&wJ(PO,U)||(PO=U,U=PY(_V,"onSelect"),0<U.length&&(G=new wF("onSelect","select",null,G,W),X.push({event:G,listeners:U}),G.target=Bq)))}function f9(X,G){var W={};return W[X.toLowerCase()]=G.toLowerCase(),W["Webkit"+X]="webkit"+G,W["Moz"+X]="moz"+G,W}function b8(X){if(IV[X])return IV[X];if(!qq[X])return X;var G=qq[X],W;for(W in G)if(G.hasOwnProperty(W)&&W in WR)return IV[X]=G[W];return X}function n6(X,G){LR.set(X,G),g0(G,[X])}function r7(X,G){if(typeof X==="object"&&X!==null){var W=DV.get(X);if(W!==void 0)return W;return G={value:X,source:G,stack:d1(G)},DV.set(X,G),G}return{value:X,source:G,stack:d1(G)}}function EJ(){for(var X=Uq,G=wV=Uq=0;G<X;){var W=c3[G];c3[G++]=null;var U=c3[G];c3[G++]=null;var N=c3[G];c3[G++]=null;var _=c3[G];if(c3[G++]=null,U!==null&&N!==null){var P=U.pending;P===null?N.next=N:(N.next=P.next,P.next=N),U.pending=N}_!==0&&J$(W,N,_)}}function S9(X,G,W,U){c3[Uq++]=X,c3[Uq++]=G,c3[Uq++]=W,c3[Uq++]=U,wV|=U,X.lanes|=U,X=X.alternate,X!==null&&(X.lanes|=U)}function wQ(X,G,W,U){return S9(X,G,W,U),kZ(X)}function b7(X,G){return S9(X,null,null,G),kZ(X)}function J$(X,G,W){X.lanes|=W;var U=X.alternate;U!==null&&(U.lanes|=W);for(var N=!1,_=X.return;_!==null;)_.childLanes|=W,U=_.alternate,U!==null&&(U.childLanes|=W),_.tag===22&&(X=_.stateNode,X===null||X._visibility&kF||(N=!0)),X=_,_=_.return;return X.tag===3?(_=X.stateNode,N&&G!==null&&(N=31-F6(W),X=_.hiddenUpdates,U=X[N],U===null?X[N]=[G]:U.push(G),G.lane=W|536870912),_):null}function kZ(X){if(Yz>gs)throw lH=Yz=0,Gz=ZI=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");lH>ys&&(lH=0,Gz=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),X.alternate===null&&(X.flags&4098)!==0&&LH(X);for(var G=X,W=G.return;W!==null;)G.alternate===null&&(G.flags&4098)!==0&&LH(X),G=W,W=G.return;return G.tag===3?G.stateNode:null}function H8(X){if(p3===null)return X;var G=p3(X);return G===void 0?X:G.current}function xZ(X){if(p3===null)return X;var G=p3(X);return G===void 0?X!==null&&X!==void 0&&typeof X.render==="function"&&(G=H8(X.render),X.render!==G)?(G={$$typeof:H1,render:G},X.displayName!==void 0&&(G.displayName=X.displayName),G):X:G.current}function C3(X,G){if(p3===null)return!1;var W=X.elementType;G=G.type;var U=!1,N=typeof G==="object"&&G!==null?G.$$typeof:null;switch(X.tag){case 1:typeof G==="function"&&(U=!0);break;case 0:typeof G==="function"?U=!0:N===i1&&(U=!0);break;case 11:N===H1?U=!0:N===i1&&(U=!0);break;case 14:case 15:N===n1?U=!0:N===i1&&(U=!0);break;default:return!1}return U&&(X=p3(W),X!==void 0&&X===p3(G))?!0:!1}function EQ(X){p3!==null&&typeof WeakSet==="function"&&(Lq===null&&(Lq=new WeakSet),Lq.add(X))}function kQ(X,G,W){var{alternate:U,child:N,sibling:_,tag:P,type:s}=X,W1=null;switch(P){case 0:case 15:case 1:W1=s;break;case 11:W1=s.render}if(p3===null)throw Error("Expected resolveFamily to be set during hot reload.");var U1=!1;if(s=!1,W1!==null&&(W1=p3(W1),W1!==void 0&&(W.has(W1)?s=!0:G.has(W1)&&(P===1?s=!0:U1=!0))),Lq!==null&&(Lq.has(X)||U!==null&&Lq.has(U))&&(s=!0),s&&(X._debugNeedsRemount=!0),s||U1)U=b7(X,2),U!==null&&k4(U,X,2);N===null||s||kQ(N,G,W),_!==null&&kQ(_,G,W)}function Z$(X,G,W,U){this.tag=X,this.key=W,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=G,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,zR||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function xQ(X){return X=X.prototype,!(!X||!X.isReactComponent)}function T9(X,G){var W=X.alternate;switch(W===null?(W=F(X.tag,G,X.key,X.mode),W.elementType=X.elementType,W.type=X.type,W.stateNode=X.stateNode,W._debugOwner=X._debugOwner,W._debugStack=X._debugStack,W._debugTask=X._debugTask,W._debugHookTypes=X._debugHookTypes,W.alternate=X,X.alternate=W):(W.pendingProps=G,W.type=X.type,W.flags=0,W.subtreeFlags=0,W.deletions=null,W.actualDuration=-0,W.actualStartTime=-1.1),W.flags=X.flags&65011712,W.childLanes=X.childLanes,W.lanes=X.lanes,W.child=X.child,W.memoizedProps=X.memoizedProps,W.memoizedState=X.memoizedState,W.updateQueue=X.updateQueue,G=X.dependencies,W.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},W.sibling=X.sibling,W.index=X.index,W.ref=X.ref,W.refCleanup=X.refCleanup,W.selfBaseDuration=X.selfBaseDuration,W.treeBaseDuration=X.treeBaseDuration,W._debugInfo=X._debugInfo,W._debugNeedsRemount=X._debugNeedsRemount,W.tag){case 0:case 15:W.type=H8(X.type);break;case 1:W.type=H8(X.type);break;case 11:W.type=xZ(X.type)}return W}function nX(X,G){X.flags&=65011714;var W=X.alternate;return W===null?(X.childLanes=0,X.lanes=G,X.child=null,X.subtreeFlags=0,X.memoizedProps=null,X.memoizedState=null,X.updateQueue=null,X.dependencies=null,X.stateNode=null,X.selfBaseDuration=0,X.treeBaseDuration=0):(X.childLanes=W.childLanes,X.lanes=W.lanes,X.child=W.child,X.subtreeFlags=0,X.deletions=null,X.memoizedProps=W.memoizedProps,X.memoizedState=W.memoizedState,X.updateQueue=W.updateQueue,X.type=W.type,G=W.dependencies,X.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},X.selfBaseDuration=W.selfBaseDuration,X.treeBaseDuration=W.treeBaseDuration),X}function RQ(X,G,W,U,N,_){var P=0,s=X;if(typeof X==="function")xQ(X)&&(P=1),s=H8(s);else if(typeof X==="string")P=l(),P=BF(X,W,P)?26:X==="html"||X==="head"||X==="body"?27:5;else J:switch(X){case O0:return G=F(31,W,G,N),G.elementType=O0,G.lanes=_,G;case r4:return W8(W.children,N,_,G);case d8:P=8,N|=V9,N|=uJ;break;case Xq:return X=W,U=N,typeof X.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof X.id),G=F(12,X,G,U|Z9),G.elementType=Xq,G.lanes=_,G.stateNode={effectDuration:0,passiveEffectDuration:0},G;case j1:return G=F(13,W,G,N),G.elementType=j1,G.lanes=_,G;case S1:return G=F(19,W,G,N),G.elementType=S1,G.lanes=_,G;default:if(typeof X==="object"&&X!==null)switch(X.$$typeof){case DO:case f:P=10;break J;case RH:P=9;break J;case H1:P=11,s=xZ(s);break J;case n1:P=14;break J;case i1:P=16,s=null;break J}if(s="",X===void 0||typeof X==="object"&&X!==null&&Object.keys(X).length===0)s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";X===null?W="null":J2(X)?W="array":X!==void 0&&X.$$typeof===B4?(W="<"+(k(X.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):W=typeof X,(P=U?T(U):null)&&(s+=`

Check the render method of \``+P+"`."),P=29,W=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(W+"."+s)),s=null}return G=F(P,W,G,N),G.elementType=X,G.type=s,G.lanes=_,G._debugOwner=U,G}function RZ(X,G,W){return G=RQ(X.type,X.key,X.props,X._owner,G,W),G._debugOwner=X._owner,G._debugStack=X._debugStack,G._debugTask=X._debugTask,G}function W8(X,G,W,U){return X=F(7,X,U,G),X.lanes=W,X}function CQ(X,G,W){return X=F(6,X,null,G),X.lanes=W,X}function K8(X,G,W){return G=F(4,X.children!==null?X.children:[],X.key,G),G.lanes=W,G.stateNode={containerInfo:X.containerInfo,pendingChildren:null,implementation:X.implementation},G}function O6(X,G){P9(),Oq[zq++]=RF,Oq[zq++]=xF,xF=X,RF=G}function bQ(X,G,W){P9(),l3[i3++]=YX,l3[i3++]=GX,l3[i3++]=fH,fH=X;var U=YX;X=GX;var N=32-F6(U)-1;U&=~(1<<N),W+=1;var _=32-F6(G)+N;if(30<_){var P=N-N%5;_=(U&(1<<P)-1).toString(32),U>>=P,N-=P,YX=1<<32-F6(G)+N|W<<N|U,GX=_+X}else YX=1<<_|W<<N|U,GX=X}function CZ(X){P9(),X.return!==null&&(O6(X,1),bQ(X,1,0))}function B8(X){for(;X===xF;)xF=Oq[--zq],Oq[zq]=null,RF=Oq[--zq],Oq[zq]=null;for(;X===fH;)fH=l3[--i3],l3[i3]=null,GX=l3[--i3],l3[i3]=null,YX=l3[--i3],l3[i3]=null}function P9(){u5||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function q8(X,G){if(X.return===null){if(n3===null)n3={fiber:X,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G};else{if(n3.fiber!==X)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");n3.distanceFromLeaf>G&&(n3.distanceFromLeaf=G)}return n3}var W=q8(X.return,G+1).children;if(0<W.length&&W[W.length-1].fiber===X)return W=W[W.length-1],W.distanceFromLeaf>G&&(W.distanceFromLeaf=G),W;return G={fiber:X,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G},W.push(G),G}function bZ(X,G){$X||(X=q8(X,0),X.serverProps=null,G!==null&&(G=iB(G),X.serverTail.push(G)))}function v8(X){var G="",W=n3;throw W!==null&&(n3=null,G=E3(W)),f3(r7(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+G),X)),EV}function vQ(X){var{stateNode:G,type:W,memoizedProps:U}=X;switch(G[b6]=X,G[M9]=U,MH(W,U),W){case"dialog":Y5("cancel",G),Y5("close",G);break;case"iframe":case"object":case"embed":Y5("load",G);break;case"video":case"audio":for(W=0;W<$z.length;W++)Y5($z[W],G);break;case"source":Y5("error",G);break;case"img":case"image":case"link":Y5("error",G),Y5("load",G);break;case"details":Y5("toggle",G);break;case"input":_2("input",U),Y5("invalid",G),l7(G,U),C9(G,U.value,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name,!0),O7(G);break;case"option":b9(G,U);break;case"select":_2("select",U),Y5("invalid",G),m6(G,U);break;case"textarea":_2("textarea",U),Y5("invalid",G),U6(G,U),O9(G,U.value,U.defaultValue,U.children),O7(G)}W=U.children,typeof W!=="string"&&typeof W!=="number"&&typeof W!=="bigint"||G.textContent===""+W||U.suppressHydrationWarning===!0||PB(G.textContent,W)?(U.popover!=null&&(Y5("beforetoggle",G),Y5("toggle",G)),U.onScroll!=null&&Y5("scroll",G),U.onScrollEnd!=null&&Y5("scrollend",G),U.onClick!=null&&(G.onclick=yY),G=!0):G=!1,G||v8(X)}function vZ(X){for(o9=X.return;o9;)switch(o9.tag){case 5:case 13:JQ=!1;return;case 27:case 3:JQ=!0;return;default:o9=o9.return}}function b3(X){if(X!==o9)return!1;if(!u5)return vZ(X),u5=!0,!1;var G=X.tag,W;if(W=G!==3&&G!==27){if(W=G===5)W=X.type,W=!(W!=="form"&&W!=="button")||rQ(X.type,X.memoizedProps);W=!W}if(W&&T7){for(W=T7;W;){var U=q8(X,0),N=iB(W);U.serverTail.push(N),W=N.type==="Suspense"?XO(W):A9(W.nextSibling)}v8(X)}if(vZ(X),G===13){if(X=X.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");T7=XO(X)}else G===27?(G=T7,d3(X.type)?(X=LI,LI=null,T7=X):T7=G):T7=o9?A9(X.stateNode.nextSibling):null;return!0}function v3(){T7=o9=null,$X=u5=!1}function aX(){var X=SH;return X!==null&&(e9===null?e9=X:e9.push.apply(e9,X),SH=null),X}function f3(X){SH===null?SH=[X]:SH.push(X)}function fQ(){var X=n3;if(X!==null){n3=null;for(var G=E3(X);0<X.children.length;)X=X.children[0];s1(X.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",G)})}}function g9(){Nq=CF=null,Fq=!1}function X2(X,G,W){v(kV,G._currentValue,X),G._currentValue=W,v(xV,G._currentRenderer,X),G._currentRenderer!==void 0&&G._currentRenderer!==null&&G._currentRenderer!==MR&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),G._currentRenderer=MR}function y9(X,G){X._currentValue=kV.current;var W=xV.current;o(xV,G),X._currentRenderer=W,o(kV,G)}function fZ(X,G,W){for(;X!==null;){var U=X.alternate;if((X.childLanes&G)!==G?(X.childLanes|=G,U!==null&&(U.childLanes|=G)):U!==null&&(U.childLanes&G)!==G&&(U.childLanes|=G),X===W)break;X=X.return}X!==W&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function kJ(X,G,W,U){var N=X.child;N!==null&&(N.return=X);for(;N!==null;){var _=N.dependencies;if(_!==null){var P=N.child;_=_.firstContext;J:for(;_!==null;){var s=_;_=N;for(var W1=0;W1<G.length;W1++)if(s.context===G[W1]){_.lanes|=W,s=_.alternate,s!==null&&(s.lanes|=W),fZ(_.return,W,X),U||(P=null);break J}_=s.next}}else if(N.tag===18){if(P=N.return,P===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");P.lanes|=W,_=P.alternate,_!==null&&(_.lanes|=W),fZ(P,W,X),P=null}else P=N.child;if(P!==null)P.return=N;else for(P=N;P!==null;){if(P===X){P=null;break}if(N=P.sibling,N!==null){N.return=P.return,P=N;break}P=P.return}N=P}}function U8(X,G,W,U){X=null;for(var N=G,_=!1;N!==null;){if(!_){if((N.flags&524288)!==0)_=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var P=N.alternate;if(P===null)throw Error("Should have a current fiber. This is a bug in React.");if(P=P.memoizedProps,P!==null){var s=N.type;s9(N.pendingProps.value,P.value)||(X!==null?X.push(s):X=[s])}}else if(N===F4.current){if(P=N.alternate,P===null)throw Error("Should have a current fiber. This is a bug in React.");P.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(X!==null?X.push(Bz):X=[Bz])}N=N.return}X!==null&&kJ(G,X,W,U),G.flags|=262144}function z6(X){for(X=X.firstContext;X!==null;){if(!s9(X.context._currentValue,X.memoizedValue))return!0;X=X.next}return!1}function a6(X){CF=X,Nq=null,X=X.dependencies,X!==null&&(X.firstContext=null)}function s5(X){return Fq&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),SZ(CF,X)}function xJ(X,G){return CF===null&&a6(X),SZ(X,G)}function SZ(X,G){var W=G._currentValue;if(G={context:G,memoizedValue:W,next:null},Nq===null){if(X===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Nq=G,X.dependencies={lanes:0,firstContext:G,_debugThenableState:null},X.flags|=524288}else Nq=Nq.next=G;return W}function TZ(){return{controller:new Is,data:new Map,refCount:0}}function h9(X){X.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),X.refCount++}function f8(X){X.refCount--,0>X.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),X.refCount===0&&js(Ds,function(){X.controller.abort()})}function N9(){var X=TH;return TH=0,X}function RJ(X){var G=TH;return TH=X,G}function u9(X){var G=TH;return TH+=X,G}function CJ(X){V8=Aq(),0>X.actualStartTime&&(X.actualStartTime=V8)}function bJ(X){if(0<=V8){var G=Aq()-V8;X.actualDuration+=G,X.selfBaseDuration=G,V8=-1}}function PZ(X){if(0<=V8){var G=Aq()-V8;X.actualDuration+=G,V8=-1}}function s6(){if(0<=V8){var X=Aq()-V8;V8=-1,TH+=X}}function o6(){V8=Aq()}function S3(X){for(var G=X.child;G;)X.actualDuration+=G.actualDuration,G=G.sibling}function sX(X,G){if(gO===null){var W=gO=[];RV=0,PH=vB(),Mq={status:"pending",value:void 0,then:function(U){W.push(U)}}}return RV++,G.then(x,x),G}function x(){if(--RV===0&&gO!==null){Mq!==null&&(Mq.status="fulfilled");var X=gO;gO=null,PH=0,Mq=null;for(var G=0;G<X.length;G++)(0,X[G])()}}function h(X,G){var W=[],U={status:"pending",value:null,reason:null,then:function(N){W.push(N)}};return X.then(function(){U.status="fulfilled",U.value=G;for(var N=0;N<W.length;N++)(0,W[N])(G)},function(N){U.status="rejected",U.reason=N;for(N=0;N<W.length;N++)(0,W[N])(void 0)}),U}function r(){var X=gH.current;return X!==null?X:R4.pooledCache}function X1(X,G){G===null?v(gH,gH.current,X):v(gH,G.pool,X)}function B1(){var X=r();return X===null?null:{parent:A6._currentValue,pool:X}}function R1(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function $0(X){return X=X.status,X==="fulfilled"||X==="rejected"}function V0(){}function d0(X,G,W){b1.actQueue!==null&&(b1.didUsePromise=!0);var U=X.thenables;switch(W=U[W],W===void 0?U.push(G):W!==G&&(X.didWarnAboutUncachedPromise||(X.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),G.then(V0,V0),G=W),G.status){case"fulfilled":return G.value;case"rejected":throw X=G.reason,y2(X),X;default:if(typeof G.status==="string")G.then(V0,V0);else{if(X=R4,X!==null&&100<X.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");X=G,X.status="pending",X.then(function(N){if(G.status==="pending"){var _=G;_.status="fulfilled",_.value=N}},function(N){if(G.status==="pending"){var _=G;_.status="rejected",_.reason=N}})}switch(G.status){case"fulfilled":return G.value;case"rejected":throw X=G.reason,y2(X),X}throw lO=G,PF=!0,pO}}function Q2(){if(lO===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var X=lO;return lO=null,PF=!1,X}function y2(X){if(X===pO||X===TF)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function H5(X){X.updateQueue={baseState:X.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _5(X,G){X=X.updateQueue,G.updateQueue===X&&(G.updateQueue={baseState:X.baseState,firstBaseUpdate:X.firstBaseUpdate,lastBaseUpdate:X.lastBaseUpdate,shared:X.shared,callbacks:null})}function K4(X){return{lane:X,tag:DR,payload:null,callback:null,next:null}}function N6(X,G,W){var U=X.updateQueue;if(U===null)return null;if(U=U.shared,vV===U&&!kR){var N=S(X);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,N),kR=!0}if((Y4&t9)!==p8)return N=U.pending,N===null?G.next=G:(G.next=N.next,N.next=G),U.pending=G,G=kZ(X),J$(X,null,W),G;return S9(X,U,G,W),kZ(X)}function T3(X,G,W){if(G=G.updateQueue,G!==null&&(G=G.shared,(W&4194048)!==0)){var U=G.lanes;U&=X.pendingLanes,W|=U,G.lanes=W,E0(X,W)}}function oX(X,G){var{updateQueue:W,alternate:U}=X;if(U!==null&&(U=U.updateQueue,W===U)){var N=null,_=null;if(W=W.firstBaseUpdate,W!==null){do{var P={lane:W.lane,tag:W.tag,payload:W.payload,callback:null,next:null};_===null?N=_=P:_=_.next=P,W=W.next}while(W!==null);_===null?N=_=G:_=_.next=G}else N=_=G;W={baseState:U.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:U.shared,callbacks:U.callbacks},X.updateQueue=W;return}X=W.lastBaseUpdate,X===null?W.firstBaseUpdate=G:X.next=G,W.lastBaseUpdate=G}function SQ(){if(fV){var X=Mq;if(X!==null)throw X}}function gZ(X,G,W,U){fV=!1;var N=X.updateQueue;rY=!1,vV=N.shared;var{firstBaseUpdate:_,lastBaseUpdate:P}=N,s=N.shared.pending;if(s!==null){N.shared.pending=null;var W1=s,U1=W1.next;W1.next=null,P===null?_=U1:P.next=U1,P=W1;var l1=X.alternate;l1!==null&&(l1=l1.updateQueue,s=l1.lastBaseUpdate,s!==P&&(s===null?l1.firstBaseUpdate=U1:s.next=U1,l1.lastBaseUpdate=W1))}if(_!==null){var Y0=N.baseState;P=0,l1=U1=W1=null,s=_;do{var c1=s.lane&-536870913,W0=c1!==s.lane;if(W0?(V5&c1)===c1:(U&c1)===c1){c1!==0&&c1===PH&&(fV=!0),l1!==null&&(l1=l1.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});J:{c1=X;var K2=s,p2=G,C4=W;switch(K2.tag){case wR:if(K2=K2.payload,typeof K2==="function"){Fq=!0;var k5=K2.call(C4,Y0,p2);if(c1.mode&V9){V1(!0);try{K2.call(C4,Y0,p2)}finally{V1(!1)}}Fq=!1,Y0=k5;break J}Y0=K2;break J;case bV:c1.flags=c1.flags&-65537|128;case DR:if(k5=K2.payload,typeof k5==="function"){if(Fq=!0,K2=k5.call(C4,Y0,p2),c1.mode&V9){V1(!0);try{k5.call(C4,Y0,p2)}finally{V1(!1)}}Fq=!1}else K2=k5;if(K2===null||K2===void 0)break J;Y0=h0({},Y0,K2);break J;case ER:rY=!0}}c1=s.callback,c1!==null&&(X.flags|=64,W0&&(X.flags|=8192),W0=N.callbacks,W0===null?N.callbacks=[c1]:W0.push(c1))}else W0={lane:c1,tag:s.tag,payload:s.payload,callback:s.callback,next:null},l1===null?(U1=l1=W0,W1=Y0):l1=l1.next=W0,P|=c1;if(s=s.next,s===null)if(s=N.shared.pending,s===null)break;else W0=s,s=W0.next,W0.next=null,N.lastBaseUpdate=W0,N.shared.pending=null}while(1);l1===null&&(W1=Y0),N.baseState=W1,N.firstBaseUpdate=U1,N.lastBaseUpdate=l1,_===null&&(N.shared.lanes=0),ZG|=P,X.lanes=P,X.memoizedState=Y0}vV=null}function FK(X,G){if(typeof X!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+X);X.call(G)}function _L(X,G){var W=X.shared.hiddenCallbacks;if(W!==null)for(X.shared.hiddenCallbacks=null,X=0;X<W.length;X++)FK(W[X],G)}function Q$(X,G){var W=X.callbacks;if(W!==null)for(X.callbacks=null,X=0;X<W.length;X++)FK(W[X],G)}function AK(X,G){var W=XQ;v(gF,W,X),v(_q,G,X),XQ=W|G.baseLanes}function X$(X){v(gF,XQ,X),v(_q,_q.current,X)}function rX(X){XQ=gF.current,o(_q,X),o(gF,X)}function W5(){var X=X0;o3===null?o3=[X]:o3.push(X)}function C0(){var X=X0;if(o3!==null&&(WX++,o3[WX]!==X)){var G=S(a2);if(!xR.has(G)&&(xR.add(G),o3!==null)){for(var W="",U=0;U<=WX;U++){var N=o3[U],_=U===WX?X:N;for(N=U+1+". "+N;30>N.length;)N+=" ";N+=_+`
`,W+=N}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,G,W)}}}function vJ(X){X===void 0||X===null||J2(X)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",X0,typeof X)}function tX(){var X=S(a2);CR.has(X)||(CR.add(X),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",X))}function o4(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function eX(X,G){if(nO)return!1;if(G===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",X0),!1;X.length!==G.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,X0,"["+G.join(", ")+"]","["+X.join(", ")+"]");for(var W=0;W<G.length&&W<X.length;W++)if(!s9(X[W],G[W]))return!1;return!0}function Y$(X,G,W,U,N,_){if(tY=_,a2=G,o3=X!==null?X._debugHookTypes:null,WX=-1,nO=X!==null&&X.type!==G.type,Object.prototype.toString.call(W)==="[object AsyncFunction]"||Object.prototype.toString.call(W)==="[object AsyncGeneratorFunction]")_=S(a2),SV.has(_)||(SV.add(_),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",_===null?"An unknown Component":"<"+_+">"));G.memoizedState=null,G.updateQueue=null,G.lanes=0,b1.H=X!==null&&X.memoizedState!==null?PV:o3!==null?bR:TV,hH=_=(G.mode&V9)!==h4;var P=gV(W,U,N);if(hH=!1,Iq&&(P=JY(G,W,U,N)),_){V1(!0);try{P=JY(G,W,U,N)}finally{V1(!1)}}return MK(X,G),P}function MK(X,G){G._debugHookTypes=o3,G.dependencies===null?HX!==null&&(G.dependencies={lanes:0,firstContext:null,_debugThenableState:HX}):G.dependencies._debugThenableState=HX,b1.H=uF;var W=I4!==null&&I4.next!==null;if(tY=0,o3=X0=$6=I4=a2=null,WX=-1,X!==null&&(X.flags&65011712)!==(G.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),yF=!1,iO=0,HX=null,W)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");X===null||v6||(X=X.dependencies,X!==null&&z6(X)&&(v6=!0)),PF?(PF=!1,X=!0):X=!1,X&&(G=S(G)||"Unknown",RR.has(G)||SV.has(G)||(RR.add(G),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function JY(X,G,W,U){a2=X;var N=0;do{if(Iq&&(HX=null),iO=0,Iq=!1,N>=Es)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(N+=1,nO=!1,$6=I4=null,X.updateQueue!=null){var _=X.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}WX=-1,b1.H=vR,_=gV(G,W,U)}while(Iq);return _}function VL(){var X=b1.H,G=X.useState()[0];return G=typeof G.then==="function"?TQ(G):G,X=X.useState()[0],(I4!==null?I4.memoizedState:null)!==X&&(a2.flags|=1024),G}function G$(){var X=hF!==0;return hF=0,X}function ZY(X,G,W){G.updateQueue=X.updateQueue,G.flags=(G.mode&uJ)!==h4?G.flags&-402655237:G.flags&-2053,X.lanes&=~W}function $$(X){if(yF){for(X=X.memoizedState;X!==null;){var G=X.queue;G!==null&&(G.pending=null),X=X.next}yF=!1}tY=0,o3=$6=I4=a2=null,WX=-1,X0=null,Iq=!1,iO=hF=0,HX=null}function R6(){var X={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $6===null?a2.memoizedState=$6=X:$6=$6.next=X,$6}function y5(){if(I4===null){var X=a2.alternate;X=X!==null?X.memoizedState:null}else X=I4.next;var G=$6===null?a2.memoizedState:$6.next;if(G!==null)$6=G,I4=X;else{if(X===null){if(a2.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}I4=X,X={memoizedState:I4.memoizedState,baseState:I4.baseState,baseQueue:I4.baseQueue,queue:I4.queue,next:null},$6===null?a2.memoizedState=$6=X:$6=$6.next=X}return $6}function H$(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function TQ(X){var G=iO;return iO+=1,HX===null&&(HX=R1()),X=d0(HX,X,G),G=a2,($6===null?G.memoizedState:$6.next)===null&&(G=G.alternate,b1.H=G!==null&&G.memoizedState!==null?PV:TV),X}function S8(X){if(X!==null&&typeof X==="object"){if(typeof X.then==="function")return TQ(X);if(X.$$typeof===f)return s5(X)}throw Error("An unsupported type was passed to use(): "+String(X))}function fJ(X){var G=null,W=a2.updateQueue;if(W!==null&&(G=W.memoCache),G==null){var U=a2.alternate;U!==null&&(U=U.updateQueue,U!==null&&(U=U.memoCache,U!=null&&(G={data:U.data.map(function(N){return N.slice()}),index:0})))}if(G==null&&(G={data:[],index:0}),W===null&&(W=H$(),a2.updateQueue=W),W.memoCache=G,W=G.data[G.index],W===void 0||nO)for(W=G.data[G.index]=Array(X),U=0;U<X;U++)W[U]=S0;else W.length!==X&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",W.length,X);return G.index++,W}function d9(X,G){return typeof G==="function"?G(X):G}function QY(X,G,W){var U=R6();if(W!==void 0){var N=W(G);if(hH){V1(!0);try{W(G)}finally{V1(!1)}}}else N=G;return U.memoizedState=U.baseState=N,X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X,lastRenderedState:N},U.queue=X,X=X.dispatch=DL.bind(null,a2,X),[U.memoizedState,X]}function yZ(X){var G=y5();return W$(G,I4,X)}function W$(X,G,W){var U=X.queue;if(U===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");U.lastRenderedReducer=W;var N=X.baseQueue,_=U.pending;if(_!==null){if(N!==null){var P=N.next;N.next=_.next,_.next=P}G.baseQueue!==N&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),G.baseQueue=N=_,U.pending=null}if(_=X.baseState,N===null)X.memoizedState=_;else{G=N.next;var s=P=null,W1=null,U1=G,l1=!1;do{var Y0=U1.lane&-536870913;if(Y0!==U1.lane?(V5&Y0)===Y0:(tY&Y0)===Y0){var c1=U1.revertLane;if(c1===0)W1!==null&&(W1=W1.next={lane:0,revertLane:0,action:U1.action,hasEagerState:U1.hasEagerState,eagerState:U1.eagerState,next:null}),Y0===PH&&(l1=!0);else if((tY&c1)===c1){U1=U1.next,c1===PH&&(l1=!0);continue}else Y0={lane:0,revertLane:U1.revertLane,action:U1.action,hasEagerState:U1.hasEagerState,eagerState:U1.eagerState,next:null},W1===null?(s=W1=Y0,P=_):W1=W1.next=Y0,a2.lanes|=c1,ZG|=c1;Y0=U1.action,hH&&W(_,Y0),_=U1.hasEagerState?U1.eagerState:W(_,Y0)}else c1={lane:Y0,revertLane:U1.revertLane,action:U1.action,hasEagerState:U1.hasEagerState,eagerState:U1.eagerState,next:null},W1===null?(s=W1=c1,P=_):W1=W1.next=c1,a2.lanes|=Y0,ZG|=Y0;U1=U1.next}while(U1!==null&&U1!==G);if(W1===null?P=_:W1.next=s,!s9(_,X.memoizedState)&&(v6=!0,l1&&(W=Mq,W!==null)))throw W;X.memoizedState=_,X.baseState=P,X.baseQueue=W1,U.lastRenderedState=_}return N===null&&(U.lanes=0),[X.memoizedState,U.dispatch]}function hZ(X){var G=y5(),W=G.queue;if(W===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");W.lastRenderedReducer=X;var{dispatch:U,pending:N}=W,_=G.memoizedState;if(N!==null){W.pending=null;var P=N=N.next;do _=X(_,P.action),P=P.next;while(P!==N);s9(_,G.memoizedState)||(v6=!0),G.memoizedState=_,G.baseQueue===null&&(G.baseState=_),W.lastRenderedState=_}return[_,U]}function K$(X,G,W){var U=a2,N=R6();if(u5){if(W===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var _=W();Vq||_===W()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),Vq=!0)}else{if(_=G(),Vq||(W=G(),s9(_,W)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),Vq=!0)),R4===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(V5&124)!==0||B$(U,G,_)}return N.memoizedState=_,W={value:_,getSnapshot:G},N.queue=W,WY(VK.bind(null,U,W,X),[X]),U.flags|=2048,SJ(s3|M6,HY(),_K.bind(null,U,W,_,G),null),_}function XY(X,G,W){var U=a2,N=y5(),_=u5;if(_){if(W===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");W=W()}else if(W=G(),!Vq){var P=G();s9(W,P)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),Vq=!0)}if(P=!s9((I4||N).memoizedState,W))N.memoizedState=W,v6=!0;N=N.queue;var s=VK.bind(null,U,N,X);if(C6(2048,M6,s,[X]),N.getSnapshot!==G||P||$6!==null&&$6.memoizedState.tag&s3){if(U.flags|=2048,SJ(s3|M6,HY(),_K.bind(null,U,N,W,G),null),R4===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");_||(tY&124)!==0||B$(U,G,W)}return W}function B$(X,G,W){X.flags|=16384,X={getSnapshot:G,value:W},G=a2.updateQueue,G===null?(G=H$(),a2.updateQueue=G,G.stores=[X]):(W=G.stores,W===null?G.stores=[X]:W.push(X))}function _K(X,G,W,U){G.value=W,G.getSnapshot=U,q$(G)&&IK(X)}function VK(X,G,W){return W(function(){q$(G)&&IK(X)})}function q$(X){var G=X.getSnapshot;X=X.value;try{var W=G();return!s9(X,W)}catch(U){return!0}}function IK(X){var G=b7(X,2);G!==null&&k4(G,X,2)}function U$(X){var G=R6();if(typeof X==="function"){var W=X;if(X=W(),hH){V1(!0);try{W()}finally{V1(!1)}}}return G.memoizedState=G.baseState=X,G.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d9,lastRenderedState:X},G}function YY(X){X=U$(X);var G=X.queue,W=PK.bind(null,a2,G);return G.dispatch=W,[X.memoizedState,W]}function L$(X){var G=R6();G.memoizedState=G.baseState=X;var W={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return G.queue=W,G=C$.bind(null,a2,!0,W),W.dispatch=G,[X,G]}function jK(X,G){var W=y5();return O$(W,I4,X,G)}function O$(X,G,W,U){return X.baseState=W,W$(X,I4,typeof U==="function"?U:d9)}function DK(X,G){var W=y5();if(I4!==null)return O$(W,I4,X,G);return W.baseState=X,[X,W.queue.dispatch]}function IL(X,G,W,U,N){if(LY(X))throw Error("Cannot update form state while rendering.");if(X=G.action,X!==null){var _={payload:N,action:X,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};b1.T!==null?W(!0):_.isTransition=!1,U(_),W=G.pending,W===null?(_.next=G.pending=_,wK(G,_)):(_.next=W.next,G.pending=W.next=_)}}function wK(X,G){var{action:W,payload:U}=G,N=X.state;if(G.isTransition){var _=b1.T,P={};b1.T=P,b1.T._updatedFibers=new Set;try{var s=W(N,U),W1=b1.S;W1!==null&&W1(P,s),EK(X,G,s)}catch(U1){N$(X,G,U1)}finally{b1.T=_,_===null&&P._updatedFibers&&(X=P._updatedFibers.size,P._updatedFibers.clear(),10<X&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{P=W(N,U),EK(X,G,P)}catch(U1){N$(X,G,U1)}}function EK(X,G,W){W!==null&&typeof W==="object"&&typeof W.then==="function"?(W.then(function(U){z$(X,G,U)},function(U){return N$(X,G,U)}),G.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):z$(X,G,W)}function z$(X,G,W){G.status="fulfilled",G.value=W,kK(G),X.state=W,G=X.pending,G!==null&&(W=G.next,W===G?X.pending=null:(W=W.next,G.next=W,wK(X,W)))}function N$(X,G,W){var U=X.pending;if(X.pending=null,U!==null){U=U.next;do G.status="rejected",G.reason=W,kK(G),G=G.next;while(G!==U)}X.action=null}function kK(X){X=X.listeners;for(var G=0;G<X.length;G++)(0,X[G])()}function F$(X,G){return G}function uZ(X,G){if(u5){var W=R4.formState;if(W!==null){J:{var U=a2;if(u5){if(T7){Z:{var N=T7;for(var _=JQ;N.nodeType!==8;){if(!_){N=null;break Z}if(N=A9(N.nextSibling),N===null){N=null;break Z}}_=N.data,N=_===KI||_===CC?N:null}if(N){T7=A9(N.nextSibling),U=N.data===KI;break J}}v8(U)}U=!1}U&&(G=W[0])}}return W=R6(),W.memoizedState=W.baseState=G,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F$,lastRenderedState:G},W.queue=U,W=PK.bind(null,a2,U),U.dispatch=W,U=U$(!1),_=C$.bind(null,a2,!1,U.queue),U=R6(),N={state:G,dispatch:null,action:X,pending:null},U.queue=N,W=IL.bind(null,a2,N,_,W),N.dispatch=W,U.memoizedState=X,[G,W,!1]}function GY(X){var G=y5();return A$(G,I4,X)}function A$(X,G,W){if(G=W$(X,G,F$)[0],X=yZ(d9)[0],typeof G==="object"&&G!==null&&typeof G.then==="function")try{var U=TQ(G)}catch(P){if(P===pO)throw TF;throw P}else U=G;G=y5();var N=G.queue,_=N.dispatch;return W!==G.memoizedState&&(a2.flags|=2048,SJ(s3|M6,HY(),jL.bind(null,N,W),null)),[U,_,X]}function jL(X,G){X.action=G}function $Y(X){var G=y5(),W=I4;if(W!==null)return A$(G,W,X);y5(),G=G.memoizedState,W=y5();var U=W.queue.dispatch;return W.memoizedState=X,[G,U,!1]}function SJ(X,G,W,U){return X={tag:X,create:W,deps:U,inst:G,next:null},G=a2.updateQueue,G===null&&(G=H$(),a2.updateQueue=G),W=G.lastEffect,W===null?G.lastEffect=X.next=X:(U=W.next,W.next=X,X.next=U,G.lastEffect=X),X}function HY(){return{destroy:void 0,resource:void 0}}function M$(X){var G=R6();return X={current:X},G.memoizedState=X}function P3(X,G,W,U){var N=R6();U=U===void 0?null:U,a2.flags|=X,N.memoizedState=SJ(s3|G,HY(),W,U)}function C6(X,G,W,U){var N=y5();U=U===void 0?null:U;var _=N.memoizedState.inst;I4!==null&&U!==null&&eX(U,I4.memoizedState.deps)?N.memoizedState=SJ(G,_,W,U):(a2.flags|=X,N.memoizedState=SJ(s3|G,_,W,U))}function WY(X,G){(a2.mode&uJ)!==h4&&(a2.mode&OR)===h4?P3(276826112,M6,X,G):P3(8390656,M6,X,G)}function KY(X,G){var W=4194308;return(a2.mode&uJ)!==h4&&(W|=134217728),P3(W,Q9,X,G)}function xK(X,G){if(typeof G==="function"){X=X();var W=G(X);return function(){typeof W==="function"?W():G(null)}}if(G!==null&&G!==void 0)return G.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(G).join(", ")+"}"),X=X(),G.current=X,function(){G.current=null}}function _$(X,G,W){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),W=W!==null&&W!==void 0?W.concat([X]):null;var U=4194308;(a2.mode&uJ)!==h4&&(U|=134217728),P3(U,Q9,xK.bind(null,G,X),W)}function PQ(X,G,W){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),W=W!==null&&W!==void 0?W.concat([X]):null,C6(4,Q9,xK.bind(null,G,X),W)}function V$(X,G){return R6().memoizedState=[X,G===void 0?null:G],X}function BY(X,G){var W=y5();G=G===void 0?null:G;var U=W.memoizedState;if(G!==null&&eX(G,U[1]))return U[0];return W.memoizedState=[X,G],X}function I$(X,G){var W=R6();G=G===void 0?null:G;var U=X();if(hH){V1(!0);try{X()}finally{V1(!1)}}return W.memoizedState=[U,G],U}function qY(X,G){var W=y5();G=G===void 0?null:G;var U=W.memoizedState;if(G!==null&&eX(G,U[1]))return U[0];if(U=X(),hH){V1(!0);try{X()}finally{V1(!1)}}return W.memoizedState=[U,G],U}function UY(X,G){var W=R6();return j$(W,X,G)}function RK(X,G){var W=y5();return bK(W,I4.memoizedState,X,G)}function CK(X,G){var W=y5();return I4===null?j$(W,X,G):bK(W,I4.memoizedState,X,G)}function j$(X,G,W){if(W===void 0||(tY&1073741824)!==0)return X.memoizedState=G;return X.memoizedState=W,X=zB(),a2.lanes|=X,ZG|=X,W}function bK(X,G,W,U){if(s9(W,G))return W;if(_q.current!==null)return X=j$(X,W,U),s9(X,G)||(v6=!0),X;if((tY&42)===0)return v6=!0,X.memoizedState=W;return X=zB(),a2.lanes|=X,ZG|=X,G}function D$(X,G,W,U,N){var _=P0.p;P0.p=_!==0&&_<M8?_:M8;var P=b1.T,s={};b1.T=s,C$(X,!1,G,W),s._updatedFibers=new Set;try{var W1=N(),U1=b1.S;if(U1!==null&&U1(s,W1),W1!==null&&typeof W1==="object"&&typeof W1.then==="function"){var l1=h(W1,U);dZ(X,G,l1,e6(X))}else dZ(X,G,U,e6(X))}catch(Y0){dZ(X,G,{then:function(){},status:"rejected",reason:Y0},e6(X))}finally{P0.p=_,b1.T=P,P===null&&s._updatedFibers&&(X=s._updatedFibers.size,s._updatedFibers.clear(),10<X&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function w$(X,G,W,U){if(X.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var N=vK(X).queue;D$(X,N,G,oH,W===null?O:function(){return fK(X),W(U)})}function vK(X){var G=X.memoizedState;if(G!==null)return G;G={memoizedState:oH,baseState:oH,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:d9,lastRenderedState:oH},next:null};var W={};return G.next={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:d9,lastRenderedState:W},next:null},X.memoizedState=G,X=X.alternate,X!==null&&(X.memoizedState=G),G}function fK(X){b1.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var G=vK(X).next.queue;dZ(X,G,{},e6(X))}function E$(){var X=U$(!1);return X=D$.bind(null,a2,X.queue,!0,!1),R6().memoizedState=X,[!1,X]}function k$(){var X=yZ(d9)[0],G=y5().memoizedState;return[typeof X==="boolean"?X:TQ(X),G]}function SK(){var X=hZ(d9)[0],G=y5().memoizedState;return[typeof X==="boolean"?X:TQ(X),G]}function TJ(){return s5(Bz)}function x$(){var X=R6(),G=R4.identifierPrefix;if(u5){var W=GX,U=YX;W=(U&~(1<<32-F6(U)-1)).toString(32)+W,G="«"+G+"R"+W,W=hF++,0<W&&(G+="H"+W.toString(32)),G+="»"}else W=ws++,G="«"+G+"r"+W.toString(32)+"»";return X.memoizedState=G}function R$(){return R6().memoizedState=TK.bind(null,a2)}function TK(X,G){for(var W=X.return;W!==null;){switch(W.tag){case 24:case 3:var U=e6(W);X=K4(U);var N=N6(W,X,U);N!==null&&(k4(N,W,U),T3(N,W,U)),W=TZ(),G!==null&&G!==void 0&&N!==null&&console.error("The seed argument is not enabled outside experimental channels."),X.payload={cache:W};return}W=W.return}}function DL(X,G,W){var U=arguments;typeof U[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),U=e6(X);var N={lane:U,revertLane:0,action:W,hasEagerState:!1,eagerState:null,next:null};LY(X)?b$(G,N):(N=wQ(X,G,N,U),N!==null&&(k4(N,X,U),gK(N,G,U))),M1(X,U)}function PK(X,G,W){var U=arguments;typeof U[3]==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),U=e6(X),dZ(X,G,W,U),M1(X,U)}function dZ(X,G,W,U){var N={lane:U,revertLane:0,action:W,hasEagerState:!1,eagerState:null,next:null};if(LY(X))b$(G,N);else{var _=X.alternate;if(X.lanes===0&&(_===null||_.lanes===0)&&(_=G.lastRenderedReducer,_!==null)){var P=b1.H;b1.H=mJ;try{var s=G.lastRenderedState,W1=_(s,W);if(N.hasEagerState=!0,N.eagerState=W1,s9(W1,s))return S9(X,G,N,0),R4===null&&EJ(),!1}catch(U1){}finally{b1.H=P}}if(W=wQ(X,G,N,U),W!==null)return k4(W,X,U),gK(W,G,U),!0}return!1}function C$(X,G,W,U){if(b1.T===null&&PH===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),U={lane:2,revertLane:vB(),action:U,hasEagerState:!1,eagerState:null,next:null},LY(X)){if(G)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else G=wQ(X,W,U,2),G!==null&&k4(G,X,2);M1(X,2)}function LY(X){var G=X.alternate;return X===a2||G!==null&&G===a2}function b$(X,G){Iq=yF=!0;var W=X.pending;W===null?G.next=G:(G.next=W.next,W.next=G),X.pending=G}function gK(X,G,W){if((W&4194048)!==0){var U=G.lanes;U&=X.pendingLanes,W|=U,G.lanes=W,E0(X,W)}}function t7(X){var G=O5;return X!=null&&(O5=G===null?X:G.concat(X)),G}function gQ(X,G,W){for(var U=Object.keys(X.props),N=0;N<U.length;N++){var _=U[N];if(_!=="children"&&_!=="key"){G===null&&(G=RZ(X,W.mode,0),G._debugInfo=O5,G.return=W),s1(G,function(P){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",P)},_);break}}}function OY(X){var G=aO;return aO+=1,jq===null&&(jq=R1()),d0(jq,X,G)}function yQ(X,G){G=G.props.ref,X.ref=G!==void 0?G:null}function hQ(X,G){if(G.$$typeof===jO)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw X=Object.prototype.toString.call(G),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}function zY(X,G){var W=S(X)||"Component";nR[W]||(nR[W]=!0,G=G.displayName||G.name||"Component",X.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,G,G,G):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,G,G,W,G,W))}function NY(X,G){var W=S(X)||"Component";aR[W]||(aR[W]=!0,G=String(G),X.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,G):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,W,G,W))}function FY(X){function G(A1,_1){if(X){var k1=A1.deletions;k1===null?(A1.deletions=[_1],A1.flags|=16):k1.push(_1)}}function W(A1,_1){if(!X)return null;for(;_1!==null;)G(A1,_1),_1=_1.sibling;return null}function U(A1){for(var _1=new Map;A1!==null;)A1.key!==null?_1.set(A1.key,A1):_1.set(A1.index,A1),A1=A1.sibling;return _1}function N(A1,_1){return A1=T9(A1,_1),A1.index=0,A1.sibling=null,A1}function _(A1,_1,k1){if(A1.index=k1,!X)return A1.flags|=1048576,_1;if(k1=A1.alternate,k1!==null)return k1=k1.index,k1<_1?(A1.flags|=67108866,_1):k1;return A1.flags|=67108866,_1}function P(A1){return X&&A1.alternate===null&&(A1.flags|=67108866),A1}function s(A1,_1,k1,K0){if(_1===null||_1.tag!==6)return _1=CQ(k1,A1.mode,K0),_1.return=A1,_1._debugOwner=A1,_1._debugTask=A1._debugTask,_1._debugInfo=O5,_1;return _1=N(_1,k1),_1.return=A1,_1._debugInfo=O5,_1}function W1(A1,_1,k1,K0){var c0=k1.type;if(c0===r4)return _1=l1(A1,_1,k1.props.children,K0,k1.key),gQ(k1,_1,A1),_1;if(_1!==null&&(_1.elementType===c0||C3(_1,k1)||typeof c0==="object"&&c0!==null&&c0.$$typeof===i1&&eY(c0)===_1.type))return _1=N(_1,k1.props),yQ(_1,k1),_1.return=A1,_1._debugOwner=k1._owner,_1._debugInfo=O5,_1;return _1=RZ(k1,A1.mode,K0),yQ(_1,k1),_1.return=A1,_1._debugInfo=O5,_1}function U1(A1,_1,k1,K0){if(_1===null||_1.tag!==4||_1.stateNode.containerInfo!==k1.containerInfo||_1.stateNode.implementation!==k1.implementation)return _1=K8(k1,A1.mode,K0),_1.return=A1,_1._debugInfo=O5,_1;return _1=N(_1,k1.children||[]),_1.return=A1,_1._debugInfo=O5,_1}function l1(A1,_1,k1,K0,c0){if(_1===null||_1.tag!==7)return _1=W8(k1,A1.mode,K0,c0),_1.return=A1,_1._debugOwner=A1,_1._debugTask=A1._debugTask,_1._debugInfo=O5,_1;return _1=N(_1,k1),_1.return=A1,_1._debugInfo=O5,_1}function Y0(A1,_1,k1){if(typeof _1==="string"&&_1!==""||typeof _1==="number"||typeof _1==="bigint")return _1=CQ(""+_1,A1.mode,k1),_1.return=A1,_1._debugOwner=A1,_1._debugTask=A1._debugTask,_1._debugInfo=O5,_1;if(typeof _1==="object"&&_1!==null){switch(_1.$$typeof){case B4:return k1=RZ(_1,A1.mode,k1),yQ(k1,_1),k1.return=A1,A1=t7(_1._debugInfo),k1._debugInfo=O5,O5=A1,k1;case x4:return _1=K8(_1,A1.mode,k1),_1.return=A1,_1._debugInfo=O5,_1;case i1:var K0=t7(_1._debugInfo);return _1=eY(_1),A1=Y0(A1,_1,k1),O5=K0,A1}if(J2(_1)||E(_1))return k1=W8(_1,A1.mode,k1,null),k1.return=A1,k1._debugOwner=A1,k1._debugTask=A1._debugTask,A1=t7(_1._debugInfo),k1._debugInfo=O5,O5=A1,k1;if(typeof _1.then==="function")return K0=t7(_1._debugInfo),A1=Y0(A1,OY(_1),k1),O5=K0,A1;if(_1.$$typeof===f)return Y0(A1,xJ(A1,_1),k1);hQ(A1,_1)}return typeof _1==="function"&&zY(A1,_1),typeof _1==="symbol"&&NY(A1,_1),null}function c1(A1,_1,k1,K0){var c0=_1!==null?_1.key:null;if(typeof k1==="string"&&k1!==""||typeof k1==="number"||typeof k1==="bigint")return c0!==null?null:s(A1,_1,""+k1,K0);if(typeof k1==="object"&&k1!==null){switch(k1.$$typeof){case B4:return k1.key===c0?(c0=t7(k1._debugInfo),A1=W1(A1,_1,k1,K0),O5=c0,A1):null;case x4:return k1.key===c0?U1(A1,_1,k1,K0):null;case i1:return c0=t7(k1._debugInfo),k1=eY(k1),A1=c1(A1,_1,k1,K0),O5=c0,A1}if(J2(k1)||E(k1)){if(c0!==null)return null;return c0=t7(k1._debugInfo),A1=l1(A1,_1,k1,K0,null),O5=c0,A1}if(typeof k1.then==="function")return c0=t7(k1._debugInfo),A1=c1(A1,_1,OY(k1),K0),O5=c0,A1;if(k1.$$typeof===f)return c1(A1,_1,xJ(A1,k1),K0);hQ(A1,k1)}return typeof k1==="function"&&zY(A1,k1),typeof k1==="symbol"&&NY(A1,k1),null}function W0(A1,_1,k1,K0,c0){if(typeof K0==="string"&&K0!==""||typeof K0==="number"||typeof K0==="bigint")return A1=A1.get(k1)||null,s(_1,A1,""+K0,c0);if(typeof K0==="object"&&K0!==null){switch(K0.$$typeof){case B4:return k1=A1.get(K0.key===null?k1:K0.key)||null,A1=t7(K0._debugInfo),_1=W1(_1,k1,K0,c0),O5=A1,_1;case x4:return A1=A1.get(K0.key===null?k1:K0.key)||null,U1(_1,A1,K0,c0);case i1:var Z5=t7(K0._debugInfo);return K0=eY(K0),_1=W0(A1,_1,k1,K0,c0),O5=Z5,_1}if(J2(K0)||E(K0))return k1=A1.get(k1)||null,A1=t7(K0._debugInfo),_1=l1(_1,k1,K0,c0,null),O5=A1,_1;if(typeof K0.then==="function")return Z5=t7(K0._debugInfo),_1=W0(A1,_1,k1,OY(K0),c0),O5=Z5,_1;if(K0.$$typeof===f)return W0(A1,_1,k1,xJ(_1,K0),c0);hQ(_1,K0)}return typeof K0==="function"&&zY(_1,K0),typeof K0==="symbol"&&NY(_1,K0),null}function K2(A1,_1,k1,K0){if(typeof k1!=="object"||k1===null)return K0;switch(k1.$$typeof){case B4:case x4:B(A1,_1,k1);var c0=k1.key;if(typeof c0!=="string")break;if(K0===null){K0=new Set,K0.add(c0);break}if(!K0.has(c0)){K0.add(c0);break}s1(_1,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",c0)});break;case i1:k1=eY(k1),K2(A1,_1,k1,K0)}return K0}function p2(A1,_1,k1,K0){for(var c0=null,Z5=null,B2=null,Q5=_1,G5=_1=0,u4=null;Q5!==null&&G5<k1.length;G5++){Q5.index>G5?(u4=Q5,Q5=null):u4=Q5.sibling;var Z6=c1(A1,Q5,k1[G5],K0);if(Z6===null){Q5===null&&(Q5=u4);break}c0=K2(A1,Z6,k1[G5],c0),X&&Q5&&Z6.alternate===null&&G(A1,Q5),_1=_(Z6,_1,G5),B2===null?Z5=Z6:B2.sibling=Z6,B2=Z6,Q5=u4}if(G5===k1.length)return W(A1,Q5),u5&&O6(A1,G5),Z5;if(Q5===null){for(;G5<k1.length;G5++)Q5=Y0(A1,k1[G5],K0),Q5!==null&&(c0=K2(A1,Q5,k1[G5],c0),_1=_(Q5,_1,G5),B2===null?Z5=Q5:B2.sibling=Q5,B2=Q5);return u5&&O6(A1,G5),Z5}for(Q5=U(Q5);G5<k1.length;G5++)u4=W0(Q5,A1,G5,k1[G5],K0),u4!==null&&(c0=K2(A1,u4,k1[G5],c0),X&&u4.alternate!==null&&Q5.delete(u4.key===null?G5:u4.key),_1=_(u4,_1,G5),B2===null?Z5=u4:B2.sibling=u4,B2=u4);return X&&Q5.forEach(function(OX){return G(A1,OX)}),u5&&O6(A1,G5),Z5}function C4(A1,_1,k1,K0){if(k1==null)throw Error("An iterable object provided no iterator.");for(var c0=null,Z5=null,B2=_1,Q5=_1=0,G5=null,u4=null,Z6=k1.next();B2!==null&&!Z6.done;Q5++,Z6=k1.next()){B2.index>Q5?(G5=B2,B2=null):G5=B2.sibling;var OX=c1(A1,B2,Z6.value,K0);if(OX===null){B2===null&&(B2=G5);break}u4=K2(A1,OX,Z6.value,u4),X&&B2&&OX.alternate===null&&G(A1,B2),_1=_(OX,_1,Q5),Z5===null?c0=OX:Z5.sibling=OX,Z5=OX,B2=G5}if(Z6.done)return W(A1,B2),u5&&O6(A1,Q5),c0;if(B2===null){for(;!Z6.done;Q5++,Z6=k1.next())B2=Y0(A1,Z6.value,K0),B2!==null&&(u4=K2(A1,B2,Z6.value,u4),_1=_(B2,_1,Q5),Z5===null?c0=B2:Z5.sibling=B2,Z5=B2);return u5&&O6(A1,Q5),c0}for(B2=U(B2);!Z6.done;Q5++,Z6=k1.next())G5=W0(B2,A1,Q5,Z6.value,K0),G5!==null&&(u4=K2(A1,G5,Z6.value,u4),X&&G5.alternate!==null&&B2.delete(G5.key===null?Q5:G5.key),_1=_(G5,_1,Q5),Z5===null?c0=G5:Z5.sibling=G5,Z5=G5);return X&&B2.forEach(function(ts){return G(A1,ts)}),u5&&O6(A1,Q5),c0}function k5(A1,_1,k1,K0){if(typeof k1==="object"&&k1!==null&&k1.type===r4&&k1.key===null&&(gQ(k1,null,A1),k1=k1.props.children),typeof k1==="object"&&k1!==null){switch(k1.$$typeof){case B4:var c0=t7(k1._debugInfo);J:{for(var Z5=k1.key;_1!==null;){if(_1.key===Z5){if(Z5=k1.type,Z5===r4){if(_1.tag===7){W(A1,_1.sibling),K0=N(_1,k1.props.children),K0.return=A1,K0._debugOwner=k1._owner,K0._debugInfo=O5,gQ(k1,K0,A1),A1=K0;break J}}else if(_1.elementType===Z5||C3(_1,k1)||typeof Z5==="object"&&Z5!==null&&Z5.$$typeof===i1&&eY(Z5)===_1.type){W(A1,_1.sibling),K0=N(_1,k1.props),yQ(K0,k1),K0.return=A1,K0._debugOwner=k1._owner,K0._debugInfo=O5,A1=K0;break J}W(A1,_1);break}else G(A1,_1);_1=_1.sibling}k1.type===r4?(K0=W8(k1.props.children,A1.mode,K0,k1.key),K0.return=A1,K0._debugOwner=A1,K0._debugTask=A1._debugTask,K0._debugInfo=O5,gQ(k1,K0,A1),A1=K0):(K0=RZ(k1,A1.mode,K0),yQ(K0,k1),K0.return=A1,K0._debugInfo=O5,A1=K0)}return A1=P(A1),O5=c0,A1;case x4:J:{c0=k1;for(k1=c0.key;_1!==null;){if(_1.key===k1)if(_1.tag===4&&_1.stateNode.containerInfo===c0.containerInfo&&_1.stateNode.implementation===c0.implementation){W(A1,_1.sibling),K0=N(_1,c0.children||[]),K0.return=A1,A1=K0;break J}else{W(A1,_1);break}else G(A1,_1);_1=_1.sibling}K0=K8(c0,A1.mode,K0),K0.return=A1,A1=K0}return P(A1);case i1:return c0=t7(k1._debugInfo),k1=eY(k1),A1=k5(A1,_1,k1,K0),O5=c0,A1}if(J2(k1))return c0=t7(k1._debugInfo),A1=p2(A1,_1,k1,K0),O5=c0,A1;if(E(k1)){if(c0=t7(k1._debugInfo),Z5=E(k1),typeof Z5!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var B2=Z5.call(k1);if(B2===k1){if(A1.tag!==0||Object.prototype.toString.call(A1.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(B2)!=="[object Generator]")lR||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),lR=!0}else k1.entries!==Z5||hV||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),hV=!0);return A1=C4(A1,_1,B2,K0),O5=c0,A1}if(typeof k1.then==="function")return c0=t7(k1._debugInfo),A1=k5(A1,_1,OY(k1),K0),O5=c0,A1;if(k1.$$typeof===f)return k5(A1,_1,xJ(A1,k1),K0);hQ(A1,k1)}if(typeof k1==="string"&&k1!==""||typeof k1==="number"||typeof k1==="bigint")return c0=""+k1,_1!==null&&_1.tag===6?(W(A1,_1.sibling),K0=N(_1,c0),K0.return=A1,A1=K0):(W(A1,_1),K0=CQ(c0,A1.mode,K0),K0.return=A1,K0._debugOwner=A1,K0._debugTask=A1._debugTask,K0._debugInfo=O5,A1=K0),P(A1);return typeof k1==="function"&&zY(A1,k1),typeof k1==="symbol"&&NY(A1,k1),W(A1,_1)}return function(A1,_1,k1,K0){var c0=O5;O5=null;try{aO=0;var Z5=k5(A1,_1,k1,K0);return jq=null,Z5}catch(u4){if(u4===pO||u4===TF)throw u4;var B2=F(29,u4,null,A1.mode);B2.lanes=K0,B2.return=A1;var Q5=B2._debugInfo=O5;if(B2._debugOwner=A1._debugOwner,B2._debugTask=A1._debugTask,Q5!=null){for(var G5=Q5.length-1;0<=G5;G5--)if(typeof Q5[G5].stack==="string"){B2._debugOwner=Q5[G5],B2._debugTask=Q5[G5].debugTask;break}}return B2}finally{O5=c0}}}function g3(X){var G=X.alternate;v(_6,_6.current&wq,X),v(r3,X,X),QQ===null&&(G===null||_q.current!==null?QQ=X:G.memoizedState!==null&&(QQ=X))}function yK(X){if(X.tag===22){if(v(_6,_6.current,X),v(r3,X,X),QQ===null){var G=X.alternate;G!==null&&G.memoizedState!==null&&(QQ=X)}}else T8(X)}function T8(X){v(_6,_6.current,X),v(r3,r3.current,X)}function L8(X){o(r3,X),QQ===X&&(QQ=null),o(_6,X)}function AY(X){for(var G=X;G!==null;){if(G.tag===13){var W=G.memoizedState;if(W!==null&&(W=W.dehydrated,W===null||W.data===qX||lB(W)))return G}else if(G.tag===19&&G.memoizedProps.revealOrder!==void 0){if((G.flags&128)!==0)return G}else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===X)break;for(;G.sibling===null;){if(G.return===null||G.return===X)return null;G=G.return}G.sibling.return=G.return,G=G.sibling}return null}function MY(X){if(X!==null&&typeof X!=="function"){var G=String(X);$C.has(G)||($C.add(G),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",X))}}function v$(X,G,W,U){var N=X.memoizedState,_=W(U,N);if(X.mode&V9){V1(!0);try{_=W(U,N)}finally{V1(!1)}}_===void 0&&(G=k(G)||"Component",QC.has(G)||(QC.add(G),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",G))),N=_===null||_===void 0?N:h0({},N,_),X.memoizedState=N,X.lanes===0&&(X.updateQueue.baseState=N)}function hK(X,G,W,U,N,_,P){var s=X.stateNode;if(typeof s.shouldComponentUpdate==="function"){if(W=s.shouldComponentUpdate(U,_,P),X.mode&V9){V1(!0);try{W=s.shouldComponentUpdate(U,_,P)}finally{V1(!1)}}return W===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",k(G)||"Component"),W}return G.prototype&&G.prototype.isPureReactComponent?!wJ(W,U)||!wJ(N,_):!0}function uQ(X,G,W,U){var N=G.state;typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps(W,U),typeof G.UNSAFE_componentWillReceiveProps==="function"&&G.UNSAFE_componentWillReceiveProps(W,U),G.state!==N&&(X=S(X)||"Component",rR.has(X)||(rR.add(X),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",X)),uV.enqueueReplaceState(G,G.state,null))}function y3(X,G){var W=G;if("ref"in G){W={};for(var U in G)U!=="ref"&&(W[U]=G[U])}if(X=X.defaultProps){W===G&&(W=h0({},W));for(var N in X)W[N]===void 0&&(W[N]=X[N])}return W}function uK(X){dV(X),console.warn(`%s

%s
`,Eq?"An error occurred in the <"+Eq+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function dK(X){var G=Eq?"The above error occurred in the <"+Eq+"> component.":"The above error occurred in one of your React components.",W="React will try to recreate this component tree from scratch using the error boundary you provided, "+((mV||"Anonymous")+".");if(typeof X==="object"&&X!==null&&typeof X.environmentName==="string"){var U=X.environmentName;X=[`%o

%s

%s
`,X,G,W].slice(0),typeof X[0]==="string"?X.splice(0,1,yC+X[0],hC,GA+U+GA,uC):X.splice(0,0,yC,hC,GA+U+GA,uC),X.unshift(console),U=os.apply(console.error,X),U()}else console.error(`%o

%s

%s
`,X,G,W)}function mK(X){dV(X)}function dQ(X,G){try{Eq=G.source?S(G.source):null,mV=null;var W=G.value;if(b1.actQueue!==null)b1.thrownErrors.push(W);else{var U=X.onUncaughtError;U(W,{componentStack:G.stack})}}catch(N){setTimeout(function(){throw N})}}function cK(X,G,W){try{Eq=W.source?S(W.source):null,mV=S(G);var U=X.onCaughtError;U(W.value,{componentStack:W.stack,errorBoundary:G.tag===1?G.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function f$(X,G,W){return W=K4(W),W.tag=bV,W.payload={element:null},W.callback=function(){s1(G.source,dQ,X,G)},W}function S$(X){return X=K4(X),X.tag=bV,X}function _Y(X,G,W,U){var N=W.type.getDerivedStateFromError;if(typeof N==="function"){var _=U.value;X.payload=function(){return N(_)},X.callback=function(){EQ(W),s1(U.source,cK,G,W,U)}}var P=W.stateNode;P!==null&&typeof P.componentDidCatch==="function"&&(X.callback=function(){EQ(W),s1(U.source,cK,G,W,U),typeof N!=="function"&&(XG===null?XG=new Set([this]):XG.add(this)),ks(this,U),typeof N==="function"||(W.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",S(W)||"Unknown")})}function wL(X,G,W,U,N){if(W.flags|=32768,i9&&yJ(X,N),U!==null&&typeof U==="object"&&typeof U.then==="function"){if(G=W.alternate,G!==null&&U8(G,W,N,!0),u5&&($X=!0),W=r3.current,W!==null){switch(W.tag){case 13:return QQ===null?$H():W.alternate===null&&P7===BX&&(P7=iV),W.flags&=-257,W.flags|=65536,W.lanes=N,U===CV?W.flags|=16384:(G=W.updateQueue,G===null?W.updateQueue=new Set([U]):G.add(U),vY(X,U,N)),!1;case 22:return W.flags|=65536,U===CV?W.flags|=16384:(G=W.updateQueue,G===null?(G={transitions:null,markerInstances:null,retryQueue:new Set([U])},W.updateQueue=G):(W=G.retryQueue,W===null?G.retryQueue=new Set([U]):W.add(U)),vY(X,U,N)),!1}throw Error("Unexpected Suspense handler tag ("+W.tag+"). This is a bug in React.")}return vY(X,U,N),$H(),!1}if(u5)return $X=!0,G=r3.current,G!==null?((G.flags&65536)===0&&(G.flags|=256),G.flags|=65536,G.lanes=N,U!==EV&&f3(r7(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:U}),W))):(U!==EV&&f3(r7(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:U}),W)),X=X.current.alternate,X.flags|=65536,N&=-N,X.lanes|=N,U=r7(U,W),N=f$(X.stateNode,U,N),oX(X,N),P7!==uH&&(P7=Cq)),!1;var _=r7(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:U}),W);if(Qz===null?Qz=[_]:Qz.push(_),P7!==uH&&(P7=Cq),G===null)return!0;U=r7(U,W),W=G;do{switch(W.tag){case 3:return W.flags|=65536,X=N&-N,W.lanes|=X,X=f$(W.stateNode,U,X),oX(W,X),!1;case 1:if(G=W.type,_=W.stateNode,(W.flags&128)===0&&(typeof G.getDerivedStateFromError==="function"||_!==null&&typeof _.componentDidCatch==="function"&&(XG===null||!XG.has(_))))return W.flags|=65536,N&=-N,W.lanes|=N,N=S$(N),_Y(N,X,W,U),oX(W,N),!1}W=W.return}while(W!==null);return!1}function e7(X,G,W,U){G.child=X===null?sR(G,null,W,U):Dq(G,X.child,W,U)}function T$(X,G,W,U,N){W=W.render;var _=G.ref;if("ref"in U){var P={};for(var s in U)s!=="ref"&&(P[s]=U[s])}else P=U;if(a6(G),r1(G),U=Y$(X,G,W,P,_,N),s=G$(),h1(),X!==null&&!v6)return ZY(X,G,N),P8(X,G,N);return u5&&s&&CZ(G),G.flags|=1,e7(X,G,U,N),G.child}function pK(X,G,W,U,N){if(X===null){var _=W.type;if(typeof _==="function"&&!xQ(_)&&_.defaultProps===void 0&&W.compare===null)return W=H8(_),G.tag=15,G.type=W,IY(G,_),lK(X,G,W,U,N);return X=RQ(W.type,null,U,G,G.mode,N),X.ref=G.ref,X.return=G,G.child=X}if(_=X.child,!i$(X,N)){var P=_.memoizedProps;if(W=W.compare,W=W!==null?W:wJ,W(P,U)&&X.ref===G.ref)return P8(X,G,N)}return G.flags|=1,X=T9(_,U),X.ref=G.ref,X.return=G,G.child=X}function lK(X,G,W,U,N){if(X!==null){var _=X.memoizedProps;if(wJ(_,U)&&X.ref===G.ref&&G.type===X.type)if(v6=!1,G.pendingProps=U=_,i$(X,N))(X.flags&131072)!==0&&(v6=!0);else return G.lanes=X.lanes,P8(X,G,N)}return g$(X,G,W,U,N)}function iK(X,G,W){var U=G.pendingProps,N=U.children,_=X!==null?X.memoizedState:null;if(U.mode==="hidden"){if((G.flags&128)!==0){if(U=_!==null?_.baseLanes|W:W,X!==null){N=G.child=X.child;for(_=0;N!==null;)_=_|N.lanes|N.childLanes,N=N.sibling;G.childLanes=_&~U}else G.childLanes=0,G.child=null;return P$(X,G,U,W)}if((W&536870912)!==0)G.memoizedState={baseLanes:0,cachePool:null},X!==null&&X1(G,_!==null?_.cachePool:null),_!==null?AK(G,_):X$(G),yK(G);else return G.lanes=G.childLanes=536870912,P$(X,G,_!==null?_.baseLanes|W:W,W)}else _!==null?(X1(G,_.cachePool),AK(G,_),T8(G),G.memoizedState=null):(X!==null&&X1(G,null),X$(G),T8(G));return e7(X,G,N,W),G.child}function P$(X,G,W,U){var N=r();return N=N===null?null:{parent:A6._currentValue,pool:N},G.memoizedState={baseLanes:W,cachePool:N},X!==null&&X1(G,null),X$(G),yK(G),X!==null&&U8(X,G,U,!0),null}function VY(X,G){var W=G.ref;if(W===null)X!==null&&X.ref!==null&&(G.flags|=4194816);else{if(typeof W!=="function"&&typeof W!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(X===null||X.ref!==W)G.flags|=4194816}}function g$(X,G,W,U,N){if(W.prototype&&typeof W.prototype.render==="function"){var _=k(W)||"Unknown";WC[_]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",_,_),WC[_]=!0)}if(G.mode&V9&&dJ.recordLegacyContextWarning(G,null),X===null&&(IY(G,G.type),W.contextTypes&&(_=k(W)||"Unknown",BC[_]||(BC[_]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",_)))),a6(G),r1(G),W=Y$(X,G,W,U,void 0,N),U=G$(),h1(),X!==null&&!v6)return ZY(X,G,N),P8(X,G,N);return u5&&U&&CZ(G),G.flags|=1,e7(X,G,W,N),G.child}function y$(X,G,W,U,N,_){if(a6(G),r1(G),WX=-1,nO=X!==null&&X.type!==G.type,G.updateQueue=null,W=JY(G,U,W,N),MK(X,G),U=G$(),h1(),X!==null&&!v6)return ZY(X,G,_),P8(X,G,_);return u5&&U&&CZ(G),G.flags|=1,e7(X,G,W,_),G.child}function nK(X,G,W,U,N){switch(K(G)){case!1:var _=G.stateNode,P=new G.type(G.memoizedProps,_.context).state;_.updater.enqueueSetState(_,P,null);break;case!0:G.flags|=128,G.flags|=65536,_=Error("Simulated error coming from DevTools");var s=N&-N;if(G.lanes|=s,P=R4,P===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");s=S$(s),_Y(s,P,G,r7(_,G)),oX(G,s)}if(a6(G),G.stateNode===null){if(P=oY,_=W.contextType,"contextType"in W&&_!==null&&(_===void 0||_.$$typeof!==f)&&!GC.has(W)&&(GC.add(W),s=_===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof _!=="object"?" However, it is set to a "+typeof _+".":_.$$typeof===RH?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(_).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",k(W)||"Component",s)),typeof _==="object"&&_!==null&&(P=s5(_)),_=new W(U,P),G.mode&V9){V1(!0);try{_=new W(U,P)}finally{V1(!1)}}if(P=G.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=uV,G.stateNode=_,_._reactInternals=G,_._reactInternalInstance=oR,typeof W.getDerivedStateFromProps==="function"&&P===null&&(P=k(W)||"Component",tR.has(P)||(tR.add(P),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",P,_.state===null?"null":"undefined",P))),typeof W.getDerivedStateFromProps==="function"||typeof _.getSnapshotBeforeUpdate==="function"){var W1=s=P=null;if(typeof _.componentWillMount==="function"&&_.componentWillMount.__suppressDeprecationWarning!==!0?P="componentWillMount":typeof _.UNSAFE_componentWillMount==="function"&&(P="UNSAFE_componentWillMount"),typeof _.componentWillReceiveProps==="function"&&_.componentWillReceiveProps.__suppressDeprecationWarning!==!0?s="componentWillReceiveProps":typeof _.UNSAFE_componentWillReceiveProps==="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof _.componentWillUpdate==="function"&&_.componentWillUpdate.__suppressDeprecationWarning!==!0?W1="componentWillUpdate":typeof _.UNSAFE_componentWillUpdate==="function"&&(W1="UNSAFE_componentWillUpdate"),P!==null||s!==null||W1!==null){_=k(W)||"Component";var U1=typeof W.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";JC.has(_)||(JC.add(_),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,_,U1,P!==null?`
  `+P:"",s!==null?`
  `+s:"",W1!==null?`
  `+W1:""))}}_=G.stateNode,P=k(W)||"Component",_.render||(W.prototype&&typeof W.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",P):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",P)),!_.getInitialState||_.getInitialState.isReactClassApproved||_.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",P),_.getDefaultProps&&!_.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",P),_.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",P),W.childContextTypes&&!YC.has(W)&&(YC.add(W),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",P)),W.contextTypes&&!XC.has(W)&&(XC.add(W),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",P)),typeof _.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",P),W.prototype&&W.prototype.isPureReactComponent&&typeof _.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",k(W)||"A pure component"),typeof _.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",P),typeof _.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",P),typeof _.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",P),typeof _.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",P),s=_.props!==U,_.props!==void 0&&s&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",P),_.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",P,P),typeof _.getSnapshotBeforeUpdate!=="function"||typeof _.componentDidUpdate==="function"||eR.has(W)||(eR.add(W),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",k(W))),typeof _.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",P),typeof _.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",P),typeof W.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",P),(s=_.state)&&(typeof s!=="object"||J2(s))&&console.error("%s.state: must be set to an object or null",P),typeof _.getChildContext==="function"&&typeof W.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",P),_=G.stateNode,_.props=U,_.state=G.memoizedState,_.refs={},H5(G),P=W.contextType,_.context=typeof P==="object"&&P!==null?s5(P):oY,_.state===U&&(P=k(W)||"Component",ZC.has(P)||(ZC.add(P),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",P))),G.mode&V9&&dJ.recordLegacyContextWarning(G,_),dJ.recordUnsafeLifecycleWarnings(G,_),_.state=G.memoizedState,P=W.getDerivedStateFromProps,typeof P==="function"&&(v$(G,W,P,U),_.state=G.memoizedState),typeof W.getDerivedStateFromProps==="function"||typeof _.getSnapshotBeforeUpdate==="function"||typeof _.UNSAFE_componentWillMount!=="function"&&typeof _.componentWillMount!=="function"||(P=_.state,typeof _.componentWillMount==="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount==="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",S(G)||"Component"),uV.enqueueReplaceState(_,_.state,null)),gZ(G,U,_,N),SQ(),_.state=G.memoizedState),typeof _.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&uJ)!==h4&&(G.flags|=134217728),_=!0}else if(X===null){_=G.stateNode;var l1=G.memoizedProps;s=y3(W,l1),_.props=s;var Y0=_.context;W1=W.contextType,P=oY,typeof W1==="object"&&W1!==null&&(P=s5(W1)),U1=W.getDerivedStateFromProps,W1=typeof U1==="function"||typeof _.getSnapshotBeforeUpdate==="function",l1=G.pendingProps!==l1,W1||typeof _.UNSAFE_componentWillReceiveProps!=="function"&&typeof _.componentWillReceiveProps!=="function"||(l1||Y0!==P)&&uQ(G,_,U,P),rY=!1;var c1=G.memoizedState;_.state=c1,gZ(G,U,_,N),SQ(),Y0=G.memoizedState,l1||c1!==Y0||rY?(typeof U1==="function"&&(v$(G,W,U1,U),Y0=G.memoizedState),(s=rY||hK(G,W,s,U,c1,Y0,P))?(W1||typeof _.UNSAFE_componentWillMount!=="function"&&typeof _.componentWillMount!=="function"||(typeof _.componentWillMount==="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount==="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&uJ)!==h4&&(G.flags|=134217728)):(typeof _.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&uJ)!==h4&&(G.flags|=134217728),G.memoizedProps=U,G.memoizedState=Y0),_.props=U,_.state=Y0,_.context=P,_=s):(typeof _.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&uJ)!==h4&&(G.flags|=134217728),_=!1)}else{_=G.stateNode,_5(X,G),P=G.memoizedProps,W1=y3(W,P),_.props=W1,U1=G.pendingProps,c1=_.context,Y0=W.contextType,s=oY,typeof Y0==="object"&&Y0!==null&&(s=s5(Y0)),l1=W.getDerivedStateFromProps,(Y0=typeof l1==="function"||typeof _.getSnapshotBeforeUpdate==="function")||typeof _.UNSAFE_componentWillReceiveProps!=="function"&&typeof _.componentWillReceiveProps!=="function"||(P!==U1||c1!==s)&&uQ(G,_,U,s),rY=!1,c1=G.memoizedState,_.state=c1,gZ(G,U,_,N),SQ();var W0=G.memoizedState;P!==U1||c1!==W0||rY||X!==null&&X.dependencies!==null&&z6(X.dependencies)?(typeof l1==="function"&&(v$(G,W,l1,U),W0=G.memoizedState),(W1=rY||hK(G,W,W1,U,c1,W0,s)||X!==null&&X.dependencies!==null&&z6(X.dependencies))?(Y0||typeof _.UNSAFE_componentWillUpdate!=="function"&&typeof _.componentWillUpdate!=="function"||(typeof _.componentWillUpdate==="function"&&_.componentWillUpdate(U,W0,s),typeof _.UNSAFE_componentWillUpdate==="function"&&_.UNSAFE_componentWillUpdate(U,W0,s)),typeof _.componentDidUpdate==="function"&&(G.flags|=4),typeof _.getSnapshotBeforeUpdate==="function"&&(G.flags|=1024)):(typeof _.componentDidUpdate!=="function"||P===X.memoizedProps&&c1===X.memoizedState||(G.flags|=4),typeof _.getSnapshotBeforeUpdate!=="function"||P===X.memoizedProps&&c1===X.memoizedState||(G.flags|=1024),G.memoizedProps=U,G.memoizedState=W0),_.props=U,_.state=W0,_.context=s,_=W1):(typeof _.componentDidUpdate!=="function"||P===X.memoizedProps&&c1===X.memoizedState||(G.flags|=4),typeof _.getSnapshotBeforeUpdate!=="function"||P===X.memoizedProps&&c1===X.memoizedState||(G.flags|=1024),_=!1)}if(s=_,VY(X,G),P=(G.flags&128)!==0,s||P){if(s=G.stateNode,d2(G),P&&typeof W.getDerivedStateFromError!=="function")W=null,V8=-1;else{if(r1(G),W=TR(s),G.mode&V9){V1(!0);try{TR(s)}finally{V1(!1)}}h1()}G.flags|=1,X!==null&&P?(G.child=Dq(G,X.child,null,N),G.child=Dq(G,null,W,N)):e7(X,G,W,N),G.memoizedState=s.state,X=G.child}else X=P8(X,G,N);return N=G.stateNode,_&&N.props!==U&&(kq||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",S(G)||"a component"),kq=!0),X}function aK(X,G,W,U){return v3(),G.flags|=256,e7(X,G,W,U),G.child}function IY(X,G){G&&G.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,G.displayName||G.name||"Component"),typeof G.getDerivedStateFromProps==="function"&&(X=k(G)||"Unknown",qC[X]||(console.error("%s: Function components do not support getDerivedStateFromProps.",X),qC[X]=!0)),typeof G.contextType==="object"&&G.contextType!==null&&(G=k(G)||"Unknown",KC[G]||(console.error("%s: Function components do not support contextType.",G),KC[G]=!0))}function h$(X){return{baseLanes:X,cachePool:B1()}}function u$(X,G,W){return X=X!==null?X.childLanes&~W:0,G&&(X|=i8),X}function jY(X,G,W){var U,N=G.pendingProps;H(G)&&(G.flags|=128);var _=!1,P=(G.flags&128)!==0;if((U=P)||(U=X!==null&&X.memoizedState===null?!1:(_6.current&sO)!==0),U&&(_=!0,G.flags&=-129),U=(G.flags&32)!==0,G.flags&=-33,X===null){if(u5){if(_?g3(G):T8(G),u5){var s=T7,W1;if(!(W1=!s)){J:{var U1=s;for(W1=JQ;U1.nodeType!==8;){if(!W1){W1=null;break J}if(U1=A9(U1.nextSibling),U1===null){W1=null;break J}}W1=U1}W1!==null?(P9(),G.memoizedState={dehydrated:W1,treeContext:fH!==null?{id:YX,overflow:GX}:null,retryLane:536870912,hydrationErrors:null},U1=F(18,null,null,h4),U1.stateNode=W1,U1.return=G,G.child=U1,o9=G,T7=null,W1=!0):W1=!1,W1=!W1}W1&&(bZ(G,s),v8(G))}if(s=G.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return lB(s)?G.lanes=32:G.lanes=536870912,null;L8(G)}if(s=N.children,N=N.fallback,_)return T8(G),_=G.mode,s=DY({mode:"hidden",children:s},_),N=W8(N,_,W,null),s.return=G,N.return=G,s.sibling=N,G.child=s,_=G.child,_.memoizedState=h$(W),_.childLanes=u$(X,U,W),G.memoizedState=pV,N;return g3(G),d$(G,s)}var l1=X.memoizedState;if(l1!==null&&(s=l1.dehydrated,s!==null)){if(P)G.flags&256?(g3(G),G.flags&=-257,G=m$(X,G,W)):G.memoizedState!==null?(T8(G),G.child=X.child,G.flags|=128,G=null):(T8(G),_=N.fallback,s=G.mode,N=DY({mode:"visible",children:N.children},s),_=W8(_,s,W,null),_.flags|=2,N.return=G,_.return=G,N.sibling=_,G.child=N,Dq(G,X.child,null,W),N=G.child,N.memoizedState=h$(W),N.childLanes=u$(X,U,W),G.memoizedState=pV,G=_);else if(g3(G),u5&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),lB(s)){if(U=s.nextSibling&&s.nextSibling.dataset,U){W1=U.dgst;var Y0=U.msg;U1=U.stck;var c1=U.cstck}s=Y0,U=W1,N=U1,W1=_=c1,_=s?Error(s):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),_.stack=N||"",_.digest=U,U=W1===void 0?null:W1,N={value:_,source:null,stack:U},typeof U==="string"&&DV.set(_,N),f3(N),G=m$(X,G,W)}else if(v6||U8(X,G,W,!1),U=(W&X.childLanes)!==0,v6||U){if(U=R4,U!==null&&(N=W&-W,N=(N&42)!==0?1:H0(N),N=(N&(U.suspendedLanes|W))!==0?0:N,N!==0&&N!==l1.retryLane))throw l1.retryLane=N,b7(X,N),k4(U,X,N),HC;s.data===qX||$H(),G=m$(X,G,W)}else s.data===qX?(G.flags|=192,G.child=X.child,G=null):(X=l1.treeContext,T7=A9(s.nextSibling),o9=G,u5=!0,SH=null,$X=!1,n3=null,JQ=!1,X!==null&&(P9(),l3[i3++]=YX,l3[i3++]=GX,l3[i3++]=fH,YX=X.id,GX=X.overflow,fH=G),G=d$(G,N.children),G.flags|=4096);return G}if(_)return T8(G),_=N.fallback,s=G.mode,W1=X.child,U1=W1.sibling,N=T9(W1,{mode:"hidden",children:N.children}),N.subtreeFlags=W1.subtreeFlags&65011712,U1!==null?_=T9(U1,_):(_=W8(_,s,W,null),_.flags|=2),_.return=G,N.return=G,N.sibling=_,G.child=N,N=_,_=G.child,s=X.child.memoizedState,s===null?s=h$(W):(W1=s.cachePool,W1!==null?(U1=A6._currentValue,W1=W1.parent!==U1?{parent:U1,pool:U1}:W1):W1=B1(),s={baseLanes:s.baseLanes|W,cachePool:W1}),_.memoizedState=s,_.childLanes=u$(X,U,W),G.memoizedState=pV,N;return g3(G),W=X.child,X=W.sibling,W=T9(W,{mode:"visible",children:N.children}),W.return=G,W.sibling=null,X!==null&&(U=G.deletions,U===null?(G.deletions=[X],G.flags|=16):U.push(X)),G.child=W,G.memoizedState=null,W}function d$(X,G){return G=DY({mode:"visible",children:G},X.mode),G.return=X,X.child=G}function DY(X,G){return X=F(22,X,null,G),X.lanes=0,X.stateNode={_visibility:kF,_pendingMarkers:null,_retryCache:null,_transitions:null},X}function m$(X,G,W){return Dq(G,X.child,null,W),X=d$(G,G.pendingProps.children),X.flags|=2,G.memoizedState=null,X}function c$(X,G,W){X.lanes|=G;var U=X.alternate;U!==null&&(U.lanes|=G),fZ(X.return,G,W)}function sK(X,G){var W=J2(X);return X=!W&&typeof E(X)==="function",W||X?(W=W?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",W,G,W),!1):!0}function p$(X,G,W,U,N){var _=X.memoizedState;_===null?X.memoizedState={isBackwards:G,rendering:null,renderingStartTime:0,last:U,tail:W,tailMode:N}:(_.isBackwards=G,_.rendering=null,_.renderingStartTime=0,_.last=U,_.tail=W,_.tailMode=N)}function l$(X,G,W){var U=G.pendingProps,N=U.revealOrder,_=U.tail;if(U=U.children,N!==void 0&&N!=="forwards"&&N!=="backwards"&&N!=="together"&&!UC[N])if(UC[N]=!0,typeof N==="string")switch(N.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',N,N.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',N,N.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',N)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',N);_===void 0||cV[_]||(_!=="collapsed"&&_!=="hidden"?(cV[_]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',_)):N!=="forwards"&&N!=="backwards"&&(cV[_]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',_)));J:if((N==="forwards"||N==="backwards")&&U!==void 0&&U!==null&&U!==!1)if(J2(U)){for(var P=0;P<U.length;P++)if(!sK(U[P],P))break J}else if(P=E(U),typeof P==="function"){if(P=P.call(U))for(var s=P.next(),W1=0;!s.done;s=P.next()){if(!sK(s.value,W1))break J;W1++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',N);if(e7(X,G,U,W),U=_6.current,(U&sO)!==0)U=U&wq|sO,G.flags|=128;else{if(X!==null&&(X.flags&128)!==0)J:for(X=G.child;X!==null;){if(X.tag===13)X.memoizedState!==null&&c$(X,W,G);else if(X.tag===19)c$(X,W,G);else if(X.child!==null){X.child.return=X,X=X.child;continue}if(X===G)break J;for(;X.sibling===null;){if(X.return===null||X.return===G)break J;X=X.return}X.sibling.return=X.return,X=X.sibling}U&=wq}switch(v(_6,U,G),N){case"forwards":W=G.child;for(N=null;W!==null;)X=W.alternate,X!==null&&AY(X)===null&&(N=W),W=W.sibling;W=N,W===null?(N=G.child,G.child=null):(N=W.sibling,W.sibling=null),p$(G,!1,N,W,_);break;case"backwards":W=null,N=G.child;for(G.child=null;N!==null;){if(X=N.alternate,X!==null&&AY(X)===null){G.child=N;break}X=N.sibling,N.sibling=W,W=N,N=X}p$(G,!0,W,null,_);break;case"together":p$(G,!1,null,null,void 0);break;default:G.memoizedState=null}return G.child}function P8(X,G,W){if(X!==null&&(G.dependencies=X.dependencies),V8=-1,ZG|=G.lanes,(W&G.childLanes)===0)if(X!==null){if(U8(X,G,W,!1),(W&G.childLanes)===0)return null}else return null;if(X!==null&&G.child!==X.child)throw Error("Resuming work not yet implemented.");if(G.child!==null){X=G.child,W=T9(X,X.pendingProps),G.child=W;for(W.return=G;X.sibling!==null;)X=X.sibling,W=W.sibling=T9(X,X.pendingProps),W.return=G;W.sibling=null}return G.child}function i$(X,G){if((X.lanes&G)!==0)return!0;return X=X.dependencies,X!==null&&z6(X)?!0:!1}function EL(X,G,W){switch(G.tag){case 3:i(G,G.stateNode.containerInfo),X2(G,A6,X.memoizedState.cache),v3();break;case 27:case 5:t(G);break;case 4:i(G,G.stateNode.containerInfo);break;case 10:X2(G,G.type,G.memoizedProps.value);break;case 12:(W&G.childLanes)!==0&&(G.flags|=4),G.flags|=2048;var U=G.stateNode;U.effectDuration=-0,U.passiveEffectDuration=-0;break;case 13:if(U=G.memoizedState,U!==null){if(U.dehydrated!==null)return g3(G),G.flags|=128,null;if((W&G.child.childLanes)!==0)return jY(X,G,W);return g3(G),X=P8(X,G,W),X!==null?X.sibling:null}g3(G);break;case 19:var N=(X.flags&128)!==0;if(U=(W&G.childLanes)!==0,U||(U8(X,G,W,!1),U=(W&G.childLanes)!==0),N){if(U)return l$(X,G,W);G.flags|=128}if(N=G.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),v(_6,_6.current,G),U)break;else return null;case 22:case 23:return G.lanes=0,iK(X,G,W);case 24:X2(G,A6,X.memoizedState.cache)}return P8(X,G,W)}function n$(X,G,W){if(G._debugNeedsRemount&&X!==null){W=RQ(G.type,G.key,G.pendingProps,G._debugOwner||null,G.mode,G.lanes),W._debugStack=G._debugStack,W._debugTask=G._debugTask;var U=G.return;if(U===null)throw Error("Cannot swap the root fiber.");if(X.alternate=null,G.alternate=null,W.index=G.index,W.sibling=G.sibling,W.return=G.return,W.ref=G.ref,W._debugInfo=G._debugInfo,G===U.child)U.child=W;else{var N=U.child;if(N===null)throw Error("Expected parent to have a child.");for(;N.sibling!==G;)if(N=N.sibling,N===null)throw Error("Expected to find the previous sibling.");N.sibling=W}return G=U.deletions,G===null?(U.deletions=[X],U.flags|=16):G.push(X),W.flags|=2,W}if(X!==null)if(X.memoizedProps!==G.pendingProps||G.type!==X.type)v6=!0;else{if(!i$(X,W)&&(G.flags&128)===0)return v6=!1,EL(X,G,W);v6=(X.flags&131072)!==0?!0:!1}else{if(v6=!1,U=u5)P9(),U=(G.flags&1048576)!==0;U&&(U=G.index,P9(),bQ(G,RF,U))}switch(G.lanes=0,G.tag){case 16:J:if(U=G.pendingProps,X=eY(G.elementType),G.type=X,typeof X==="function")xQ(X)?(U=y3(X,U),G.tag=1,G.type=X=H8(X),G=nK(null,G,X,U,W)):(G.tag=0,IY(G,X),G.type=X=H8(X),G=g$(null,G,X,U,W));else{if(X!==void 0&&X!==null){if(N=X.$$typeof,N===H1){G.tag=11,G.type=X=xZ(X),G=T$(null,G,X,U,W);break J}else if(N===n1){G.tag=14,G=pK(null,G,X,U,W);break J}}throw G="",X!==null&&typeof X==="object"&&X.$$typeof===i1&&(G=" Did you wrap a component in React.lazy() more than once?"),X=k(X)||X,Error("Element type is invalid. Received a promise that resolves to: "+X+". Lazy element type must resolve to a class or function."+G)}return G;case 0:return g$(X,G,G.type,G.pendingProps,W);case 1:return U=G.type,N=y3(U,G.pendingProps),nK(X,G,U,N,W);case 3:J:{if(i(G,G.stateNode.containerInfo),X===null)throw Error("Should have a current fiber. This is a bug in React.");U=G.pendingProps;var _=G.memoizedState;N=_.element,_5(X,G),gZ(G,U,null,W);var P=G.memoizedState;if(U=P.cache,X2(G,A6,U),U!==_.cache&&kJ(G,[A6],W,!0),SQ(),U=P.element,_.isDehydrated)if(_={element:U,isDehydrated:!1,cache:P.cache},G.updateQueue.baseState=_,G.memoizedState=_,G.flags&256){G=aK(X,G,U,W);break J}else if(U!==N){N=r7(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),G),f3(N),G=aK(X,G,U,W);break J}else{switch(X=G.stateNode.containerInfo,X.nodeType){case 9:X=X.body;break;default:X=X.nodeName==="HTML"?X.ownerDocument.body:X}T7=A9(X.firstChild),o9=G,u5=!0,SH=null,$X=!1,n3=null,JQ=!0,X=sR(G,null,U,W);for(G.child=X;X;)X.flags=X.flags&-3|4096,X=X.sibling}else{if(v3(),U===N){G=P8(X,G,W);break J}e7(X,G,U,W)}G=G.child}return G;case 26:return VY(X,G),X===null?(X=tQ(G.type,null,G.pendingProps,null))?G.memoizedState=X:u5||(X=G.type,W=G.pendingProps,U=y(G7.current),U=dY(U).createElement(X),U[b6]=G,U[M9]=W,f7(U,X,W),Z0(U),G.stateNode=U):G.memoizedState=tQ(G.type,X.memoizedProps,G.pendingProps,X.memoizedState),null;case 27:return t(G),X===null&&u5&&(U=y(G7.current),N=l(),U=G.stateNode=$O(G.type,G.pendingProps,U,N,!1),$X||(N=dB(U,G.type,G.pendingProps,N),N!==null&&(q8(G,0).serverProps=N)),o9=G,JQ=!0,N=T7,d3(G.type)?(LI=N,T7=A9(U.firstChild)):T7=N),e7(X,G,G.pendingProps.children,W),VY(X,G),X===null&&(G.flags|=4194304),G.child;case 5:return X===null&&u5&&(_=l(),U=e1(G.type,_.ancestorInfo),N=T7,(P=!N)||(P=YF(N,G.type,G.pendingProps,JQ),P!==null?(G.stateNode=P,$X||(_=dB(P,G.type,G.pendingProps,_),_!==null&&(q8(G,0).serverProps=_)),o9=G,T7=A9(P.firstChild),JQ=!1,_=!0):_=!1,P=!_),P&&(U&&bZ(G,N),v8(G))),t(G),N=G.type,_=G.pendingProps,P=X!==null?X.memoizedProps:null,U=_.children,rQ(N,_)?U=null:P!==null&&rQ(N,P)&&(G.flags|=32),G.memoizedState!==null&&(N=Y$(X,G,VL,null,null,W),Bz._currentValue=N),VY(X,G),e7(X,G,U,W),G.child;case 6:return X===null&&u5&&(X=G.pendingProps,W=l(),U=W.ancestorInfo.current,X=U!=null?v0(X,U.tag,W.ancestorInfo.implicitRootScope):!0,W=T7,(U=!W)||(U=GF(W,G.pendingProps,JQ),U!==null?(G.stateNode=U,o9=G,T7=null,U=!0):U=!1,U=!U),U&&(X&&bZ(G,W),v8(G))),null;case 13:return jY(X,G,W);case 4:return i(G,G.stateNode.containerInfo),U=G.pendingProps,X===null?G.child=Dq(G,null,U,W):e7(X,G,U,W),G.child;case 11:return T$(X,G,G.type,G.pendingProps,W);case 7:return e7(X,G,G.pendingProps,W),G.child;case 8:return e7(X,G,G.pendingProps.children,W),G.child;case 12:return G.flags|=4,G.flags|=2048,U=G.stateNode,U.effectDuration=-0,U.passiveEffectDuration=-0,e7(X,G,G.pendingProps.children,W),G.child;case 10:return U=G.type,N=G.pendingProps,_=N.value,"value"in N||LC||(LC=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),X2(G,U,_),e7(X,G,N.children,W),G.child;case 9:return N=G.type._context,U=G.pendingProps.children,typeof U!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),a6(G),N=s5(N),r1(G),U=gV(U,N,void 0),h1(),G.flags|=1,e7(X,G,U,W),G.child;case 14:return pK(X,G,G.type,G.pendingProps,W);case 15:return lK(X,G,G.type,G.pendingProps,W);case 19:return l$(X,G,W);case 31:return U=G.pendingProps,W=G.mode,U={mode:U.mode,children:U.children},X===null?(X=DY(U,W),X.ref=G.ref,G.child=X,X.return=G,G=X):(X=T9(X.child,U),X.ref=G.ref,G.child=X,X.return=G,G=X),G;case 22:return iK(X,G,W);case 24:return a6(G),U=s5(A6),X===null?(N=r(),N===null&&(N=R4,_=TZ(),N.pooledCache=_,h9(_),_!==null&&(N.pooledCacheLanes|=W),N=_),G.memoizedState={parent:U,cache:N},H5(G),X2(G,A6,N)):((X.lanes&W)!==0&&(_5(X,G),gZ(G,null,null,W),SQ()),N=X.memoizedState,_=G.memoizedState,N.parent!==U?(N={parent:U,cache:U},G.memoizedState=N,G.lanes===0&&(G.memoizedState=G.updateQueue.baseState=N),X2(G,A6,U)):(U=_.cache,X2(G,A6,U),U!==N.cache&&kJ(G,[A6],W,!0))),e7(X,G,G.pendingProps.children,W),G.child;case 29:throw G.pendingProps}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function m9(X){X.flags|=4}function oK(X,G){if(G.type!=="stylesheet"||(G.state.loading&t3)!==sH)X.flags&=-16777217;else if(X.flags|=16777216,!UO(G)){if(G=r3.current,G!==null&&((V5&4194048)===V5?QQ!==null:(V5&62914560)!==V5&&(V5&536870912)===0||G!==QQ))throw lO=CV,jR;X.flags|=8192}}function wY(X,G){G!==null&&(X.flags|=4),X.flags&16384&&(G=X.tag!==22?y1():536870912,X.lanes|=G,cH|=G)}function mQ(X,G){if(!u5)switch(X.tailMode){case"hidden":G=X.tail;for(var W=null;G!==null;)G.alternate!==null&&(W=G),G=G.sibling;W===null?X.tail=null:W.sibling=null;break;case"collapsed":W=X.tail;for(var U=null;W!==null;)W.alternate!==null&&(U=W),W=W.sibling;U===null?G||X.tail===null?X.tail=null:X.tail.sibling=null:U.sibling=null}}function M4(X){var G=X.alternate!==null&&X.alternate.child===X.child,W=0,U=0;if(G)if((X.mode&Z9)!==h4){for(var{selfBaseDuration:N,child:_}=X;_!==null;)W|=_.lanes|_.childLanes,U|=_.subtreeFlags&65011712,U|=_.flags&65011712,N+=_.treeBaseDuration,_=_.sibling;X.treeBaseDuration=N}else for(N=X.child;N!==null;)W|=N.lanes|N.childLanes,U|=N.subtreeFlags&65011712,U|=N.flags&65011712,N.return=X,N=N.sibling;else if((X.mode&Z9)!==h4){N=X.actualDuration,_=X.selfBaseDuration;for(var P=X.child;P!==null;)W|=P.lanes|P.childLanes,U|=P.subtreeFlags,U|=P.flags,N+=P.actualDuration,_+=P.treeBaseDuration,P=P.sibling;X.actualDuration=N,X.treeBaseDuration=_}else for(N=X.child;N!==null;)W|=N.lanes|N.childLanes,U|=N.subtreeFlags,U|=N.flags,N.return=X,N=N.sibling;return X.subtreeFlags|=U,X.childLanes=W,G}function kL(X,G,W){var U=G.pendingProps;switch(B8(G),G.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return M4(G),null;case 1:return M4(G),null;case 3:if(W=G.stateNode,U=null,X!==null&&(U=X.memoizedState.cache),G.memoizedState.cache!==U&&(G.flags|=2048),y9(A6,G),p(G),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),X===null||X.child===null)b3(G)?(fQ(),m9(G)):X===null||X.memoizedState.isDehydrated&&(G.flags&256)===0||(G.flags|=1024,aX());return M4(G),null;case 26:return W=G.memoizedState,X===null?(m9(G),W!==null?(M4(G),oK(G,W)):(M4(G),G.flags&=-16777217)):W?W!==X.memoizedState?(m9(G),M4(G),oK(G,W)):(M4(G),G.flags&=-16777217):(X.memoizedProps!==U&&m9(G),M4(G),G.flags&=-16777217),null;case 27:Q1(G),W=y(G7.current);var N=G.type;if(X!==null&&G.stateNode!=null)X.memoizedProps!==U&&m9(G);else{if(!U){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return M4(G),null}X=l(),b3(G)?vQ(G,X):(X=$O(N,U,W,X,!0),G.stateNode=X,m9(G))}return M4(G),null;case 5:if(Q1(G),W=G.type,X!==null&&G.stateNode!=null)X.memoizedProps!==U&&m9(G);else{if(!U){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return M4(G),null}if(N=l(),b3(G))vQ(G,N);else{switch(X=y(G7.current),e1(W,N.ancestorInfo),N=N.context,X=dY(X),N){case Pq:X=X.createElementNS(Gq,W);break;case QA:X=X.createElementNS(IF,W);break;default:switch(W){case"svg":X=X.createElementNS(Gq,W);break;case"math":X=X.createElementNS(IF,W);break;case"script":X=X.createElement("div"),X.innerHTML="<script></script>",X=X.removeChild(X.firstChild);break;case"select":X=typeof U.is==="string"?X.createElement("select",{is:U.is}):X.createElement("select"),U.multiple?X.multiple=!0:U.size&&(X.size=U.size);break;default:X=typeof U.is==="string"?X.createElement(W,{is:U.is}):X.createElement(W),W.indexOf("-")===-1&&(W!==W.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",W),Object.prototype.toString.call(X)!=="[object HTMLUnknownElement]"||v5.call(vC,W)||(vC[W]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",W)))}}X[b6]=G,X[M9]=U;J:for(N=G.child;N!==null;){if(N.tag===5||N.tag===6)X.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===G)break J;for(;N.sibling===null;){if(N.return===null||N.return===G)break J;N=N.return}N.sibling.return=N.return,N=N.sibling}G.stateNode=X;J:switch(f7(X,W,U),W){case"button":case"input":case"select":case"textarea":X=!!U.autoFocus;break J;case"img":X=!0;break J;default:X=!1}X&&m9(G)}}return M4(G),G.flags&=-16777217,null;case 6:if(X&&G.stateNode!=null)X.memoizedProps!==U&&m9(G);else{if(typeof U!=="string"&&G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(X=y(G7.current),W=l(),b3(G)){X=G.stateNode,W=G.memoizedProps,N=!$X,U=null;var _=o9;if(_!==null)switch(_.tag){case 3:N&&(N=HF(X,W,U),N!==null&&(q8(G,0).serverProps=N));break;case 27:case 5:U=_.memoizedProps,N&&(N=HF(X,W,U),N!==null&&(q8(G,0).serverProps=N))}X[b6]=G,X=X.nodeValue===W||U!==null&&U.suppressHydrationWarning===!0||PB(X.nodeValue,W)?!0:!1,X||v8(G)}else N=W.ancestorInfo.current,N!=null&&v0(U,N.tag,W.ancestorInfo.implicitRootScope),X=dY(X).createTextNode(U),X[b6]=G,G.stateNode=X}return M4(G),null;case 13:if(U=G.memoizedState,X===null||X.memoizedState!==null&&X.memoizedState.dehydrated!==null){if(N=b3(G),U!==null&&U.dehydrated!==null){if(X===null){if(!N)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(N=G.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");N[b6]=G,M4(G),(G.mode&Z9)!==h4&&U!==null&&(N=G.child,N!==null&&(G.treeBaseDuration-=N.treeBaseDuration))}else fQ(),v3(),(G.flags&128)===0&&(G.memoizedState=null),G.flags|=4,M4(G),(G.mode&Z9)!==h4&&U!==null&&(N=G.child,N!==null&&(G.treeBaseDuration-=N.treeBaseDuration));N=!1}else N=aX(),X!==null&&X.memoizedState!==null&&(X.memoizedState.hydrationErrors=N),N=!0;if(!N){if(G.flags&256)return L8(G),G;return L8(G),null}}if(L8(G),(G.flags&128)!==0)return G.lanes=W,(G.mode&Z9)!==h4&&S3(G),G;return W=U!==null,X=X!==null&&X.memoizedState!==null,W&&(U=G.child,N=null,U.alternate!==null&&U.alternate.memoizedState!==null&&U.alternate.memoizedState.cachePool!==null&&(N=U.alternate.memoizedState.cachePool.pool),_=null,U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(_=U.memoizedState.cachePool.pool),_!==N&&(U.flags|=2048)),W!==X&&W&&(G.child.flags|=8192),wY(G,G.updateQueue),M4(G),(G.mode&Z9)!==h4&&W&&(X=G.child,X!==null&&(G.treeBaseDuration-=X.treeBaseDuration)),null;case 4:return p(G),X===null&&AH(G.stateNode.containerInfo),M4(G),null;case 10:return y9(G.type,G),M4(G),null;case 19:if(o(_6,G),N=G.memoizedState,N===null)return M4(G),null;if(U=(G.flags&128)!==0,_=N.rendering,_===null)if(U)mQ(N,!1);else{if(P7!==BX||X!==null&&(X.flags&128)!==0)for(X=G.child;X!==null;){if(_=AY(X),_!==null){G.flags|=128,mQ(N,!1),X=_.updateQueue,G.updateQueue=X,wY(G,X),G.subtreeFlags=0,X=W;for(W=G.child;W!==null;)nX(W,X),W=W.sibling;return v(_6,_6.current&wq|sO,G),G.child}X=X.sibling}N.tail!==null&&_4()>pF&&(G.flags|=128,U=!0,mQ(N,!1),G.lanes=4194304)}else{if(!U)if(X=AY(_),X!==null){if(G.flags|=128,U=!0,X=X.updateQueue,G.updateQueue=X,wY(G,X),mQ(N,!0),N.tail===null&&N.tailMode==="hidden"&&!_.alternate&&!u5)return M4(G),null}else 2*_4()-N.renderingStartTime>pF&&W!==536870912&&(G.flags|=128,U=!0,mQ(N,!1),G.lanes=4194304);N.isBackwards?(_.sibling=G.child,G.child=_):(X=N.last,X!==null?X.sibling=_:G.child=_,N.last=_)}if(N.tail!==null)return X=N.tail,N.rendering=X,N.tail=X.sibling,N.renderingStartTime=_4(),X.sibling=null,W=_6.current,W=U?W&wq|sO:W&wq,v(_6,W,G),X;return M4(G),null;case 22:case 23:return L8(G),rX(G),U=G.memoizedState!==null,X!==null?X.memoizedState!==null!==U&&(G.flags|=8192):U&&(G.flags|=8192),U?(W&536870912)!==0&&(G.flags&128)===0&&(M4(G),G.subtreeFlags&6&&(G.flags|=8192)):M4(G),W=G.updateQueue,W!==null&&wY(G,W.retryQueue),W=null,X!==null&&X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(W=X.memoizedState.cachePool.pool),U=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(U=G.memoizedState.cachePool.pool),U!==W&&(G.flags|=2048),X!==null&&o(gH,G),null;case 24:return W=null,X!==null&&(W=X.memoizedState.cache),G.memoizedState.cache!==W&&(G.flags|=2048),y9(A6,G),M4(G),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function xL(X,G){switch(B8(G),G.tag){case 1:return X=G.flags,X&65536?(G.flags=X&-65537|128,(G.mode&Z9)!==h4&&S3(G),G):null;case 3:return y9(A6,G),p(G),X=G.flags,(X&65536)!==0&&(X&128)===0?(G.flags=X&-65537|128,G):null;case 26:case 27:case 5:return Q1(G),null;case 13:if(L8(G),X=G.memoizedState,X!==null&&X.dehydrated!==null){if(G.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");v3()}return X=G.flags,X&65536?(G.flags=X&-65537|128,(G.mode&Z9)!==h4&&S3(G),G):null;case 19:return o(_6,G),null;case 4:return p(G),null;case 10:return y9(G.type,G),null;case 22:case 23:return L8(G),rX(G),X!==null&&o(gH,G),X=G.flags,X&65536?(G.flags=X&-65537|128,(G.mode&Z9)!==h4&&S3(G),G):null;case 24:return y9(A6,G),null;case 25:return null;default:return null}}function rK(X,G){switch(B8(G),G.tag){case 3:y9(A6,G),p(G);break;case 26:case 27:case 5:Q1(G);break;case 4:p(G);break;case 13:L8(G);break;case 19:o(_6,G);break;case 10:y9(G.type,G);break;case 22:case 23:L8(G),rX(G),X!==null&&o(gH,G);break;case 24:y9(A6,G)}}function O8(X){return(X.mode&Z9)!==h4}function tK(X,G){O8(X)?(o6(),cQ(G,X),s6()):cQ(G,X)}function EY(X,G,W){O8(X)?(o6(),mZ(W,X,G),s6()):mZ(W,X,G)}function cQ(X,G){try{var W=G.updateQueue,U=W!==null?W.lastEffect:null;if(U!==null){var N=U.next;W=N;do{if((W.tag&X)===X&&((X&M6)!==a3?p0!==null&&typeof p0.markComponentPassiveEffectMountStarted==="function"&&p0.markComponentPassiveEffectMountStarted(G):(X&Q9)!==a3&&p0!==null&&typeof p0.markComponentLayoutEffectMountStarted==="function"&&p0.markComponentLayoutEffectMountStarted(G),U=void 0,(X&r9)!==a3&&(Sq=!0),U=s1(G,xs,W),(X&r9)!==a3&&(Sq=!1),(X&M6)!==a3?p0!==null&&typeof p0.markComponentPassiveEffectMountStopped==="function"&&p0.markComponentPassiveEffectMountStopped():(X&Q9)!==a3&&p0!==null&&typeof p0.markComponentLayoutEffectMountStopped==="function"&&p0.markComponentLayoutEffectMountStopped(),U!==void 0&&typeof U!=="function")){var _=void 0;_=(W.tag&Q9)!==0?"useLayoutEffect":(W.tag&r9)!==0?"useInsertionEffect":"useEffect";var P=void 0;P=U===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof U.then==="function"?`

It looks like you wrote `+_+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+_+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+U,s1(G,function(s,W1){console.error("%s must not return anything besides a function, which is used for clean-up.%s",s,W1)},_,P)}W=W.next}while(W!==N)}}catch(s){o5(G,G.return,s)}}function mZ(X,G,W){try{var U=G.updateQueue,N=U!==null?U.lastEffect:null;if(N!==null){var _=N.next;U=_;do{if((U.tag&X)===X){var P=U.inst,s=P.destroy;s!==void 0&&(P.destroy=void 0,(X&M6)!==a3?p0!==null&&typeof p0.markComponentPassiveEffectUnmountStarted==="function"&&p0.markComponentPassiveEffectUnmountStarted(G):(X&Q9)!==a3&&p0!==null&&typeof p0.markComponentLayoutEffectUnmountStarted==="function"&&p0.markComponentLayoutEffectUnmountStarted(G),(X&r9)!==a3&&(Sq=!0),N=G,s1(N,Rs,N,W,s),(X&r9)!==a3&&(Sq=!1),(X&M6)!==a3?p0!==null&&typeof p0.markComponentPassiveEffectUnmountStopped==="function"&&p0.markComponentPassiveEffectUnmountStopped():(X&Q9)!==a3&&p0!==null&&typeof p0.markComponentLayoutEffectUnmountStopped==="function"&&p0.markComponentLayoutEffectUnmountStopped())}U=U.next}while(U!==_)}}catch(W1){o5(G,G.return,W1)}}function a$(X,G){O8(X)?(o6(),cQ(G,X),s6()):cQ(G,X)}function s$(X,G,W){O8(X)?(o6(),mZ(W,X,G),s6()):mZ(W,X,G)}function eK(X){var G=X.updateQueue;if(G!==null){var W=X.stateNode;X.type.defaultProps||"ref"in X.memoizedProps||kq||(W.props!==X.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(X)||"instance"),W.state!==X.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(X)||"instance"));try{s1(X,Q$,G,W)}catch(U){o5(X,X.return,U)}}}function RL(X,G,W){return X.getSnapshotBeforeUpdate(G,W)}function CL(X,G){var{memoizedProps:W,memoizedState:U}=G;G=X.stateNode,X.type.defaultProps||"ref"in X.memoizedProps||kq||(G.props!==X.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(X)||"instance"),G.state!==X.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(X)||"instance"));try{var N=y3(X.type,W,X.elementType===X.type),_=s1(X,RL,G,N,U);W=OC,_!==void 0||W.has(X.type)||(W.add(X.type),s1(X,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",S(X))})),G.__reactInternalSnapshotBeforeUpdate=_}catch(P){o5(X,X.return,P)}}function o$(X,G,W){W.props=y3(X.type,X.memoizedProps),W.state=X.memoizedState,O8(X)?(o6(),s1(X,dR,X,G,W),s6()):s1(X,dR,X,G,W)}function bL(X){var G=X.ref;if(G!==null){switch(X.tag){case 26:case 27:case 5:var W=X.stateNode;break;case 30:W=X.stateNode;break;default:W=X.stateNode}if(typeof G==="function")if(O8(X))try{o6(),X.refCleanup=G(W)}finally{s6()}else X.refCleanup=G(W);else typeof G==="string"?console.error("String refs are no longer supported."):G.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",S(X)),G.current=W}}function pQ(X,G){try{s1(X,bL,X)}catch(W){o5(X,G,W)}}function c9(X,G){var{ref:W,refCleanup:U}=X;if(W!==null)if(typeof U==="function")try{if(O8(X))try{o6(),s1(X,U)}finally{s6(X)}else s1(X,U)}catch(N){o5(X,G,N)}finally{X.refCleanup=null,X=X.alternate,X!=null&&(X.refCleanup=null)}else if(typeof W==="function")try{if(O8(X))try{o6(),s1(X,W,null)}finally{s6(X)}else s1(X,W,null)}catch(N){o5(X,G,N)}else W.current=null}function JB(X,G,W,U){var N=X.memoizedProps,_=N.id,P=N.onCommit;N=N.onRender,G=G===null?"mount":"update",vF&&(G="nested-update"),typeof N==="function"&&N(_,G,X.actualDuration,X.treeBaseDuration,X.actualStartTime,W),typeof P==="function"&&P(X.memoizedProps.id,G,U,W)}function vL(X,G,W,U){var N=X.memoizedProps;X=N.id,N=N.onPostCommit,G=G===null?"mount":"update",vF&&(G="nested-update"),typeof N==="function"&&N(X,G,U,W)}function r$(X){var{type:G,memoizedProps:W,stateNode:U}=X;try{s1(X,eL,U,G,W,X)}catch(N){o5(X,X.return,N)}}function t$(X,G,W){try{s1(X,JO,X.stateNode,X.type,W,G,X)}catch(U){o5(X,X.return,U)}}function ZB(X){return X.tag===5||X.tag===3||X.tag===26||X.tag===27&&d3(X.type)||X.tag===4}function kY(X){J:for(;;){for(;X.sibling===null;){if(X.return===null||ZB(X.return))return null;X=X.return}X.sibling.return=X.return;for(X=X.sibling;X.tag!==5&&X.tag!==6&&X.tag!==18;){if(X.tag===27&&d3(X.type))continue J;if(X.flags&2)continue J;if(X.child===null||X.tag===4)continue J;else X.child.return=X,X=X.child}if(!(X.flags&2))return X.stateNode}}function e$(X,G,W){var U=X.tag;if(U===5||U===6)X=X.stateNode,G?(W.nodeType===9?W.body:W.nodeName==="HTML"?W.ownerDocument.body:W).insertBefore(X,G):(G=W.nodeType===9?W.body:W.nodeName==="HTML"?W.ownerDocument.body:W,G.appendChild(X),W=W._reactRootContainer,W!==null&&W!==void 0||G.onclick!==null||(G.onclick=yY));else if(U!==4&&(U===27&&d3(X.type)&&(W=X.stateNode,G=null),X=X.child,X!==null))for(e$(X,G,W),X=X.sibling;X!==null;)e$(X,G,W),X=X.sibling}function xY(X,G,W){var U=X.tag;if(U===5||U===6)X=X.stateNode,G?W.insertBefore(X,G):W.appendChild(X);else if(U!==4&&(U===27&&d3(X.type)&&(W=X.stateNode),X=X.child,X!==null))for(xY(X,G,W),X=X.sibling;X!==null;)xY(X,G,W),X=X.sibling}function fL(X){for(var G,W=X.return;W!==null;){if(ZB(W)){G=W;break}W=W.return}if(G==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(G.tag){case 27:G=G.stateNode,W=kY(X),xY(X,W,G);break;case 5:W=G.stateNode,G.flags&32&&(pB(W),G.flags&=-33),G=kY(X),xY(X,G,W);break;case 3:case 4:G=G.stateNode.containerInfo,W=kY(X),e$(X,W,G);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function QB(X){var{stateNode:G,memoizedProps:W}=X;try{s1(X,YV,X.type,W,G,X)}catch(U){o5(X,X.return,U)}}function SL(X,G){if(X=X.containerInfo,BI=$A,X=iX(X),EZ(X)){if("selectionStart"in X)var W={start:X.selectionStart,end:X.selectionEnd};else J:{W=(W=X.ownerDocument)&&W.defaultView||window;var U=W.getSelection&&W.getSelection();if(U&&U.rangeCount!==0){W=U.anchorNode;var{anchorOffset:N,focusNode:_}=U;U=U.focusOffset;try{W.nodeType,_.nodeType}catch(K2){W=null;break J}var P=0,s=-1,W1=-1,U1=0,l1=0,Y0=X,c1=null;Z:for(;;){for(var W0;;){if(Y0!==W||N!==0&&Y0.nodeType!==3||(s=P+N),Y0!==_||U!==0&&Y0.nodeType!==3||(W1=P+U),Y0.nodeType===3&&(P+=Y0.nodeValue.length),(W0=Y0.firstChild)===null)break;c1=Y0,Y0=W0}for(;;){if(Y0===X)break Z;if(c1===W&&++U1===N&&(s=P),c1===_&&++l1===U&&(W1=P),(W0=Y0.nextSibling)!==null)break;Y0=c1,c1=Y0.parentNode}Y0=W0}W=s===-1||W1===-1?null:{start:s,end:W1}}else W=null}W=W||{start:0,end:0}}else W=null;qI={focusedElem:X,selectionRange:W},$A=!1;for(f6=G;f6!==null;)if(G=f6,X=G.child,(G.subtreeFlags&1024)!==0&&X!==null)X.return=G,f6=X;else for(;f6!==null;){switch(X=G=f6,W=X.alternate,N=X.flags,X.tag){case 0:break;case 11:case 15:break;case 1:(N&1024)!==0&&W!==null&&CL(X,W);break;case 3:if((N&1024)!==0){if(X=X.stateNode.containerInfo,W=X.nodeType,W===9)IH(X);else if(W===1)switch(X.nodeName){case"HEAD":case"HTML":case"BODY":IH(X);break;default:X.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((N&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(X=G.sibling,X!==null){X.return=G.return,f6=X;break}f6=G.return}}function XB(X,G,W){var U=W.flags;switch(W.tag){case 0:case 11:case 15:y8(X,W),U&4&&tK(W,Q9|s3);break;case 1:if(y8(X,W),U&4)if(X=W.stateNode,G===null)W.type.defaultProps||"ref"in W.memoizedProps||kq||(X.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(W)||"instance"),X.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(W)||"instance")),O8(W)?(o6(),s1(W,yV,W,X),s6()):s1(W,yV,W,X);else{var N=y3(W.type,G.memoizedProps);G=G.memoizedState,W.type.defaultProps||"ref"in W.memoizedProps||kq||(X.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(W)||"instance"),X.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(W)||"instance")),O8(W)?(o6(),s1(W,yR,W,X,N,G,X.__reactInternalSnapshotBeforeUpdate),s6()):s1(W,yR,W,X,N,G,X.__reactInternalSnapshotBeforeUpdate)}U&64&&eK(W),U&512&&pQ(W,W.return);break;case 3:if(G=N9(),y8(X,W),U&64&&(U=W.updateQueue,U!==null)){if(N=null,W.child!==null)switch(W.child.tag){case 27:case 5:N=W.child.stateNode;break;case 1:N=W.child.stateNode}try{s1(W,Q$,U,N)}catch(P){o5(W,W.return,P)}}X.effectDuration+=RJ(G);break;case 27:G===null&&U&4&&QB(W);case 26:case 5:y8(X,W),G===null&&U&4&&r$(W),U&512&&pQ(W,W.return);break;case 12:if(U&4){U=N9(),y8(X,W),X=W.stateNode,X.effectDuration+=u9(U);try{s1(W,JB,W,G,bF,X.effectDuration)}catch(P){o5(W,W.return,P)}}else y8(X,W);break;case 13:y8(X,W),U&4&&GB(X,W),U&64&&(X=W.memoizedState,X!==null&&(X=X.dehydrated,X!==null&&(W=qH.bind(null,W),$F(X,W))));break;case 22:if(U=W.memoizedState!==null||KX,!U){G=G!==null&&G.memoizedState!==null||J6,N=KX;var _=J6;KX=U,(J6=G)&&!_?h8(X,W,(W.subtreeFlags&8772)!==0):y8(X,W),KX=N,J6=_}break;case 30:break;default:y8(X,W)}}function YB(X){var G=X.alternate;G!==null&&(X.alternate=null,YB(G)),X.child=null,X.deletions=null,X.sibling=null,X.tag===5&&(G=X.stateNode,G!==null&&Z2(G)),X.stateNode=null,X._debugOwner=null,X.return=null,X.dependencies=null,X.memoizedProps=null,X.memoizedState=null,X.pendingProps=null,X.stateNode=null,X.updateQueue=null}function g8(X,G,W){for(W=W.child;W!==null;)JH(X,G,W),W=W.sibling}function JH(X,G,W){if($7&&typeof $7.onCommitFiberUnmount==="function")try{$7.onCommitFiberUnmount(p9,W)}catch(_){l9||(l9=!0,console.error("React instrumentation encountered an error: %s",_))}switch(W.tag){case 26:J6||c9(W,G),g8(X,G,W),W.memoizedState?W.memoizedState.count--:W.stateNode&&(W=W.stateNode,W.parentNode.removeChild(W));break;case 27:J6||c9(W,G);var U=H6,N=I8;d3(W.type)&&(H6=W.stateNode,I8=!1),g8(X,G,W),s1(W,mY,W.stateNode),H6=U,I8=N;break;case 5:J6||c9(W,G);case 6:if(U=H6,N=I8,H6=null,g8(X,G,W),H6=U,I8=N,H6!==null)if(I8)try{s1(W,QO,H6,W.stateNode)}catch(_){o5(W,G,_)}else try{s1(W,ZO,H6,W.stateNode)}catch(_){o5(W,G,_)}break;case 18:H6!==null&&(I8?(X=H6,b5(X.nodeType===9?X.body:X.nodeName==="HTML"?X.ownerDocument.body:X,W.stateNode),iY(X)):b5(H6,W.stateNode));break;case 4:U=H6,N=I8,H6=W.stateNode.containerInfo,I8=!0,g8(X,G,W),H6=U,I8=N;break;case 0:case 11:case 14:case 15:J6||mZ(r9,W,G),J6||EY(W,G,Q9),g8(X,G,W);break;case 1:J6||(c9(W,G),U=W.stateNode,typeof U.componentWillUnmount==="function"&&o$(W,G,U)),g8(X,G,W);break;case 21:g8(X,G,W);break;case 22:J6=(U=J6)||W.memoizedState!==null,g8(X,G,W),J6=U;break;default:g8(X,G,W)}}function GB(X,G){if(G.memoizedState===null&&(X=G.alternate,X!==null&&(X=X.memoizedState,X!==null&&(X=X.dehydrated,X!==null))))try{s1(G,WF,X)}catch(W){o5(G,G.return,W)}}function TL(X){switch(X.tag){case 13:case 19:var G=X.stateNode;return G===null&&(G=X.stateNode=new zC),G;case 22:return X=X.stateNode,G=X._retryCache,G===null&&(G=X._retryCache=new zC),G;default:throw Error("Unexpected Suspense handler tag ("+X.tag+"). This is a bug in React.")}}function ZH(X,G){var W=TL(X);G.forEach(function(U){var N=cL.bind(null,X,U);if(!W.has(U)){if(W.add(U),i9)if(xq!==null&&Rq!==null)yJ(Rq,xq);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");U.then(N,N)}})}function r6(X,G){var W=G.deletions;if(W!==null)for(var U=0;U<W.length;U++){var N=X,_=G,P=W[U],s=_;J:for(;s!==null;){switch(s.tag){case 27:if(d3(s.type)){H6=s.stateNode,I8=!1;break J}break;case 5:H6=s.stateNode,I8=!1;break J;case 3:case 4:H6=s.stateNode.containerInfo,I8=!0;break J}s=s.return}if(H6===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");JH(N,_,P),H6=null,I8=!1,N=P,_=N.alternate,_!==null&&(_.return=null),N.return=null}if(G.subtreeFlags&13878)for(G=G.child;G!==null;)$B(G,X),G=G.sibling}function $B(X,G){var{alternate:W,flags:U}=X;switch(X.tag){case 0:case 11:case 14:case 15:r6(G,X),t6(X),U&4&&(mZ(r9|s3,X,X.return),cQ(r9|s3,X),EY(X,X.return,Q9|s3));break;case 1:r6(G,X),t6(X),U&512&&(J6||W===null||c9(W,W.return)),U&64&&KX&&(X=X.updateQueue,X!==null&&(U=X.callbacks,U!==null&&(W=X.shared.hiddenCallbacks,X.shared.hiddenCallbacks=W===null?U:W.concat(U))));break;case 26:var N=cJ;if(r6(G,X),t6(X),U&512&&(J6||W===null||c9(W,W.return)),U&4)if(G=W!==null?W.memoizedState:null,U=X.memoizedState,W===null)if(U===null)if(X.stateNode===null){J:{U=X.type,W=X.memoizedProps,G=N.ownerDocument||N;Z:switch(U){case"title":if(N=G.getElementsByTagName("title")[0],!N||N[kO]||N[b6]||N.namespaceURI===Gq||N.hasAttribute("itemprop"))N=G.createElement(U),G.head.insertBefore(N,G.querySelector("head > title"));f7(N,U,W),N[b6]=X,Z0(N),U=N;break J;case"link":var _=BO("link","href",G).get(U+(W.href||""));if(_){for(var P=0;P<_.length;P++)if(N=_[P],N.getAttribute("href")===(W.href==null||W.href===""?null:W.href)&&N.getAttribute("rel")===(W.rel==null?null:W.rel)&&N.getAttribute("title")===(W.title==null?null:W.title)&&N.getAttribute("crossorigin")===(W.crossOrigin==null?null:W.crossOrigin)){_.splice(P,1);break Z}}N=G.createElement(U),f7(N,U,W),G.head.appendChild(N);break;case"meta":if(_=BO("meta","content",G).get(U+(W.content||""))){for(P=0;P<_.length;P++)if(N=_[P],n(W.content,"content"),N.getAttribute("content")===(W.content==null?null:""+W.content)&&N.getAttribute("name")===(W.name==null?null:W.name)&&N.getAttribute("property")===(W.property==null?null:W.property)&&N.getAttribute("http-equiv")===(W.httpEquiv==null?null:W.httpEquiv)&&N.getAttribute("charset")===(W.charSet==null?null:W.charSet)){_.splice(P,1);break Z}}N=G.createElement(U),f7(N,U,W),G.head.appendChild(N);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+U+'". This is a bug in React.')}N[b6]=X,Z0(N),U=N}X.stateNode=U}else qO(N,X.type,X.stateNode);else X.stateNode=KO(N,U,X.memoizedProps);else G!==U?(G===null?W.stateNode!==null&&(W=W.stateNode,W.parentNode.removeChild(W)):G.count--,U===null?qO(N,X.type,X.stateNode):KO(N,U,X.memoizedProps)):U===null&&X.stateNode!==null&&t$(X,X.memoizedProps,W.memoizedProps);break;case 27:r6(G,X),t6(X),U&512&&(J6||W===null||c9(W,W.return)),W!==null&&U&4&&t$(X,X.memoizedProps,W.memoizedProps);break;case 5:if(r6(G,X),t6(X),U&512&&(J6||W===null||c9(W,W.return)),X.flags&32){G=X.stateNode;try{s1(X,pB,G)}catch(l1){o5(X,X.return,l1)}}U&4&&X.stateNode!=null&&(G=X.memoizedProps,t$(X,G,W!==null?W.memoizedProps:G)),U&1024&&(lV=!0,X.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(r6(G,X),t6(X),U&4){if(X.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");U=X.memoizedProps,W=W!==null?W.memoizedProps:U,G=X.stateNode;try{s1(X,VH,G,W,U)}catch(l1){o5(X,X.return,l1)}}break;case 3:if(N=N9(),XA=null,_=cJ,cJ=jH(G.containerInfo),r6(G,X),cJ=_,t6(X),U&4&&W!==null&&W.memoizedState.isDehydrated)try{s1(X,GO,G.containerInfo)}catch(l1){o5(X,X.return,l1)}lV&&(lV=!1,QH(X)),G.effectDuration+=RJ(N);break;case 4:U=cJ,cJ=jH(X.stateNode.containerInfo),r6(G,X),t6(X),cJ=U;break;case 12:U=N9(),r6(G,X),t6(X),X.stateNode.effectDuration+=u9(U);break;case 13:r6(G,X),t6(X),X.child.flags&8192&&X.memoizedState!==null!==(W!==null&&W.memoizedState!==null)&&(rV=_4()),U&4&&(U=X.updateQueue,U!==null&&(X.updateQueue=null,ZH(X,U)));break;case 22:N=X.memoizedState!==null;var s=W!==null&&W.memoizedState!==null,W1=KX,U1=J6;if(KX=W1||N,J6=U1||s,r6(G,X),J6=U1,KX=W1,t6(X),U&8192)J:for(G=X.stateNode,G._visibility=N?G._visibility&~kF:G._visibility|kF,N&&(W===null||s||KX||J6||h3(X)),W=null,G=X;;){if(G.tag===5||G.tag===26){if(W===null){s=W=G;try{_=s.stateNode,N?s1(s,JV,_):s1(s,QV,s.stateNode,s.memoizedProps)}catch(l1){o5(s,s.return,l1)}}}else if(G.tag===6){if(W===null){s=G;try{P=s.stateNode,N?s1(s,ZV,P):s1(s,XV,P,s.memoizedProps)}catch(l1){o5(s,s.return,l1)}}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===X)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===X)break J;for(;G.sibling===null;){if(G.return===null||G.return===X)break J;W===G&&(W=null),G=G.return}W===G&&(W=null),G.sibling.return=G.return,G=G.sibling}U&4&&(U=X.updateQueue,U!==null&&(W=U.retryQueue,W!==null&&(U.retryQueue=null,ZH(X,W))));break;case 19:r6(G,X),t6(X),U&4&&(U=X.updateQueue,U!==null&&(X.updateQueue=null,ZH(X,U)));break;case 30:break;case 21:break;default:r6(G,X),t6(X)}}function t6(X){var G=X.flags;if(G&2){try{s1(X,fL,X)}catch(W){o5(X,X.return,W)}X.flags&=-3}G&4096&&(X.flags&=-4097)}function QH(X){if(X.subtreeFlags&1024)for(X=X.child;X!==null;){var G=X;QH(G),G.tag===5&&G.flags&1024&&G.stateNode.reset(),X=X.sibling}}function y8(X,G){if(G.subtreeFlags&8772)for(G=G.child;G!==null;)XB(X,G.alternate,G),G=G.sibling}function HB(X){switch(X.tag){case 0:case 11:case 14:case 15:EY(X,X.return,Q9),h3(X);break;case 1:c9(X,X.return);var G=X.stateNode;typeof G.componentWillUnmount==="function"&&o$(X,X.return,G),h3(X);break;case 27:s1(X,mY,X.stateNode);case 26:case 5:c9(X,X.return),h3(X);break;case 22:X.memoizedState===null&&h3(X);break;case 30:h3(X);break;default:h3(X)}}function h3(X){for(X=X.child;X!==null;)HB(X),X=X.sibling}function WB(X,G,W,U){var N=W.flags;switch(W.tag){case 0:case 11:case 15:h8(X,W,U),tK(W,Q9);break;case 1:if(h8(X,W,U),G=W.stateNode,typeof G.componentDidMount==="function"&&s1(W,yV,W,G),G=W.updateQueue,G!==null){X=W.stateNode;try{s1(W,_L,G,X)}catch(_){o5(W,W.return,_)}}U&&N&64&&eK(W),pQ(W,W.return);break;case 27:QB(W);case 26:case 5:h8(X,W,U),U&&G===null&&N&4&&r$(W),pQ(W,W.return);break;case 12:if(U&&N&4){N=N9(),h8(X,W,U),U=W.stateNode,U.effectDuration+=u9(N);try{s1(W,JB,W,G,bF,U.effectDuration)}catch(_){o5(W,W.return,_)}}else h8(X,W,U);break;case 13:h8(X,W,U),U&&N&4&&GB(X,W);break;case 22:W.memoizedState===null&&h8(X,W,U),pQ(W,W.return);break;case 30:break;default:h8(X,W,U)}}function h8(X,G,W){W=W&&(G.subtreeFlags&8772)!==0;for(G=G.child;G!==null;)WB(X,G.alternate,G,W),G=G.sibling}function u8(X,G){var W=null;X!==null&&X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(W=X.memoizedState.cachePool.pool),X=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(X=G.memoizedState.cachePool.pool),X!==W&&(X!=null&&h9(X),W!=null&&f8(W))}function XH(X,G){X=null,G.alternate!==null&&(X=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==X&&(h9(G),X!=null&&f8(X))}function z8(X,G,W,U){if(G.subtreeFlags&10256)for(G=G.child;G!==null;)KB(X,G,W,U),G=G.sibling}function KB(X,G,W,U){var N=G.flags;switch(G.tag){case 0:case 11:case 15:z8(X,G,W,U),N&2048&&a$(G,M6|s3);break;case 1:z8(X,G,W,U);break;case 3:var _=N9();z8(X,G,W,U),N&2048&&(W=null,G.alternate!==null&&(W=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==W&&(h9(G),W!=null&&f8(W))),X.passiveEffectDuration+=RJ(_);break;case 12:if(N&2048){N=N9(),z8(X,G,W,U),X=G.stateNode,X.passiveEffectDuration+=u9(N);try{s1(G,vL,G,G.alternate,bF,X.passiveEffectDuration)}catch(s){o5(G,G.return,s)}}else z8(X,G,W,U);break;case 13:z8(X,G,W,U);break;case 23:break;case 22:_=G.stateNode;var P=G.alternate;G.memoizedState!==null?_._visibility&XX?z8(X,G,W,U):lQ(X,G):_._visibility&XX?z8(X,G,W,U):(_._visibility|=XX,cZ(X,G,W,U,(G.subtreeFlags&10256)!==0)),N&2048&&u8(P,G);break;case 24:z8(X,G,W,U),N&2048&&XH(G.alternate,G);break;default:z8(X,G,W,U)}}function cZ(X,G,W,U,N){N=N&&(G.subtreeFlags&10256)!==0;for(G=G.child;G!==null;)YH(X,G,W,U,N),G=G.sibling}function YH(X,G,W,U,N){var _=G.flags;switch(G.tag){case 0:case 11:case 15:cZ(X,G,W,U,N),a$(G,M6);break;case 23:break;case 22:var P=G.stateNode;G.memoizedState!==null?P._visibility&XX?cZ(X,G,W,U,N):lQ(X,G):(P._visibility|=XX,cZ(X,G,W,U,N)),N&&_&2048&&u8(G.alternate,G);break;case 24:cZ(X,G,W,U,N),N&&_&2048&&XH(G.alternate,G);break;default:cZ(X,G,W,U,N)}}function lQ(X,G){if(G.subtreeFlags&10256)for(G=G.child;G!==null;){var W=X,U=G,N=U.flags;switch(U.tag){case 22:lQ(W,U),N&2048&&u8(U.alternate,U);break;case 24:lQ(W,U),N&2048&&XH(U.alternate,U);break;default:lQ(W,U)}G=G.sibling}}function pZ(X){if(X.subtreeFlags&oO)for(X=X.child;X!==null;)BB(X),X=X.sibling}function BB(X){switch(X.tag){case 26:pZ(X),X.flags&oO&&X.memoizedState!==null&&qF(cJ,X.memoizedState,X.memoizedProps);break;case 5:pZ(X);break;case 3:case 4:var G=cJ;cJ=jH(X.stateNode.containerInfo),pZ(X),cJ=G;break;case 22:X.memoizedState===null&&(G=X.alternate,G!==null&&G.memoizedState!==null?(G=oO,oO=16777216,pZ(X),oO=G):pZ(X));break;default:pZ(X)}}function qB(X){var G=X.alternate;if(G!==null&&(X=G.child,X!==null)){G.child=null;do G=X.sibling,X.sibling=null,X=G;while(X!==null)}}function PJ(X){var G=X.deletions;if((X.flags&16)!==0){if(G!==null)for(var W=0;W<G.length;W++){var U=G[W];f6=U,iQ(U,X)}qB(X)}if(X.subtreeFlags&10256)for(X=X.child;X!==null;)UB(X),X=X.sibling}function UB(X){switch(X.tag){case 0:case 11:case 15:PJ(X),X.flags&2048&&s$(X,X.return,M6|s3);break;case 3:var G=N9();PJ(X),X.stateNode.passiveEffectDuration+=RJ(G);break;case 12:G=N9(),PJ(X),X.stateNode.passiveEffectDuration+=u9(G);break;case 22:G=X.stateNode,X.memoizedState!==null&&G._visibility&XX&&(X.return===null||X.return.tag!==13)?(G._visibility&=~XX,RY(X)):PJ(X);break;default:PJ(X)}}function RY(X){var G=X.deletions;if((X.flags&16)!==0){if(G!==null)for(var W=0;W<G.length;W++){var U=G[W];f6=U,iQ(U,X)}qB(X)}for(X=X.child;X!==null;)LB(X),X=X.sibling}function LB(X){switch(X.tag){case 0:case 11:case 15:s$(X,X.return,M6),RY(X);break;case 22:var G=X.stateNode;G._visibility&XX&&(G._visibility&=~XX,RY(X));break;default:RY(X)}}function iQ(X,G){for(;f6!==null;){var W=f6,U=W;switch(U.tag){case 0:case 11:case 15:s$(U,G,M6);break;case 23:case 22:U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(U=U.memoizedState.cachePool.pool,U!=null&&h9(U));break;case 24:f8(U.memoizedState.cache)}if(U=W.child,U!==null)U.return=W,f6=U;else J:for(W=X;f6!==null;){U=f6;var{sibling:N,return:_}=U;if(YB(U),U===W){f6=null;break J}if(N!==null){N.return=_,f6=N;break J}f6=_}}}function PL(){bs.forEach(function(X){return X()})}function OB(){var X=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return X||b1.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),X}function e6(X){if((Y4&t9)!==p8&&V5!==0)return V5&-V5;var G=b1.T;return G!==null?(G._updatedFibers||(G._updatedFibers=new Set),G._updatedFibers.add(X),X=PH,X!==0?X:vB()):_0()}function zB(){i8===0&&(i8=(V5&536870912)===0||u5?p1():536870912);var X=r3.current;return X!==null&&(X.flags|=32),i8}function k4(X,G,W){if(Sq&&console.error("useInsertionEffect must not schedule updates."),QI&&(lF=!0),X===R4&&(q4===dH||q4===mH)||X.cancelPendingCommit!==null)iZ(X,0),gJ(X,V5,i8,!1);if(T1(X,W),(Y4&t9)!==0&&X===R4){if(tZ)switch(G.tag){case 0:case 11:case 15:X=A5&&S(A5)||"Unknown",wC.has(X)||(wC.add(X),G=S(G)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",G,X,X));break;case 1:DC||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),DC=!0)}}else i9&&A0(X,G,W),pL(G),X===R4&&((Y4&t9)===p8&&(QG|=W),P7===uH&&gJ(X,V5,i8,!1)),N8(X)}function NB(X,G,W){if((Y4&(t9|pJ))!==p8)throw Error("Should not already be working.");var U=!W&&(G&124)===0&&(G&X.expiredLanes)===0||x1(X,G),N=U?yL(X,G):HH(X,G,!0),_=U;do{if(N===BX){vq&&!U&&gJ(X,G,0,!1);break}else{if(W=X.current.alternate,_&&!gL(W)){N=HH(X,G,!1),_=!1;continue}if(N===Cq){if(_=G,X.errorRecoveryDisabledLanes&_)var P=0;else P=X.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){G=P;J:{N=X;var s=P;P=Qz;var W1=N.current.memoizedState.isDehydrated;if(W1&&(iZ(N,s).flags|=256),s=HH(N,s,!1),s!==Cq){if(sV&&!W1){N.errorRecoveryDisabledLanes|=_,QG|=_,N=uH;break J}N=e9,e9=P,N!==null&&(e9===null?e9=N:e9.push.apply(e9,N))}N=s}if(_=!1,N!==Cq)continue}}if(N===tO){iZ(X,0),gJ(X,G,0,!0);break}J:{switch(U=X,N){case BX:case tO:throw Error("Root did not complete. This is a bug in React.");case uH:if((G&4194048)!==G)break;case mF:gJ(U,G,i8,!JG);break J;case Cq:e9=null;break;case iV:case NC:break;default:throw Error("Unknown root exit status.")}if(b1.actQueue!==null)WH(U,W,G,e9,Xz,cF,i8,QG,cH);else{if((G&62914560)===G&&(_=rV+AC-_4(),10<_)){if(gJ(U,G,i8,!JG),C1(U,0,!0)!==0)break J;U.timeoutHandle=fC(FB.bind(null,U,W,e9,Xz,cF,G,i8,QG,cH,JG,N,Ts,_R,0),_);break J}FB(U,W,e9,Xz,cF,G,i8,QG,cH,JG,N,fs,_R,0)}}}break}while(1);N8(X)}function FB(X,G,W,U,N,_,P,s,W1,U1,l1,Y0,c1,W0){if(X.timeoutHandle=aH,Y0=G.subtreeFlags,Y0&8192||(Y0&16785408)===16785408){if(Kz={stylesheets:null,count:0,unsuspend:GV},BB(G),Y0=UF(),Y0!==null){X.cancelPendingCommit=Y0(WH.bind(null,X,G,_,W,U,N,P,s,W1,l1,Ss,c1,W0)),gJ(X,_,P,!U1);return}}WH(X,G,_,W,U,N,P,s,W1)}function gL(X){for(var G=X;;){var W=G.tag;if((W===0||W===11||W===15)&&G.flags&16384&&(W=G.updateQueue,W!==null&&(W=W.stores,W!==null)))for(var U=0;U<W.length;U++){var N=W[U],_=N.getSnapshot;N=N.value;try{if(!s9(_(),N))return!1}catch(P){return!1}}if(W=G.child,G.subtreeFlags&16384&&W!==null)W.return=G,G=W;else{if(G===X)break;for(;G.sibling===null;){if(G.return===null||G.return===X)return!0;G=G.return}G.sibling.return=G.return,G=G.sibling}}return!0}function gJ(X,G,W,U){G&=~oV,G&=~QG,X.suspendedLanes|=G,X.pingedLanes&=~G,U&&(X.warmLanes|=G),U=X.expirationTimes;for(var N=G;0<N;){var _=31-F6(N),P=1<<_;U[_]=-1,N&=~P}W!==0&&N0(X,W,G)}function lZ(){return(Y4&(t9|pJ))===p8?(sZ(0,!1),!1):!0}function GH(){if(A5!==null){if(q4===j8)var X=A5.return;else X=A5,g9(),$$(X),jq=null,aO=0,X=A5;for(;X!==null;)rK(X.alternate,X),X=X.return;A5=null}}function iZ(X,G){var W=X.timeoutHandle;W!==aH&&(X.timeoutHandle=aH,as(W)),W=X.cancelPendingCommit,W!==null&&(X.cancelPendingCommit=null,W()),GH(),R4=X,A5=W=T9(X.current,null),V5=G,q4=j8,l8=null,JG=!1,vq=x1(X,G),sV=!1,P7=BX,cH=i8=oV=QG=ZG=0,e9=Qz=null,cF=!1,(G&8)!==0&&(G|=G&32);var U=X.entangledLanes;if(U!==0)for(X=X.entanglements,U&=G;0<U;){var N=31-F6(U),_=1<<N;G|=X[N],U&=~_}return XQ=G,EJ(),G=AR(),1000<G-FR&&(b1.recentlyCreatedOwnerStacks=0,FR=G),dJ.discardPendingWarnings(),W}function nZ(X,G){a2=null,b1.H=uF,b1.getCurrentStack=null,tZ=!1,c8=null,G===pO||G===TF?(G=Q2(),q4=Jz):G===jR?(G=Q2(),q4=FC):q4=G===HC?aV:G!==null&&typeof G==="object"&&typeof G.then==="function"?bq:eO,l8=G;var W=A5;if(W===null)P7=tO,dQ(X,r7(G,X.current));else switch(W.mode&Z9&&bJ(W),h1(),q4){case eO:p0!==null&&typeof p0.markComponentErrored==="function"&&p0.markComponentErrored(W,G,V5);break;case dH:case mH:case Jz:case bq:case Zz:p0!==null&&typeof p0.markComponentSuspended==="function"&&p0.markComponentSuspended(W,G,V5)}}function AB(){var X=b1.H;return b1.H=uF,X===null?uF:X}function MB(){var X=b1.A;return b1.A=Cs,X}function $H(){P7=uH,JG||(V5&4194048)!==V5&&r3.current!==null||(vq=!0),(ZG&134217727)===0&&(QG&134217727)===0||R4===null||gJ(R4,V5,i8,!1)}function HH(X,G,W){var U=Y4;Y4|=t9;var N=AB(),_=MB();if(R4!==X||V5!==G){if(i9){var P=X.memoizedUpdaters;0<P.size&&(yJ(X,V5),P.clear()),i0(X,G)}Xz=null,iZ(X,G)}G1(G),G=!1,P=P7;J:do try{if(q4!==j8&&A5!==null){var s=A5,W1=l8;switch(q4){case aV:GH(),P=mF;break J;case Jz:case dH:case mH:case bq:r3.current===null&&(G=!0);var U1=q4;if(q4=j8,l8=null,aZ(X,s,W1,U1),W&&vq){P=BX;break J}break;default:U1=q4,q4=j8,l8=null,aZ(X,s,W1,U1)}}_B(),P=P7;break}catch(l1){nZ(X,l1)}while(1);return G&&X.shellSuspendCounter++,g9(),Y4=U,b1.H=N,b1.A=_,a(),A5===null&&(R4=null,V5=0,EJ()),P}function _B(){for(;A5!==null;)CY(A5)}function yL(X,G){var W=Y4;Y4|=t9;var U=AB(),N=MB();if(R4!==X||V5!==G){if(i9){var _=X.memoizedUpdaters;0<_.size&&(yJ(X,V5),_.clear()),i0(X,G)}Xz=null,pF=_4()+MC,iZ(X,G)}else vq=x1(X,G);G1(G);J:do try{if(q4!==j8&&A5!==null)Z:switch(G=A5,_=l8,q4){case eO:q4=j8,l8=null,aZ(X,G,_,eO);break;case dH:case mH:if($0(_)){q4=j8,l8=null,uL(G);break}G=function(){q4!==dH&&q4!==mH||R4!==X||(q4=Zz),N8(X)},_.then(G,G);break J;case Jz:q4=Zz;break J;case FC:q4=nV;break J;case Zz:$0(_)?(q4=j8,l8=null,uL(G)):(q4=j8,l8=null,aZ(X,G,_,Zz));break;case nV:var P=null;switch(A5.tag){case 26:P=A5.memoizedState;case 5:case 27:var s=A5;if(P?UO(P):1){q4=j8,l8=null;var W1=s.sibling;if(W1!==null)A5=W1;else{var U1=s.return;U1!==null?(A5=U1,bY(U1)):A5=null}break Z}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}q4=j8,l8=null,aZ(X,G,_,nV);break;case bq:q4=j8,l8=null,aZ(X,G,_,bq);break;case aV:GH(),P7=mF;break J;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}b1.actQueue!==null?_B():hL();break}catch(l1){nZ(X,l1)}while(1);if(g9(),b1.H=U,b1.A=N,Y4=W,A5!==null)return p0!==null&&typeof p0.markRenderYielded==="function"&&p0.markRenderYielded(),BX;return a(),R4=null,V5=0,EJ(),P7}function hL(){for(;A5!==null&&!A7();)CY(A5)}function CY(X){var G=X.alternate;(X.mode&Z9)!==h4?(CJ(X),G=s1(X,n$,G,X,XQ),bJ(X)):G=s1(X,n$,G,X,XQ),X.memoizedProps=X.pendingProps,G===null?bY(X):A5=G}function uL(X){var G=s1(X,dL,X);X.memoizedProps=X.pendingProps,G===null?bY(X):A5=G}function dL(X){var G=X.alternate,W=(X.mode&Z9)!==h4;switch(W&&CJ(X),X.tag){case 15:case 0:G=y$(G,X,X.pendingProps,X.type,void 0,V5);break;case 11:G=y$(G,X,X.pendingProps,X.type.render,X.ref,V5);break;case 5:$$(X);default:rK(G,X),X=A5=nX(X,XQ),G=n$(G,X,XQ)}return W&&bJ(X),G}function aZ(X,G,W,U){g9(),$$(G),jq=null,aO=0;var N=G.return;try{if(wL(X,N,G,W,V5)){P7=tO,dQ(X,r7(W,X.current)),A5=null;return}}catch(_){if(N!==null)throw A5=N,_;P7=tO,dQ(X,r7(W,X.current)),A5=null;return}if(G.flags&32768){if(u5||U===eO)X=!0;else if(vq||(V5&536870912)!==0)X=!1;else if(JG=X=!0,U===dH||U===mH||U===Jz||U===bq)U=r3.current,U!==null&&U.tag===13&&(U.flags|=16384);VB(G,X)}else bY(G)}function bY(X){var G=X;do{if((G.flags&32768)!==0){VB(G,JG);return}var W=G.alternate;if(X=G.return,CJ(G),W=s1(G,kL,W,G,XQ),(G.mode&Z9)!==h4&&PZ(G),W!==null){A5=W;return}if(G=G.sibling,G!==null){A5=G;return}A5=G=X}while(G!==null);P7===BX&&(P7=NC)}function VB(X,G){do{var W=xL(X.alternate,X);if(W!==null){W.flags&=32767,A5=W;return}if((X.mode&Z9)!==h4){PZ(X),W=X.actualDuration;for(var U=X.child;U!==null;)W+=U.actualDuration,U=U.sibling;X.actualDuration=W}if(W=X.return,W!==null&&(W.flags|=32768,W.subtreeFlags=0,W.deletions=null),!G&&(X=X.sibling,X!==null)){A5=X;return}A5=X=W}while(X!==null);P7=mF,A5=null}function WH(X,G,W,U,N,_,P,s,W1){X.cancelPendingCommit=null;do nQ();while(X9!==pH);if(dJ.flushLegacyContextWarning(),dJ.flushPendingUnsafeLifecycleWarnings(),(Y4&(t9|pJ))!==p8)throw Error("Should not already be working.");if(p0!==null&&typeof p0.markCommitStarted==="function"&&p0.markCommitStarted(W),G===null)m1();else{if(W===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),G===X.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(_=G.lanes|G.childLanes,_|=wV,j0(X,W,_,P,s,W1),X===R4&&(A5=R4=null,V5=0),fq=G,YG=X,GG=W,eV=_,JI=N,jC=U,(G.subtreeFlags&10256)!==0||(G.flags&10256)!==0?(X.callbackNode=null,X.callbackPriority=0,XF(A8,function(){return BH(!0),null})):(X.callbackNode=null,X.callbackPriority=0),bF=Aq(),U=(G.flags&13878)!==0,(G.subtreeFlags&13878)!==0||U){U=b1.T,b1.T=null,N=P0.p,P0.p=J9,P=Y4,Y4|=pJ;try{SL(X,G,W)}finally{Y4=P,P0.p=N,b1.T=U}}X9=_C,KH(),IB(),jB()}}function KH(){if(X9===_C){X9=pH;var X=YG,G=fq,W=GG,U=(G.flags&13878)!==0;if((G.subtreeFlags&13878)!==0||U){U=b1.T,b1.T=null;var N=P0.p;P0.p=J9;var _=Y4;Y4|=pJ;try{xq=W,Rq=X,$B(G,X),Rq=xq=null,W=qI;var P=iX(X.containerInfo),s=W.focusedElem,W1=W.selectionRange;if(P!==s&&s&&s.ownerDocument&&lX(s.ownerDocument.documentElement,s)){if(W1!==null&&EZ(s)){var{start:U1,end:l1}=W1;if(l1===void 0&&(l1=U1),"selectionStart"in s)s.selectionStart=U1,s.selectionEnd=Math.min(l1,s.value.length);else{var Y0=s.ownerDocument||document,c1=Y0&&Y0.defaultView||window;if(c1.getSelection){var W0=c1.getSelection(),K2=s.textContent.length,p2=Math.min(W1.start,K2),C4=W1.end===void 0?p2:Math.min(W1.end,K2);!W0.extend&&p2>C4&&(P=C4,C4=p2,p2=P);var k5=pX(s,p2),A1=pX(s,C4);if(k5&&A1&&(W0.rangeCount!==1||W0.anchorNode!==k5.node||W0.anchorOffset!==k5.offset||W0.focusNode!==A1.node||W0.focusOffset!==A1.offset)){var _1=Y0.createRange();_1.setStart(k5.node,k5.offset),W0.removeAllRanges(),p2>C4?(W0.addRange(_1),W0.extend(A1.node,A1.offset)):(_1.setEnd(A1.node,A1.offset),W0.addRange(_1))}}}}Y0=[];for(W0=s;W0=W0.parentNode;)W0.nodeType===1&&Y0.push({element:W0,left:W0.scrollLeft,top:W0.scrollTop});typeof s.focus==="function"&&s.focus();for(s=0;s<Y0.length;s++){var k1=Y0[s];k1.element.scrollLeft=k1.left,k1.element.scrollTop=k1.top}}$A=!!BI,qI=BI=null}finally{Y4=_,P0.p=N,b1.T=U}}X.current=G,X9=VC}}function IB(){if(X9===VC){X9=pH;var X=YG,G=fq,W=GG,U=(G.flags&8772)!==0;if((G.subtreeFlags&8772)!==0||U){U=b1.T,b1.T=null;var N=P0.p;P0.p=J9;var _=Y4;Y4|=pJ;try{p0!==null&&typeof p0.markLayoutEffectsStarted==="function"&&p0.markLayoutEffectsStarted(W),xq=W,Rq=X,XB(X,G.alternate,G),Rq=xq=null,p0!==null&&typeof p0.markLayoutEffectsStopped==="function"&&p0.markLayoutEffectsStopped()}finally{Y4=_,P0.p=N,b1.T=U}}X9=IC}}function jB(){if(X9===Ps||X9===IC){X9=pH,m3();var X=YG,G=fq,W=GG,U=jC,N=(G.subtreeFlags&10256)!==0||(G.flags&10256)!==0;N?X9=tV:(X9=pH,fq=YG=null,wB(X,X.pendingLanes),lH=0,Gz=null);var _=X.pendingLanes;if(_===0&&(XG=null),N||RB(X),N=D0(W),G=G.stateNode,$7&&typeof $7.onCommitFiberRoot==="function")try{var P=(G.current.flags&128)===128;switch(N){case J9:var s=hJ;break;case M8:s=nY;break;case _8:s=A8;break;case QX:s=wO;break;default:s=A8}$7.onCommitFiberRoot(p9,G,s,P)}catch(Y0){l9||(l9=!0,console.error("React instrumentation encountered an error: %s",Y0))}if(i9&&X.memoizedUpdaters.clear(),PL(),U!==null){P=b1.T,s=P0.p,P0.p=J9,b1.T=null;try{var W1=X.onRecoverableError;for(G=0;G<U.length;G++){var U1=U[G],l1=DB(U1.stack);s1(U1.source,W1,U1.value,l1)}}finally{b1.T=P,P0.p=s}}(GG&3)!==0&&nQ(),N8(X),_=X.pendingLanes,(W&4194090)!==0&&(_&42)!==0?(fF=!0,X===ZI?Yz++:(Yz=0,ZI=X)):Yz=0,sZ(0,!1),m1()}}function DB(X){return X={componentStack:X},Object.defineProperty(X,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),X}function wB(X,G){(X.pooledCacheLanes&=G)===0&&(G=X.pooledCache,G!=null&&(X.pooledCache=null,f8(G)))}function nQ(X){return KH(),IB(),jB(),BH(X)}function BH(){if(X9!==tV)return!1;var X=YG,G=eV;eV=0;var W=D0(GG),U=_8===0||_8>W?_8:W;W=b1.T;var N=P0.p;try{P0.p=U,b1.T=null,U=JI,JI=null;var _=YG,P=GG;if(X9=pH,fq=YG=null,GG=0,(Y4&(t9|pJ))!==p8)throw Error("Cannot flush passive effects while already rendering.");QI=!0,lF=!1,p0!==null&&typeof p0.markPassiveEffectsStarted==="function"&&p0.markPassiveEffectsStarted(P);var s=Y4;if(Y4|=pJ,UB(_.current),KB(_,_.current,P,U),p0!==null&&typeof p0.markPassiveEffectsStopped==="function"&&p0.markPassiveEffectsStopped(),RB(_),Y4=s,sZ(0,!1),lF?_===Gz?lH++:(lH=0,Gz=_):lH=0,lF=QI=!1,$7&&typeof $7.onPostCommitFiberRoot==="function")try{$7.onPostCommitFiberRoot(p9,_)}catch(U1){l9||(l9=!0,console.error("React instrumentation encountered an error: %s",U1))}var W1=_.current.stateNode;return W1.effectDuration=0,W1.passiveEffectDuration=0,!0}finally{P0.p=N,b1.T=W,wB(X,G)}}function EB(X,G,W){G=r7(W,G),G=f$(X.stateNode,G,2),X=N6(X,G,2),X!==null&&(T1(X,2),N8(X))}function o5(X,G,W){if(Sq=!1,X.tag===3)EB(X,X,W);else{for(;G!==null;){if(G.tag===3){EB(G,X,W);return}if(G.tag===1){var U=G.stateNode;if(typeof G.type.getDerivedStateFromError==="function"||typeof U.componentDidCatch==="function"&&(XG===null||!XG.has(U))){X=r7(W,X),W=S$(2),U=N6(G,W,2),U!==null&&(_Y(W,U,G,X),T1(U,2),N8(U));return}}G=G.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,W)}}function vY(X,G,W){var U=X.pingCache;if(U===null){U=X.pingCache=new vs;var N=new Set;U.set(G,N)}else N=U.get(G),N===void 0&&(N=new Set,U.set(G,N));N.has(W)||(sV=!0,N.add(W),U=mL.bind(null,X,G,W),i9&&yJ(X,W),G.then(U,U))}function mL(X,G,W){var U=X.pingCache;U!==null&&U.delete(G),X.pingedLanes|=X.suspendedLanes&W,X.warmLanes&=~W,OB()&&b1.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),R4===X&&(V5&W)===W&&(P7===uH||P7===iV&&(V5&62914560)===V5&&_4()-rV<AC?(Y4&t9)===p8&&iZ(X,0):oV|=W,cH===V5&&(cH=0)),N8(X)}function kB(X,G){G===0&&(G=y1()),X=b7(X,G),X!==null&&(T1(X,G),N8(X))}function qH(X){var G=X.memoizedState,W=0;G!==null&&(W=G.retryLane),kB(X,W)}function cL(X,G){var W=0;switch(X.tag){case 13:var{stateNode:U,memoizedState:N}=X;N!==null&&(W=N.retryLane);break;case 19:U=X.stateNode;break;case 22:U=X.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}U!==null&&U.delete(G),kB(X,W)}function UH(X,G,W){if((G.subtreeFlags&67117056)!==0)for(G=G.child;G!==null;){var U=X,N=G,_=N.type===d8;_=W||_,N.tag!==22?N.flags&67108864?_&&s1(N,xB,U,N,(N.mode&OR)===h4):UH(U,N,_):N.memoizedState===null&&(_&&N.flags&8192?s1(N,xB,U,N):N.subtreeFlags&67108864&&s1(N,UH,U,N,_)),G=G.sibling}}function xB(X,G){var W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;V1(!0);try{HB(G),W&&LB(G),WB(X,G.alternate,G,!1),W&&YH(X,G,0,null,!1,0)}finally{V1(!1)}}function RB(X){var G=!0;X.current.mode&(V9|uJ)||(G=!1),UH(X,X.current,G)}function LH(X){if((Y4&t9)===p8){var G=X.tag;if(G===3||G===1||G===0||G===11||G===14||G===15){if(G=S(X)||"ReactComponent",iF!==null){if(iF.has(G))return;iF.add(G)}else iF=new Set([G]);s1(X,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function yJ(X,G){i9&&X.memoizedUpdaters.forEach(function(W){A0(X,W,G)})}function XF(X,G){var W=b1.actQueue;return W!==null?(W.push(G),hs):F7(X,G)}function pL(X){OB()&&b1.actQueue===null&&s1(X,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,S(X))})}function N8(X){X!==Tq&&X.next===null&&(Tq===null?nF=Tq=X:Tq=Tq.next=X),aF=!0,b1.actQueue!==null?YI||(YI=!0,iL()):XI||(XI=!0,iL())}function sZ(X,G){if(!GI&&aF){GI=!0;do{var W=!1;for(var U=nF;U!==null;){if(!G)if(X!==0){var N=U.pendingLanes;if(N===0)var _=0;else{var{suspendedLanes:P,pingedLanes:s}=U;_=(1<<31-F6(42|X)+1)-1,_&=N&~(P&~s),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(W=!0,bB(U,_))}else _=V5,_=C1(U,U===R4?_:0,U.cancelPendingCommit!==null||U.timeoutHandle!==aH),(_&3)===0||x1(U,_)||(W=!0,bB(U,_));U=U.next}}while(W);GI=!1}}function lL(){OH()}function OH(){aF=YI=XI=!1;var X=0;iH!==0&&(rL()&&(X=iH),iH=0);for(var G=_4(),W=null,U=nF;U!==null;){var N=U.next,_=zH(U,G);if(_===0)U.next=null,W===null?nF=N:W.next=N,N===null&&(Tq=W);else if(W=U,X!==0||(_&3)!==0)aF=!0;U=N}sZ(X,!1)}function zH(X,G){for(var{suspendedLanes:W,pingedLanes:U,expirationTimes:N}=X,_=X.pendingLanes&-62914561;0<_;){var P=31-F6(_),s=1<<P,W1=N[P];if(W1===-1){if((s&W)===0||(s&U)!==0)N[P]=v1(s,G)}else W1<=G&&(X.expiredLanes|=s);_&=~s}if(G=R4,W=V5,W=C1(X,X===G?W:0,X.cancelPendingCommit!==null||X.timeoutHandle!==aH),U=X.callbackNode,W===0||X===G&&(q4===dH||q4===mH)||X.cancelPendingCommit!==null)return U!==null&&fY(U),X.callbackNode=null,X.callbackPriority=0;if((W&3)===0||x1(X,W)){if(G=W&-W,G!==X.callbackPriority||b1.actQueue!==null&&U!==$I)fY(U);else return G;switch(D0(W)){case J9:case M8:W=nY;break;case _8:W=A8;break;case QX:W=wO;break;default:W=A8}return U=CB.bind(null,X),b1.actQueue!==null?(b1.actQueue.push(U),W=$I):W=F7(W,U),X.callbackPriority=G,X.callbackNode=W,G}return U!==null&&fY(U),X.callbackPriority=2,X.callbackNode=null,2}function CB(X,G){if(fF=vF=!1,X9!==pH&&X9!==tV)return X.callbackNode=null,X.callbackPriority=0,null;var W=X.callbackNode;if(nQ(!0)&&X.callbackNode!==W)return null;var U=V5;if(U=C1(X,X===R4?U:0,X.cancelPendingCommit!==null||X.timeoutHandle!==aH),U===0)return null;return NB(X,U,G),zH(X,_4()),X.callbackNode!=null&&X.callbackNode===W?CB.bind(null,X):null}function bB(X,G){if(nQ())return null;vF=fF,fF=!1,NB(X,G,!0)}function fY(X){X!==$I&&X!==null&&L5(X)}function iL(){b1.actQueue!==null&&b1.actQueue.push(function(){return OH(),null}),ss(function(){(Y4&(t9|pJ))!==p8?F7(hJ,lL):OH()})}function vB(){return iH===0&&(iH=p1()),iH}function NH(X){if(X==null||typeof X==="symbol"||typeof X==="boolean")return null;if(typeof X==="function")return X;return n(X,"action"),Y7(""+X)}function SY(X,G){var W=G.ownerDocument.createElement("input");return W.name=G.name,W.value=G.value,X.id&&W.setAttribute("form",X.id),G.parentNode.insertBefore(W,G),X=new FormData(X),W.parentNode.removeChild(W),X}function nL(X,G,W,U,N){if(G==="submit"&&W&&W.stateNode===N){var _=NH((N[M9]||null).action),P=U.submitter;P&&(G=(G=P[M9]||null)?NH(G.formAction):P.getAttribute("formAction"),G!==null&&(_=G,P=null));var s=new wF("action","action",null,U,N);X.push({event:s,listeners:[{instance:null,listener:function(){if(U.defaultPrevented){if(iH!==0){var W1=P?SY(N,P):new FormData(N),U1={pending:!0,data:W1,method:N.method,action:_};Object.freeze(U1),w$(W,U1,null,W1)}}else typeof _==="function"&&(s.preventDefault(),W1=P?SY(N,P):new FormData(N),U1={pending:!0,data:W1,method:N.method,action:_},Object.freeze(U1),w$(W,U1,_,W1))},currentTarget:N}]})}}function TY(X,G,W){X.currentTarget=W;try{G(X)}catch(U){dV(U)}X.currentTarget=null}function fB(X,G){G=(G&4)!==0;for(var W=0;W<X.length;W++){var U=X[W];J:{var N=void 0,_=U.event;if(U=U.listeners,G)for(var P=U.length-1;0<=P;P--){var s=U[P],W1=s.instance,U1=s.currentTarget;if(s=s.listener,W1!==N&&_.isPropagationStopped())break J;W1!==null?s1(W1,TY,_,s,U1):TY(_,s,U1),N=W1}else for(P=0;P<U.length;P++){if(s=U[P],W1=s.instance,U1=s.currentTarget,s=s.listener,W1!==N&&_.isPropagationStopped())break J;W1!==null?s1(W1,TY,_,s,U1):TY(_,s,U1),N=W1}}}}function Y5(X,G){HI.has(X)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',X);var W=G[n9];W===void 0&&(W=G[n9]=new Set);var U=X+"__bubble";W.has(U)||(SB(G,X,2,!1),W.add(U))}function FH(X,G,W){HI.has(X)&&!G&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',X);var U=0;G&&(U|=4),SB(W,X,U,G)}function AH(X){if(!X[sF]){X[sF]=!0,Ix.forEach(function(W){W!=="selectionchange"&&(HI.has(W)||FH(W,!1,X),FH(W,!0,X))});var G=X.nodeType===9?X:X.ownerDocument;G===null||G[sF]||(G[sF]=!0,FH("selectionchange",!1,G))}}function SB(X,G,W,U){switch(FO(G)){case J9:var N=FF;break;case M8:N=AF;break;default:N=eB}W=N.bind(null,G,W,X),N=void 0,!OV||G!=="touchstart"&&G!=="touchmove"&&G!=="wheel"||(N=!0),U?N!==void 0?X.addEventListener(G,W,{capture:!0,passive:N}):X.addEventListener(G,W,!0):N!==void 0?X.addEventListener(G,W,{passive:N}):X.addEventListener(G,W,!1)}function aQ(X,G,W,U,N){var _=U;if((G&1)===0&&(G&2)===0&&U!==null)J:for(;;){if(U===null)return;var P=U.tag;if(P===3||P===4){var s=U.stateNode.containerInfo;if(s===N)break;if(P===4)for(P=U.return;P!==null;){var W1=P.tag;if((W1===3||W1===4)&&P.stateNode.containerInfo===N)return;P=P.return}for(;s!==null;){if(P=t2(s),P===null)return;if(W1=P.tag,W1===5||W1===6||W1===26||W1===27){U=_=P;continue J}s=s.parentNode}}U=U.return}l6(function(){var U1=_,l1=s7(W),Y0=[];J:{var c1=LR.get(X);if(c1!==void 0){var W0=wF,K2=X;switch(X){case"keypress":if(N7(W)===0)break J;case"keydown":case"keyup":W0=Qs;break;case"focusin":K2="focus",W0=AV;break;case"focusout":K2="blur",W0=AV;break;case"beforeblur":case"afterblur":W0=AV;break;case"click":if(W.button===2)break J;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W0=ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W0=pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W0=Gs;break;case KR:case BR:case qR:W0=na;break;case UR:W0=Hs;break;case"scroll":case"scrollend":W0=ma;break;case"wheel":W0=Ks;break;case"copy":case"cut":case"paste":W0=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W0=ZR;break;case"toggle":case"beforetoggle":W0=qs}var p2=(G&4)!==0,C4=!p2&&(X==="scroll"||X==="scrollend"),k5=p2?c1!==null?c1+"Capture":null:c1;p2=[];for(var A1=U1,_1;A1!==null;){var k1=A1;if(_1=k1.stateNode,k1=k1.tag,k1!==5&&k1!==26&&k1!==27||_1===null||k5===null||(k1=C5(A1,k5),k1!=null&&p2.push(sQ(A1,k1,_1))),C4)break;A1=A1.return}0<p2.length&&(c1=new W0(c1,K2,null,W,l1),Y0.push({event:c1,listeners:p2}))}}if((G&7)===0){J:{if(c1=X==="mouseover"||X==="pointerover",W0=X==="mouseout"||X==="pointerout",c1&&W!==RO&&(K2=W.relatedTarget||W.fromElement)&&(t2(K2)||K2[_9]))break J;if(W0||c1){if(c1=l1.window===l1?l1:(c1=l1.ownerDocument)?c1.defaultView||c1.parentWindow:window,W0){if(K2=W.relatedTarget||W.toElement,W0=U1,K2=K2?t2(K2):null,K2!==null&&(C4=D(K2),p2=K2.tag,K2!==C4||p2!==5&&p2!==27&&p2!==6))K2=null}else W0=null,K2=U1;if(W0!==K2){if(p2=ex,k1="onMouseLeave",k5="onMouseEnter",A1="mouse",X==="pointerout"||X==="pointerover")p2=ZR,k1="onPointerLeave",k5="onPointerEnter",A1="pointer";if(C4=W0==null?c1:N1(W0),_1=K2==null?c1:N1(K2),c1=new p2(k1,A1+"leave",W0,W,l1),c1.target=C4,c1.relatedTarget=_1,k1=null,t2(l1)===U1&&(p2=new p2(k5,A1+"enter",K2,W,l1),p2.target=_1,p2.relatedTarget=C4,k1=p2),C4=k1,W0&&K2)Z:{p2=W0,k5=K2,A1=0;for(_1=p2;_1;_1=oZ(_1))A1++;_1=0;for(k1=k5;k1;k1=oZ(k1))_1++;for(;0<A1-_1;)p2=oZ(p2),A1--;for(;0<_1-A1;)k5=oZ(k5),_1--;for(;A1--;){if(p2===k5||k5!==null&&p2===k5.alternate)break Z;p2=oZ(p2),k5=oZ(k5)}p2=null}else p2=null;W0!==null&&gY(Y0,c1,W0,p2,!1),K2!==null&&C4!==null&&gY(Y0,C4,K2,p2,!0)}}}J:{if(c1=U1?N1(U1):window,W0=c1.nodeName&&c1.nodeName.toLowerCase(),W0==="select"||W0==="input"&&c1.type==="file")var K0=jQ;else if(k3(c1))if(HR)K0=tG;else{K0=oG;var c0=DJ}else W0=c1.nodeName,!W0||W0.toLowerCase()!=="input"||c1.type!=="checkbox"&&c1.type!=="radio"?U1&&D2(U1.elementType)&&(K0=jQ):K0=rG;if(K0&&(K0=K0(X,U1))){x3(Y0,K0,W,l1);break J}c0&&c0(X,c1,U1),X==="focusout"&&U1&&c1.type==="number"&&U1.memoizedProps.value!=null&&i4(c1,"number",c1.value)}switch(c0=U1?N1(U1):window,X){case"focusin":if(k3(c0)||c0.contentEditable==="true")Bq=c0,_V=U1,PO=null;break;case"focusout":PO=_V=Bq=null;break;case"mousedown":VV=!0;break;case"contextmenu":case"mouseup":case"dragend":VV=!1,DQ(Y0,W,l1);break;case"selectionchange":if(zs)break;case"keydown":case"keyup":DQ(Y0,W,l1)}var Z5;if(MV)J:{switch(X){case"compositionstart":var B2="onCompositionStart";break J;case"compositionend":B2="onCompositionEnd";break J;case"compositionupdate":B2="onCompositionUpdate";break J}B2=void 0}else Kq?Q4(X,W)&&(B2="onCompositionEnd"):X==="keydown"&&W.keyCode===QR&&(B2="onCompositionStart");if(B2&&(XR&&W.locale!=="ko"&&(Kq||B2!=="onCompositionStart"?B2==="onCompositionEnd"&&Kq&&(Z5=n4()):(sY=l1,zV=("value"in sY)?sY.value:sY.textContent,Kq=!0)),c0=PY(U1,B2),0<c0.length&&(B2=new JR(B2,X,null,W,l1),Y0.push({event:B2,listeners:c0}),Z5?B2.data=Z5:(Z5=y4(W),Z5!==null&&(B2.data=Z5)))),Z5=Ls?s4(X,W):C7(X,W))B2=PY(U1,"onBeforeInput"),0<B2.length&&(c0=new ra("onBeforeInput","beforeinput",null,W,l1),Y0.push({event:c0,listeners:B2}),c0.data=Z5);nL(Y0,X,U1,W,l1)}fB(Y0,G)})}function sQ(X,G,W){return{instance:X,listener:G,currentTarget:W}}function PY(X,G){for(var W=G+"Capture",U=[];X!==null;){var N=X,_=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||_===null||(N=C5(X,W),N!=null&&U.unshift(sQ(X,N,_)),N=C5(X,G),N!=null&&U.push(sQ(X,N,_))),X.tag===3)return U;X=X.return}return[]}function oZ(X){if(X===null)return null;do X=X.return;while(X&&X.tag!==5&&X.tag!==27);return X?X:null}function gY(X,G,W,U,N){for(var _=G._reactName,P=[];W!==null&&W!==U;){var s=W,W1=s.alternate,U1=s.stateNode;if(s=s.tag,W1!==null&&W1===U)break;s!==5&&s!==26&&s!==27||U1===null||(W1=U1,N?(U1=C5(W,_),U1!=null&&P.unshift(sQ(W,U1,W1))):N||(U1=C5(W,_),U1!=null&&P.push(sQ(W,U1,W1)))),W=W.return}P.length!==0&&X.push({event:G,listeners:P})}function MH(X,G){N4(X,G),X!=="input"&&X!=="textarea"&&X!=="select"||G==null||G.value!==null||rx||(rx=!0,X==="select"&&G.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",X):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",X));var W={registrationNameDependencies:bH,possibleRegistrationNames:HV};D2(X)||typeof G.is==="string"||z7(X,G,W),G.contentEditable&&!G.suppressContentEditableWarning&&G.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function v7(X,G,W,U){G!==W&&(W=u3(W),u3(G)!==W&&(U[X]=G))}function aL(X,G,W){G.forEach(function(U){W[gB(U)]=U==="style"?hY(X):X.getAttribute(U)})}function F8(X,G){G===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",X,X,X):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",X,typeof G)}function TB(X,G){return X=X.namespaceURI===IF||X.namespaceURI===Gq?X.ownerDocument.createElementNS(X.namespaceURI,X.tagName):X.ownerDocument.createElement(X.tagName),X.innerHTML=G,X.innerHTML}function u3(X){return K1(X)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",m(X)),g(X)),(typeof X==="string"?X:""+X).replace(us,`
`).replace(ds,"")}function PB(X,G){return G=u3(G),u3(X)===G?!0:!1}function yY(){}function r5(X,G,W,U,N,_){switch(W){case"children":if(typeof U==="string")v0(U,G,!1),G==="body"||G==="textarea"&&U===""||y0(X,U);else if(typeof U==="number"||typeof U==="bigint")v0(""+U,G,!1),G!=="body"&&y0(X,""+U);break;case"className":S4(X,"class",U);break;case"tabIndex":S4(X,"tabindex",U);break;case"dir":case"role":case"viewBox":case"width":case"height":S4(X,W,U);break;case"style":J5(X,U,_);break;case"data":if(G!=="object"){S4(X,"data",U);break}case"src":case"href":if(U===""&&(G!=="a"||W!=="href")){W==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',W,W):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',W,W),X.removeAttribute(W);break}if(U==null||typeof U==="function"||typeof U==="symbol"||typeof U==="boolean"){X.removeAttribute(W);break}n(U,W),U=Y7(""+U),X.setAttribute(W,U);break;case"action":case"formAction":if(U!=null&&(G==="form"?W==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof U==="function"&&(N.encType==null&&N.method==null||tF||(tF=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),N.target==null||rF||(rF=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):G==="input"||G==="button"?W==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):G!=="input"||N.type==="submit"||N.type==="image"||oF?G!=="button"||N.type==null||N.type==="submit"||oF?typeof U==="function"&&(N.name==null||xC||(xC=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),N.formEncType==null&&N.formMethod==null||tF||(tF=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),N.formTarget==null||rF||(rF=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(oF=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(oF=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):W==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof U==="function"){X.setAttribute(W,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _==="function"&&(W==="formAction"?(G!=="input"&&r5(X,G,"name",N.name,N,null),r5(X,G,"formEncType",N.formEncType,N,null),r5(X,G,"formMethod",N.formMethod,N,null),r5(X,G,"formTarget",N.formTarget,N,null)):(r5(X,G,"encType",N.encType,N,null),r5(X,G,"method",N.method,N,null),r5(X,G,"target",N.target,N,null)));if(U==null||typeof U==="symbol"||typeof U==="boolean"){X.removeAttribute(W);break}n(U,W),U=Y7(""+U),X.setAttribute(W,U);break;case"onClick":U!=null&&(typeof U!=="function"&&F8(W,U),X.onclick=yY);break;case"onScroll":U!=null&&(typeof U!=="function"&&F8(W,U),Y5("scroll",X));break;case"onScrollEnd":U!=null&&(typeof U!=="function"&&F8(W,U),Y5("scrollend",X));break;case"dangerouslySetInnerHTML":if(U!=null){if(typeof U!=="object"||!("__html"in U))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(W=U.__html,W!=null){if(N.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");X.innerHTML=W}}break;case"multiple":X.multiple=U&&typeof U!=="function"&&typeof U!=="symbol";break;case"muted":X.muted=U&&typeof U!=="function"&&typeof U!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(U==null||typeof U==="function"||typeof U==="boolean"||typeof U==="symbol"){X.removeAttribute("xlink:href");break}n(U,W),W=Y7(""+U),X.setAttributeNS(nH,"xlink:href",W);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":U!=null&&typeof U!=="function"&&typeof U!=="symbol"?(n(U,W),X.setAttribute(W,""+U)):X.removeAttribute(W);break;case"inert":U!==""||eF[W]||(eF[W]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",W));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":U&&typeof U!=="function"&&typeof U!=="symbol"?X.setAttribute(W,""):X.removeAttribute(W);break;case"capture":case"download":U===!0?X.setAttribute(W,""):U!==!1&&U!=null&&typeof U!=="function"&&typeof U!=="symbol"?(n(U,W),X.setAttribute(W,U)):X.removeAttribute(W);break;case"cols":case"rows":case"size":case"span":U!=null&&typeof U!=="function"&&typeof U!=="symbol"&&!isNaN(U)&&1<=U?(n(U,W),X.setAttribute(W,U)):X.removeAttribute(W);break;case"rowSpan":case"start":U==null||typeof U==="function"||typeof U==="symbol"||isNaN(U)?X.removeAttribute(W):(n(U,W),X.setAttribute(W,U));break;case"popover":Y5("beforetoggle",X),Y5("toggle",X),t0(X,"popover",U);break;case"xlinkActuate":T4(X,nH,"xlink:actuate",U);break;case"xlinkArcrole":T4(X,nH,"xlink:arcrole",U);break;case"xlinkRole":T4(X,nH,"xlink:role",U);break;case"xlinkShow":T4(X,nH,"xlink:show",U);break;case"xlinkTitle":T4(X,nH,"xlink:title",U);break;case"xlinkType":T4(X,nH,"xlink:type",U);break;case"xmlBase":T4(X,WI,"xml:base",U);break;case"xmlLang":T4(X,WI,"xml:lang",U);break;case"xmlSpace":T4(X,WI,"xml:space",U);break;case"is":_!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),t0(X,"is",U);break;case"innerText":case"textContent":break;case"popoverTarget":RC||U==null||typeof U!=="object"||(RC=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",U));default:!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N"?(W=z4(W),t0(X,W,U)):bH.hasOwnProperty(W)&&U!=null&&typeof U!=="function"&&F8(W,U)}}function _H(X,G,W,U,N,_){switch(W){case"style":J5(X,U,_);break;case"dangerouslySetInnerHTML":if(U!=null){if(typeof U!=="object"||!("__html"in U))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(W=U.__html,W!=null){if(N.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");X.innerHTML=W}}break;case"children":typeof U==="string"?y0(X,U):(typeof U==="number"||typeof U==="bigint")&&y0(X,""+U);break;case"onScroll":U!=null&&(typeof U!=="function"&&F8(W,U),Y5("scroll",X));break;case"onScrollEnd":U!=null&&(typeof U!=="function"&&F8(W,U),Y5("scrollend",X));break;case"onClick":U!=null&&(typeof U!=="function"&&F8(W,U),X.onclick=yY);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(bH.hasOwnProperty(W))U!=null&&typeof U!=="function"&&F8(W,U);else J:{if(W[0]==="o"&&W[1]==="n"&&(N=W.endsWith("Capture"),G=W.slice(2,N?W.length-7:void 0),_=X[M9]||null,_=_!=null?_[W]:null,typeof _==="function"&&X.removeEventListener(G,_,N),typeof U==="function")){typeof _!=="function"&&_!==null&&(W in X?X[W]=null:X.hasAttribute(W)&&X.removeAttribute(W)),X.addEventListener(G,U,N);break J}W in X?X[W]=U:U===!0?X.setAttribute(W,""):t0(X,W,U)}}}function f7(X,G,W){switch(MH(G,W),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y5("error",X),Y5("load",X);var U=!1,N=!1,_;for(_ in W)if(W.hasOwnProperty(_)){var P=W[_];if(P!=null)switch(_){case"src":U=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r5(X,G,_,P,W,null)}}N&&r5(X,G,"srcSet",W.srcSet,W,null),U&&r5(X,G,"src",W.src,W,null);return;case"input":_2("input",W),Y5("invalid",X);var s=_=P=N=null,W1=null,U1=null;for(U in W)if(W.hasOwnProperty(U)){var l1=W[U];if(l1!=null)switch(U){case"name":N=l1;break;case"type":P=l1;break;case"checked":W1=l1;break;case"defaultChecked":U1=l1;break;case"value":_=l1;break;case"defaultValue":s=l1;break;case"children":case"dangerouslySetInnerHTML":if(l1!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r5(X,G,U,l1,W,null)}}l7(X,W),C9(X,_,s,W1,U1,P,N,!1),O7(X);return;case"select":_2("select",W),Y5("invalid",X),U=P=_=null;for(N in W)if(W.hasOwnProperty(N)&&(s=W[N],s!=null))switch(N){case"value":_=s;break;case"defaultValue":P=s;break;case"multiple":U=s;default:r5(X,G,N,s,W,null)}m6(X,W),G=_,W=P,X.multiple=!!U,G!=null?O4(X,!!U,G,!1):W!=null&&O4(X,!!U,W,!0);return;case"textarea":_2("textarea",W),Y5("invalid",X),_=N=U=null;for(P in W)if(W.hasOwnProperty(P)&&(s=W[P],s!=null))switch(P){case"value":U=s;break;case"defaultValue":N=s;break;case"children":_=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:r5(X,G,P,s,W,null)}U6(X,W),O9(X,U,N,_),O7(X);return;case"option":b9(X,W);for(W1 in W)if(W.hasOwnProperty(W1)&&(U=W[W1],U!=null))switch(W1){case"selected":X.selected=U&&typeof U!=="function"&&typeof U!=="symbol";break;default:r5(X,G,W1,U,W,null)}return;case"dialog":Y5("beforetoggle",X),Y5("toggle",X),Y5("cancel",X),Y5("close",X);break;case"iframe":case"object":Y5("load",X);break;case"video":case"audio":for(U=0;U<$z.length;U++)Y5($z[U],X);break;case"image":Y5("error",X),Y5("load",X);break;case"details":Y5("toggle",X);break;case"embed":case"source":case"link":Y5("error",X),Y5("load",X);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U1 in W)if(W.hasOwnProperty(U1)&&(U=W[U1],U!=null))switch(U1){case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r5(X,G,U1,U,W,null)}return;default:if(D2(G)){for(l1 in W)W.hasOwnProperty(l1)&&(U=W[l1],U!==void 0&&_H(X,G,l1,U,W,void 0));return}}for(s in W)W.hasOwnProperty(s)&&(U=W[s],U!=null&&r5(X,G,s,U,W,null))}function sL(X,G,W,U){switch(MH(G,U),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,_=null,P=null,s=null,W1=null,U1=null,l1=null;for(W0 in W){var Y0=W[W0];if(W.hasOwnProperty(W0)&&Y0!=null)switch(W0){case"checked":break;case"value":break;case"defaultValue":W1=Y0;default:U.hasOwnProperty(W0)||r5(X,G,W0,null,U,Y0)}}for(var c1 in U){var W0=U[c1];if(Y0=W[c1],U.hasOwnProperty(c1)&&(W0!=null||Y0!=null))switch(c1){case"type":_=W0;break;case"name":N=W0;break;case"checked":U1=W0;break;case"defaultChecked":l1=W0;break;case"value":P=W0;break;case"defaultValue":s=W0;break;case"children":case"dangerouslySetInnerHTML":if(W0!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:W0!==Y0&&r5(X,G,c1,W0,U,Y0)}}G=W.type==="checkbox"||W.type==="radio"?W.checked!=null:W.value!=null,U=U.type==="checkbox"||U.type==="radio"?U.checked!=null:U.value!=null,G||!U||kC||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),kC=!0),!G||U||EC||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),EC=!0),k6(X,P,s,W1,U1,l1,_,N);return;case"select":W0=P=s=c1=null;for(_ in W)if(W1=W[_],W.hasOwnProperty(_)&&W1!=null)switch(_){case"value":break;case"multiple":W0=W1;default:U.hasOwnProperty(_)||r5(X,G,_,null,U,W1)}for(N in U)if(_=U[N],W1=W[N],U.hasOwnProperty(N)&&(_!=null||W1!=null))switch(N){case"value":c1=_;break;case"defaultValue":s=_;break;case"multiple":P=_;default:_!==W1&&r5(X,G,N,_,U,W1)}U=s,G=P,W=W0,c1!=null?O4(X,!!G,c1,!1):!!W!==!!G&&(U!=null?O4(X,!!G,U,!0):O4(X,!!G,G?[]:"",!1));return;case"textarea":W0=c1=null;for(s in W)if(N=W[s],W.hasOwnProperty(s)&&N!=null&&!U.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:r5(X,G,s,null,U,N)}for(P in U)if(N=U[P],_=W[P],U.hasOwnProperty(P)&&(N!=null||_!=null))switch(P){case"value":c1=N;break;case"defaultValue":W0=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:N!==_&&r5(X,G,P,N,U,_)}R7(X,c1,W0);return;case"option":for(var K2 in W)if(c1=W[K2],W.hasOwnProperty(K2)&&c1!=null&&!U.hasOwnProperty(K2))switch(K2){case"selected":X.selected=!1;break;default:r5(X,G,K2,null,U,c1)}for(W1 in U)if(c1=U[W1],W0=W[W1],U.hasOwnProperty(W1)&&c1!==W0&&(c1!=null||W0!=null))switch(W1){case"selected":X.selected=c1&&typeof c1!=="function"&&typeof c1!=="symbol";break;default:r5(X,G,W1,c1,U,W0)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p2 in W)c1=W[p2],W.hasOwnProperty(p2)&&c1!=null&&!U.hasOwnProperty(p2)&&r5(X,G,p2,null,U,c1);for(U1 in U)if(c1=U[U1],W0=W[U1],U.hasOwnProperty(U1)&&c1!==W0&&(c1!=null||W0!=null))switch(U1){case"children":case"dangerouslySetInnerHTML":if(c1!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r5(X,G,U1,c1,U,W0)}return;default:if(D2(G)){for(var C4 in W)c1=W[C4],W.hasOwnProperty(C4)&&c1!==void 0&&!U.hasOwnProperty(C4)&&_H(X,G,C4,void 0,U,c1);for(l1 in U)c1=U[l1],W0=W[l1],!U.hasOwnProperty(l1)||c1===W0||c1===void 0&&W0===void 0||_H(X,G,l1,c1,U,W0);return}}for(var k5 in W)c1=W[k5],W.hasOwnProperty(k5)&&c1!=null&&!U.hasOwnProperty(k5)&&r5(X,G,k5,null,U,c1);for(Y0 in U)c1=U[Y0],W0=W[Y0],!U.hasOwnProperty(Y0)||c1===W0||c1==null&&W0==null||r5(X,G,Y0,c1,U,W0)}function gB(X){switch(X){case"class":return"className";case"for":return"htmlFor";default:return X}}function hY(X){var G={};X=X.style;for(var W=0;W<X.length;W++){var U=X[W];G[U]=X.getPropertyValue(U)}return G}function yB(X,G,W){if(G!=null&&typeof G!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var U,N=U="",_;for(_ in G)if(G.hasOwnProperty(_)){var P=G[_];P!=null&&typeof P!=="boolean"&&P!==""&&(_.indexOf("--")===0?(Z1(P,_),U+=N+_+":"+(""+P).trim()):typeof P!=="number"||P===0||sx.has(_)?(Z1(P,_),U+=N+_.replace(px,"-$1").toLowerCase().replace(lx,"-ms-")+":"+(""+P).trim()):U+=N+_.replace(px,"-$1").toLowerCase().replace(lx,"-ms-")+":"+P+"px",N=";")}U=U||null,G=X.getAttribute("style"),G!==U&&(U=u3(U),u3(G)!==U&&(W.style=hY(X)))}}function F9(X,G,W,U,N,_){if(N.delete(W),X=X.getAttribute(W),X===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(n(U,G),X===""+U)return}v7(G,X,U,_)}function hB(X,G,W,U,N,_){if(N.delete(W),X=X.getAttribute(W),X===null){switch(typeof U){case"function":case"symbol":return}if(!U)return}else switch(typeof U){case"function":case"symbol":break;default:if(U)return}v7(G,X,U,_)}function uY(X,G,W,U,N,_){if(N.delete(W),X=X.getAttribute(W),X===null)switch(typeof U){case"undefined":case"function":case"symbol":return}else if(U!=null)switch(typeof U){case"function":case"symbol":break;default:if(n(U,W),X===""+U)return}v7(G,X,U,_)}function uB(X,G,W,U,N,_){if(N.delete(W),X=X.getAttribute(W),X===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(U))return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(!isNaN(U)&&(n(U,G),X===""+U))return}v7(G,X,U,_)}function oQ(X,G,W,U,N,_){if(N.delete(W),X=X.getAttribute(W),X===null)switch(typeof U){case"undefined":case"function":case"symbol":case"boolean":return}else if(U!=null)switch(typeof U){case"function":case"symbol":case"boolean":break;default:if(n(U,G),W=Y7(""+U),X===W)return}v7(G,X,U,_)}function dB(X,G,W,U){for(var N={},_=new Set,P=X.attributes,s=0;s<P.length;s++)switch(P[s].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:_.add(P[s].name)}if(D2(G)){for(var W1 in W)if(W.hasOwnProperty(W1)){var U1=W[W1];if(U1!=null){if(bH.hasOwnProperty(W1))typeof U1!=="function"&&F8(W1,U1);else if(W.suppressHydrationWarning!==!0)switch(W1){case"children":typeof U1!=="string"&&typeof U1!=="number"||v7("children",X.textContent,U1,N);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":P=X.innerHTML,U1=U1?U1.__html:void 0,U1!=null&&(U1=TB(X,U1),v7(W1,P,U1,N));continue;case"style":_.delete(W1),yB(X,U1,N);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":_.delete(W1.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",W1);continue;case"className":_.delete("class"),P=I2(X,"class",U1),v7("className",P,U1,N);continue;default:U.context===UX&&G!=="svg"&&G!=="math"?_.delete(W1.toLowerCase()):_.delete(W1),P=I2(X,W1,U1),v7(W1,P,U1,N)}}}}else for(U1 in W)if(W.hasOwnProperty(U1)&&(W1=W[U1],W1!=null)){if(bH.hasOwnProperty(U1))typeof W1!=="function"&&F8(U1,W1);else if(W.suppressHydrationWarning!==!0)switch(U1){case"children":typeof W1!=="string"&&typeof W1!=="number"||v7("children",X.textContent,W1,N);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":P=X.innerHTML,W1=W1?W1.__html:void 0,W1!=null&&(W1=TB(X,W1),P!==W1&&(N[U1]={__html:P}));continue;case"className":F9(X,U1,"class",W1,_,N);continue;case"tabIndex":F9(X,U1,"tabindex",W1,_,N);continue;case"style":_.delete(U1),yB(X,W1,N);continue;case"multiple":_.delete(U1),v7(U1,X.multiple,W1,N);continue;case"muted":_.delete(U1),v7(U1,X.muted,W1,N);continue;case"autoFocus":_.delete("autofocus"),v7(U1,X.autofocus,W1,N);continue;case"data":if(G!=="object"){_.delete(U1),P=X.getAttribute("data"),v7(U1,P,W1,N);continue}case"src":case"href":if(!(W1!==""||G==="a"&&U1==="href"||G==="object"&&U1==="data")){U1==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',U1,U1):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',U1,U1);continue}oQ(X,U1,U1,W1,_,N);continue;case"action":case"formAction":if(P=X.getAttribute(U1),typeof W1==="function"){_.delete(U1.toLowerCase()),U1==="formAction"?(_.delete("name"),_.delete("formenctype"),_.delete("formmethod"),_.delete("formtarget")):(_.delete("enctype"),_.delete("method"),_.delete("target"));continue}else if(P===ms){_.delete(U1.toLowerCase()),v7(U1,"function",W1,N);continue}oQ(X,U1,U1.toLowerCase(),W1,_,N);continue;case"xlinkHref":oQ(X,U1,"xlink:href",W1,_,N);continue;case"contentEditable":uY(X,U1,"contenteditable",W1,_,N);continue;case"spellCheck":uY(X,U1,"spellcheck",W1,_,N);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":uY(X,U1,U1,W1,_,N);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":hB(X,U1,U1.toLowerCase(),W1,_,N);continue;case"capture":case"download":J:{s=X;var l1=P=U1,Y0=N;if(_.delete(l1),s=s.getAttribute(l1),s===null)switch(typeof W1){case"undefined":case"function":case"symbol":break J;default:if(W1===!1)break J}else if(W1!=null)switch(typeof W1){case"function":case"symbol":break;case"boolean":if(W1===!0&&s==="")break J;break;default:if(n(W1,P),s===""+W1)break J}v7(P,s,W1,Y0)}continue;case"cols":case"rows":case"size":case"span":J:{if(s=X,l1=P=U1,Y0=N,_.delete(l1),s=s.getAttribute(l1),s===null)switch(typeof W1){case"undefined":case"function":case"symbol":case"boolean":break J;default:if(isNaN(W1)||1>W1)break J}else if(W1!=null)switch(typeof W1){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(W1)||1>W1)&&(n(W1,P),s===""+W1))break J}v7(P,s,W1,Y0)}continue;case"rowSpan":uB(X,U1,"rowspan",W1,_,N);continue;case"start":uB(X,U1,U1,W1,_,N);continue;case"xHeight":F9(X,U1,"x-height",W1,_,N);continue;case"xlinkActuate":F9(X,U1,"xlink:actuate",W1,_,N);continue;case"xlinkArcrole":F9(X,U1,"xlink:arcrole",W1,_,N);continue;case"xlinkRole":F9(X,U1,"xlink:role",W1,_,N);continue;case"xlinkShow":F9(X,U1,"xlink:show",W1,_,N);continue;case"xlinkTitle":F9(X,U1,"xlink:title",W1,_,N);continue;case"xlinkType":F9(X,U1,"xlink:type",W1,_,N);continue;case"xmlBase":F9(X,U1,"xml:base",W1,_,N);continue;case"xmlLang":F9(X,U1,"xml:lang",W1,_,N);continue;case"xmlSpace":F9(X,U1,"xml:space",W1,_,N);continue;case"inert":W1!==""||eF[U1]||(eF[U1]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",U1)),hB(X,U1,U1,W1,_,N);continue;default:if(!(2<U1.length)||U1[0]!=="o"&&U1[0]!=="O"||U1[1]!=="n"&&U1[1]!=="N"){s=z4(U1),P=!1,U.context===UX&&G!=="svg"&&G!=="math"?_.delete(s.toLowerCase()):(l1=U1.toLowerCase(),l1=jF.hasOwnProperty(l1)?jF[l1]||null:null,l1!==null&&l1!==U1&&(P=!0,_.delete(l1)),_.delete(s));J:if(l1=X,Y0=s,s=W1,e2(Y0))if(l1.hasAttribute(Y0))l1=l1.getAttribute(Y0),n(s,Y0),s=l1===""+s?s:l1;else{switch(typeof s){case"function":case"symbol":break J;case"boolean":if(l1=Y0.toLowerCase().slice(0,5),l1!=="data-"&&l1!=="aria-")break J}s=s===void 0?void 0:null}else s=void 0;P||v7(U1,s,W1,N)}}}return 0<_.size&&W.suppressHydrationWarning!==!0&&aL(X,_,N),Object.keys(N).length===0?null:N}function oL(X,G){switch(X.length){case 0:return"";case 1:return X[0];case 2:return X[0]+" "+G+" "+X[1];default:return X.slice(0,-1).join(", ")+", "+G+" "+X[X.length-1]}}function dY(X){return X.nodeType===9?X:X.ownerDocument}function mB(X){switch(X){case Gq:return Pq;case IF:return QA;default:return UX}}function cB(X,G){if(X===UX)switch(G){case"svg":return Pq;case"math":return QA;default:return UX}return X===Pq&&G==="foreignObject"?UX:X}function rQ(X,G){return X==="textarea"||X==="noscript"||typeof G.children==="string"||typeof G.children==="number"||typeof G.children==="bigint"||typeof G.dangerouslySetInnerHTML==="object"&&G.dangerouslySetInnerHTML!==null&&G.dangerouslySetInnerHTML.__html!=null}function rL(){var X=window.event;if(X&&X.type==="popstate"){if(X===UI)return!1;return UI=X,!0}return UI=null,!1}function tL(X){setTimeout(function(){throw X})}function eL(X,G,W){switch(G){case"button":case"input":case"select":case"textarea":W.autoFocus&&X.focus();break;case"img":W.src?X.src=W.src:W.srcSet&&(X.srcset=W.srcSet)}}function JO(X,G,W,U){sL(X,G,W,U),X[M9]=U}function pB(X){y0(X,"")}function VH(X,G,W){X.nodeValue=W}function d3(X){return X==="head"}function ZO(X,G){X.removeChild(G)}function QO(X,G){(X.nodeType===9?X.body:X.nodeName==="HTML"?X.ownerDocument.body:X).removeChild(G)}function b5(X,G){var W=G,U=0,N=0;do{var _=W.nextSibling;if(X.removeChild(W),_&&_.nodeType===8)if(W=_.data,W===ZA){if(0<U&&8>U){W=U;var P=X.ownerDocument;if(W&ps&&mY(P.documentElement),W&ls&&mY(P.body),W&is)for(W=P.head,mY(W),P=W.firstChild;P;){var{nextSibling:s,nodeName:W1}=P;P[kO]||W1==="SCRIPT"||W1==="STYLE"||W1==="LINK"&&P.rel.toLowerCase()==="stylesheet"||W.removeChild(P),P=s}}if(N===0){X.removeChild(_),iY(G);return}N--}else W===JA||W===qX||W===Hz?N++:U=W.charCodeAt(0)-48;else U=0;W=_}while(W);iY(G)}function JV(X){X=X.style,typeof X.setProperty==="function"?X.setProperty("display","none","important"):X.display="none"}function ZV(X){X.nodeValue=""}function QV(X,G){G=G[ns],G=G!==void 0&&G!==null&&G.hasOwnProperty("display")?G.display:null,X.style.display=G==null||typeof G==="boolean"?"":(""+G).trim()}function XV(X,G){X.nodeValue=G}function IH(X){var G=X.firstChild;G&&G.nodeType===10&&(G=G.nextSibling);for(;G;){var W=G;switch(G=G.nextSibling,W.nodeName){case"HTML":case"HEAD":case"BODY":IH(W),Z2(W);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(W.rel.toLowerCase()==="stylesheet")continue}X.removeChild(W)}}function YF(X,G,W,U){for(;X.nodeType===1;){var N=W;if(X.nodeName.toLowerCase()!==G.toLowerCase()){if(!U&&(X.nodeName!=="INPUT"||X.type!=="hidden"))break}else if(!U)if(G==="input"&&X.type==="hidden"){n(N.name,"name");var _=N.name==null?null:""+N.name;if(N.type==="hidden"&&X.getAttribute("name")===_)return X}else return X;else if(!X[kO])switch(G){case"meta":if(!X.hasAttribute("itemprop"))break;return X;case"link":if(_=X.getAttribute("rel"),_==="stylesheet"&&X.hasAttribute("data-precedence"))break;else if(_!==N.rel||X.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||X.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||X.getAttribute("title")!==(N.title==null?null:N.title))break;return X;case"style":if(X.hasAttribute("data-precedence"))break;return X;case"script":if(_=X.getAttribute("src"),(_!==(N.src==null?null:N.src)||X.getAttribute("type")!==(N.type==null?null:N.type)||X.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&_&&X.hasAttribute("async")&&!X.hasAttribute("itemprop"))break;return X;default:return X}if(X=A9(X.nextSibling),X===null)break}return null}function GF(X,G,W){if(G==="")return null;for(;X.nodeType!==3;){if((X.nodeType!==1||X.nodeName!=="INPUT"||X.type!=="hidden")&&!W)return null;if(X=A9(X.nextSibling),X===null)return null}return X}function lB(X){return X.data===Hz||X.data===qX&&X.ownerDocument.readyState===bC}function $F(X,G){var W=X.ownerDocument;if(X.data!==qX||W.readyState===bC)G();else{var U=function(){G(),W.removeEventListener("DOMContentLoaded",U)};W.addEventListener("DOMContentLoaded",U),X._reactRetry=U}}function A9(X){for(;X!=null;X=X.nextSibling){var G=X.nodeType;if(G===1||G===3)break;if(G===8){if(G=X.data,G===JA||G===Hz||G===qX||G===KI||G===CC)break;if(G===ZA)return null}}return X}function iB(X){if(X.nodeType===1){for(var G=X.nodeName.toLowerCase(),W={},U=X.attributes,N=0;N<U.length;N++){var _=U[N];W[gB(_.name)]=_.name.toLowerCase()==="style"?hY(X):_.value}return{type:G,props:W}}return X.nodeType===8?{type:"Suspense",props:{}}:X.nodeValue}function HF(X,G,W){return W===null||W[cs]!==!0?(X.nodeValue===G?X=null:(G=u3(G),X=u3(X.nodeValue)===G?null:X.nodeValue),X):null}function XO(X){X=X.nextSibling;for(var G=0;X;){if(X.nodeType===8){var W=X.data;if(W===ZA){if(G===0)return A9(X.nextSibling);G--}else W!==JA&&W!==Hz&&W!==qX||G++}X=X.nextSibling}return null}function YO(X){X=X.previousSibling;for(var G=0;X;){if(X.nodeType===8){var W=X.data;if(W===JA||W===Hz||W===qX){if(G===0)return X;G--}else W===ZA&&G++}X=X.previousSibling}return null}function GO(X){iY(X)}function WF(X){iY(X)}function $O(X,G,W,U,N){switch(N&&e1(X,U.ancestorInfo),G=dY(W),X){case"html":if(X=G.documentElement,!X)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return X;case"head":if(X=G.head,!X)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return X;case"body":if(X=G.body,!X)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return X;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function YV(X,G,W,U){if(!W[_9]&&Y1(W)){var N=W.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",N,N,N)}switch(X){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(N=W.attributes;N.length;)W.removeAttributeNode(N[0]);f7(W,X,G),W[b6]=U,W[M9]=G}function mY(X){for(var G=X.attributes;G.length;)X.removeAttributeNode(G[0]);Z2(X)}function jH(X){return typeof X.getRootNode==="function"?X.getRootNode():X.nodeType===9?X:X.ownerDocument}function HO(X,G,W){var U=gq;if(U&&typeof G==="string"&&G){var N=X5(G);N='link[rel="'+X+'"][href="'+N+'"]',typeof W==="string"&&(N+='[crossorigin="'+W+'"]'),gC.has(N)||(gC.add(N),X={rel:X,crossOrigin:W,href:G},U.querySelector(N)===null&&(G=U.createElement("link"),f7(G,"link",X),Z0(G),U.head.appendChild(G)))}}function tQ(X,G,W,U){var N=(N=G7.current)?jH(N):null;if(!N)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(X){case"meta":case"title":return null;case"style":return typeof W.precedence==="string"&&typeof W.href==="string"?(W=eQ(W.href),G=Q0(N).hoistableStyles,U=G.get(W),U||(U={type:"style",instance:null,count:0,state:null},G.set(W,U)),U):{type:"void",instance:null,count:0,state:null};case"link":if(W.rel==="stylesheet"&&typeof W.href==="string"&&typeof W.precedence==="string"){X=eQ(W.href);var _=Q0(N).hoistableStyles,P=_.get(X);if(!P&&(N=N.ownerDocument||N,P={type:"stylesheet",instance:null,count:0,state:{loading:sH,preload:null}},_.set(X,P),(_=N.querySelector(cY(X)))&&!_._p&&(P.instance=_,P.state.loading=Wz|t3),!e3.has(X))){var s={rel:"preload",as:"style",href:W.href,crossOrigin:W.crossOrigin,integrity:W.integrity,media:W.media,hrefLang:W.hrefLang,referrerPolicy:W.referrerPolicy};e3.set(X,s),_||KF(N,X,s,P.state)}if(G&&U===null)throw W=`

  - `+DH(G)+`
  + `+DH(W),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+W);return P}if(G&&U!==null)throw W=`

  - `+DH(G)+`
  + `+DH(W),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+W);return null;case"script":return G=W.async,W=W.src,typeof W==="string"&&G&&typeof G!=="function"&&typeof G!=="symbol"?(W=JX(W),G=Q0(N).hoistableScripts,U=G.get(W),U||(U={type:"script",instance:null,count:0,state:null},G.set(W,U)),U):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+X+'". this is a bug in React.')}}function DH(X){var G=0,W="<link";return typeof X.rel==="string"?(G++,W+=' rel="'+X.rel+'"'):v5.call(X,"rel")&&(G++,W+=' rel="'+(X.rel===null?"null":"invalid type "+typeof X.rel)+'"'),typeof X.href==="string"?(G++,W+=' href="'+X.href+'"'):v5.call(X,"href")&&(G++,W+=' href="'+(X.href===null?"null":"invalid type "+typeof X.href)+'"'),typeof X.precedence==="string"?(G++,W+=' precedence="'+X.precedence+'"'):v5.call(X,"precedence")&&(G++,W+=" precedence={"+(X.precedence===null?"null":"invalid type "+typeof X.precedence)+"}"),Object.getOwnPropertyNames(X).length>G&&(W+=" ..."),W+" />"}function eQ(X){return'href="'+X5(X)+'"'}function cY(X){return'link[rel="stylesheet"]['+X+"]"}function WO(X){return h0({},X,{"data-precedence":X.precedence,precedence:null})}function KF(X,G,W,U){X.querySelector('link[rel="preload"][as="style"]['+G+"]")?U.loading=Wz:(G=X.createElement("link"),U.preload=G,G.addEventListener("load",function(){return U.loading|=Wz}),G.addEventListener("error",function(){return U.loading|=TC}),f7(G,"link",W),Z0(G),X.head.appendChild(G))}function JX(X){return'[src="'+X5(X)+'"]'}function pY(X){return"script[async]"+X}function KO(X,G,W){if(G.count++,G.instance===null)switch(G.type){case"style":var U=X.querySelector('style[data-href~="'+X5(W.href)+'"]');if(U)return G.instance=U,Z0(U),U;var N=h0({},W,{"data-href":W.href,"data-precedence":W.precedence,href:null,precedence:null});return U=(X.ownerDocument||X).createElement("style"),Z0(U),f7(U,"style",N),nB(U,W.precedence,X),G.instance=U;case"stylesheet":N=eQ(W.href);var _=X.querySelector(cY(N));if(_)return G.state.loading|=t3,G.instance=_,Z0(_),_;U=WO(W),(N=e3.get(N))&&aB(U,N),_=(X.ownerDocument||X).createElement("link"),Z0(_);var P=_;return P._p=new Promise(function(s,W1){P.onload=s,P.onerror=W1}),f7(_,"link",U),G.state.loading|=t3,nB(_,W.precedence,X),G.instance=_;case"script":if(_=JX(W.src),N=X.querySelector(pY(_)))return G.instance=N,Z0(N),N;if(U=W,N=e3.get(_))U=h0({},W),sB(U,N);return X=X.ownerDocument||X,N=X.createElement("script"),Z0(N),f7(N,"link",U),X.head.appendChild(N),G.instance=N;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+G.type+'". this is a bug in React.')}else G.type==="stylesheet"&&(G.state.loading&t3)===sH&&(U=G.instance,G.state.loading|=t3,nB(U,W.precedence,X));return G.instance}function nB(X,G,W){for(var U=W.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=U.length?U[U.length-1]:null,_=N,P=0;P<U.length;P++){var s=U[P];if(s.dataset.precedence===G)_=s;else if(_!==N)break}_?_.parentNode.insertBefore(X,_.nextSibling):(G=W.nodeType===9?W.head:W,G.insertBefore(X,G.firstChild))}function aB(X,G){X.crossOrigin==null&&(X.crossOrigin=G.crossOrigin),X.referrerPolicy==null&&(X.referrerPolicy=G.referrerPolicy),X.title==null&&(X.title=G.title)}function sB(X,G){X.crossOrigin==null&&(X.crossOrigin=G.crossOrigin),X.referrerPolicy==null&&(X.referrerPolicy=G.referrerPolicy),X.integrity==null&&(X.integrity=G.integrity)}function BO(X,G,W){if(XA===null){var U=new Map,N=XA=new Map;N.set(W,U)}else N=XA,U=N.get(W),U||(U=new Map,N.set(W,U));if(U.has(X))return U;U.set(X,null),W=W.getElementsByTagName(X);for(N=0;N<W.length;N++){var _=W[N];if(!(_[kO]||_[b6]||X==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!==Gq){var P=_.getAttribute(G)||"";P=X+P;var s=U.get(P);s?s.push(_):U.set(P,[_])}}return U}function qO(X,G,W){X=X.ownerDocument||X,X.head.insertBefore(W,G==="title"?X.querySelector("head > title"):null)}function BF(X,G,W){var U=!W.ancestorInfo.containerTagInScope;if(W.context===Pq||G.itemProp!=null)return!U||G.itemProp==null||X!=="meta"&&X!=="title"&&X!=="style"&&X!=="link"&&X!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",X,X),!1;switch(X){case"meta":case"title":return!0;case"style":if(typeof G.precedence!=="string"||typeof G.href!=="string"||G.href===""){U&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""||G.onLoad||G.onError){if(G.rel==="stylesheet"&&typeof G.precedence==="string"){X=G.href;var{onError:N,disabled:_}=G;W=[],G.onLoad&&W.push("`onLoad`"),N&&W.push("`onError`"),_!=null&&W.push("`disabled`"),N=oL(W,"and"),N+=W.length===1?" prop":" props",_=W.length===1?"an "+N:"the "+N,W.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',X,_,N)}U&&(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(G.onError||G.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(G.rel){case"stylesheet":return X=G.precedence,G=G.disabled,typeof X!=="string"&&U&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof X==="string"&&G==null;default:return!0}case"script":if(X=G.async&&typeof G.async!=="function"&&typeof G.async!=="symbol",!X||G.onLoad||G.onError||!G.src||typeof G.src!=="string"){U&&(X?G.onLoad||G.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":U&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",X)}return!1}function UO(X){return X.type==="stylesheet"&&(X.state.loading&PC)===sH?!1:!0}function GV(){}function qF(X,G,W){if(Kz===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var U=Kz;if(G.type==="stylesheet"&&(typeof W.media!=="string"||matchMedia(W.media).matches!==!1)&&(G.state.loading&t3)===sH){if(G.instance===null){var N=eQ(W.href),_=X.querySelector(cY(N));if(_){X=_._p,X!==null&&typeof X==="object"&&typeof X.then==="function"&&(U.count++,U=wH.bind(U),X.then(U,U)),G.state.loading|=t3,G.instance=_,Z0(_);return}_=X.ownerDocument||X,W=WO(W),(N=e3.get(N))&&aB(W,N),_=_.createElement("link"),Z0(_);var P=_;P._p=new Promise(function(s,W1){P.onload=s,P.onerror=W1}),f7(_,"link",W),G.instance=_}U.stylesheets===null&&(U.stylesheets=new Map),U.stylesheets.set(G,X),(X=G.state.preload)&&(G.state.loading&PC)===sH&&(U.count++,G=wH.bind(U),X.addEventListener("load",G),X.addEventListener("error",G))}}function UF(){if(Kz===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var X=Kz;return X.stylesheets&&X.count===0&&oB(X,X.stylesheets),0<X.count?function(G){var W=setTimeout(function(){if(X.stylesheets&&oB(X,X.stylesheets),X.unsuspend){var U=X.unsuspend;X.unsuspend=null,U()}},60000);return X.unsuspend=G,function(){X.unsuspend=null,clearTimeout(W)}}:null}function wH(){if(this.count--,this.count===0){if(this.stylesheets)oB(this,this.stylesheets);else if(this.unsuspend){var X=this.unsuspend;this.unsuspend=null,X()}}}function oB(X,G){X.stylesheets=null,X.unsuspend!==null&&(X.count++,YA=new Map,G.forEach(LF,X),YA=null,wH.call(X))}function LF(X,G){if(!(G.state.loading&t3)){var W=YA.get(X);if(W)var U=W.get(OI);else{W=new Map,YA.set(X,W);for(var N=X.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<N.length;_++){var P=N[_];if(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")W.set(P.dataset.precedence,P),U=P}U&&W.set(OI,U)}N=G.instance,P=N.getAttribute("data-precedence"),_=W.get(P)||U,_===U&&W.set(OI,N),W.set(P,N),this.count++,U=wH.bind(this),N.addEventListener("load",U),N.addEventListener("error",U),_?_.parentNode.insertBefore(N,_.nextSibling):(X=X.nodeType===9?X.head:X,X.insertBefore(N,X.firstChild)),G.state.loading|=t3}}function OF(X,G,W,U,N,_,P,s){this.tag=1,this.containerInfo=X,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=aH,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P1(0),this.hiddenUpdates=P1(null),this.identifierPrefix=U,this.onUncaughtError=N,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,X=this.pendingUpdatersLaneMap=[];for(G=0;31>G;G++)X.push(new Set);this._debugRootType=W?"hydrateRoot()":"createRoot()"}function LO(X,G,W,U,N,_,P,s,W1,U1,l1,Y0){return X=new OF(X,G,W,P,s,W1,U1,Y0),G=Ms,_===!0&&(G|=V9|uJ),i9&&(G|=Z9),_=F(3,null,null,G),X.current=_,_.stateNode=X,G=TZ(),h9(G),X.pooledCache=G,h9(G),_.memoizedState={element:U,isDehydrated:W,cache:G},H5(_),X}function OO(X){if(!X)return oY;return X=oY,X}function rB(X,G,W,U,N,_){if($7&&typeof $7.onScheduleFiberRoot==="function")try{$7.onScheduleFiberRoot(p9,U,W)}catch(P){l9||(l9=!0,console.error("React instrumentation encountered an error: %s",P))}p0!==null&&typeof p0.markRenderScheduled==="function"&&p0.markRenderScheduled(G),N=OO(N),U.context===null?U.context=N:U.pendingContext=N,tZ&&c8!==null&&!dC&&(dC=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,S(c8)||"Unknown")),U=K4(G),U.payload={element:W},_=_===void 0?null:_,_!==null&&(typeof _!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",_),U.callback=_),W=N6(X,U,G),W!==null&&(k4(W,X,G),T3(W,X,G))}function zO(X,G){if(X=X.memoizedState,X!==null&&X.dehydrated!==null){var W=X.retryLane;X.retryLane=W!==0&&W<G?W:G}}function tB(X,G){zO(X,G),(X=X.alternate)&&zO(X,G)}function NO(X){if(X.tag===13){var G=b7(X,67108864);G!==null&&k4(G,X,67108864),tB(X,67108864)}}function zF(){return c8}function NF(){for(var X=new Map,G=1,W=0;31>W;W++){var U=g1(G);X.set(G,U),G*=2}return X}function FF(X,G,W,U){var N=b1.T;b1.T=null;var _=P0.p;try{P0.p=J9,eB(X,G,W,U)}finally{P0.p=_,b1.T=N}}function AF(X,G,W,U){var N=b1.T;b1.T=null;var _=P0.p;try{P0.p=M8,eB(X,G,W,U)}finally{P0.p=_,b1.T=N}}function eB(X,G,W,U){if($A){var N=Jq(U);if(N===null)aQ(X,G,U,HA,W),AO(X,U);else if(MF(N,X,G,W,U))U.stopPropagation();else if(AO(X,U),G&4&&-1<rs.indexOf(X)){for(;N!==null;){var _=Y1(N);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=u1(_.pendingLanes);if(P!==0){var s=_;s.pendingLanes|=2;for(s.entangledLanes|=2;P;){var W1=1<<31-F6(P);s.entanglements[1]|=W1,P&=~W1}N8(_),(Y4&(t9|pJ))===p8&&(pF=_4()+MC,sZ(0,!1))}}break;case 13:s=b7(_,2),s!==null&&k4(s,_,2),lZ(),tB(_,2)}if(_=Jq(U),_===null&&aQ(X,G,U,HA,W),_===N)break;N=_}N!==null&&U.stopPropagation()}else aQ(X,G,U,null,W)}}function Jq(X){return X=s7(X),Zq(X)}function Zq(X){if(HA=null,X=t2(X),X!==null){var G=D(X);if(G===null)X=null;else{var W=G.tag;if(W===13){if(X=w(G),X!==null)return X;X=null}else if(W===3){if(G.stateNode.current.memoizedState.isDehydrated)return G.tag===3?G.stateNode.containerInfo:null;X=null}else G!==X&&(X=null)}}return HA=X,null}function FO(X){switch(X){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return J9;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return M8;case"message":switch(m8()){case hJ:return J9;case nY:return M8;case A8:case CH:return _8;case wO:return QX;default:return _8}default:return _8}}function AO(X,G){switch(X){case"focusin":case"focusout":$G=null;break;case"dragenter":case"dragleave":HG=null;break;case"mouseover":case"mouseout":WG=null;break;case"pointerover":case"pointerout":qz.delete(G.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uz.delete(G.pointerId)}}function lY(X,G,W,U,N,_){if(X===null||X.nativeEvent!==_)return X={blockedOn:G,domEventName:W,eventSystemFlags:U,nativeEvent:_,targetContainers:[N]},G!==null&&(G=Y1(G),G!==null&&NO(G)),X;return X.eventSystemFlags|=U,G=X.targetContainers,N!==null&&G.indexOf(N)===-1&&G.push(N),X}function MF(X,G,W,U,N){switch(G){case"focusin":return $G=lY($G,X,G,W,U,N),!0;case"dragenter":return HG=lY(HG,X,G,W,U,N),!0;case"mouseover":return WG=lY(WG,X,G,W,U,N),!0;case"pointerover":var _=N.pointerId;return qz.set(_,lY(qz.get(_)||null,X,G,W,U,N)),!0;case"gotpointercapture":return _=N.pointerId,Uz.set(_,lY(Uz.get(_)||null,X,G,W,U,N)),!0}return!1}function MO(X){var G=t2(X.target);if(G!==null){var W=D(G);if(W!==null){if(G=W.tag,G===13){if(G=w(W),G!==null){X.blockedOn=G,W2(X.priority,function(){if(W.tag===13){var U=e6(W);U=H0(U);var N=b7(W,U);N!==null&&k4(N,W,U),tB(W,U)}});return}}else if(G===3&&W.stateNode.current.memoizedState.isDehydrated){X.blockedOn=W.tag===3?W.stateNode.containerInfo:null;return}}}X.blockedOn=null}function EH(X){if(X.blockedOn!==null)return!1;for(var G=X.targetContainers;0<G.length;){var W=Jq(X.nativeEvent);if(W===null){W=X.nativeEvent;var U=new W.constructor(W.type,W),N=U;RO!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),RO=N,W.target.dispatchEvent(U),RO===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),RO=null}else return G=Y1(W),G!==null&&NO(G),X.blockedOn=W,!1;G.shift()}return!0}function _O(X,G,W){EH(X)&&W.delete(G)}function _F(){zI=!1,$G!==null&&EH($G)&&($G=null),HG!==null&&EH(HG)&&(HG=null),WG!==null&&EH(WG)&&(WG=null),qz.forEach(_O),Uz.forEach(_O)}function kH(X,G){X.blockedOn===G&&(X.blockedOn=null,zI||(zI=!0,d5.unstable_scheduleCallback(d5.unstable_NormalPriority,_F)))}function VO(X){WA!==X&&(WA=X,d5.unstable_scheduleCallback(d5.unstable_NormalPriority,function(){WA===X&&(WA=null);for(var G=0;G<X.length;G+=3){var W=X[G],U=X[G+1],N=X[G+2];if(typeof U!=="function")if(Zq(U||W)===null)continue;else break;var _=Y1(W);_!==null&&(X.splice(G,3),G-=3,W={pending:!0,data:N,method:W.method,action:U},Object.freeze(W),w$(_,W,U,N))}}))}function iY(X){function G(W1){return kH(W1,X)}$G!==null&&kH($G,X),HG!==null&&kH(HG,X),WG!==null&&kH(WG,X),qz.forEach(G),Uz.forEach(G);for(var W=0;W<KG.length;W++){var U=KG[W];U.blockedOn===X&&(U.blockedOn=null)}for(;0<KG.length&&(W=KG[0],W.blockedOn===null);)MO(W),W.blockedOn===null&&KG.shift();if(W=(X.ownerDocument||X).$$reactFormReplay,W!=null)for(U=0;U<W.length;U+=3){var N=W[U],_=W[U+1],P=N[M9]||null;if(typeof _==="function")P||VO(W);else if(P){var s=null;if(_&&_.hasAttribute("formAction")){if(N=_,P=_[M9]||null)s=P.formAction;else if(Zq(N)!==null)continue}else s=P.action;typeof s==="function"?W[U+1]=s:(W.splice(U,3),U-=3),VO(W)}}}function Qq(X){this._internalRoot=X}function xH(X){this._internalRoot=X}function IO(X){X[_9]&&(X._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var h0=Object.assign,jO=Symbol.for("react.element"),B4=Symbol.for("react.transitional.element"),x4=Symbol.for("react.portal"),r4=Symbol.for("react.fragment"),d8=Symbol.for("react.strict_mode"),Xq=Symbol.for("react.profiler"),DO=Symbol.for("react.provider"),RH=Symbol.for("react.consumer"),f=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),S1=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),i1=Symbol.for("react.lazy"),O0=Symbol.for("react.activity"),S0=Symbol.for("react.memo_cache_sentinel"),o0=Symbol.iterator,R2=Symbol.for("react.client.reference"),J2=Array.isArray,b1=yq.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P0=_I.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,h5=Object.freeze({pending:!1,data:null,method:null,action:null}),v2=[],w2=[],C2=-1,E5=d(null),X4=d(null),G7=d(null),F4=d(null),v5=Object.prototype.hasOwnProperty,F7=d5.unstable_scheduleCallback,L5=d5.unstable_cancelCallback,A7=d5.unstable_shouldYield,m3=d5.unstable_requestPaint,_4=d5.unstable_now,m8=d5.unstable_getCurrentPriorityLevel,hJ=d5.unstable_ImmediatePriority,nY=d5.unstable_UserBlockingPriority,A8=d5.unstable_NormalPriority,CH=d5.unstable_LowPriority,wO=d5.unstable_IdlePriority,V4=d5.log,S7=d5.unstable_setDisableYieldValue,p9=null,$7=null,p0=null,l9=!1,i9=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",F6=Math.clz32?Math.clz32:D1,EO=Math.log,$V=Math.LN2,aY=256,ZX=4194304,J9=2,M8=8,_8=32,QX=268435456,rZ=Math.random().toString(36).slice(2),b6="__reactFiber$"+rZ,M9="__reactProps$"+rZ,_9="__reactContainer$"+rZ,n9="__reactEvents$"+rZ,Da="__reactListeners$"+rZ,wa="__reactHandles$"+rZ,Vx="__reactResources$"+rZ,kO="__reactMarker$"+rZ,Ix=new Set,bH={},HV={},Ea={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jx={},Dx={},xO=0,wx,Ex,kx,xx,Rx,Cx,bx;z0.__reactDisabledLog=!0;var WV,vx,KV=!1,BV=new(typeof WeakMap==="function"?WeakMap:Map),c8=null,tZ=!1,xa=/[\n"\\]/g,fx=!1,Sx=!1,Tx=!1,Px=!1,gx=!1,yx=!1,hx=["value","defaultValue"],ux=!1,dx=/["'&<>\n\t]|^\s|\s$/,Ra="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),mx="applet caption html table td th marquee object template foreignObject desc title".split(" "),Ca=mx.concat(["button"]),ba="dd dt li option optgroup p rp rt".split(" "),cx={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},VF={},qV={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},px=/([A-Z])/g,lx=/^ms-/,va=/^(?:webkit|moz|o)[A-Z]/,fa=/^-ms-/,Sa=/-(.)/g,ix=/;\s*$/,Yq={},UV={},nx=!1,ax=!1,sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),IF="http://www.w3.org/1998/Math/MathML",Gq="http://www.w3.org/2000/svg",Ta=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jF={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},ox={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},$q={},Pa=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ga=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rx=!1,a9={},tx=/^on./,ya=/^on[^A-Z]/,ha=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,RO=null,Hq=null,Wq=null,LV=!1,eZ=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OV=!1;if(eZ)try{var CO={};Object.defineProperty(CO,"passive",{get:function(){OV=!0}}),window.addEventListener("test",CO,CO),window.removeEventListener("test",CO,CO)}catch(X){OV=!1}var sY=null,zV=null,DF=null,vH={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(X){return X.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wF=g5(vH),bO=h0({},vH,{view:0,detail:0}),ma=g5(bO),NV,FV,vO,EF=h0({},bO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a4,button:0,buttons:0,relatedTarget:function(X){return X.relatedTarget===void 0?X.fromElement===X.srcElement?X.toElement:X.fromElement:X.relatedTarget},movementX:function(X){if("movementX"in X)return X.movementX;return X!==vO&&(vO&&X.type==="mousemove"?(NV=X.screenX-vO.screenX,FV=X.screenY-vO.screenY):FV=NV=0,vO=X),NV},movementY:function(X){return"movementY"in X?X.movementY:FV}}),ex=g5(EF),ca=h0({},EF,{dataTransfer:0}),pa=g5(ca),la=h0({},bO,{relatedTarget:0}),AV=g5(la),ia=h0({},vH,{animationName:0,elapsedTime:0,pseudoElement:0}),na=g5(ia),aa=h0({},vH,{clipboardData:function(X){return"clipboardData"in X?X.clipboardData:window.clipboardData}}),sa=g5(aa),oa=h0({},vH,{data:0}),JR=g5(oa),ra=JR,ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ea={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Zs=h0({},bO,{key:function(X){if(X.key){var G=ta[X.key]||X.key;if(G!=="Unidentified")return G}return X.type==="keypress"?(X=N7(X),X===13?"Enter":String.fromCharCode(X)):X.type==="keydown"||X.type==="keyup"?ea[X.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a4,charCode:function(X){return X.type==="keypress"?N7(X):0},keyCode:function(X){return X.type==="keydown"||X.type==="keyup"?X.keyCode:0},which:function(X){return X.type==="keypress"?N7(X):X.type==="keydown"||X.type==="keyup"?X.keyCode:0}}),Qs=g5(Zs),Xs=h0({},EF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZR=g5(Xs),Ys=h0({},bO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a4}),Gs=g5(Ys),$s=h0({},vH,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hs=g5($s),Ws=h0({},EF,{deltaX:function(X){return"deltaX"in X?X.deltaX:("wheelDeltaX"in X)?-X.wheelDeltaX:0},deltaY:function(X){return"deltaY"in X?X.deltaY:("wheelDeltaY"in X)?-X.wheelDeltaY:("wheelDelta"in X)?-X.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=g5(Ws),Bs=h0({},vH,{newState:0,oldState:0}),qs=g5(Bs),Us=[9,13,27,32],QR=229,MV=eZ&&"CompositionEvent"in window,fO=null;eZ&&"documentMode"in document&&(fO=document.documentMode);var Ls=eZ&&"TextEvent"in window&&!fO,XR=eZ&&(!MV||fO&&8<fO&&11>=fO),YR=32,GR=String.fromCharCode(YR),$R=!1,Kq=!1,Os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},SO=null,TO=null,HR=!1;eZ&&(HR=DZ("input")&&(!document.documentMode||9<document.documentMode));var s9=typeof Object.is==="function"?Object.is:eG,zs=eZ&&"documentMode"in document&&11>=document.documentMode,Bq=null,_V=null,PO=null,VV=!1,qq={animationend:f9("Animation","AnimationEnd"),animationiteration:f9("Animation","AnimationIteration"),animationstart:f9("Animation","AnimationStart"),transitionrun:f9("Transition","TransitionRun"),transitionstart:f9("Transition","TransitionStart"),transitioncancel:f9("Transition","TransitionCancel"),transitionend:f9("Transition","TransitionEnd")},IV={},WR={};eZ&&(WR=document.createElement("div").style,("AnimationEvent"in window)||(delete qq.animationend.animation,delete qq.animationiteration.animation,delete qq.animationstart.animation),("TransitionEvent"in window)||delete qq.transitionend.transition);var KR=b8("animationend"),BR=b8("animationiteration"),qR=b8("animationstart"),Ns=b8("transitionrun"),Fs=b8("transitionstart"),As=b8("transitioncancel"),UR=b8("transitionend"),LR=new Map,jV="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jV.push("scrollEnd");var DV=new WeakMap,kF=1,XX=2,c3=[],Uq=0,wV=0,oY={};Object.freeze(oY);var p3=null,Lq=null,h4=0,Ms=1,Z9=2,V9=8,uJ=16,OR=64,zR=!1;try{var NR=Object.preventExtensions({});}catch(X){zR=!0}var Oq=[],zq=0,xF=null,RF=0,l3=[],i3=0,fH=null,YX=1,GX="",o9=null,T7=null,u5=!1,$X=!1,n3=null,SH=null,JQ=!1,EV=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),FR=0;if(typeof performance==="object"&&typeof performance.now==="function")var _s=performance,AR=function(){return _s.now()};else{var Vs=Date;AR=function(){return Vs.now()}}var kV=d(null),xV=d(null),MR={},CF=null,Nq=null,Fq=!1,Is=typeof AbortController<"u"?AbortController:function(){var X=[],G=this.signal={aborted:!1,addEventListener:function(W,U){X.push(U)}};this.abort=function(){G.aborted=!0,X.forEach(function(W){return W()})}},js=d5.unstable_scheduleCallback,Ds=d5.unstable_NormalPriority,A6={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},Aq=d5.unstable_now,_R=-0,bF=-0,V8=-1.1,TH=-0,vF=!1,fF=!1,gO=null,RV=0,PH=0,Mq=null,VR=b1.S;b1.S=function(X,G){typeof G==="object"&&G!==null&&typeof G.then==="function"&&sX(X,G),VR!==null&&VR(X,G)};var gH=d(null),dJ={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},yO=[],hO=[],uO=[],dO=[],mO=[],cO=[],yH=new Set;dJ.recordUnsafeLifecycleWarnings=function(X,G){yH.has(X.type)||(typeof G.componentWillMount==="function"&&G.componentWillMount.__suppressDeprecationWarning!==!0&&yO.push(X),X.mode&V9&&typeof G.UNSAFE_componentWillMount==="function"&&hO.push(X),typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&uO.push(X),X.mode&V9&&typeof G.UNSAFE_componentWillReceiveProps==="function"&&dO.push(X),typeof G.componentWillUpdate==="function"&&G.componentWillUpdate.__suppressDeprecationWarning!==!0&&mO.push(X),X.mode&V9&&typeof G.UNSAFE_componentWillUpdate==="function"&&cO.push(X))},dJ.flushPendingUnsafeLifecycleWarnings=function(){var X=new Set;0<yO.length&&(yO.forEach(function(s){X.add(S(s)||"Component"),yH.add(s.type)}),yO=[]);var G=new Set;0<hO.length&&(hO.forEach(function(s){G.add(S(s)||"Component"),yH.add(s.type)}),hO=[]);var W=new Set;0<uO.length&&(uO.forEach(function(s){W.add(S(s)||"Component"),yH.add(s.type)}),uO=[]);var U=new Set;0<dO.length&&(dO.forEach(function(s){U.add(S(s)||"Component"),yH.add(s.type)}),dO=[]);var N=new Set;0<mO.length&&(mO.forEach(function(s){N.add(S(s)||"Component"),yH.add(s.type)}),mO=[]);var _=new Set;if(0<cO.length&&(cO.forEach(function(s){_.add(S(s)||"Component"),yH.add(s.type)}),cO=[]),0<G.size){var P=z(G);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,P)}0<U.size&&(P=z(U),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,P)),0<_.size&&(P=z(_),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,P)),0<X.size&&(P=z(X),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,P)),0<W.size&&(P=z(W),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,P)),0<N.size&&(P=z(N),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,P))};var SF=new Map,IR=new Set;dJ.recordLegacyContextWarning=function(X,G){var W=null;for(var U=X;U!==null;)U.mode&V9&&(W=U),U=U.return;W===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!IR.has(X.type)&&(U=SF.get(W),X.type.contextTypes!=null||X.type.childContextTypes!=null||G!==null&&typeof G.getChildContext==="function")&&(U===void 0&&(U=[],SF.set(W,U)),U.push(X))},dJ.flushLegacyContextWarning=function(){SF.forEach(function(X){if(X.length!==0){var G=X[0],W=new Set;X.forEach(function(N){W.add(S(N)||"Component"),IR.add(N.type)});var U=z(W);s1(G,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,U)})}})},dJ.discardPendingWarnings=function(){yO=[],hO=[],uO=[],dO=[],mO=[],cO=[],SF=new Map};var pO=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),jR=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),TF=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),CV={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},lO=null,PF=!1,a3=0,s3=1,r9=2,Q9=4,M6=8,DR=0,wR=1,ER=2,bV=3,rY=!1,kR=!1,vV=null,fV=!1,_q=d(null),gF=d(0),Vq,xR=new Set,RR=new Set,SV=new Set,CR=new Set,tY=0,a2=null,I4=null,$6=null,yF=!1,Iq=!1,hH=!1,hF=0,iO=0,HX=null,ws=0,Es=25,X0=null,o3=null,WX=-1,nO=!1,uF={readContext:s5,use:S8,useCallback:o4,useContext:o4,useEffect:o4,useImperativeHandle:o4,useLayoutEffect:o4,useInsertionEffect:o4,useMemo:o4,useReducer:o4,useRef:o4,useState:o4,useDebugValue:o4,useDeferredValue:o4,useTransition:o4,useSyncExternalStore:o4,useId:o4,useHostTransitionStatus:o4,useFormState:o4,useActionState:o4,useOptimistic:o4,useMemoCache:o4,useCacheRefresh:o4},TV=null,bR=null,PV=null,vR=null,ZQ=null,mJ=null,dF=null;TV={readContext:function(X){return s5(X)},use:S8,useCallback:function(X,G){return X0="useCallback",W5(),vJ(G),V$(X,G)},useContext:function(X){return X0="useContext",W5(),s5(X)},useEffect:function(X,G){return X0="useEffect",W5(),vJ(G),WY(X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",W5(),vJ(W),_$(X,G,W)},useInsertionEffect:function(X,G){X0="useInsertionEffect",W5(),vJ(G),P3(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",W5(),vJ(G),KY(X,G)},useMemo:function(X,G){X0="useMemo",W5(),vJ(G);var W=b1.H;b1.H=ZQ;try{return I$(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",W5();var U=b1.H;b1.H=ZQ;try{return QY(X,G,W)}finally{b1.H=U}},useRef:function(X){return X0="useRef",W5(),M$(X)},useState:function(X){X0="useState",W5();var G=b1.H;b1.H=ZQ;try{return YY(X)}finally{b1.H=G}},useDebugValue:function(){X0="useDebugValue",W5()},useDeferredValue:function(X,G){return X0="useDeferredValue",W5(),UY(X,G)},useTransition:function(){return X0="useTransition",W5(),E$()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",W5(),K$(X,G,W)},useId:function(){return X0="useId",W5(),x$()},useFormState:function(X,G){return X0="useFormState",W5(),tX(),uZ(X,G)},useActionState:function(X,G){return X0="useActionState",W5(),uZ(X,G)},useOptimistic:function(X){return X0="useOptimistic",W5(),L$(X)},useHostTransitionStatus:TJ,useMemoCache:fJ,useCacheRefresh:function(){return X0="useCacheRefresh",W5(),R$()}},bR={readContext:function(X){return s5(X)},use:S8,useCallback:function(X,G){return X0="useCallback",C0(),V$(X,G)},useContext:function(X){return X0="useContext",C0(),s5(X)},useEffect:function(X,G){return X0="useEffect",C0(),WY(X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",C0(),_$(X,G,W)},useInsertionEffect:function(X,G){X0="useInsertionEffect",C0(),P3(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",C0(),KY(X,G)},useMemo:function(X,G){X0="useMemo",C0();var W=b1.H;b1.H=ZQ;try{return I$(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",C0();var U=b1.H;b1.H=ZQ;try{return QY(X,G,W)}finally{b1.H=U}},useRef:function(X){return X0="useRef",C0(),M$(X)},useState:function(X){X0="useState",C0();var G=b1.H;b1.H=ZQ;try{return YY(X)}finally{b1.H=G}},useDebugValue:function(){X0="useDebugValue",C0()},useDeferredValue:function(X,G){return X0="useDeferredValue",C0(),UY(X,G)},useTransition:function(){return X0="useTransition",C0(),E$()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",C0(),K$(X,G,W)},useId:function(){return X0="useId",C0(),x$()},useActionState:function(X,G){return X0="useActionState",C0(),uZ(X,G)},useFormState:function(X,G){return X0="useFormState",C0(),tX(),uZ(X,G)},useOptimistic:function(X){return X0="useOptimistic",C0(),L$(X)},useHostTransitionStatus:TJ,useMemoCache:fJ,useCacheRefresh:function(){return X0="useCacheRefresh",C0(),R$()}},PV={readContext:function(X){return s5(X)},use:S8,useCallback:function(X,G){return X0="useCallback",C0(),BY(X,G)},useContext:function(X){return X0="useContext",C0(),s5(X)},useEffect:function(X,G){X0="useEffect",C0(),C6(2048,M6,X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",C0(),PQ(X,G,W)},useInsertionEffect:function(X,G){return X0="useInsertionEffect",C0(),C6(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",C0(),C6(4,Q9,X,G)},useMemo:function(X,G){X0="useMemo",C0();var W=b1.H;b1.H=mJ;try{return qY(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",C0();var U=b1.H;b1.H=mJ;try{return yZ(X,G,W)}finally{b1.H=U}},useRef:function(){return X0="useRef",C0(),y5().memoizedState},useState:function(){X0="useState",C0();var X=b1.H;b1.H=mJ;try{return yZ(d9)}finally{b1.H=X}},useDebugValue:function(){X0="useDebugValue",C0()},useDeferredValue:function(X,G){return X0="useDeferredValue",C0(),RK(X,G)},useTransition:function(){return X0="useTransition",C0(),k$()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",C0(),XY(X,G,W)},useId:function(){return X0="useId",C0(),y5().memoizedState},useFormState:function(X){return X0="useFormState",C0(),tX(),GY(X)},useActionState:function(X){return X0="useActionState",C0(),GY(X)},useOptimistic:function(X,G){return X0="useOptimistic",C0(),jK(X,G)},useHostTransitionStatus:TJ,useMemoCache:fJ,useCacheRefresh:function(){return X0="useCacheRefresh",C0(),y5().memoizedState}},vR={readContext:function(X){return s5(X)},use:S8,useCallback:function(X,G){return X0="useCallback",C0(),BY(X,G)},useContext:function(X){return X0="useContext",C0(),s5(X)},useEffect:function(X,G){X0="useEffect",C0(),C6(2048,M6,X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",C0(),PQ(X,G,W)},useInsertionEffect:function(X,G){return X0="useInsertionEffect",C0(),C6(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",C0(),C6(4,Q9,X,G)},useMemo:function(X,G){X0="useMemo",C0();var W=b1.H;b1.H=dF;try{return qY(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",C0();var U=b1.H;b1.H=dF;try{return hZ(X,G,W)}finally{b1.H=U}},useRef:function(){return X0="useRef",C0(),y5().memoizedState},useState:function(){X0="useState",C0();var X=b1.H;b1.H=dF;try{return hZ(d9)}finally{b1.H=X}},useDebugValue:function(){X0="useDebugValue",C0()},useDeferredValue:function(X,G){return X0="useDeferredValue",C0(),CK(X,G)},useTransition:function(){return X0="useTransition",C0(),SK()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",C0(),XY(X,G,W)},useId:function(){return X0="useId",C0(),y5().memoizedState},useFormState:function(X){return X0="useFormState",C0(),tX(),$Y(X)},useActionState:function(X){return X0="useActionState",C0(),$Y(X)},useOptimistic:function(X,G){return X0="useOptimistic",C0(),DK(X,G)},useHostTransitionStatus:TJ,useMemoCache:fJ,useCacheRefresh:function(){return X0="useCacheRefresh",C0(),y5().memoizedState}},ZQ={readContext:function(X){return L(),s5(X)},use:function(X){return q(),S8(X)},useCallback:function(X,G){return X0="useCallback",q(),W5(),V$(X,G)},useContext:function(X){return X0="useContext",q(),W5(),s5(X)},useEffect:function(X,G){return X0="useEffect",q(),W5(),WY(X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",q(),W5(),_$(X,G,W)},useInsertionEffect:function(X,G){X0="useInsertionEffect",q(),W5(),P3(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",q(),W5(),KY(X,G)},useMemo:function(X,G){X0="useMemo",q(),W5();var W=b1.H;b1.H=ZQ;try{return I$(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",q(),W5();var U=b1.H;b1.H=ZQ;try{return QY(X,G,W)}finally{b1.H=U}},useRef:function(X){return X0="useRef",q(),W5(),M$(X)},useState:function(X){X0="useState",q(),W5();var G=b1.H;b1.H=ZQ;try{return YY(X)}finally{b1.H=G}},useDebugValue:function(){X0="useDebugValue",q(),W5()},useDeferredValue:function(X,G){return X0="useDeferredValue",q(),W5(),UY(X,G)},useTransition:function(){return X0="useTransition",q(),W5(),E$()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",q(),W5(),K$(X,G,W)},useId:function(){return X0="useId",q(),W5(),x$()},useFormState:function(X,G){return X0="useFormState",q(),W5(),uZ(X,G)},useActionState:function(X,G){return X0="useActionState",q(),W5(),uZ(X,G)},useOptimistic:function(X){return X0="useOptimistic",q(),W5(),L$(X)},useMemoCache:function(X){return q(),fJ(X)},useHostTransitionStatus:TJ,useCacheRefresh:function(){return X0="useCacheRefresh",W5(),R$()}},mJ={readContext:function(X){return L(),s5(X)},use:function(X){return q(),S8(X)},useCallback:function(X,G){return X0="useCallback",q(),C0(),BY(X,G)},useContext:function(X){return X0="useContext",q(),C0(),s5(X)},useEffect:function(X,G){X0="useEffect",q(),C0(),C6(2048,M6,X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",q(),C0(),PQ(X,G,W)},useInsertionEffect:function(X,G){return X0="useInsertionEffect",q(),C0(),C6(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",q(),C0(),C6(4,Q9,X,G)},useMemo:function(X,G){X0="useMemo",q(),C0();var W=b1.H;b1.H=mJ;try{return qY(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",q(),C0();var U=b1.H;b1.H=mJ;try{return yZ(X,G,W)}finally{b1.H=U}},useRef:function(){return X0="useRef",q(),C0(),y5().memoizedState},useState:function(){X0="useState",q(),C0();var X=b1.H;b1.H=mJ;try{return yZ(d9)}finally{b1.H=X}},useDebugValue:function(){X0="useDebugValue",q(),C0()},useDeferredValue:function(X,G){return X0="useDeferredValue",q(),C0(),RK(X,G)},useTransition:function(){return X0="useTransition",q(),C0(),k$()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",q(),C0(),XY(X,G,W)},useId:function(){return X0="useId",q(),C0(),y5().memoizedState},useFormState:function(X){return X0="useFormState",q(),C0(),GY(X)},useActionState:function(X){return X0="useActionState",q(),C0(),GY(X)},useOptimistic:function(X,G){return X0="useOptimistic",q(),C0(),jK(X,G)},useMemoCache:function(X){return q(),fJ(X)},useHostTransitionStatus:TJ,useCacheRefresh:function(){return X0="useCacheRefresh",C0(),y5().memoizedState}},dF={readContext:function(X){return L(),s5(X)},use:function(X){return q(),S8(X)},useCallback:function(X,G){return X0="useCallback",q(),C0(),BY(X,G)},useContext:function(X){return X0="useContext",q(),C0(),s5(X)},useEffect:function(X,G){X0="useEffect",q(),C0(),C6(2048,M6,X,G)},useImperativeHandle:function(X,G,W){return X0="useImperativeHandle",q(),C0(),PQ(X,G,W)},useInsertionEffect:function(X,G){return X0="useInsertionEffect",q(),C0(),C6(4,r9,X,G)},useLayoutEffect:function(X,G){return X0="useLayoutEffect",q(),C0(),C6(4,Q9,X,G)},useMemo:function(X,G){X0="useMemo",q(),C0();var W=b1.H;b1.H=mJ;try{return qY(X,G)}finally{b1.H=W}},useReducer:function(X,G,W){X0="useReducer",q(),C0();var U=b1.H;b1.H=mJ;try{return hZ(X,G,W)}finally{b1.H=U}},useRef:function(){return X0="useRef",q(),C0(),y5().memoizedState},useState:function(){X0="useState",q(),C0();var X=b1.H;b1.H=mJ;try{return hZ(d9)}finally{b1.H=X}},useDebugValue:function(){X0="useDebugValue",q(),C0()},useDeferredValue:function(X,G){return X0="useDeferredValue",q(),C0(),CK(X,G)},useTransition:function(){return X0="useTransition",q(),C0(),SK()},useSyncExternalStore:function(X,G,W){return X0="useSyncExternalStore",q(),C0(),XY(X,G,W)},useId:function(){return X0="useId",q(),C0(),y5().memoizedState},useFormState:function(X){return X0="useFormState",q(),C0(),$Y(X)},useActionState:function(X){return X0="useActionState",q(),C0(),$Y(X)},useOptimistic:function(X,G){return X0="useOptimistic",q(),C0(),DK(X,G)},useMemoCache:function(X){return q(),fJ(X)},useHostTransitionStatus:TJ,useCacheRefresh:function(){return X0="useCacheRefresh",C0(),y5().memoizedState}};var fR={react_stack_bottom_frame:function(X,G,W){var U=tZ;tZ=!0;try{return X(G,W)}finally{tZ=U}}},gV=fR.react_stack_bottom_frame.bind(fR),SR={react_stack_bottom_frame:function(X){var G=tZ;tZ=!0;try{return X.render()}finally{tZ=G}}},TR=SR.react_stack_bottom_frame.bind(SR),PR={react_stack_bottom_frame:function(X,G){try{G.componentDidMount()}catch(W){o5(X,X.return,W)}}},yV=PR.react_stack_bottom_frame.bind(PR),gR={react_stack_bottom_frame:function(X,G,W,U,N){try{G.componentDidUpdate(W,U,N)}catch(_){o5(X,X.return,_)}}},yR=gR.react_stack_bottom_frame.bind(gR),hR={react_stack_bottom_frame:function(X,G){var W=G.stack;X.componentDidCatch(G.value,{componentStack:W!==null?W:""})}},ks=hR.react_stack_bottom_frame.bind(hR),uR={react_stack_bottom_frame:function(X,G,W){try{W.componentWillUnmount()}catch(U){o5(X,G,U)}}},dR=uR.react_stack_bottom_frame.bind(uR),mR={react_stack_bottom_frame:function(X){X.resourceKind!=null&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",X.resourceKind);var G=X.create;return X=X.inst,G=G(),X.destroy=G}},xs=mR.react_stack_bottom_frame.bind(mR),cR={react_stack_bottom_frame:function(X,G,W){try{W()}catch(U){o5(X,G,U)}}},Rs=cR.react_stack_bottom_frame.bind(cR),pR={react_stack_bottom_frame:function(X){var G=X._init;return G(X._payload)}},eY=pR.react_stack_bottom_frame.bind(pR),jq=null,aO=0,O5=null,hV,lR=hV=!1,iR={},nR={},aR={};B=function(X,G,W){if(W!==null&&typeof W==="object"&&W._store&&(!W._store.validated&&W.key==null||W._store.validated===2)){if(typeof W._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");W._store.validated=1;var U=S(X),N=U||"null";if(!iR[N]){iR[N]=!0,W=W._owner,X=X._debugOwner;var _="";X&&typeof X.tag==="number"&&(N=S(X))&&(_=`

Check the render method of \``+N+"`."),_||U&&(_=`

Check the top-level render call using <`+U+">.");var P="";W!=null&&X!==W&&(U=null,typeof W.tag==="number"?U=S(W):typeof W.name==="string"&&(U=W.name),U&&(P=" It was passed a child from "+U+".")),s1(G,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',_,P)})}}};var Dq=FY(!0),sR=FY(!1),r3=d(null),QQ=null,wq=1,sO=2,_6=d(0),oR={},rR=new Set,tR=new Set,eR=new Set,JC=new Set,ZC=new Set,QC=new Set,XC=new Set,YC=new Set,GC=new Set,$C=new Set;Object.freeze(oR);var uV={enqueueSetState:function(X,G,W){X=X._reactInternals;var U=e6(X),N=K4(U);N.payload=G,W!==void 0&&W!==null&&(MY(W),N.callback=W),G=N6(X,N,U),G!==null&&(k4(G,X,U),T3(G,X,U)),M1(X,U)},enqueueReplaceState:function(X,G,W){X=X._reactInternals;var U=e6(X),N=K4(U);N.tag=wR,N.payload=G,W!==void 0&&W!==null&&(MY(W),N.callback=W),G=N6(X,N,U),G!==null&&(k4(G,X,U),T3(G,X,U)),M1(X,U)},enqueueForceUpdate:function(X,G){X=X._reactInternals;var W=e6(X),U=K4(W);U.tag=ER,G!==void 0&&G!==null&&(MY(G),U.callback=G),G=N6(X,U,W),G!==null&&(k4(G,X,W),T3(G,X,W)),p0!==null&&typeof p0.markForceUpdateScheduled==="function"&&p0.markForceUpdateScheduled(X,W)}},dV=typeof reportError==="function"?reportError:function(X){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X==="object"&&X!==null&&typeof X.message==="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(G))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",X);return}console.error(X)},Eq=null,mV=null,HC=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),v6=!1,WC={},KC={},BC={},qC={},kq=!1,UC={},cV={},pV={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},LC=!1,OC=null;OC=new Set;var KX=!1,J6=!1,lV=!1,zC=typeof WeakSet==="function"?WeakSet:Set,f6=null,xq=null,Rq=null,H6=null,I8=!1,cJ=null,oO=8192,Cs={getCacheForType:function(X){var G=s5(A6),W=G.data.get(X);return W===void 0&&(W=X(),G.data.set(X,W)),W},getOwner:function(){return c8}};if(typeof Symbol==="function"&&Symbol.for){var rO=Symbol.for;rO("selector.component"),rO("selector.has_pseudo_class"),rO("selector.role"),rO("selector.test_id"),rO("selector.text")}var bs=[],vs=typeof WeakMap==="function"?WeakMap:Map,p8=0,t9=2,pJ=4,BX=0,tO=1,Cq=2,iV=3,uH=4,mF=6,NC=5,Y4=p8,R4=null,A5=null,V5=0,j8=0,eO=1,dH=2,Jz=3,FC=4,nV=5,bq=6,Zz=7,aV=8,mH=9,q4=j8,l8=null,JG=!1,vq=!1,sV=!1,XQ=0,P7=BX,ZG=0,QG=0,oV=0,i8=0,cH=0,Qz=null,e9=null,cF=!1,rV=0,AC=300,pF=1/0,MC=500,Xz=null,XG=null,fs=0,Ss=1,Ts=2,pH=0,_C=1,VC=2,IC=3,Ps=4,tV=5,X9=0,YG=null,fq=null,GG=0,eV=0,JI=null,jC=null,gs=50,Yz=0,ZI=null,QI=!1,lF=!1,ys=50,lH=0,Gz=null,Sq=!1,iF=null,DC=!1,wC=new Set,hs={},nF=null,Tq=null,XI=!1,YI=!1,aF=!1,GI=!1,iH=0,$I={};(function(){for(var X=0;X<jV.length;X++){var G=jV[X],W=G.toLowerCase();G=G[0].toUpperCase()+G.slice(1),n6(W,"on"+G)}n6(KR,"onAnimationEnd"),n6(BR,"onAnimationIteration"),n6(qR,"onAnimationStart"),n6("dblclick","onDoubleClick"),n6("focusin","onFocus"),n6("focusout","onBlur"),n6(Ns,"onTransitionRun"),n6(Fs,"onTransitionStart"),n6(As,"onTransitionCancel"),n6(UR,"onTransitionEnd")})(),M2("onMouseEnter",["mouseout","mouseover"]),M2("onMouseLeave",["mouseout","mouseover"]),M2("onPointerEnter",["pointerout","pointerover"]),M2("onPointerLeave",["pointerout","pointerover"]),g0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g0("onBeforeInput",["compositionend","keypress","textInput","paste"]),g0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $z="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($z)),sF="_reactListening"+Math.random().toString(36).slice(2),EC=!1,kC=!1,oF=!1,xC=!1,rF=!1,tF=!1,RC=!1,eF={},us=/\r\n?/g,ds=/\u0000|\uFFFD/g,nH="http://www.w3.org/1999/xlink",WI="http://www.w3.org/XML/1998/namespace",ms="javascript:throw new Error('React form unexpectedly submitted.')",cs="suppressHydrationWarning",JA="$",ZA="/$",qX="$?",Hz="$!",ps=1,ls=2,is=4,KI="F!",CC="F",bC="complete",ns="style",UX=0,Pq=1,QA=2,BI=null,qI=null,vC={dialog:!0,webview:!0},UI=null,fC=typeof setTimeout==="function"?setTimeout:void 0,as=typeof clearTimeout==="function"?clearTimeout:void 0,aH=-1,SC=typeof Promise==="function"?Promise:void 0,ss=typeof queueMicrotask==="function"?queueMicrotask:typeof SC<"u"?function(X){return SC.resolve(null).then(X).catch(tL)}:fC,LI=null,sH=0,Wz=1,TC=2,PC=3,t3=4,e3=new Map,gC=new Set,LX=P0.d;P0.d={f:function(){var X=LX.f(),G=lZ();return X||G},r:function(X){var G=Y1(X);G!==null&&G.tag===5&&G.type==="form"?fK(G):LX.r(X)},D:function(X){LX.D(X),HO("dns-prefetch",X,null)},C:function(X,G){LX.C(X,G),HO("preconnect",X,G)},L:function(X,G,W){LX.L(X,G,W);var U=gq;if(U&&X&&G){var N='link[rel="preload"][as="'+X5(G)+'"]';G==="image"?W&&W.imageSrcSet?(N+='[imagesrcset="'+X5(W.imageSrcSet)+'"]',typeof W.imageSizes==="string"&&(N+='[imagesizes="'+X5(W.imageSizes)+'"]')):N+='[href="'+X5(X)+'"]':N+='[href="'+X5(X)+'"]';var _=N;switch(G){case"style":_=eQ(X);break;case"script":_=JX(X)}e3.has(_)||(X=h0({rel:"preload",href:G==="image"&&W&&W.imageSrcSet?void 0:X,as:G},W),e3.set(_,X),U.querySelector(N)!==null||G==="style"&&U.querySelector(cY(_))||G==="script"&&U.querySelector(pY(_))||(G=U.createElement("link"),f7(G,"link",X),Z0(G),U.head.appendChild(G)))}},m:function(X,G){LX.m(X,G);var W=gq;if(W&&X){var U=G&&typeof G.as==="string"?G.as:"script",N='link[rel="modulepreload"][as="'+X5(U)+'"][href="'+X5(X)+'"]',_=N;switch(U){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=JX(X)}if(!e3.has(_)&&(X=h0({rel:"modulepreload",href:X},G),e3.set(_,X),W.querySelector(N)===null)){switch(U){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(W.querySelector(pY(_)))return}U=W.createElement("link"),f7(U,"link",X),Z0(U),W.head.appendChild(U)}}},X:function(X,G){LX.X(X,G);var W=gq;if(W&&X){var U=Q0(W).hoistableScripts,N=JX(X),_=U.get(N);_||(_=W.querySelector(pY(N)),_||(X=h0({src:X,async:!0},G),(G=e3.get(N))&&sB(X,G),_=W.createElement("script"),Z0(_),f7(_,"link",X),W.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},U.set(N,_))}},S:function(X,G,W){LX.S(X,G,W);var U=gq;if(U&&X){var N=Q0(U).hoistableStyles,_=eQ(X);G=G||"default";var P=N.get(_);if(!P){var s={loading:sH,preload:null};if(P=U.querySelector(cY(_)))s.loading=Wz|t3;else{X=h0({rel:"stylesheet",href:X,"data-precedence":G},W),(W=e3.get(_))&&aB(X,W);var W1=P=U.createElement("link");Z0(W1),f7(W1,"link",X),W1._p=new Promise(function(U1,l1){W1.onload=U1,W1.onerror=l1}),W1.addEventListener("load",function(){s.loading|=Wz}),W1.addEventListener("error",function(){s.loading|=TC}),s.loading|=t3,nB(P,G,U)}P={type:"stylesheet",instance:P,count:1,state:s},N.set(_,P)}}},M:function(X,G){LX.M(X,G);var W=gq;if(W&&X){var U=Q0(W).hoistableScripts,N=JX(X),_=U.get(N);_||(_=W.querySelector(pY(N)),_||(X=h0({src:X,async:!0,type:"module"},G),(G=e3.get(N))&&sB(X,G),_=W.createElement("script"),Z0(_),f7(_,"link",X),W.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},U.set(N,_))}}};var gq=typeof document>"u"?null:document,XA=null,Kz=null,OI=null,YA=null,oH=h5,Bz={$$typeof:f,Provider:null,Consumer:null,_currentValue:oH,_currentValue2:oH,_threadCount:0},yC="%c%s%c ",hC="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",uC="",GA=" ",os=Function.prototype.bind,dC=!1,mC=null,cC=null,pC=null,lC=null,iC=null,nC=null,aC=null,sC=null,oC=null;mC=function(X,G,W,U){G=J(X,G),G!==null&&(W=Z(G.memoizedState,W,0,U),G.memoizedState=W,G.baseState=W,X.memoizedProps=h0({},X.memoizedProps),W=b7(X,2),W!==null&&k4(W,X,2))},cC=function(X,G,W){G=J(X,G),G!==null&&(W=$(G.memoizedState,W,0),G.memoizedState=W,G.baseState=W,X.memoizedProps=h0({},X.memoizedProps),W=b7(X,2),W!==null&&k4(W,X,2))},pC=function(X,G,W,U){G=J(X,G),G!==null&&(W=Q(G.memoizedState,W,U),G.memoizedState=W,G.baseState=W,X.memoizedProps=h0({},X.memoizedProps),W=b7(X,2),W!==null&&k4(W,X,2))},lC=function(X,G,W){X.pendingProps=Z(X.memoizedProps,G,0,W),X.alternate&&(X.alternate.pendingProps=X.pendingProps),G=b7(X,2),G!==null&&k4(G,X,2)},iC=function(X,G){X.pendingProps=$(X.memoizedProps,G,0),X.alternate&&(X.alternate.pendingProps=X.pendingProps),G=b7(X,2),G!==null&&k4(G,X,2)},nC=function(X,G,W){X.pendingProps=Q(X.memoizedProps,G,W),X.alternate&&(X.alternate.pendingProps=X.pendingProps),G=b7(X,2),G!==null&&k4(G,X,2)},aC=function(X){var G=b7(X,2);G!==null&&k4(G,X,2)},sC=function(X){K=X},oC=function(X){H=X};var $A=!0,HA=null,zI=!1,$G=null,HG=null,WG=null,qz=new Map,Uz=new Map,KG=[],rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),WA=null;if(xH.prototype.render=Qq.prototype.render=function(X){var G=this._internalRoot;if(G===null)throw Error("Cannot update an unmounted root.");var W=arguments;typeof W[1]==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):j(W[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof W[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),W=X;var U=G.current,N=e6(U);rB(U,N,W,G,null,null)},xH.prototype.unmount=Qq.prototype.unmount=function(){var X=arguments;if(typeof X[0]==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),X=this._internalRoot,X!==null){this._internalRoot=null;var G=X.containerInfo;(Y4&(t9|pJ))!==p8&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),rB(X.current,2,null,X,null,null),lZ(),G[_9]=null}},xH.prototype.unstable_scheduleHydration=function(X){if(X){var G=_0();X={blockedOn:null,target:X,priority:G};for(var W=0;W<KG.length&&G!==0&&G<KG[W].priority;W++);KG.splice(W,0,X),W===0&&MO(X)}},function(){var X=yq.version;if(X!=="19.1.1")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(X+`
  - react-dom:  19.1.1
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),P0.findDOMNode=function(X){var G=X._reactInternals;if(G===void 0){if(typeof X.render==="function")throw Error("Unable to find node on an unmounted component.");throw X=Object.keys(X).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+X)}return X=I(G),X=X!==null?b(X):null,X=X===null?null:X.stateNode,X},!function(){var X={bundleType:1,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b1,reconcilerVersion:"19.1.1"};return X.overrideHookState=mC,X.overrideHookStateDeletePath=cC,X.overrideHookStateRenamePath=pC,X.overrideProps=lC,X.overridePropsDeletePath=iC,X.overridePropsRenamePath=nC,X.scheduleUpdate=aC,X.setErrorHandler=sC,X.setSuspenseHandler=oC,X.scheduleRefresh=A,X.scheduleRoot=V,X.setRefreshHandler=M,X.getCurrentFiber=zF,X.getLaneLabelMap=NF,X.injectProfilingHooks=w1,z1(X)}()&&eZ&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var rC=window.location.protocol;/^(https?|file):$/.test(rC)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(rC==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}Ho.createRoot=function(X,G){if(!j(X))throw Error("Target container is not a DOM element.");IO(X);var W=!1,U="",N=uK,_=dK,P=mK,s=null;return G!==null&&G!==void 0&&(G.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof G==="object"&&G!==null&&G.$$typeof===B4&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),G.unstable_strictMode===!0&&(W=!0),G.identifierPrefix!==void 0&&(U=G.identifierPrefix),G.onUncaughtError!==void 0&&(N=G.onUncaughtError),G.onCaughtError!==void 0&&(_=G.onCaughtError),G.onRecoverableError!==void 0&&(P=G.onRecoverableError),G.unstable_transitionCallbacks!==void 0&&(s=G.unstable_transitionCallbacks)),G=LO(X,1,!1,null,null,W,U,N,_,P,s,null),X[_9]=G.current,AH(X),new Qq(G)},Ho.hydrateRoot=function(X,G,W){if(!j(X))throw Error("Target container is not a DOM element.");IO(X),G===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var U=!1,N="",_=uK,P=dK,s=mK,W1=null,U1=null;return W!==null&&W!==void 0&&(W.unstable_strictMode===!0&&(U=!0),W.identifierPrefix!==void 0&&(N=W.identifierPrefix),W.onUncaughtError!==void 0&&(_=W.onUncaughtError),W.onCaughtError!==void 0&&(P=W.onCaughtError),W.onRecoverableError!==void 0&&(s=W.onRecoverableError),W.unstable_transitionCallbacks!==void 0&&(W1=W.unstable_transitionCallbacks),W.formState!==void 0&&(U1=W.formState)),G=LO(X,1,!0,G,W!=null?W:null,U,N,_,P,s,W1,U1),G.context=OO(null),W=G.current,U=e6(W),U=H0(U),N=K4(U),N.callback=null,N6(W,N,U),W=U,G.current.lanes=W,T1(G,W),N8(G),X[_9]=G.current,AH(X),new xH(G)},Ho.version="19.1.1",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var Xb=S6(($z1,Qb)=>{var Wo=e(Zb(),1);Qb.exports=Wo});var zv=S6((nr)=>{(function(){var J=typeof Symbol==="function"&&Symbol.for,Z=J?Symbol.for("react.element"):60103,Q=J?Symbol.for("react.portal"):60106,Y=J?Symbol.for("react.fragment"):60107,$=J?Symbol.for("react.strict_mode"):60108,H=J?Symbol.for("react.profiler"):60114,K=J?Symbol.for("react.provider"):60109,B=J?Symbol.for("react.context"):60110,q=J?Symbol.for("react.async_mode"):60111,L=J?Symbol.for("react.concurrent_mode"):60111,O=J?Symbol.for("react.forward_ref"):60112,z=J?Symbol.for("react.suspense"):60113,F=J?Symbol.for("react.suspense_list"):60120,V=J?Symbol.for("react.memo"):60115,A=J?Symbol.for("react.lazy"):60116,M=J?Symbol.for("react.block"):60121,j=J?Symbol.for("react.fundamental"):60117,D=J?Symbol.for("react.responder"):60118,w=J?Symbol.for("react.scope"):60119;function C(a){return typeof a==="string"||typeof a==="function"||a===Y||a===L||a===H||a===$||a===z||a===F||typeof a==="object"&&a!==null&&(a.$$typeof===A||a.$$typeof===V||a.$$typeof===K||a.$$typeof===B||a.$$typeof===O||a.$$typeof===j||a.$$typeof===D||a.$$typeof===w||a.$$typeof===M)}function I(a){if(typeof a==="object"&&a!==null){var M1=a.$$typeof;switch(M1){case Z:var D1=a.type;switch(D1){case q:case L:case Y:case H:case $:case z:return D1;default:var g1=D1&&D1.$$typeof;switch(g1){case B:case O:case A:case V:case K:return g1;default:return M1}}case Q:return M1}}return}var b=q,E=L,k=B,T=K,S=Z,d=O,o=Y,v=A,y=V,i=Q,p=H,l=$,t=z,Q1=!1;function m(a){if(!Q1)Q1=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");return K1(a)||I(a)===q}function K1(a){return I(a)===L}function g(a){return I(a)===B}function n(a){return I(a)===K}function Z1(a){return typeof a==="object"&&a!==null&&a.$$typeof===Z}function J1(a){return I(a)===O}function z1(a){return I(a)===Y}function V1(a){return I(a)===A}function w1(a){return I(a)===V}function m1(a){return I(a)===Q}function r1(a){return I(a)===H}function h1(a){return I(a)===$}function G1(a){return I(a)===z}nr.AsyncMode=b,nr.ConcurrentMode=E,nr.ContextConsumer=k,nr.ContextProvider=T,nr.Element=S,nr.ForwardRef=d,nr.Fragment=o,nr.Lazy=v,nr.Memo=y,nr.Portal=i,nr.Profiler=p,nr.StrictMode=l,nr.Suspense=t,nr.isAsyncMode=m,nr.isConcurrentMode=K1,nr.isContextConsumer=g,nr.isContextProvider=n,nr.isElement=Z1,nr.isForwardRef=J1,nr.isFragment=z1,nr.isLazy=V1,nr.isMemo=w1,nr.isPortal=m1,nr.isProfiler=r1,nr.isStrictMode=h1,nr.isSuspense=G1,nr.isValidElementType=C,nr.typeOf=I})()});var Iv=S6((TF1,Vv)=>{var XU=e(zv(),1),ar={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sr={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},or={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iI={};iI[XU.ForwardRef]=or;iI[XU.Memo]=Mv;function Nv(J){if(XU.isMemo(J))return Mv;return iI[J.$$typeof]||ar}var{defineProperty:rr,getOwnPropertyNames:tr,getOwnPropertySymbols:Fv,getOwnPropertyDescriptor:er,getPrototypeOf:Jt,prototype:Av}=Object;function _v(J,Z,Q){if(typeof Z!=="string"){if(Av){var Y=Jt(Z);if(Y&&Y!==Av)_v(J,Y,Q)}var $=tr(Z);if(Fv)$=$.concat(Fv(Z));var H=Nv(J),K=Nv(Z);for(var B=0;B<$.length;++B){var q=$[B];if(!sr[q]&&!(Q&&Q[q])&&!(K&&K[q])&&!(H&&H[q])){var L=er(Z,q);try{rr(J,q,L)}catch(O){}}}}return J}Vv.exports=_v});var $j=S6((Dt)=>{(function(){var J=typeof Symbol==="function"&&Symbol.for,Z=J?Symbol.for("react.element"):60103,Q=J?Symbol.for("react.portal"):60106,Y=J?Symbol.for("react.fragment"):60107,$=J?Symbol.for("react.strict_mode"):60108,H=J?Symbol.for("react.profiler"):60114,K=J?Symbol.for("react.provider"):60109,B=J?Symbol.for("react.context"):60110,q=J?Symbol.for("react.async_mode"):60111,L=J?Symbol.for("react.concurrent_mode"):60111,O=J?Symbol.for("react.forward_ref"):60112,z=J?Symbol.for("react.suspense"):60113,F=J?Symbol.for("react.suspense_list"):60120,V=J?Symbol.for("react.memo"):60115,A=J?Symbol.for("react.lazy"):60116,M=J?Symbol.for("react.block"):60121,j=J?Symbol.for("react.fundamental"):60117,D=J?Symbol.for("react.responder"):60118,w=J?Symbol.for("react.scope"):60119;function C(a){return typeof a==="string"||typeof a==="function"||a===Y||a===L||a===H||a===$||a===z||a===F||typeof a==="object"&&a!==null&&(a.$$typeof===A||a.$$typeof===V||a.$$typeof===K||a.$$typeof===B||a.$$typeof===O||a.$$typeof===j||a.$$typeof===D||a.$$typeof===w||a.$$typeof===M)}function I(a){if(typeof a==="object"&&a!==null){var M1=a.$$typeof;switch(M1){case Z:var D1=a.type;switch(D1){case q:case L:case Y:case H:case $:case z:return D1;default:var g1=D1&&D1.$$typeof;switch(g1){case B:case O:case A:case V:case K:return g1;default:return M1}}case Q:return M1}}return}var b=q,E=L,k=B,T=K,S=Z,d=O,o=Y,v=A,y=V,i=Q,p=H,l=$,t=z,Q1=!1;function m(a){if(!Q1)Q1=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");return K1(a)||I(a)===q}function K1(a){return I(a)===L}function g(a){return I(a)===B}function n(a){return I(a)===K}function Z1(a){return typeof a==="object"&&a!==null&&a.$$typeof===Z}function J1(a){return I(a)===O}function z1(a){return I(a)===Y}function V1(a){return I(a)===A}function w1(a){return I(a)===V}function m1(a){return I(a)===Q}function r1(a){return I(a)===H}function h1(a){return I(a)===$}function G1(a){return I(a)===z}Dt.AsyncMode=b,Dt.ConcurrentMode=E,Dt.ContextConsumer=k,Dt.ContextProvider=T,Dt.Element=S,Dt.ForwardRef=d,Dt.Fragment=o,Dt.Lazy=v,Dt.Memo=y,Dt.Portal=i,Dt.Profiler=p,Dt.StrictMode=l,Dt.Suspense=t,Dt.isAsyncMode=m,Dt.isConcurrentMode=K1,Dt.isContextConsumer=g,Dt.isContextProvider=n,Dt.isElement=Z1,Dt.isForwardRef=J1,Dt.isFragment=z1,Dt.isLazy=V1,Dt.isMemo=w1,Dt.isPortal=m1,Dt.isProfiler=r1,Dt.isStrictMode=h1,Dt.isSuspense=G1,Dt.isValidElementType=C,Dt.typeOf=I})()});var lv=S6((YM1,pv)=>{var cv=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;function kt(J){if(J===null||J===void 0)throw TypeError("Object.assign cannot be called with null or undefined");return Object(J)}function xt(){try{if(!Object.assign)return!1;var J=new String("abc");if(J[5]="de",Object.getOwnPropertyNames(J)[0]==="5")return!1;var Z={};for(var Q=0;Q<10;Q++)Z["_"+String.fromCharCode(Q)]=Q;var Y=Object.getOwnPropertyNames(Z).map(function(H){return Z[H]});if(Y.join("")!=="0123456789")return!1;var $={};if("abcdefghijklmnopqrst".split("").forEach(function(H){$[H]=H}),Object.keys(Object.assign({},$)).join("")!=="abcdefghijklmnopqrst")return!1;return!0}catch(H){return!1}}pv.exports=xt()?Object.assign:function(J,Z){var Q,Y=kt(J),$;for(var H=1;H<arguments.length;H++){Q=Object(arguments[H]);for(var K in Q)if(wt.call(Q,K))Y[K]=Q[K];if(cv){$=cv(Q);for(var B=0;B<$.length;B++)if(Et.call(Q,$[B]))Y[$[B]]=Q[$[B]]}}return Y}});var Hj=S6((GM1,iv)=>{var Rt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";iv.exports=Rt});var Wj=S6(($M1,nv)=>{nv.exports=Function.call.bind(Object.prototype.hasOwnProperty)});var ov=S6((HM1,sv)=>{var Kj=function(){};Bj=Hj(),Vz={},qj=Wj(),Kj=function(J){var Z="Warning: "+J;if(typeof console<"u")console.error(Z);try{throw Error(Z)}catch(Q){}};var Bj,Vz,qj;function av(J,Z,Q,Y,$){for(var H in J)if(qj(J,H)){var K;try{if(typeof J[H]!=="function"){var B=Error((Y||"React class")+": "+Q+" type `"+H+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof J[H]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}K=J[H](Z,H,Y,Q,null,Bj)}catch(L){K=L}if(K&&!(K instanceof Error))Kj((Y||"React class")+": type specification of "+Q+" `"+H+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof K+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(K instanceof Error&&!(K.message in Vz)){Vz[K.message]=!0;var q=$?$():"";Kj("Failed "+Q+" type: "+K.message+(q!=null?q:""))}}}av.resetWarningCache=function(){Vz={}};sv.exports=av});var Jf=S6((WM1,ev)=>{var tv=e($j(),1),Ct=lv(),$U=Hj(),Uj=Wj(),rv=ov(),HU=function(){};HU=function(J){var Z="Warning: "+J;if(typeof console<"u")console.error(Z);try{throw Error(Z)}catch(Q){}};function vA(){return null}ev.exports=function(J,Z){var Q=typeof Symbol==="function"&&Symbol.iterator,Y="@@iterator";function $(y){var i=y&&(Q&&y[Q]||y[Y]);if(typeof i==="function")return i}var H="<<anonymous>>",K={array:O("array"),bigint:O("bigint"),bool:O("boolean"),func:O("function"),number:O("number"),object:O("object"),string:O("string"),symbol:O("symbol"),any:z(),arrayOf:F,element:V(),elementType:A(),instanceOf:M,node:C(),objectOf:D,oneOf:j,oneOfType:w,shape:b,exact:E};function B(y,i){if(y===i)return y!==0||1/y===1/i;else return y!==y&&i!==i}function q(y,i){this.message=y,this.data=i&&typeof i==="object"?i:{},this.stack=""}q.prototype=Error.prototype;function L(y){var i={},p=0;function l(Q1,m,K1,g,n,Z1,J1){if(g=g||H,Z1=Z1||K1,J1!==$U){if(Z){var z1=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw z1.name="Invariant Violation",z1}else if(typeof console<"u"){var V1=g+":"+K1;if(!i[V1]&&p<3)HU("You are manually calling a React.PropTypes validation function for the `"+Z1+"` prop on `"+g+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),i[V1]=!0,p++}}if(m[K1]==null){if(Q1){if(m[K1]===null)return new q("The "+n+" `"+Z1+"` is marked as required "+("in `"+g+"`, but its value is `null`."));return new q("The "+n+" `"+Z1+"` is marked as required in "+("`"+g+"`, but its value is `undefined`."))}return null}else return y(m,K1,g,n,Z1)}var t=l.bind(null,!1);return t.isRequired=l.bind(null,!0),t}function O(y){function i(p,l,t,Q1,m,K1){var g=p[l],n=S(g);if(n!==y){var Z1=d(g);return new q("Invalid "+Q1+" `"+m+"` of type "+("`"+Z1+"` supplied to `"+t+"`, expected ")+("`"+y+"`."),{expectedType:y})}return null}return L(i)}function z(){return L(vA)}function F(y){function i(p,l,t,Q1,m){if(typeof y!=="function")return new q("Property `"+m+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var K1=p[l];if(!Array.isArray(K1)){var g=S(K1);return new q("Invalid "+Q1+" `"+m+"` of type "+("`"+g+"` supplied to `"+t+"`, expected an array."))}for(var n=0;n<K1.length;n++){var Z1=y(K1,n,t,Q1,m+"["+n+"]",$U);if(Z1 instanceof Error)return Z1}return null}return L(i)}function V(){function y(i,p,l,t,Q1){var m=i[p];if(!J(m)){var K1=S(m);return new q("Invalid "+t+" `"+Q1+"` of type "+("`"+K1+"` supplied to `"+l+"`, expected a single ReactElement."))}return null}return L(y)}function A(){function y(i,p,l,t,Q1){var m=i[p];if(!tv.isValidElementType(m)){var K1=S(m);return new q("Invalid "+t+" `"+Q1+"` of type "+("`"+K1+"` supplied to `"+l+"`, expected a single ReactElement type."))}return null}return L(y)}function M(y){function i(p,l,t,Q1,m){if(!(p[l]instanceof y)){var K1=y.name||H,g=v(p[l]);return new q("Invalid "+Q1+" `"+m+"` of type "+("`"+g+"` supplied to `"+t+"`, expected ")+("instance of `"+K1+"`."))}return null}return L(i)}function j(y){if(!Array.isArray(y)){if(arguments.length>1)HU("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).");else HU("Invalid argument supplied to oneOf, expected an array.");return vA}function i(p,l,t,Q1,m){var K1=p[l];for(var g=0;g<y.length;g++)if(B(K1,y[g]))return null;var n=JSON.stringify(y,function(J1,z1){var V1=d(z1);if(V1==="symbol")return String(z1);return z1});return new q("Invalid "+Q1+" `"+m+"` of value `"+String(K1)+"` "+("supplied to `"+t+"`, expected one of "+n+"."))}return L(i)}function D(y){function i(p,l,t,Q1,m){if(typeof y!=="function")return new q("Property `"+m+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var K1=p[l],g=S(K1);if(g!=="object")return new q("Invalid "+Q1+" `"+m+"` of type "+("`"+g+"` supplied to `"+t+"`, expected an object."));for(var n in K1)if(Uj(K1,n)){var Z1=y(K1,n,t,Q1,m+"."+n,$U);if(Z1 instanceof Error)return Z1}return null}return L(i)}function w(y){if(!Array.isArray(y))return HU("Invalid argument supplied to oneOfType, expected an instance of array."),vA;for(var i=0;i<y.length;i++){var p=y[i];if(typeof p!=="function")return HU("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+o(p)+" at index "+i+"."),vA}function l(t,Q1,m,K1,g){var n=[];for(var Z1=0;Z1<y.length;Z1++){var J1=y[Z1],z1=J1(t,Q1,m,K1,g,$U);if(z1==null)return null;if(z1.data&&Uj(z1.data,"expectedType"))n.push(z1.data.expectedType)}var V1=n.length>0?", expected one of type ["+n.join(", ")+"]":"";return new q("Invalid "+K1+" `"+g+"` supplied to "+("`"+m+"`"+V1+"."))}return L(l)}function C(){function y(i,p,l,t,Q1){if(!k(i[p]))return new q("Invalid "+t+" `"+Q1+"` supplied to "+("`"+l+"`, expected a ReactNode."));return null}return L(y)}function I(y,i,p,l,t){return new q((y||"React class")+": "+i+" type `"+p+"."+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+t+"`.")}function b(y){function i(p,l,t,Q1,m){var K1=p[l],g=S(K1);if(g!=="object")return new q("Invalid "+Q1+" `"+m+"` of type `"+g+"` "+("supplied to `"+t+"`, expected `object`."));for(var n in y){var Z1=y[n];if(typeof Z1!=="function")return I(t,Q1,m,n,d(Z1));var J1=Z1(K1,n,t,Q1,m+"."+n,$U);if(J1)return J1}return null}return L(i)}function E(y){function i(p,l,t,Q1,m){var K1=p[l],g=S(K1);if(g!=="object")return new q("Invalid "+Q1+" `"+m+"` of type `"+g+"` "+("supplied to `"+t+"`, expected `object`."));var n=Ct({},p[l],y);for(var Z1 in n){var J1=y[Z1];if(Uj(y,Z1)&&typeof J1!=="function")return I(t,Q1,m,Z1,d(J1));if(!J1)return new q("Invalid "+Q1+" `"+m+"` key `"+Z1+"` supplied to `"+t+"`.\nBad object: "+JSON.stringify(p[l],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(y),null,"  "));var z1=J1(K1,Z1,t,Q1,m+"."+Z1,$U);if(z1)return z1}return null}return L(i)}function k(y){switch(typeof y){case"number":case"string":case"undefined":return!0;case"boolean":return!y;case"object":if(Array.isArray(y))return y.every(k);if(y===null||J(y))return!0;var i=$(y);if(i){var p=i.call(y),l;if(i!==y.entries){while(!(l=p.next()).done)if(!k(l.value))return!1}else while(!(l=p.next()).done){var t=l.value;if(t){if(!k(t[1]))return!1}}}else return!1;return!0;default:return!1}}function T(y,i){if(y==="symbol")return!0;if(!i)return!1;if(i["@@toStringTag"]==="Symbol")return!0;if(typeof Symbol==="function"&&i instanceof Symbol)return!0;return!1}function S(y){var i=typeof y;if(Array.isArray(y))return"array";if(y instanceof RegExp)return"object";if(T(i,y))return"symbol";return i}function d(y){if(typeof y>"u"||y===null)return""+y;var i=S(y);if(i==="object"){if(y instanceof Date)return"date";else if(y instanceof RegExp)return"regexp"}return i}function o(y){var i=d(y);switch(i){case"array":case"object":return"an "+i;case"boolean":case"date":case"regexp":return"a "+i;default:return i}}function v(y){if(!y.constructor||!y.constructor.name)return H;return y.constructor.name}return K.checkPropTypes=rv,K.resetWarningCache=rv.resetWarningCache,K.PropTypes=K,K}});var l0=S6((KM1,Zf)=>{var Oj=e($j(),1);Lj=!0,Zf.exports=Jf()(Oj.isElement,Lj);var Lj});var F0=S6((bt)=>{var UW=e(J0(),1);(function(){function J(m){if(m==null)return null;if(typeof m==="function")return m.$$typeof===S?null:m.displayName||m.name||null;if(typeof m==="string")return m;switch(m){case A:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case I:return"Suspense";case b:return"SuspenseList";case T:return"Activity"}if(typeof m==="object")switch(typeof m.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),m.$$typeof){case V:return"Portal";case w:return(m.displayName||"Context")+".Provider";case D:return(m._context.displayName||"Context")+".Consumer";case C:var K1=m.render;return m=m.displayName,m||(m=K1.displayName||K1.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return K1=m.displayName||null,K1!==null?K1:J(m.type)||"Memo";case k:K1=m._payload,m=m._init;try{return J(m(K1))}catch(g){}}return null}function Z(m){return""+m}function Q(m){try{Z(m);var K1=!1}catch(Z1){K1=!0}if(K1){K1=console;var g=K1.error,n=typeof Symbol==="function"&&Symbol.toStringTag&&m[Symbol.toStringTag]||m.constructor.name||"Object";return g.call(K1,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",n),Z(m)}}function Y(m){if(m===A)return"<>";if(typeof m==="object"&&m!==null&&m.$$typeof===k)return"<...>";try{var K1=J(m);return K1?"<"+K1+">":"<...>"}catch(g){return"<...>"}}function $(){var m=d.A;return m===null?null:m.getOwner()}function H(){return Error("react-stack-top-frame")}function K(m){if(o.call(m,"key")){var K1=Object.getOwnPropertyDescriptor(m,"key").get;if(K1&&K1.isReactWarning)return!1}return m.key!==void 0}function B(m,K1){function g(){i||(i=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",K1))}g.isReactWarning=!0,Object.defineProperty(m,"key",{get:g,configurable:!0})}function q(){var m=J(this.type);return p[m]||(p[m]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),m=this.props.ref,m!==void 0?m:null}function L(m,K1,g,n,Z1,J1,z1,V1){return g=J1.ref,m={$$typeof:F,type:m,key:K1,props:J1,_owner:Z1},(g!==void 0?g:null)!==null?Object.defineProperty(m,"ref",{enumerable:!1,get:q}):Object.defineProperty(m,"ref",{enumerable:!1,value:null}),m._store={},Object.defineProperty(m._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(m,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(m,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:z1}),Object.defineProperty(m,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:V1}),Object.freeze&&(Object.freeze(m.props),Object.freeze(m)),m}function O(m,K1,g,n,Z1,J1,z1,V1){var w1=K1.children;if(w1!==void 0)if(n)if(v(w1)){for(n=0;n<w1.length;n++)z(w1[n]);Object.freeze&&Object.freeze(w1)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else z(w1);if(o.call(K1,"key")){w1=J(m);var m1=Object.keys(K1).filter(function(h1){return h1!=="key"});n=0<m1.length?"{key: someKey, "+m1.join(": ..., ")+": ...}":"{key: someKey}",Q1[w1+n]||(m1=0<m1.length?"{"+m1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,n,w1,m1,w1),Q1[w1+n]=!0)}if(w1=null,g!==void 0&&(Q(g),w1=""+g),K(K1)&&(Q(K1.key),w1=""+K1.key),"key"in K1){g={};for(var r1 in K1)r1!=="key"&&(g[r1]=K1[r1])}else g=K1;return w1&&B(g,typeof m==="function"?m.displayName||m.name||"Unknown":m),L(m,w1,J1,Z1,$(),g,z1,V1)}function z(m){typeof m==="object"&&m!==null&&m.$$typeof===F&&m._store&&(m._store.validated=1)}var F=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.for("react.client.reference"),d=UW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,o=Object.prototype.hasOwnProperty,v=Array.isArray,y=console.createTask?console.createTask:function(){return null};UW={react_stack_bottom_frame:function(m){return m()}};var i,p={},l=UW.react_stack_bottom_frame.bind(UW,H)(),t=y(Y(H)),Q1={};bt.Fragment=A,bt.jsx=function(m,K1,g,n,Z1){var J1=1e4>d.recentlyCreatedOwnerStacks++;return O(m,K1,g,!1,n,Z1,J1?Error("react-stack-top-frame"):l,J1?y(Y(m)):t)},bt.jsxs=function(m,K1,g,n,Z1){var J1=1e4>d.recentlyCreatedOwnerStacks++;return O(m,K1,g,!0,n,Z1,J1?Error("react-stack-top-frame"):l,J1?y(Y(m)):t)}})()});var KU=S6((ft)=>{(function(){function J(M){if(typeof M==="object"&&M!==null){var j=M.$$typeof;switch(j){case Z:switch(M=M.type,M){case Y:case H:case $:case L:case O:case V:return M;default:switch(M=M&&M.$$typeof,M){case B:case q:case F:case z:return M;case K:return M;default:return j}}case Q:return j}}}var Z=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),V=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");ft.ContextConsumer=K,ft.ContextProvider=B,ft.Element=Z,ft.ForwardRef=q,ft.Fragment=Y,ft.Lazy=F,ft.Memo=z,ft.Portal=Q,ft.Profiler=H,ft.StrictMode=$,ft.Suspense=L,ft.SuspenseList=O,ft.isContextConsumer=function(M){return J(M)===K},ft.isContextProvider=function(M){return J(M)===B},ft.isElement=function(M){return typeof M==="object"&&M!==null&&M.$$typeof===Z},ft.isForwardRef=function(M){return J(M)===q},ft.isFragment=function(M){return J(M)===Y},ft.isLazy=function(M){return J(M)===F},ft.isMemo=function(M){return J(M)===z},ft.isPortal=function(M){return J(M)===Q},ft.isProfiler=function(M){return J(M)===H},ft.isStrictMode=function(M){return J(M)===$},ft.isSuspense=function(M){return J(M)===L},ft.isSuspenseList=function(M){return J(M)===O},ft.isValidElementType=function(M){return typeof M==="string"||typeof M==="function"||M===Y||M===H||M===$||M===L||M===O||typeof M==="object"&&M!==null&&(M.$$typeof===F||M.$$typeof===z||M.$$typeof===B||M.$$typeof===K||M.$$typeof===q||M.$$typeof===A||M.getModuleId!==void 0)?!0:!1},ft.typeOf=J})()});var x2=S6((m71)=>{var aW=e(J0(),1);(function(){function J(m){if(m==null)return null;if(typeof m==="function")return m.$$typeof===S?null:m.displayName||m.name||null;if(typeof m==="string")return m;switch(m){case A:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case I:return"Suspense";case b:return"SuspenseList";case T:return"Activity"}if(typeof m==="object")switch(typeof m.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),m.$$typeof){case V:return"Portal";case w:return(m.displayName||"Context")+".Provider";case D:return(m._context.displayName||"Context")+".Consumer";case C:var K1=m.render;return m=m.displayName,m||(m=K1.displayName||K1.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return K1=m.displayName||null,K1!==null?K1:J(m.type)||"Memo";case k:K1=m._payload,m=m._init;try{return J(m(K1))}catch(g){}}return null}function Z(m){return""+m}function Q(m){try{Z(m);var K1=!1}catch(Z1){K1=!0}if(K1){K1=console;var g=K1.error,n=typeof Symbol==="function"&&Symbol.toStringTag&&m[Symbol.toStringTag]||m.constructor.name||"Object";return g.call(K1,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",n),Z(m)}}function Y(m){if(m===A)return"<>";if(typeof m==="object"&&m!==null&&m.$$typeof===k)return"<...>";try{var K1=J(m);return K1?"<"+K1+">":"<...>"}catch(g){return"<...>"}}function $(){var m=d.A;return m===null?null:m.getOwner()}function H(){return Error("react-stack-top-frame")}function K(m){if(o.call(m,"key")){var K1=Object.getOwnPropertyDescriptor(m,"key").get;if(K1&&K1.isReactWarning)return!1}return m.key!==void 0}function B(m,K1){function g(){i||(i=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",K1))}g.isReactWarning=!0,Object.defineProperty(m,"key",{get:g,configurable:!0})}function q(){var m=J(this.type);return p[m]||(p[m]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),m=this.props.ref,m!==void 0?m:null}function L(m,K1,g,n,Z1,J1,z1,V1){return g=J1.ref,m={$$typeof:F,type:m,key:K1,props:J1,_owner:Z1},(g!==void 0?g:null)!==null?Object.defineProperty(m,"ref",{enumerable:!1,get:q}):Object.defineProperty(m,"ref",{enumerable:!1,value:null}),m._store={},Object.defineProperty(m._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(m,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(m,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:z1}),Object.defineProperty(m,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:V1}),Object.freeze&&(Object.freeze(m.props),Object.freeze(m)),m}function O(m,K1,g,n,Z1,J1,z1,V1){var w1=K1.children;if(w1!==void 0)if(n)if(v(w1)){for(n=0;n<w1.length;n++)z(w1[n]);Object.freeze&&Object.freeze(w1)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else z(w1);if(o.call(K1,"key")){w1=J(m);var m1=Object.keys(K1).filter(function(h1){return h1!=="key"});n=0<m1.length?"{key: someKey, "+m1.join(": ..., ")+": ...}":"{key: someKey}",Q1[w1+n]||(m1=0<m1.length?"{"+m1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,n,w1,m1,w1),Q1[w1+n]=!0)}if(w1=null,g!==void 0&&(Q(g),w1=""+g),K(K1)&&(Q(K1.key),w1=""+K1.key),"key"in K1){g={};for(var r1 in K1)r1!=="key"&&(g[r1]=K1[r1])}else g=K1;return w1&&B(g,typeof m==="function"?m.displayName||m.name||"Unknown":m),L(m,w1,J1,Z1,$(),g,z1,V1)}function z(m){typeof m==="object"&&m!==null&&m.$$typeof===F&&m._store&&(m._store.validated=1)}var F=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.for("react.client.reference"),d=aW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,o=Object.prototype.hasOwnProperty,v=Array.isArray,y=console.createTask?console.createTask:function(){return null};aW={react_stack_bottom_frame:function(m){return m()}};var i,p={},l=aW.react_stack_bottom_frame.bind(aW,H)(),t=y(Y(H)),Q1={};m71.Fragment=A,m71.jsxDEV=function(m,K1,g,n,Z1,J1){var z1=1e4>d.recentlyCreatedOwnerStacks++;return O(m,K1,g,n,Z1,J1,z1?Error("react-stack-top-frame"):l,z1?y(Y(m)):t)}})()});var V_,tW,ih=(J,Z,Q)=>{if(Z&&typeof Z.init==="function"&&typeof Z.createInferenceSessionHandler==="function"){let Y=V_.get(J);if(Y===void 0)V_.set(J,{backend:Z,priority:Q});else if(Y.priority>Q)return;else if(Y.priority===Q){if(Y.backend!==Z)throw Error(`cannot register backend "${J}" using priority ${Q}`)}if(Q>=0){let $=tW.indexOf(J);if($!==-1)tW.splice($,1);for(let H=0;H<tW.length;H++)if(V_.get(tW[H]).priority<=Q){tW.splice(H,0,J);return}tW.push(J)}return}throw TypeError("not a valid backend")},R61=async(J)=>{let Z=V_.get(J);if(!Z)return"backend not found.";if(Z.initialized)return Z.backend;else if(Z.aborted)return Z.error;else{let Q=!!Z.initPromise;try{if(!Q)Z.initPromise=Z.backend.init(J);return await Z.initPromise,Z.initialized=!0,Z.backend}catch(Y){if(!Q)Z.error=`${Y}`,Z.aborted=!0;return Z.error}finally{delete Z.initPromise}}},nh=async(J)=>{let Z=J.executionProviders||[],Q=Z.map((q)=>typeof q==="string"?q:q.name),Y=Q.length===0?tW:Q,$,H=[],K=new Set;for(let q of Y){let L=await R61(q);if(typeof L==="string")H.push({name:q,err:L});else{if(!$)$=L;if($===L)K.add(q)}}if(!$)throw Error(`no available backend found. ERR: ${H.map((q)=>`[${q.name}] ${q.err}`).join(", ")}`);for(let{name:q,err:L}of H)if(Q.includes(q))console.warn(`removing requested execution provider "${q}" from session options because it is not available: ${L}`);let B=Z.filter((q)=>K.has(typeof q==="string"?q:q.name));return[$,new Proxy(J,{get:(q,L)=>{if(L==="executionProviders")return B;return Reflect.get(q,L)}})]};var sw=V6(()=>{V_=new Map,tW=[]});var ah=V6(()=>{sw()});var sh="1.21.0";var oh="warning",M3;var rw=V6(()=>{M3={wasm:{},webgl:{},webgpu:{},versions:{common:sh},set logLevel(J){if(J===void 0)return;if(typeof J!=="string"||["verbose","info","warning","error","fatal"].indexOf(J)===-1)throw Error(`Unsupported logging level: ${J}`);oh=J},get logLevel(){return oh}};Object.defineProperty(M3,"logLevel",{enumerable:!0})});var C61;var rh=V6(()=>{rw();C61=M3});var th=(J,Z)=>{let Q=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);Q.width=J.dims[3],Q.height=J.dims[2];let Y=Q.getContext("2d");if(Y!=null){let $,H;if(Z?.tensorLayout!==void 0&&Z.tensorLayout==="NHWC")$=J.dims[2],H=J.dims[3];else $=J.dims[3],H=J.dims[2];let K=Z?.format!==void 0?Z.format:"RGB",B=Z?.norm,q,L;if(B===void 0||B.mean===void 0)q=[255,255,255,255];else if(typeof B.mean==="number")q=[B.mean,B.mean,B.mean,B.mean];else if(q=[B.mean[0],B.mean[1],B.mean[2],0],B.mean[3]!==void 0)q[3]=B.mean[3];if(B===void 0||B.bias===void 0)L=[0,0,0,0];else if(typeof B.bias==="number")L=[B.bias,B.bias,B.bias,B.bias];else if(L=[B.bias[0],B.bias[1],B.bias[2],0],B.bias[3]!==void 0)L[3]=B.bias[3];let O=H*$,z=0,F=O,V=O*2,A=-1;if(K==="RGBA")z=0,F=O,V=O*2,A=O*3;else if(K==="RGB")z=0,F=O,V=O*2;else if(K==="RBG")z=0,V=O,F=O*2;for(let M=0;M<H;M++)for(let j=0;j<$;j++){let D=(J.data[z++]-L[0])*q[0],w=(J.data[F++]-L[1])*q[1],C=(J.data[V++]-L[2])*q[2],I=A===-1?255:(J.data[A++]-L[3])*q[3];Y.fillStyle="rgba("+D+","+w+","+C+","+I+")",Y.fillRect(j,M,1,1)}if("toDataURL"in Q)return Q.toDataURL();else throw Error("toDataURL is not supported")}else throw Error("Can not access image data")},eh=(J,Z)=>{let Q=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),Y;if(Q!=null){let $,H,K;if(Z?.tensorLayout!==void 0&&Z.tensorLayout==="NHWC")$=J.dims[2],H=J.dims[1],K=J.dims[3];else $=J.dims[3],H=J.dims[2],K=J.dims[1];let B=Z!==void 0?Z.format!==void 0?Z.format:"RGB":"RGB",q=Z?.norm,L,O;if(q===void 0||q.mean===void 0)L=[255,255,255,255];else if(typeof q.mean==="number")L=[q.mean,q.mean,q.mean,q.mean];else if(L=[q.mean[0],q.mean[1],q.mean[2],255],q.mean[3]!==void 0)L[3]=q.mean[3];if(q===void 0||q.bias===void 0)O=[0,0,0,0];else if(typeof q.bias==="number")O=[q.bias,q.bias,q.bias,q.bias];else if(O=[q.bias[0],q.bias[1],q.bias[2],0],q.bias[3]!==void 0)O[3]=q.bias[3];let z=H*$;if(Z!==void 0){if(Z.format!==void 0&&K===4&&Z.format!=="RGBA"||K===3&&Z.format!=="RGB"&&Z.format!=="BGR")throw Error("Tensor format doesn't match input tensor dims")}let F=4,V=0,A=1,M=2,j=3,D=0,w=z,C=z*2,I=-1;if(B==="RGBA")D=0,w=z,C=z*2,I=z*3;else if(B==="RGB")D=0,w=z,C=z*2;else if(B==="RBG")D=0,C=z,w=z*2;Y=Q.createImageData($,H);for(let b=0;b<H*$;V+=F,A+=F,M+=F,j+=F,b++)Y.data[V]=(J.data[D++]-O[0])*L[0],Y.data[A]=(J.data[w++]-O[1])*L[1],Y.data[M]=(J.data[C++]-O[2])*L[2],Y.data[j]=I===-1?255:(J.data[I++]-O[3])*L[3]}else throw Error("Can not access image data");return Y};var tw=(J,Z)=>{if(J===void 0)throw Error("Image buffer must be defined");if(Z.height===void 0||Z.width===void 0)throw Error("Image height and width must be defined");if(Z.tensorLayout==="NHWC")throw Error("NHWC Tensor layout is not supported yet");let{height:Q,width:Y}=Z,$=Z.norm??{mean:255,bias:0},H,K;if(typeof $.mean==="number")H=[$.mean,$.mean,$.mean,$.mean];else H=[$.mean[0],$.mean[1],$.mean[2],$.mean[3]??255];if(typeof $.bias==="number")K=[$.bias,$.bias,$.bias,$.bias];else K=[$.bias[0],$.bias[1],$.bias[2],$.bias[3]??0];let B=Z.format!==void 0?Z.format:"RGBA",q=Z.tensorFormat!==void 0?Z.tensorFormat!==void 0?Z.tensorFormat:"RGB":"RGB",L=Q*Y,O=q==="RGBA"?new Float32Array(L*4):new Float32Array(L*3),z=4,F=0,V=1,A=2,M=3,j=0,D=L,w=L*2,C=-1;if(B==="RGB")z=3,F=0,V=1,A=2,M=-1;if(q==="RGBA")C=L*3;else if(q==="RBG")j=0,w=L,D=L*2;else if(q==="BGR")w=0,D=L,j=L*2;for(let b=0;b<L;b++,F+=z,A+=z,V+=z,M+=z)if(O[j++]=(J[F]+K[0])/H[0],O[D++]=(J[V]+K[1])/H[1],O[w++]=(J[A]+K[2])/H[2],C!==-1&&M!==-1)O[C++]=(J[M]+K[3])/H[3];return q==="RGBA"?new x9("float32",O,[1,4,Q,Y]):new x9("float32",O,[1,3,Q,Y])},Ju=async(J,Z)=>{let Q=typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement,Y=typeof ImageData<"u"&&J instanceof ImageData,$=typeof ImageBitmap<"u"&&J instanceof ImageBitmap,H=typeof J==="string",K,B=Z??{},q=()=>{if(typeof document<"u")return document.createElement("canvas");else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);else throw Error("Canvas is not supported")},L=(O)=>{if(typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement)return O.getContext("2d");else if(O instanceof OffscreenCanvas)return O.getContext("2d");else return null};if(Q){let O=q();O.width=J.width,O.height=J.height;let z=L(O);if(z!=null){let{height:F,width:V}=J;if(Z!==void 0&&Z.resizedHeight!==void 0&&Z.resizedWidth!==void 0)F=Z.resizedHeight,V=Z.resizedWidth;if(Z!==void 0){if(B=Z,Z.tensorFormat!==void 0)throw Error("Image input config format must be RGBA for HTMLImageElement");else B.tensorFormat="RGBA";B.height=F,B.width=V}else B.tensorFormat="RGBA",B.height=F,B.width=V;z.drawImage(J,0,0),K=z.getImageData(0,0,V,F).data}else throw Error("Can not access image data")}else if(Y){let O,z;if(Z!==void 0&&Z.resizedWidth!==void 0&&Z.resizedHeight!==void 0)O=Z.resizedHeight,z=Z.resizedWidth;else O=J.height,z=J.width;if(Z!==void 0)B=Z;if(B.format="RGBA",B.height=O,B.width=z,Z!==void 0){let F=q();F.width=z,F.height=O;let V=L(F);if(V!=null)V.putImageData(J,0,0),K=V.getImageData(0,0,z,O).data;else throw Error("Can not access image data")}else K=J.data}else if($){if(Z===void 0)throw Error("Please provide image config with format for Imagebitmap");let O=q();O.width=J.width,O.height=J.height;let z=L(O);if(z!=null){let{height:F,width:V}=J;return z.drawImage(J,0,0,V,F),K=z.getImageData(0,0,V,F).data,B.height=F,B.width=V,tw(K,B)}else throw Error("Can not access image data")}else if(H)return new Promise((O,z)=>{let F=q(),V=L(F);if(!J||!V)return z();let A=new Image;A.crossOrigin="Anonymous",A.src=J,A.onload=()=>{F.width=A.width,F.height=A.height,V.drawImage(A,0,0,F.width,F.height);let M=V.getImageData(0,0,F.width,F.height);B.height=F.height,B.width=F.width,O(tw(M.data,B))}});else throw Error("Input data provided is not supported - aborted tensor creation");if(K!==void 0)return tw(K,B);else throw Error("Input data provided is not supported - aborted tensor creation")},Zu=(J,Z)=>{let{width:Q,height:Y,download:$,dispose:H}=Z;return new x9({location:"texture",type:"float32",texture:J,dims:[1,Y,Q,4],download:$,dispose:H})},Qu=(J,Z)=>{let{dataType:Q,dims:Y,download:$,dispose:H}=Z;return new x9({location:"gpu-buffer",type:Q??"float32",gpuBuffer:J,dims:Y,download:$,dispose:H})},Xu=(J,Z)=>{let{dataType:Q,dims:Y,download:$,dispose:H}=Z;return new x9({location:"ml-tensor",type:Q??"float32",mlTensor:J,dims:Y,download:$,dispose:H})},Yu=(J,Z,Q)=>new x9({location:"cpu-pinned",type:J,data:Z,dims:Q??[Z.length]});var Gu=V6(()=>{I_()});var eW,TN,$u=!1,Hu=()=>{if(!$u){$u=!0;let J=typeof BigInt64Array<"u"&&BigInt64Array.from,Z=typeof BigUint64Array<"u"&&BigUint64Array.from,Q=globalThis.Float16Array,Y=typeof Q<"u"&&Q.from;if(J)eW.set("int64",BigInt64Array),TN.set(BigInt64Array,"int64");if(Z)eW.set("uint64",BigUint64Array),TN.set(BigUint64Array,"uint64");if(Y)eW.set("float16",Q),TN.set(Q,"float16");else eW.set("float16",Uint16Array)}};var Wu=V6(()=>{eW=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),TN=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]])});var Ku=(J)=>{let Z=1;for(let Q=0;Q<J.length;Q++){let Y=J[Q];if(typeof Y!=="number"||!Number.isSafeInteger(Y))throw TypeError(`dims[${Q}] must be an integer, got: ${Y}`);if(Y<0)throw RangeError(`dims[${Q}] must be a non-negative integer, got: ${Y}`);Z*=Y}return Z},Bu=(J,Z)=>{switch(J.location){case"cpu":return new x9(J.type,J.data,Z);case"cpu-pinned":return new x9({location:"cpu-pinned",data:J.data,type:J.type,dims:Z});case"texture":return new x9({location:"texture",texture:J.texture,type:J.type,dims:Z});case"gpu-buffer":return new x9({location:"gpu-buffer",gpuBuffer:J.gpuBuffer,type:J.type,dims:Z});case"ml-tensor":return new x9({location:"ml-tensor",mlTensor:J.mlTensor,type:J.type,dims:Z});default:throw Error(`tensorReshape: tensor location ${J.location} is not supported`)}};var qu=V6(()=>{I_()});class x9{constructor(J,Z,Q){Hu();let Y,$;if(typeof J==="object"&&"location"in J)switch(this.dataLocation=J.location,Y=J.type,$=J.dims,J.location){case"cpu-pinned":{let K=eW.get(Y);if(!K)throw TypeError(`unsupported type "${Y}" to create tensor from pinned buffer`);if(!(J.data instanceof K))throw TypeError(`buffer should be of type ${K.name}`);this.cpuData=J.data;break}case"texture":{if(Y!=="float32")throw TypeError(`unsupported type "${Y}" to create tensor from texture`);this.gpuTextureData=J.texture,this.downloader=J.download,this.disposer=J.dispose;break}case"gpu-buffer":{if(Y!=="float32"&&Y!=="float16"&&Y!=="int32"&&Y!=="int64"&&Y!=="uint32"&&Y!=="uint8"&&Y!=="bool"&&Y!=="uint4"&&Y!=="int4")throw TypeError(`unsupported type "${Y}" to create tensor from gpu buffer`);this.gpuBufferData=J.gpuBuffer,this.downloader=J.download,this.disposer=J.dispose;break}case"ml-tensor":{if(Y!=="float32"&&Y!=="float16"&&Y!=="int32"&&Y!=="int64"&&Y!=="uint32"&&Y!=="uint64"&&Y!=="int8"&&Y!=="uint8"&&Y!=="bool"&&Y!=="uint4"&&Y!=="int4")throw TypeError(`unsupported type "${Y}" to create tensor from MLTensor`);this.mlTensorData=J.mlTensor,this.downloader=J.download,this.disposer=J.dispose;break}default:throw Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let K,B;if(typeof J==="string")if(Y=J,B=Q,J==="string"){if(!Array.isArray(Z))throw TypeError("A string tensor's data must be a string array.");K=Z}else{let q=eW.get(J);if(q===void 0)throw TypeError(`Unsupported tensor type: ${J}.`);if(Array.isArray(Z))if(J==="float16"&&q===Uint16Array||J==="uint4"||J==="int4")throw TypeError(`Creating a ${J} tensor from number array is not supported. Please use ${q.name} as data.`);else if(J==="uint64"||J==="int64")K=q.from(Z,BigInt);else K=q.from(Z);else if(Z instanceof q)K=Z;else if(Z instanceof Uint8ClampedArray)if(J==="uint8")K=Uint8Array.from(Z);else throw TypeError("A Uint8ClampedArray tensor's data must be type of uint8");else if(J==="float16"&&Z instanceof Uint16Array&&q!==Uint16Array)K=new globalThis.Float16Array(Z.buffer,Z.byteOffset,Z.length);else throw TypeError(`A ${Y} tensor's data must be type of ${q}`)}else if(B=Z,Array.isArray(J)){if(J.length===0)throw TypeError("Tensor type cannot be inferred from an empty array.");let q=typeof J[0];if(q==="string")Y="string",K=J;else if(q==="boolean")Y="bool",K=Uint8Array.from(J);else throw TypeError(`Invalid element type of data array: ${q}.`)}else if(J instanceof Uint8ClampedArray)Y="uint8",K=Uint8Array.from(J);else{let q=TN.get(J.constructor);if(q===void 0)throw TypeError(`Unsupported type for tensor data: ${J.constructor}.`);Y=q,K=J}if(B===void 0)B=[K.length];else if(!Array.isArray(B))throw TypeError("A tensor's dims must be a number array");$=B,this.cpuData=K,this.dataLocation="cpu"}let H=Ku($);if(this.cpuData&&H!==this.cpuData.length)if((Y==="uint4"||Y==="int4")&&Math.ceil(H/2)===this.cpuData.length);else throw Error(`Tensor's size(${H}) does not match data length(${this.cpuData.length}).`);this.type=Y,this.dims=$,this.size=H}static async fromImage(J,Z){return Ju(J,Z)}static fromTexture(J,Z){return Zu(J,Z)}static fromGpuBuffer(J,Z){return Qu(J,Z)}static fromMLTensor(J,Z){return Xu(J,Z)}static fromPinnedBuffer(J,Z,Q){return Yu(J,Z,Q)}toDataURL(J){return th(this,J)}toImageData(J){return eh(this,J)}get data(){if(this.ensureValid(),!this.cpuData)throw Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(J){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":{if(!this.downloader)throw Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let Z=await this.downloader();if(this.downloader=void 0,this.dataLocation="cpu",this.cpuData=Z,J&&this.disposer)this.disposer(),this.disposer=void 0;return Z}finally{this.isDownloading=!1}}default:throw Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw Error("The current tensor is being downloaded.");if(this.disposer)this.disposer(),this.disposer=void 0;this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw Error("The tensor is disposed.")}reshape(J){if(this.ensureValid(),this.downloader||this.disposer)throw Error("Cannot reshape a tensor that owns GPU resource.");return Bu(this,J)}}var I_=V6(()=>{Gu();Wu();qu()});var JK;var ew=V6(()=>{I_();JK=x9});var Uu=(J,Z)=>{if(typeof M3.trace>"u"?!M3.wasm.trace:!M3.trace)return;console.timeStamp(`${J}::ORT::${Z}`)},Lu=(J,Z)=>{let Q=Error().stack?.split(/\r\n|\r|\n/g)||[],Y=!1;for(let $=0;$<Q.length;$++){if(Y&&!Q[$].includes("TRACE_FUNC")){let H=`FUNC_${J}::${Q[$].trim().split(" ")[1]}`;if(Z)H+=`::${Z}`;Uu("CPU",H);return}if(Q[$].includes("TRACE_FUNC"))Y=!0}},j_=(J)=>{if(typeof M3.trace>"u"?!M3.wasm.trace:!M3.trace)return;Lu("BEGIN",J)},D_=(J)=>{if(typeof M3.trace>"u"?!M3.wasm.trace:!M3.trace)return;Lu("END",J)};var JE=V6(()=>{rw()});class w_{constructor(J){this.handler=J}async run(J,Z,Q){j_();let Y={},$={};if(typeof J!=="object"||J===null||J instanceof JK||Array.isArray(J))throw TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let H=!0;if(typeof Z==="object"){if(Z===null)throw TypeError("Unexpected argument[1]: cannot be null.");if(Z instanceof JK)throw TypeError("'fetches' cannot be a Tensor");if(Array.isArray(Z)){if(Z.length===0)throw TypeError("'fetches' cannot be an empty array.");H=!1;for(let q of Z){if(typeof q!=="string")throw TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(q)===-1)throw RangeError(`'fetches' contains invalid output name: ${q}.`);Y[q]=null}if(typeof Q==="object"&&Q!==null)$=Q;else if(typeof Q<"u")throw TypeError("'options' must be an object.")}else{let q=!1,L=Object.getOwnPropertyNames(Z);for(let O of this.outputNames)if(L.indexOf(O)!==-1){let z=Z[O];if(z===null||z instanceof JK)q=!0,H=!1,Y[O]=z}if(q){if(typeof Q==="object"&&Q!==null)$=Q;else if(typeof Q<"u")throw TypeError("'options' must be an object.")}else $=Z}}else if(typeof Z<"u")throw TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let q of this.inputNames)if(typeof J[q]>"u")throw Error(`input '${q}' is missing in 'feeds'.`);if(H)for(let q of this.outputNames)Y[q]=null;let K=await this.handler.run(J,Y,$),B={};for(let q in K)if(Object.hasOwnProperty.call(K,q)){let L=K[q];if(L instanceof JK)B[q]=L;else B[q]=new JK(L.type,L.data,L.dims)}return D_(),B}async release(){return this.handler.dispose()}static async create(J,Z,Q,Y){j_();let $,H={};if(typeof J==="string"){if($=J,typeof Z==="object"&&Z!==null)H=Z;else if(typeof Z<"u")throw TypeError("'options' must be an object.")}else if(J instanceof Uint8Array){if($=J,typeof Z==="object"&&Z!==null)H=Z;else if(typeof Z<"u")throw TypeError("'options' must be an object.")}else if(J instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&J instanceof SharedArrayBuffer){let L=J,O=0,z=J.byteLength;if(typeof Z==="object"&&Z!==null)H=Z;else if(typeof Z==="number"){if(O=Z,!Number.isSafeInteger(O))throw RangeError("'byteOffset' must be an integer.");if(O<0||O>=L.byteLength)throw RangeError(`'byteOffset' is out of range [0, ${L.byteLength}).`);if(z=J.byteLength-O,typeof Q==="number"){if(z=Q,!Number.isSafeInteger(z))throw RangeError("'byteLength' must be an integer.");if(z<=0||O+z>L.byteLength)throw RangeError(`'byteLength' is out of range (0, ${L.byteLength-O}].`);if(typeof Y==="object"&&Y!==null)H=Y;else if(typeof Y<"u")throw TypeError("'options' must be an object.")}else if(typeof Q<"u")throw TypeError("'byteLength' must be a number.")}else if(typeof Z<"u")throw TypeError("'options' must be an object.");$=new Uint8Array(L,O,z)}else throw TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[K,B]=await nh(H),q=await K.createInferenceSessionHandler($,B);return D_(),new w_(q)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}var Ou=V6(()=>{sw();ew();JE()});var b61;var zu=V6(()=>{Ou();b61=w_});var Nu=()=>{};var Fu=()=>{};var Au=()=>{};var Mu=()=>{};var ZE={};FI(ZE,{registerBackend:()=>ih,env:()=>C61,Tensor:()=>JK,TRACE_FUNC_END:()=>D_,TRACE_FUNC_BEGIN:()=>j_,TRACE:()=>Uu,InferenceSession:()=>b61});var _u=V6(()=>{ah();rh();zu();ew();Nu();Fu();JE();Au();Mu()});var nk={};FI(nk,{registerBackend:()=>HK,env:()=>f4,default:()=>r91,Tensor:()=>AZ,TRACE_FUNC_END:()=>IJ,TRACE_FUNC_BEGIN:()=>MZ,TRACE:()=>rN,InferenceSession:()=>Mk});var Fk,v61,f61,S61,T61,f0=(J,Z)=>()=>(J&&(Z=J(J=0)),Z),NL=(J,Z)=>{for(var Q in Z)Fk(J,Q,{get:Z[Q],enumerable:!0})},P61=(J,Z,Q,Y)=>{if(Z&&typeof Z=="object"||typeof Z=="function")for(let $ of f61(Z))!S61.call(J,$)&&$!==Q&&Fk(J,$,{get:()=>Z[$],enumerable:!(Y=v61(Z,$))||Y.enumerable});return J},oN=(J)=>P61(Fk({},"__esModule",{value:!0}),J),PN,hG,HK,Vu,ec,Jp,g61,Zp,y61,QE,VJ,Qp,f4,h61,Xp,Yp,u61,E_,Gp,$p,Hp,Wp,Kp,d61,GK,iN,XE,Bp,m61,qp,Up,c61,V3,Ak,AZ,Lp,rN,YE,MZ,IJ,Op,zp,p61,Mk,l61,i61,n61,a61,s61,Np,_Z,_k,Fp,GE,$E,Ap,o61,Mp,HE,WE,_p,Iu,r61,KE,Zk,ju,_3,Vp,k_,Du,wu,BE,Eu,qE,Ip,UE,jp,Vk,LE,x_,gN,OE,ku,xu,Ru,Ik,w4,qK,FZ,d_,$4,jk,Dp,t61,Cu,bu,vu,yN,fu,wp,e61,UL,TX,$K,Dk,m_,wk,Ek,Qk,g2,kk,Ep,Su,Tu,Pu,gu,xk,yu,R5,PX,hu,OL,t1,c_,kp,xp,Rp,n2,Rk,Cp,Xk,zE,uu,NE,du,FE,AE,ME,mu,bp,J91,R_,cu,vp,Z91,Ck,_E,C_,b_,pu,lu,VE,Yk,iu,fp,Q91,nu,i5,k7,zL,v_,w6,R9,N2,U7,Gk,LL,mG,O2,hN,q0,H2,Sp,bk,au,Tp,r2,su,IE,ou,ru,tu,eu,I3,Pp,gp,cG,Jd,Zd,Qd,Xd,Yd,Gd,$d,Hd,Wd,Kd,UZ,yp,hp,up,dp,mp,cp,pp,lp,ip,np,X91,LZ,Bd,p_,$k,OZ,qd,Ud,Ld,Od,zd,Nd,Fd,Ad,Md,_d,zZ,ap,sp,op,rp,tp,ep,Jl,Zl,Ql,Xl,vk,jE,Yl,Gl,Hk,Y91,Vd,f_,Id,jd,Dd,tN,wd,$l,fk,Ed,kd,xd,Hl,G91,Rd,Cd,Wl,$91,bd,l5,Kl,Bl,ql,Ul,Ll,Ol,zl,Nl,Fl,vd,Al,Ml,_l,Vl,nN,Il,u_,jl,Dl,wl,El,kl,xl,Rl,Cl,bl,vl,fl,Sl,Tl,Pl,gl,yl,DE,hl,Wk,Kk,ul,dl,ml,fd,Sd,cl,Sk,Td,Pd,pl,H91,gd,yd,NZ,ll,il,nl,al,sl,ol,rl,tl,el,Ji,W91,hd,ud,dd,md,Zi,Qi,K91,WK,KK,BK,Tk,UK,d6,Xi,Pk,Yi,B91,sN,gk,yk,cd,pd,Bk,wE,ld,qk,id,l_,hk,nd,Gi,q91,ad,EE,uN,sd,kE,od,$i,Hi,U91,Wi,Ki,L91,rd,S_,td,T_,Uk,xE,ed,Jm,Lk,O91,Bi,z91,Zm,Qm,Xm,RE,qi,Ym,CE,Gm,Ui,N91,$m,Li,Oi,F91,Hm,Wm,Km,zi,Ni,A91,P_,dN,bE,Bm,qm,Um,Lm,vE,Om,Fi,Ai,M91,zm,fE,Nm,Fm,Mi,_91,Am,_i,V91,Mm,_m,Vi,Ii,I91,Vm,ji,Di,j91,Im,jm,wi,Ei,D91,Dm,wm,ki,xi,w91,Em,km,Ri,Ci,E91,IQ,SX,ZK,QK,xm,Rm,Cm,bm,vm,fm,Sm,Tm,bi,fi,k91,G8,Pm,Si,SE,gm,aN,Ti,Pi,ym,hm,um,dm,Ok,gi,yi,hi,mm,i_,ui,di,cm,pm,TE,lm,mi,x91,PE,im,nm,ci,R91,am,sm,pi,C91,om,li,b91,rm,tm,em,ii,ni,v91,Jc,Zc,Qc,Xc,Yc,Gc,$c,Hc,ai,f91,mN,gE,yE,hE,uE,Wc,Kc,dE,mE,si,oi,cE,ri,ti,pE,ei,Jn,Zn,Qn,S91,Bc,qc,Xn,Yn,T91,Uc,Lc,Gn,P91,Oc,lE,iE,zc,$n,Hn,g91,Nc,Fc,Ac,nE,Mc,_c,Vc,Ic,jc,Dc,wc,Ec,aE,kc,xc,Rc,Cc,bc,Wn,Kn,y91,vc,fc,Bn,h91,Sc,cN,Tc,sE,Pc,gc,qn,Un,u91,yc,hc,Ln,On,d91,oE,uc,dc,mc,zn,m91,cc,pc,Nn,c91,Fn,p91,An,l91,Mn,lc,ic,nc,_n,i91,Vn,g_,ac,In,n91,sc,uk,dk,uG,oc,rE,n_,mk,ck,tE,pk,lk,ik,jn,dG,_J,qL,pN,lN,y_,eE,h_,XK,YK,rc,Dn,wn,En,kn,xn,Rn,Cn,bn,Jk,tc,vn,a91,fn,zk,Nk,Sn,s91,o91="1.22.0-dev.20250409-89f8206ba4",r91;var Tn=V6(()=>{/*!
 * ONNX Runtime Web v1.22.0-dev.20250409-89f8206ba4
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */Fk=Object.defineProperty,v61=Object.getOwnPropertyDescriptor,f61=Object.getOwnPropertyNames,S61=Object.prototype.hasOwnProperty,T61=((J)=>AI)(function(J){return AI.apply(this,arguments)}),Jp=f0(()=>{PN=new Map,hG=[],HK=(J,Z,Q)=>{if(Z&&typeof Z.init=="function"&&typeof Z.createInferenceSessionHandler=="function"){let Y=PN.get(J);if(Y===void 0)PN.set(J,{backend:Z,priority:Q});else{if(Y.priority>Q)return;if(Y.priority===Q&&Y.backend!==Z)throw Error(`cannot register backend "${J}" using priority ${Q}`)}if(Q>=0){let $=hG.indexOf(J);$!==-1&&hG.splice($,1);for(let H=0;H<hG.length;H++)if(PN.get(hG[H]).priority<=Q){hG.splice(H,0,J);return}hG.push(J)}return}throw TypeError("not a valid backend")},Vu=async(J)=>{let Z=PN.get(J);if(!Z)return"backend not found.";if(Z.initialized)return Z.backend;if(Z.aborted)return Z.error;{let Q=!!Z.initPromise;try{return Q||(Z.initPromise=Z.backend.init(J)),await Z.initPromise,Z.initialized=!0,Z.backend}catch(Y){return Q||(Z.error=`${Y}`,Z.aborted=!0),Z.error}finally{delete Z.initPromise}}},ec=async(J)=>{let Z=J.executionProviders||[],Q=Z.map((q)=>typeof q=="string"?q:q.name),Y=Q.length===0?hG:Q,$,H=[],K=new Set;for(let q of Y){let L=await Vu(q);typeof L=="string"?H.push({name:q,err:L}):($||($=L),$===L&&K.add(q))}if(!$)throw Error(`no available backend found. ERR: ${H.map((q)=>`[${q.name}] ${q.err}`).join(", ")}`);for(let{name:q,err:L}of H)Q.includes(q)&&console.warn(`removing requested execution provider "${q}" from session options because it is not available: ${L}`);let B=Z.filter((q)=>K.has(typeof q=="string"?q:q.name));return[$,new Proxy(J,{get:(q,L)=>L==="executionProviders"?B:Reflect.get(q,L)})]}}),g61=f0(()=>{Jp()}),y61=f0(()=>{Zp="1.22.0-dev.20250409-89f8206ba4"}),Qp=f0(()=>{y61(),QE="warning",VJ={wasm:{},webgl:{},webgpu:{},versions:{common:Zp},set logLevel(J){if(J!==void 0){if(typeof J!="string"||["verbose","info","warning","error","fatal"].indexOf(J)===-1)throw Error(`Unsupported logging level: ${J}`);QE=J}},get logLevel(){return QE}},Object.defineProperty(VJ,"logLevel",{enumerable:!0})}),h61=f0(()=>{Qp(),f4=VJ}),u61=f0(()=>{Xp=(J,Z)=>{let Q=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);Q.width=J.dims[3],Q.height=J.dims[2];let Y=Q.getContext("2d");if(Y!=null){let $,H;Z?.tensorLayout!==void 0&&Z.tensorLayout==="NHWC"?($=J.dims[2],H=J.dims[3]):($=J.dims[3],H=J.dims[2]);let K=Z?.format!==void 0?Z.format:"RGB",B=Z?.norm,q,L;B===void 0||B.mean===void 0?q=[255,255,255,255]:typeof B.mean=="number"?q=[B.mean,B.mean,B.mean,B.mean]:(q=[B.mean[0],B.mean[1],B.mean[2],0],B.mean[3]!==void 0&&(q[3]=B.mean[3])),B===void 0||B.bias===void 0?L=[0,0,0,0]:typeof B.bias=="number"?L=[B.bias,B.bias,B.bias,B.bias]:(L=[B.bias[0],B.bias[1],B.bias[2],0],B.bias[3]!==void 0&&(L[3]=B.bias[3]));let O=H*$,z=0,F=O,V=O*2,A=-1;K==="RGBA"?(z=0,F=O,V=O*2,A=O*3):K==="RGB"?(z=0,F=O,V=O*2):K==="RBG"&&(z=0,V=O,F=O*2);for(let M=0;M<H;M++)for(let j=0;j<$;j++){let D=(J.data[z++]-L[0])*q[0],w=(J.data[F++]-L[1])*q[1],C=(J.data[V++]-L[2])*q[2],I=A===-1?255:(J.data[A++]-L[3])*q[3];Y.fillStyle="rgba("+D+","+w+","+C+","+I+")",Y.fillRect(j,M,1,1)}if("toDataURL"in Q)return Q.toDataURL();throw Error("toDataURL is not supported")}else throw Error("Can not access image data")},Yp=(J,Z)=>{let Q=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),Y;if(Q!=null){let $,H,K;Z?.tensorLayout!==void 0&&Z.tensorLayout==="NHWC"?($=J.dims[2],H=J.dims[1],K=J.dims[3]):($=J.dims[3],H=J.dims[2],K=J.dims[1]);let B=Z!==void 0&&Z.format!==void 0?Z.format:"RGB",q=Z?.norm,L,O;q===void 0||q.mean===void 0?L=[255,255,255,255]:typeof q.mean=="number"?L=[q.mean,q.mean,q.mean,q.mean]:(L=[q.mean[0],q.mean[1],q.mean[2],255],q.mean[3]!==void 0&&(L[3]=q.mean[3])),q===void 0||q.bias===void 0?O=[0,0,0,0]:typeof q.bias=="number"?O=[q.bias,q.bias,q.bias,q.bias]:(O=[q.bias[0],q.bias[1],q.bias[2],0],q.bias[3]!==void 0&&(O[3]=q.bias[3]));let z=H*$;if(Z!==void 0&&(Z.format!==void 0&&K===4&&Z.format!=="RGBA"||K===3&&Z.format!=="RGB"&&Z.format!=="BGR"))throw Error("Tensor format doesn't match input tensor dims");let F=4,V=0,A=1,M=2,j=3,D=0,w=z,C=z*2,I=-1;B==="RGBA"?(D=0,w=z,C=z*2,I=z*3):B==="RGB"?(D=0,w=z,C=z*2):B==="RBG"&&(D=0,C=z,w=z*2),Y=Q.createImageData($,H);for(let b=0;b<H*$;V+=F,A+=F,M+=F,j+=F,b++)Y.data[V]=(J.data[D++]-O[0])*L[0],Y.data[A]=(J.data[w++]-O[1])*L[1],Y.data[M]=(J.data[C++]-O[2])*L[2],Y.data[j]=I===-1?255:(J.data[I++]-O[3])*L[3]}else throw Error("Can not access image data");return Y}}),d61=f0(()=>{Ak(),E_=(J,Z)=>{if(J===void 0)throw Error("Image buffer must be defined");if(Z.height===void 0||Z.width===void 0)throw Error("Image height and width must be defined");if(Z.tensorLayout==="NHWC")throw Error("NHWC Tensor layout is not supported yet");let{height:Q,width:Y}=Z,$=Z.norm??{mean:255,bias:0},H,K;typeof $.mean=="number"?H=[$.mean,$.mean,$.mean,$.mean]:H=[$.mean[0],$.mean[1],$.mean[2],$.mean[3]??255],typeof $.bias=="number"?K=[$.bias,$.bias,$.bias,$.bias]:K=[$.bias[0],$.bias[1],$.bias[2],$.bias[3]??0];let B=Z.format!==void 0?Z.format:"RGBA",q=Z.tensorFormat!==void 0&&Z.tensorFormat!==void 0?Z.tensorFormat:"RGB",L=Q*Y,O=q==="RGBA"?new Float32Array(L*4):new Float32Array(L*3),z=4,F=0,V=1,A=2,M=3,j=0,D=L,w=L*2,C=-1;B==="RGB"&&(z=3,F=0,V=1,A=2,M=-1),q==="RGBA"?C=L*3:q==="RBG"?(j=0,w=L,D=L*2):q==="BGR"&&(w=0,D=L,j=L*2);for(let I=0;I<L;I++,F+=z,A+=z,V+=z,M+=z)O[j++]=(J[F]+K[0])/H[0],O[D++]=(J[V]+K[1])/H[1],O[w++]=(J[A]+K[2])/H[2],C!==-1&&M!==-1&&(O[C++]=(J[M]+K[3])/H[3]);return q==="RGBA"?new V3("float32",O,[1,4,Q,Y]):new V3("float32",O,[1,3,Q,Y])},Gp=async(J,Z)=>{let Q=typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement,Y=typeof ImageData<"u"&&J instanceof ImageData,$=typeof ImageBitmap<"u"&&J instanceof ImageBitmap,H=typeof J=="string",K,B=Z??{},q=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw Error("Canvas is not supported")},L=(O)=>typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||O instanceof OffscreenCanvas?O.getContext("2d"):null;if(Q){let O=q();O.width=J.width,O.height=J.height;let z=L(O);if(z!=null){let{height:F,width:V}=J;if(Z!==void 0&&Z.resizedHeight!==void 0&&Z.resizedWidth!==void 0&&(F=Z.resizedHeight,V=Z.resizedWidth),Z!==void 0){if(B=Z,Z.tensorFormat!==void 0)throw Error("Image input config format must be RGBA for HTMLImageElement");B.tensorFormat="RGBA",B.height=F,B.width=V}else B.tensorFormat="RGBA",B.height=F,B.width=V;z.drawImage(J,0,0),K=z.getImageData(0,0,V,F).data}else throw Error("Can not access image data")}else if(Y){let O,z;if(Z!==void 0&&Z.resizedWidth!==void 0&&Z.resizedHeight!==void 0?(O=Z.resizedHeight,z=Z.resizedWidth):(O=J.height,z=J.width),Z!==void 0&&(B=Z),B.format="RGBA",B.height=O,B.width=z,Z!==void 0){let F=q();F.width=z,F.height=O;let V=L(F);if(V!=null)V.putImageData(J,0,0),K=V.getImageData(0,0,z,O).data;else throw Error("Can not access image data")}else K=J.data}else if($){if(Z===void 0)throw Error("Please provide image config with format for Imagebitmap");let O=q();O.width=J.width,O.height=J.height;let z=L(O);if(z!=null){let{height:F,width:V}=J;return z.drawImage(J,0,0,V,F),K=z.getImageData(0,0,V,F).data,B.height=F,B.width=V,E_(K,B)}else throw Error("Can not access image data")}else{if(H)return new Promise((O,z)=>{let F=q(),V=L(F);if(!J||!V)return z();let A=new Image;A.crossOrigin="Anonymous",A.src=J,A.onload=()=>{F.width=A.width,F.height=A.height,V.drawImage(A,0,0,F.width,F.height);let M=V.getImageData(0,0,F.width,F.height);B.height=F.height,B.width=F.width,O(E_(M.data,B))}});throw Error("Input data provided is not supported - aborted tensor creation")}if(K!==void 0)return E_(K,B);throw Error("Input data provided is not supported - aborted tensor creation")},$p=(J,Z)=>{let{width:Q,height:Y,download:$,dispose:H}=Z;return new V3({location:"texture",type:"float32",texture:J,dims:[1,Y,Q,4],download:$,dispose:H})},Hp=(J,Z)=>{let{dataType:Q,dims:Y,download:$,dispose:H}=Z;return new V3({location:"gpu-buffer",type:Q??"float32",gpuBuffer:J,dims:Y,download:$,dispose:H})},Wp=(J,Z)=>{let{dataType:Q,dims:Y,download:$,dispose:H}=Z;return new V3({location:"ml-tensor",type:Q??"float32",mlTensor:J,dims:Y,download:$,dispose:H})},Kp=(J,Z,Q)=>new V3({location:"cpu-pinned",type:J,data:Z,dims:Q??[Z.length]})}),m61=f0(()=>{GK=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),iN=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),XE=!1,Bp=()=>{if(!XE){XE=!0;let J=typeof BigInt64Array<"u"&&BigInt64Array.from,Z=typeof BigUint64Array<"u"&&BigUint64Array.from,Q=globalThis.Float16Array,Y=typeof Q<"u"&&Q.from;J&&(GK.set("int64",BigInt64Array),iN.set(BigInt64Array,"int64")),Z&&(GK.set("uint64",BigUint64Array),iN.set(BigUint64Array,"uint64")),Y?(GK.set("float16",Q),iN.set(Q,"float16")):GK.set("float16",Uint16Array)}}}),c61=f0(()=>{Ak(),qp=(J)=>{let Z=1;for(let Q=0;Q<J.length;Q++){let Y=J[Q];if(typeof Y!="number"||!Number.isSafeInteger(Y))throw TypeError(`dims[${Q}] must be an integer, got: ${Y}`);if(Y<0)throw RangeError(`dims[${Q}] must be a non-negative integer, got: ${Y}`);Z*=Y}return Z},Up=(J,Z)=>{switch(J.location){case"cpu":return new V3(J.type,J.data,Z);case"cpu-pinned":return new V3({location:"cpu-pinned",data:J.data,type:J.type,dims:Z});case"texture":return new V3({location:"texture",texture:J.texture,type:J.type,dims:Z});case"gpu-buffer":return new V3({location:"gpu-buffer",gpuBuffer:J.gpuBuffer,type:J.type,dims:Z});case"ml-tensor":return new V3({location:"ml-tensor",mlTensor:J.mlTensor,type:J.type,dims:Z});default:throw Error(`tensorReshape: tensor location ${J.location} is not supported`)}}}),Ak=f0(()=>{u61(),d61(),m61(),c61(),V3=class{constructor(J,Z,Q){Bp();let Y,$;if(typeof J=="object"&&"location"in J)switch(this.dataLocation=J.location,Y=J.type,$=J.dims,J.location){case"cpu-pinned":{let K=GK.get(Y);if(!K)throw TypeError(`unsupported type "${Y}" to create tensor from pinned buffer`);if(!(J.data instanceof K))throw TypeError(`buffer should be of type ${K.name}`);this.cpuData=J.data;break}case"texture":{if(Y!=="float32")throw TypeError(`unsupported type "${Y}" to create tensor from texture`);this.gpuTextureData=J.texture,this.downloader=J.download,this.disposer=J.dispose;break}case"gpu-buffer":{if(Y!=="float32"&&Y!=="float16"&&Y!=="int32"&&Y!=="int64"&&Y!=="uint32"&&Y!=="uint8"&&Y!=="bool"&&Y!=="uint4"&&Y!=="int4")throw TypeError(`unsupported type "${Y}" to create tensor from gpu buffer`);this.gpuBufferData=J.gpuBuffer,this.downloader=J.download,this.disposer=J.dispose;break}case"ml-tensor":{if(Y!=="float32"&&Y!=="float16"&&Y!=="int32"&&Y!=="int64"&&Y!=="uint32"&&Y!=="uint64"&&Y!=="int8"&&Y!=="uint8"&&Y!=="bool"&&Y!=="uint4"&&Y!=="int4")throw TypeError(`unsupported type "${Y}" to create tensor from MLTensor`);this.mlTensorData=J.mlTensor,this.downloader=J.download,this.disposer=J.dispose;break}default:throw Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let K,B;if(typeof J=="string")if(Y=J,B=Q,J==="string"){if(!Array.isArray(Z))throw TypeError("A string tensor's data must be a string array.");K=Z}else{let q=GK.get(J);if(q===void 0)throw TypeError(`Unsupported tensor type: ${J}.`);if(Array.isArray(Z)){if(J==="float16"&&q===Uint16Array||J==="uint4"||J==="int4")throw TypeError(`Creating a ${J} tensor from number array is not supported. Please use ${q.name} as data.`);J==="uint64"||J==="int64"?K=q.from(Z,BigInt):K=q.from(Z)}else if(Z instanceof q)K=Z;else if(Z instanceof Uint8ClampedArray)if(J==="uint8")K=Uint8Array.from(Z);else throw TypeError("A Uint8ClampedArray tensor's data must be type of uint8");else if(J==="float16"&&Z instanceof Uint16Array&&q!==Uint16Array)K=new globalThis.Float16Array(Z.buffer,Z.byteOffset,Z.length);else throw TypeError(`A ${Y} tensor's data must be type of ${q}`)}else if(B=Z,Array.isArray(J)){if(J.length===0)throw TypeError("Tensor type cannot be inferred from an empty array.");let q=typeof J[0];if(q==="string")Y="string",K=J;else if(q==="boolean")Y="bool",K=Uint8Array.from(J);else throw TypeError(`Invalid element type of data array: ${q}.`)}else if(J instanceof Uint8ClampedArray)Y="uint8",K=Uint8Array.from(J);else{let q=iN.get(J.constructor);if(q===void 0)throw TypeError(`Unsupported type for tensor data: ${J.constructor}.`);Y=q,K=J}if(B===void 0)B=[K.length];else if(!Array.isArray(B))throw TypeError("A tensor's dims must be a number array");$=B,this.cpuData=K,this.dataLocation="cpu"}let H=qp($);if(this.cpuData&&H!==this.cpuData.length&&!((Y==="uint4"||Y==="int4")&&Math.ceil(H/2)===this.cpuData.length))throw Error(`Tensor's size(${H}) does not match data length(${this.cpuData.length}).`);this.type=Y,this.dims=$,this.size=H}static async fromImage(J,Z){return Gp(J,Z)}static fromTexture(J,Z){return $p(J,Z)}static fromGpuBuffer(J,Z){return Hp(J,Z)}static fromMLTensor(J,Z){return Wp(J,Z)}static fromPinnedBuffer(J,Z,Q){return Kp(J,Z,Q)}toDataURL(J){return Xp(this,J)}toImageData(J){return Yp(this,J)}get data(){if(this.ensureValid(),!this.cpuData)throw Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}async getData(J){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":{if(!this.downloader)throw Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let Z=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=Z,J&&this.disposer&&(this.disposer(),this.disposer=void 0),Z}finally{this.isDownloading=!1}}default:throw Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw Error("The tensor is disposed.")}reshape(J){if(this.ensureValid(),this.downloader||this.disposer)throw Error("Cannot reshape a tensor that owns GPU resource.");return Up(this,J)}}}),Lp=f0(()=>{Ak(),AZ=V3}),Op=f0(()=>{Qp(),rN=(J,Z)=>{(typeof VJ.trace>"u"?!VJ.wasm.trace:!VJ.trace)||console.timeStamp(`${J}::ORT::${Z}`)},YE=(J,Z)=>{let Q=Error().stack?.split(/\r\n|\r|\n/g)||[],Y=!1;for(let $=0;$<Q.length;$++){if(Y&&!Q[$].includes("TRACE_FUNC")){let H=`FUNC_${J}::${Q[$].trim().split(" ")[1]}`;Z&&(H+=`::${Z}`),rN("CPU",H);return}Q[$].includes("TRACE_FUNC")&&(Y=!0)}},MZ=(J)=>{(typeof VJ.trace>"u"?!VJ.wasm.trace:!VJ.trace)||YE("BEGIN",J)},IJ=(J)=>{(typeof VJ.trace>"u"?!VJ.wasm.trace:!VJ.trace)||YE("END",J)}}),p61=f0(()=>{Jp(),Lp(),Op(),zp=class J{constructor(Z){this.handler=Z}async run(Z,Q,Y){MZ();let $={},H={};if(typeof Z!="object"||Z===null||Z instanceof AZ||Array.isArray(Z))throw TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let K=!0;if(typeof Q=="object"){if(Q===null)throw TypeError("Unexpected argument[1]: cannot be null.");if(Q instanceof AZ)throw TypeError("'fetches' cannot be a Tensor");if(Array.isArray(Q)){if(Q.length===0)throw TypeError("'fetches' cannot be an empty array.");K=!1;for(let L of Q){if(typeof L!="string")throw TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(L)===-1)throw RangeError(`'fetches' contains invalid output name: ${L}.`);$[L]=null}if(typeof Y=="object"&&Y!==null)H=Y;else if(typeof Y<"u")throw TypeError("'options' must be an object.")}else{let L=!1,O=Object.getOwnPropertyNames(Q);for(let z of this.outputNames)if(O.indexOf(z)!==-1){let F=Q[z];(F===null||F instanceof AZ)&&(L=!0,K=!1,$[z]=F)}if(L){if(typeof Y=="object"&&Y!==null)H=Y;else if(typeof Y<"u")throw TypeError("'options' must be an object.")}else H=Q}}else if(typeof Q<"u")throw TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let L of this.inputNames)if(typeof Z[L]>"u")throw Error(`input '${L}' is missing in 'feeds'.`);if(K)for(let L of this.outputNames)$[L]=null;let B=await this.handler.run(Z,$,H),q={};for(let L in B)if(Object.hasOwnProperty.call(B,L)){let O=B[L];O instanceof AZ?q[L]=O:q[L]=new AZ(O.type,O.data,O.dims)}return IJ(),q}async release(){return this.handler.dispose()}static async create(Z,Q,Y,$){MZ();let H,K={};if(typeof Z=="string"){if(H=Z,typeof Q=="object"&&Q!==null)K=Q;else if(typeof Q<"u")throw TypeError("'options' must be an object.")}else if(Z instanceof Uint8Array){if(H=Z,typeof Q=="object"&&Q!==null)K=Q;else if(typeof Q<"u")throw TypeError("'options' must be an object.")}else if(Z instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&Z instanceof SharedArrayBuffer){let O=Z,z=0,F=Z.byteLength;if(typeof Q=="object"&&Q!==null)K=Q;else if(typeof Q=="number"){if(z=Q,!Number.isSafeInteger(z))throw RangeError("'byteOffset' must be an integer.");if(z<0||z>=O.byteLength)throw RangeError(`'byteOffset' is out of range [0, ${O.byteLength}).`);if(F=Z.byteLength-z,typeof Y=="number"){if(F=Y,!Number.isSafeInteger(F))throw RangeError("'byteLength' must be an integer.");if(F<=0||z+F>O.byteLength)throw RangeError(`'byteLength' is out of range (0, ${O.byteLength-z}].`);if(typeof $=="object"&&$!==null)K=$;else if(typeof $<"u")throw TypeError("'options' must be an object.")}else if(typeof Y<"u")throw TypeError("'byteLength' must be a number.")}else if(typeof Q<"u")throw TypeError("'options' must be an object.");H=new Uint8Array(O,z,F)}else throw TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[B,q]=await ec(K),L=await B.createInferenceSessionHandler(H,q);return IJ(),new J(L)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}get inputMetadata(){return this.handler.inputMetadata}get outputMetadata(){return this.handler.outputMetadata}}}),l61=f0(()=>{p61(),Mk=zp}),i61=f0(()=>{}),n61=f0(()=>{}),a61=f0(()=>{}),s61=f0(()=>{}),Np={};NL(Np,{InferenceSession:()=>Mk,TRACE:()=>rN,TRACE_FUNC_BEGIN:()=>MZ,TRACE_FUNC_END:()=>IJ,Tensor:()=>AZ,env:()=>f4,registerBackend:()=>HK});_Z=f0(()=>{g61(),h61(),l61(),Lp(),i61(),n61(),Op(),a61(),s61()}),_k=f0(()=>{}),Fp={};NL(Fp,{default:()=>Ap});o61=f0(()=>{jn(),qK(),Vk(),GE="ort-wasm-proxy-worker",$E=globalThis.self?.name===GE,$E&&(self.onmessage=(J)=>{let{type:Z,in:Q}=J.data;try{switch(Z){case"init-wasm":Ik(Q.wasm).then(()=>{uk(Q).then(()=>{postMessage({type:Z})},(Y)=>{postMessage({type:Z,err:Y})})},(Y)=>{postMessage({type:Z,err:Y})});break;case"init-ep":{let{epName:Y,env:$}=Q;dk($,Y).then(()=>{postMessage({type:Z})},(H)=>{postMessage({type:Z,err:H})});break}case"copy-from":{let{buffer:Y}=Q,$=n_(Y);postMessage({type:Z,out:$});break}case"create":{let{model:Y,options:$}=Q;mk(Y,$).then((H)=>{postMessage({type:Z,out:H})},(H)=>{postMessage({type:Z,err:H})});break}case"release":ck(Q),postMessage({type:Z});break;case"run":{let{sessionId:Y,inputIndices:$,inputs:H,outputIndices:K,options:B}=Q;pk(Y,$,H,K,Array(K.length).fill(null),B).then((q)=>{q.some((L)=>L[3]!=="cpu")?postMessage({type:Z,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:Z,out:q},ik([...H,...q]))},(q)=>{postMessage({type:Z,err:q})});break}case"end-profiling":lk(Q),postMessage({type:Z});break;default:}}catch(Y){postMessage({type:Z,err:Y})}}),Ap=$E?null:(J)=>new Worker(J??_3,{type:"module",name:GE})}),Mp={};NL(Mp,{default:()=>_p});r61=f0(()=>{WE=(HE=import.meta.url,async function(J={}){var Z,Q,Y=J,$=new Promise((x,h)=>{Z=x,Q=h}),H=typeof window=="object",K=typeof WorkerGlobalScope<"u",B=K&&self.name?.startsWith("em-pthread");Y.mountExternalData=(x,h)=>{x.startsWith("./")&&(x=x.substring(2)),(Y.Eb||(Y.Eb=new Map)).set(x,h)},Y.unmountExternalData=()=>{delete Y.Eb};var q=globalThis.SharedArrayBuffer??new WebAssembly.Memory({initial:0,maximum:0,pc:!0}).buffer.constructor;let L=(x)=>async(...h)=>{try{if(Y.Fb)throw Error("Session already started");let r=Y.Fb={dc:h[0],errors:[]},X1=await x(...h);if(Y.Fb!==r)throw Error("Session mismatch");Y.Jb?.flush();let B1=r.errors;if(0<B1.length){let R1=await Promise.all(B1);if(R1=R1.filter(($0)=>$0),0<R1.length)throw Error(R1.join(`
`))}return X1}finally{Y.Fb=null}};Y.jsepInit=(x,h)=>{if(x==="webgpu"){[Y.Jb,Y.Ub,Y.Yb,Y.Kb,Y.Xb,Y.jb,Y.Zb,Y.ac,Y.Vb,Y.Wb,Y.$b]=h;let r=Y.Jb;Y.jsepRegisterBuffer=(X1,B1,R1,$0)=>r.registerBuffer(X1,B1,R1,$0),Y.jsepGetBuffer=(X1)=>r.getBuffer(X1),Y.jsepCreateDownloader=(X1,B1,R1)=>r.createDownloader(X1,B1,R1),Y.jsepOnCreateSession=(X1)=>{r.onCreateSession(X1)},Y.jsepOnReleaseSession=(X1)=>{r.onReleaseSession(X1)},Y.jsepOnRunStart=(X1)=>r.onRunStart(X1),Y.bc=(X1,B1)=>{r.upload(X1,B1)}}else if(x==="webnn"){let r=h[0];[Y.nc,Y.Nb,Y.webnnEnsureTensor,Y.Ob,Y.webnnDownloadTensor]=h.slice(1),Y.webnnReleaseTensorId=Y.Nb,Y.webnnUploadTensor=Y.Ob,Y.webnnOnRunStart=(X1)=>r.onRunStart(X1),Y.webnnOnRunEnd=r.onRunEnd.bind(r),Y.webnnRegisterMLContext=(X1,B1)=>{r.registerMLContext(X1,B1)},Y.webnnOnReleaseSession=(X1)=>{r.onReleaseSession(X1)},Y.webnnCreateMLTensorDownloader=(X1,B1)=>r.createMLTensorDownloader(X1,B1),Y.webnnRegisterMLTensor=(X1,B1,R1,$0)=>r.registerMLTensor(X1,B1,R1,$0),Y.webnnCreateMLContext=(X1)=>r.createMLContext(X1),Y.webnnRegisterMLConstant=(X1,B1,R1,$0,V0,d0)=>r.registerMLConstant(X1,B1,R1,$0,V0,Y.Eb,d0),Y.webnnRegisterGraphInput=r.registerGraphInput.bind(r),Y.webnnIsGraphInput=r.isGraphInput.bind(r),Y.webnnCreateTemporaryTensor=r.createTemporaryTensor.bind(r),Y.webnnIsInt64Supported=r.isInt64Supported.bind(r)}};let O=()=>{let x=(h,r,X1)=>(...B1)=>{let R1=W4,$0=r?.();B1=h(...B1);let V0=r?.();return $0!==V0&&(h=V0,X1($0),r=X1=null),W4!=R1?new Promise((d0,Q2)=>{i6={resolve:d0,reject:Q2}}):B1};(()=>{for(let h of["_OrtAppendExecutionProvider","_OrtCreateSession","_OrtRun","_OrtRunWithBinding","_OrtBindInput"])Y[h]=x(Y[h],()=>Y[h],(r)=>Y[h]=r)})(),L!==void 0&&(Y._OrtRun=L(Y._OrtRun),Y._OrtRunWithBinding=L(Y._OrtRunWithBinding)),O=void 0};Y.asyncInit=()=>{O?.()};var z,F,V=Object.assign({},Y),A=(x,h)=>{throw h},M="";(H||K)&&(K?M=self.location.href:typeof document<"u"&&document.currentScript&&(M=document.currentScript.src),HE&&(M=HE),M=M.startsWith("blob:")?"":M.slice(0,M.replace(/[?#].*/,"").lastIndexOf("/")+1),K&&(F=(x)=>{var h=new XMLHttpRequest;return h.open("GET",x,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),z=async(x)=>{if(m(x))return new Promise((r,X1)=>{var B1=new XMLHttpRequest;B1.open("GET",x,!0),B1.responseType="arraybuffer",B1.onload=()=>{B1.status==200||B1.status==0&&B1.response?r(B1.response):X1(B1.status)},B1.onerror=X1,B1.send(null)});var h=await fetch(x,{credentials:"same-origin"});if(h.ok)return h.arrayBuffer();throw Error(h.status+" : "+h.url)});var j=console.log.bind(console),D=console.error.bind(console),w=j,C=D;Object.assign(Y,V),V=null;var I,b,E,k,T,S,d,o,v,y,i,p,l,t=Y.wasmBinary,Q1=!1,m=(x)=>x.startsWith("file://");function K1(){return I.buffer!=k.buffer&&G1(),k}function g(){return I.buffer!=k.buffer&&G1(),T}function n(){return I.buffer!=k.buffer&&G1(),S}function Z1(){return I.buffer!=k.buffer&&G1(),d}function J1(){return I.buffer!=k.buffer&&G1(),o}function z1(){return I.buffer!=k.buffer&&G1(),v}function V1(){return I.buffer!=k.buffer&&G1(),y}function w1(){return I.buffer!=k.buffer&&G1(),l}if(B){let x=function(h){try{var r=h.data,X1=r.Bb;if(X1==="load"){let B1=[];self.onmessage=(R1)=>B1.push(R1),self.startWorker=()=>{postMessage({Bb:"loaded"});for(let R1 of B1)x(R1);self.onmessage=x};for(let R1 of r.Rb)Y[R1]&&!Y[R1].proxy||(Y[R1]=(...$0)=>{postMessage({Bb:"callHandler",Qb:R1,args:$0})},R1=="print"&&(w=Y[R1]),R1=="printErr"&&(C=Y[R1]));I=r.kc,G1(),r1(r.lc)}else if(X1==="run"){g0(r.Ab),s5(r.Ab,0,0,1,0,0),N1(),e1(r.Ab),h1||(kJ(),h1=!0);try{M2(r.fc,r.Hb)}catch(B1){if(B1!="unwind")throw B1}}else r.target!=="setimmediate"&&(X1==="checkMailbox"?h1&&v0():X1&&(C(`worker: received unknown command ${X1}`),C(r)))}catch(B1){throw xJ(),B1}};var m1=x,r1,h1=!1;C=function(...h){h=h.join(" "),console.error(h)},self.alert=function(...h){postMessage({Bb:"alert",text:h.join(" "),ic:U8()})},self.onunhandledrejection=(h)=>{throw h.reason||h},self.onmessage=x}function G1(){var x=I.buffer;Y.HEAP8=k=new Int8Array(x),Y.HEAP16=S=new Int16Array(x),Y.HEAPU8=T=new Uint8Array(x),Y.HEAPU16=d=new Uint16Array(x),Y.HEAP32=o=new Int32Array(x),Y.HEAPU32=v=new Uint32Array(x),Y.HEAPF32=y=new Float32Array(x),Y.HEAPF64=l=new Float64Array(x),Y.HEAP64=i=new BigInt64Array(x),Y.HEAPU64=p=new BigUint64Array(x)}function a(){B?startWorker(Y):X2.Ca()}B||(I=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0}),G1());var M1,D1=0,g1=null;function u1(){if(--D1==0&&g1){var x=g1;g1=null,x()}}function C1(x){throw C(x="Aborted("+x+")"),Q1=!0,x=new WebAssembly.RuntimeError(x+". Build with -sASSERTIONS for more info."),Q(x),x}function x1(){return{a:{L:y1,Aa:p1,b:e2,$:t0,A:L7,pa:c,X:O1,Z:I1,qa:d1,na:B0,ga:n0,ma:Y2,J:s1,Y:d2,V:j2,oa:H4,W:a5,va:X7,E:v9,Q:m6,O:n7,D:w0,u:a0,r:P5,P:x6,z:q1,R:F1,ja:E1,T:y0,aa:T0,M:J5,F:D2,ia:e1,sa:z4,t:a7,Ba:z7,w:a4,o:y4,l:k3,c:O9,n:x3,j:mX,v:cX,p:DJ,f:oG,s:rG,m:tG,e:eG,k:wJ,i:R3,g:pX,d:lX,da:iX,ea:b8,fa:n6,ba:r7,ca:EJ,N:b7,xa:J$,ua:xZ,h:kQ,C:Z$,G:xQ,ta:kZ,x:T9,ra:nX,U:RQ,q:wQ,y:RZ,K:W8,S:CQ,za:CZ,ya:B8,ka:v8,la:vQ,_:D0,B:vZ,I:b3,ha:v3,H:f3,a:I,wa:A0}}}var v1={829644:(x,h,r,X1,B1)=>{if(Y===void 0||!Y.Eb)return 1;if((x=z0(Number(x>>>0))).startsWith("./")&&(x=x.substring(2)),!(x=Y.Eb.get(x)))return 2;if(h=Number(h>>>0),r=Number(r>>>0),X1=Number(X1>>>0),h+r>x.byteLength)return 3;try{let R1=x.subarray(h,h+r);switch(B1){case 0:g().set(R1,X1>>>0);break;case 1:Y.mc?Y.mc(X1,R1):Y.bc(X1,R1);break;default:return 4}return 0}catch{return 4}},830468:(x,h,r)=>{Y.Ob(x,g().subarray(h>>>0,h+r>>>0))},830532:()=>Y.nc(),830574:(x)=>{Y.Nb(x)},830611:()=>{Y.Vb()},830642:()=>{Y.Wb()},830671:()=>{Y.$b()},830696:(x)=>Y.Ub(x),830729:(x)=>Y.Yb(x),830761:(x,h,r)=>{Y.Kb(Number(x),Number(h),Number(r),!0)},830824:(x,h,r)=>{Y.Kb(Number(x),Number(h),Number(r))},830881:()=>typeof wasmOffsetConverter<"u",830938:(x)=>{Y.jb("Abs",x,void 0)},830989:(x)=>{Y.jb("Neg",x,void 0)},831040:(x)=>{Y.jb("Floor",x,void 0)},831093:(x)=>{Y.jb("Ceil",x,void 0)},831145:(x)=>{Y.jb("Reciprocal",x,void 0)},831203:(x)=>{Y.jb("Sqrt",x,void 0)},831255:(x)=>{Y.jb("Exp",x,void 0)},831306:(x)=>{Y.jb("Erf",x,void 0)},831357:(x)=>{Y.jb("Sigmoid",x,void 0)},831412:(x,h,r)=>{Y.jb("HardSigmoid",x,{alpha:h,beta:r})},831491:(x)=>{Y.jb("Log",x,void 0)},831542:(x)=>{Y.jb("Sin",x,void 0)},831593:(x)=>{Y.jb("Cos",x,void 0)},831644:(x)=>{Y.jb("Tan",x,void 0)},831695:(x)=>{Y.jb("Asin",x,void 0)},831747:(x)=>{Y.jb("Acos",x,void 0)},831799:(x)=>{Y.jb("Atan",x,void 0)},831851:(x)=>{Y.jb("Sinh",x,void 0)},831903:(x)=>{Y.jb("Cosh",x,void 0)},831955:(x)=>{Y.jb("Asinh",x,void 0)},832008:(x)=>{Y.jb("Acosh",x,void 0)},832061:(x)=>{Y.jb("Atanh",x,void 0)},832114:(x)=>{Y.jb("Tanh",x,void 0)},832166:(x)=>{Y.jb("Not",x,void 0)},832217:(x,h,r)=>{Y.jb("Clip",x,{min:h,max:r})},832286:(x)=>{Y.jb("Clip",x,void 0)},832338:(x,h)=>{Y.jb("Elu",x,{alpha:h})},832396:(x)=>{Y.jb("Gelu",x,void 0)},832448:(x)=>{Y.jb("Relu",x,void 0)},832500:(x,h)=>{Y.jb("LeakyRelu",x,{alpha:h})},832564:(x,h)=>{Y.jb("ThresholdedRelu",x,{alpha:h})},832634:(x,h)=>{Y.jb("Cast",x,{to:h})},832692:(x)=>{Y.jb("Add",x,void 0)},832743:(x)=>{Y.jb("Sub",x,void 0)},832794:(x)=>{Y.jb("Mul",x,void 0)},832845:(x)=>{Y.jb("Div",x,void 0)},832896:(x)=>{Y.jb("Pow",x,void 0)},832947:(x)=>{Y.jb("Equal",x,void 0)},833000:(x)=>{Y.jb("Greater",x,void 0)},833055:(x)=>{Y.jb("GreaterOrEqual",x,void 0)},833117:(x)=>{Y.jb("Less",x,void 0)},833169:(x)=>{Y.jb("LessOrEqual",x,void 0)},833228:(x,h,r,X1,B1)=>{Y.jb("ReduceMean",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},833403:(x,h,r,X1,B1)=>{Y.jb("ReduceMax",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},833577:(x,h,r,X1,B1)=>{Y.jb("ReduceMin",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},833751:(x,h,r,X1,B1)=>{Y.jb("ReduceProd",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},833926:(x,h,r,X1,B1)=>{Y.jb("ReduceSum",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834100:(x,h,r,X1,B1)=>{Y.jb("ReduceL1",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834273:(x,h,r,X1,B1)=>{Y.jb("ReduceL2",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834446:(x,h,r,X1,B1)=>{Y.jb("ReduceLogSum",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834623:(x,h,r,X1,B1)=>{Y.jb("ReduceSumSquare",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834803:(x,h,r,X1,B1)=>{Y.jb("ReduceLogSumExp",x,{keepDims:!!h,noopWithEmptyAxes:!!r,axes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},834983:(x)=>{Y.jb("Where",x,void 0)},835036:(x,h,r)=>{Y.jb("Transpose",x,{perm:h?Array.from(J1().subarray(Number(h)>>>0,Number(r)>>>0)):[]})},835160:(x,h,r,X1)=>{Y.jb("DepthToSpace",x,{blocksize:h,mode:z0(r),format:X1?"NHWC":"NCHW"})},835293:(x,h,r,X1)=>{Y.jb("DepthToSpace",x,{blocksize:h,mode:z0(r),format:X1?"NHWC":"NCHW"})},835426:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4,N6)=>{Y.jb("ConvTranspose",x,{format:d0?"NHWC":"NCHW",autoPad:h,dilations:[r],group:X1,kernelShape:[B1],pads:[R1,$0],strides:[V0],wIsConst:()=>!!K1()[Q2>>>0],outputPadding:y2?Array.from(J1().subarray(Number(y2)>>>0,Number(H5)>>>0)):[],outputShape:_5?Array.from(J1().subarray(Number(_5)>>>0,Number(K4)>>>0)):[],activation:z0(N6)})},835859:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("ConvTranspose",x,{format:V0?"NHWC":"NCHW",autoPad:h,dilations:Array.from(J1().subarray(Number(r)>>>0,2+(Number(r)>>>0)>>>0)),group:X1,kernelShape:Array.from(J1().subarray(Number(B1)>>>0,2+(Number(B1)>>>0)>>>0)),pads:Array.from(J1().subarray(Number(R1)>>>0,4+(Number(R1)>>>0)>>>0)),strides:Array.from(J1().subarray(Number($0)>>>0,2+(Number($0)>>>0)>>>0)),wIsConst:()=>!!K1()[d0>>>0],outputPadding:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],outputShape:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[],activation:z0(K4)})},836520:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4,N6)=>{Y.jb("ConvTranspose",x,{format:d0?"NHWC":"NCHW",autoPad:h,dilations:[r],group:X1,kernelShape:[B1],pads:[R1,$0],strides:[V0],wIsConst:()=>!!K1()[Q2>>>0],outputPadding:y2?Array.from(J1().subarray(Number(y2)>>>0,Number(H5)>>>0)):[],outputShape:_5?Array.from(J1().subarray(Number(_5)>>>0,Number(K4)>>>0)):[],activation:z0(N6)})},836953:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("ConvTranspose",x,{format:V0?"NHWC":"NCHW",autoPad:h,dilations:Array.from(J1().subarray(Number(r)>>>0,2+(Number(r)>>>0)>>>0)),group:X1,kernelShape:Array.from(J1().subarray(Number(B1)>>>0,2+(Number(B1)>>>0)>>>0)),pads:Array.from(J1().subarray(Number(R1)>>>0,4+(Number(R1)>>>0)>>>0)),strides:Array.from(J1().subarray(Number($0)>>>0,2+(Number($0)>>>0)>>>0)),wIsConst:()=>!!K1()[d0>>>0],outputPadding:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],outputShape:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[],activation:z0(K4)})},837614:(x,h)=>{Y.jb("GlobalAveragePool",x,{format:h?"NHWC":"NCHW"})},837705:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("AveragePool",x,{format:K4?"NHWC":"NCHW",auto_pad:h,ceil_mode:r,count_include_pad:X1,storage_order:B1,dilations:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[],kernel_shape:V0?Array.from(J1().subarray(Number(V0)>>>0,Number(d0)>>>0)):[],pads:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],strides:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[]})},838184:(x,h)=>{Y.jb("GlobalAveragePool",x,{format:h?"NHWC":"NCHW"})},838275:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("AveragePool",x,{format:K4?"NHWC":"NCHW",auto_pad:h,ceil_mode:r,count_include_pad:X1,storage_order:B1,dilations:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[],kernel_shape:V0?Array.from(J1().subarray(Number(V0)>>>0,Number(d0)>>>0)):[],pads:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],strides:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[]})},838754:(x,h)=>{Y.jb("GlobalMaxPool",x,{format:h?"NHWC":"NCHW"})},838841:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("MaxPool",x,{format:K4?"NHWC":"NCHW",auto_pad:h,ceil_mode:r,count_include_pad:X1,storage_order:B1,dilations:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[],kernel_shape:V0?Array.from(J1().subarray(Number(V0)>>>0,Number(d0)>>>0)):[],pads:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],strides:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[]})},839316:(x,h)=>{Y.jb("GlobalMaxPool",x,{format:h?"NHWC":"NCHW"})},839403:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4)=>{Y.jb("MaxPool",x,{format:K4?"NHWC":"NCHW",auto_pad:h,ceil_mode:r,count_include_pad:X1,storage_order:B1,dilations:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[],kernel_shape:V0?Array.from(J1().subarray(Number(V0)>>>0,Number(d0)>>>0)):[],pads:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],strides:H5?Array.from(J1().subarray(Number(H5)>>>0,Number(_5)>>>0)):[]})},839878:(x,h,r,X1,B1)=>{Y.jb("Gemm",x,{alpha:h,beta:r,transA:X1,transB:B1})},839982:(x)=>{Y.jb("MatMul",x,void 0)},840036:(x,h,r,X1)=>{Y.jb("ArgMax",x,{keepDims:!!h,selectLastIndex:!!r,axis:X1})},840144:(x,h,r,X1)=>{Y.jb("ArgMin",x,{keepDims:!!h,selectLastIndex:!!r,axis:X1})},840252:(x,h)=>{Y.jb("Softmax",x,{axis:h})},840315:(x,h)=>{Y.jb("Concat",x,{axis:h})},840375:(x,h,r,X1,B1)=>{Y.jb("Split",x,{axis:h,numOutputs:r,splitSizes:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},840531:(x)=>{Y.jb("Expand",x,void 0)},840585:(x,h)=>{Y.jb("Gather",x,{axis:Number(h)})},840656:(x,h)=>{Y.jb("GatherElements",x,{axis:Number(h)})},840735:(x,h)=>{Y.jb("GatherND",x,{batch_dims:Number(h)})},840814:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2)=>{Y.jb("Resize",x,{antialias:h,axes:r?Array.from(J1().subarray(Number(r)>>>0,Number(X1)>>>0)):[],coordinateTransformMode:z0(B1),cubicCoeffA:R1,excludeOutside:$0,extrapolationValue:V0,keepAspectRatioPolicy:z0(d0),mode:z0(Q2),nearestMode:z0(y2)})},841176:(x,h,r,X1,B1,R1,$0)=>{Y.jb("Slice",x,{starts:h?Array.from(J1().subarray(Number(h)>>>0,Number(r)>>>0)):[],ends:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[],axes:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[]})},841440:(x)=>{Y.jb("Tile",x,void 0)},841492:(x,h,r)=>{Y.jb("InstanceNormalization",x,{epsilon:h,format:r?"NHWC":"NCHW"})},841606:(x,h,r)=>{Y.jb("InstanceNormalization",x,{epsilon:h,format:r?"NHWC":"NCHW"})},841720:(x)=>{Y.jb("Range",x,void 0)},841773:(x,h)=>{Y.jb("Einsum",x,{equation:z0(h)})},841854:(x,h,r,X1,B1)=>{Y.jb("Pad",x,{mode:h,value:r,pads:X1?Array.from(J1().subarray(Number(X1)>>>0,Number(B1)>>>0)):[]})},841997:(x,h,r,X1,B1,R1)=>{Y.jb("BatchNormalization",x,{epsilon:h,momentum:r,spatial:!!B1,trainingMode:!!X1,format:R1?"NHWC":"NCHW"})},842166:(x,h,r,X1,B1,R1)=>{Y.jb("BatchNormalization",x,{epsilon:h,momentum:r,spatial:!!B1,trainingMode:!!X1,format:R1?"NHWC":"NCHW"})},842335:(x,h,r)=>{Y.jb("CumSum",x,{exclusive:Number(h),reverse:Number(r)})},842432:(x,h,r)=>{Y.jb("DequantizeLinear",x,{axis:h,blockSize:r})},842522:(x,h,r,X1,B1)=>{Y.jb("GridSample",x,{align_corners:h,mode:z0(r),padding_mode:z0(X1),format:B1?"NHWC":"NCHW"})},842692:(x,h,r,X1,B1)=>{Y.jb("GridSample",x,{align_corners:h,mode:z0(r),padding_mode:z0(X1),format:B1?"NHWC":"NCHW"})},842862:(x,h)=>{Y.jb("ScatterND",x,{reduction:z0(h)})},842947:(x,h,r,X1,B1,R1,$0,V0,d0)=>{Y.jb("Attention",x,{numHeads:h,isUnidirectional:r,maskFilterValue:X1,scale:B1,doRotary:R1,qkvHiddenSizes:$0?Array.from(J1().subarray(Number(V0)>>>0,Number(V0)+$0>>>0)):[],pastPresentShareBuffer:!!d0})},843219:(x)=>{Y.jb("BiasAdd",x,void 0)},843274:(x)=>{Y.jb("BiasSplitGelu",x,void 0)},843335:(x)=>{Y.jb("FastGelu",x,void 0)},843391:(x,h,r,X1,B1,R1,$0,V0,d0,Q2,y2,H5,_5,K4,N6,T3)=>{Y.jb("Conv",x,{format:H5?"NHWC":"NCHW",auto_pad:h,dilations:r?Array.from(J1().subarray(Number(r)>>>0,Number(X1)>>>0)):[],group:B1,kernel_shape:R1?Array.from(J1().subarray(Number(R1)>>>0,Number($0)>>>0)):[],pads:V0?Array.from(J1().subarray(Number(V0)>>>0,Number(d0)>>>0)):[],strides:Q2?Array.from(J1().subarray(Number(Q2)>>>0,Number(y2)>>>0)):[],w_is_const:()=>!!K1()[Number(_5)>>>0],activation:z0(K4),activation_params:N6?Array.from(V1().subarray(Number(N6)>>>0,Number(T3)>>>0)):[]})},843975:(x)=>{Y.jb("Gelu",x,void 0)},844027:(x,h,r,X1,B1,R1,$0,V0,d0)=>{Y.jb("GroupQueryAttention",x,{numHeads:h,kvNumHeads:r,scale:X1,softcap:B1,doRotary:R1,rotaryInterleaved:$0,smoothSoftmax:V0,localWindowSize:d0})},844244:(x,h,r,X1)=>{Y.jb("LayerNormalization",x,{axis:h,epsilon:r,simplified:!!X1})},844355:(x,h,r,X1)=>{Y.jb("LayerNormalization",x,{axis:h,epsilon:r,simplified:!!X1})},844466:(x,h,r,X1,B1,R1)=>{Y.jb("MatMulNBits",x,{k:h,n:r,accuracyLevel:X1,bits:B1,blockSize:R1})},844593:(x,h,r,X1,B1,R1)=>{Y.jb("MultiHeadAttention",x,{numHeads:h,isUnidirectional:r,maskFilterValue:X1,scale:B1,doRotary:R1})},844752:(x,h)=>{Y.jb("QuickGelu",x,{alpha:h})},844816:(x,h,r,X1,B1)=>{Y.jb("RotaryEmbedding",x,{interleaved:!!h,numHeads:r,rotaryEmbeddingDim:X1,scale:B1})},844955:(x,h,r)=>{Y.jb("SkipLayerNormalization",x,{epsilon:h,simplified:!!r})},845057:(x,h,r)=>{Y.jb("SkipLayerNormalization",x,{epsilon:h,simplified:!!r})},845159:(x,h,r,X1)=>{Y.jb("GatherBlockQuantized",x,{gatherAxis:h,quantizeAxis:r,blockSize:X1})},845280:(x)=>{Y.Zb(x)},845314:(x,h)=>Y.ac(Number(x),Number(h),Y.Fb.dc,Y.Fb.errors)};function p1(x,h,r){return z9(async()=>{await Y.Xb(Number(x),Number(h),Number(r))})}function y1(){return typeof wasmOffsetConverter<"u"}class P1{name="ExitStatus";constructor(x){this.message=`Program terminated with exit(${x})`,this.status=x}}var T1=(x)=>{x.terminate(),x.onmessage=()=>{}},j0=[],N0=(x)=>{_0.length==0&&(Z0(),Q0(_0[0]));var h=_0.pop();if(!h)return 6;W2.push(h),t2[x.Ab]=h,h.Ab=x.Ab;var r={Bb:"run",fc:x.ec,Hb:x.Hb,Ab:x.Ab};return h.postMessage(r,x.Mb),0},E0=0,H0=(x,h,...r)=>{for(var X1=2*r.length,B1=bJ(),R1=CJ(8*X1),$0=R1>>>3,V0=0;V0<r.length;V0++){var d0=r[V0];typeof d0=="bigint"?(i[$0+2*V0]=1n,i[$0+2*V0+1]=d0):(i[$0+2*V0]=0n,w1()[$0+2*V0+1>>>0]=d0)}return x=SZ(x,0,X1,R1,h),u9(B1),x};function A0(x){if(B)return H0(0,1,x);if(E=x,!(0<E0)){for(var h of W2)T1(h);for(h of _0)T1(h);_0=[],W2=[],t2={},Q1=!0}A(0,new P1(x))}function i0(x){if(B)return H0(1,0,x);D0(x)}var D0=(x)=>{if(E=x,B)throw i0(x),"unwind";A0(x)},_0=[],W2=[],Z2=[],t2={},Y1=(x)=>{var h=x.Ab;delete t2[h],_0.push(x),W2.splice(W2.indexOf(x),1),x.Ab=0,TZ(h)};function N1(){Z2.forEach((x)=>x())}var Q0=(x)=>new Promise((h)=>{x.onmessage=(B1)=>{var R1=(B1=B1.data).Bb;if(B1.Gb&&B1.Gb!=U8()){var $0=t2[B1.Gb];$0?$0.postMessage(B1,B1.Mb):C(`Internal error! Worker sent a message "${R1}" to target pthread ${B1.Gb}, but that thread no longer exists!`)}else R1==="checkMailbox"?v0():R1==="spawnThread"?N0(B1):R1==="cleanupThread"?Y1(t2[B1.hc]):R1==="loaded"?(x.loaded=!0,h(x)):R1==="alert"?alert(`Thread ${B1.ic}: ${B1.text}`):B1.target==="setimmediate"?x.postMessage(B1):R1==="callHandler"?Y[B1.Qb](...B1.args):R1&&C(`worker sent an unknown command ${R1}`)},x.onerror=(B1)=>{throw C(`worker sent an error! ${B1.filename}:${B1.lineno}: ${B1.message}`),B1};var r,X1=[];for(r of[])Y.propertyIsEnumerable(r)&&X1.push(r);x.postMessage({Bb:"load",Rb:X1,kc:I,lc:b})});function Z0(){var x=new Worker((()=>{let h=URL;return import.meta.url>"file:"&&import.meta.url<"file;"?new h("ort.bundle.min.mjs",import.meta.url):new URL(import.meta.url)})(),{type:"module",workerData:"em-pthread",name:"em-pthread"});_0.push(x)}var g0=(x)=>{G1();var h=z1()[x+52>>>2>>>0];x=z1()[x+56>>>2>>>0],RJ(h,h-x),u9(h)},M2=(x,h)=>{E0=0,x=PZ(x,h),0<E0?E=x:h9(x)};class _2{constructor(x){this.Ib=x-24}}function e2(x,h,r){var X1=new _2(x>>>=0);throw h>>>=0,r>>>=0,z1()[X1.Ib+16>>>2>>>0]=0,z1()[X1.Ib+4>>>2>>>0]=h,z1()[X1.Ib+8>>>2>>>0]=r,x}function I2(x,h,r,X1){return B?H0(2,1,x,h,r,X1):t0(x,h,r,X1)}function t0(x,h,r,X1){if(x>>>=0,r>>>=0,X1>>>=0,q===void 0)return 6;var B1=[];return B&&B1.length===0?I2(x,h>>>=0,r,X1):(x={ec:r,Ab:x,Hb:X1,Mb:B1},B?(x.Bb="spawnThread",postMessage(x,B1),0):N0(x))}var S4=typeof TextDecoder<"u"?new TextDecoder:void 0,T4=(x,h=0,r=NaN)=>{var X1=(h>>>=0)+r;for(r=h;x[r]&&!(r>=X1);)++r;if(16<r-h&&x.buffer&&S4)return S4.decode(x.buffer instanceof ArrayBuffer?x.subarray(h,r):x.slice(h,r));for(X1="";h<r;){var B1=x[h++];if(128&B1){var R1=63&x[h++];if((224&B1)==192)X1+=String.fromCharCode((31&B1)<<6|R1);else{var $0=63&x[h++];65536>(B1=(240&B1)==224?(15&B1)<<12|R1<<6|$0:(7&B1)<<18|R1<<12|$0<<6|63&x[h++])?X1+=String.fromCharCode(B1):(B1-=65536,X1+=String.fromCharCode(55296|B1>>10,56320|1023&B1))}}else X1+=String.fromCharCode(B1)}return X1},z0=(x,h)=>(x>>>=0)?T4(g(),x,h):"";function L7(x,h,r){return B?H0(3,1,x,h,r):0}function c(x,h){if(B)return H0(4,1,x,h)}var L1=(x)=>{for(var h=0,r=0;r<x.length;++r){var X1=x.charCodeAt(r);127>=X1?h++:2047>=X1?h+=2:55296<=X1&&57343>=X1?(h+=4,++r):h+=3}return h},$1=(x,h,r)=>{var X1=g();if(h>>>=0,0<r){var B1=h;r=h+r-1;for(var R1=0;R1<x.length;++R1){var $0=x.charCodeAt(R1);if(55296<=$0&&57343>=$0&&($0=65536+((1023&$0)<<10)|1023&x.charCodeAt(++R1)),127>=$0){if(h>=r)break;X1[h++>>>0]=$0}else{if(2047>=$0){if(h+1>=r)break;X1[h++>>>0]=192|$0>>6}else{if(65535>=$0){if(h+2>=r)break;X1[h++>>>0]=224|$0>>12}else{if(h+3>=r)break;X1[h++>>>0]=240|$0>>18,X1[h++>>>0]=128|$0>>12&63}X1[h++>>>0]=128|$0>>6&63}X1[h++>>>0]=128|63&$0}}X1[h>>>0]=0,x=h-B1}else x=0;return x};function O1(x,h){if(B)return H0(5,1,x,h)}function I1(x,h,r){if(B)return H0(6,1,x,h,r)}function d1(x,h,r){return B?H0(7,1,x,h,r):0}function B0(x,h){if(B)return H0(8,1,x,h)}function n0(x,h,r){if(B)return H0(9,1,x,h,r)}function Y2(x,h,r,X1){if(B)return H0(10,1,x,h,r,X1)}function s1(x,h,r,X1){if(B)return H0(11,1,x,h,r,X1)}function d2(x,h,r,X1){if(B)return H0(12,1,x,h,r,X1)}function j2(x){if(B)return H0(13,1,x)}function H4(x,h){if(B)return H0(14,1,x,h)}function a5(x,h,r){if(B)return H0(15,1,x,h,r)}var O7,P4,X7=()=>C1(""),X5=(x)=>{for(var h="";g()[x>>>0];)h+=O7[g()[x++>>>0]];return h},l7={},k6={},C9={};function i4(x,h,r={}){return function(X1,B1,R1={}){var $0=B1.name;if(!X1)throw new P4(`type "${$0}" must have a positive integer typeid pointer`);if(k6.hasOwnProperty(X1)){if(R1.Sb)return;throw new P4(`Cannot register type '${$0}' twice`)}k6[X1]=B1,delete C9[X1],l7.hasOwnProperty(X1)&&(B1=l7[X1],delete l7[X1],B1.forEach((V0)=>V0()))}(x,h,r)}var b9=(x,h,r)=>{switch(h){case 1:return r?(X1)=>K1()[X1>>>0]:(X1)=>g()[X1>>>0];case 2:return r?(X1)=>n()[X1>>>1>>>0]:(X1)=>Z1()[X1>>>1>>>0];case 4:return r?(X1)=>J1()[X1>>>2>>>0]:(X1)=>z1()[X1>>>2>>>0];case 8:return r?(X1)=>i[X1>>>3]:(X1)=>p[X1>>>3];default:throw TypeError(`invalid integer width (${h}): ${x}`)}};function v9(x,h,r){r>>>=0,i4(x>>>=0,{name:h=X5(h>>>0),fromWireType:(X1)=>X1,toWireType:function(X1,B1){if(typeof B1!="bigint"&&typeof B1!="number")throw B1=B1===null?"null":(X1=typeof B1)=="object"||X1==="array"||X1==="function"?B1.toString():""+B1,TypeError(`Cannot convert "${B1}" to ${this.name}`);return typeof B1=="number"&&(B1=BigInt(B1)),B1},Cb:O4,readValueFromPointer:b9(h,r,h.indexOf("u")==-1),Db:null})}var O4=8;function m6(x,h,r,X1){i4(x>>>=0,{name:h=X5(h>>>0),fromWireType:function(B1){return!!B1},toWireType:function(B1,R1){return R1?r:X1},Cb:O4,readValueFromPointer:function(B1){return this.fromWireType(g()[B1>>>0])},Db:null})}var U6=[],R7=[];function O9(x){9<(x>>>=0)&&--R7[x+1]==0&&(R7[x]=void 0,U6.push(x))}var E4=(x)=>{if(!x)throw new P4("Cannot use deleted val. handle = "+x);return R7[x]},N5=(x)=>{switch(x){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let h=U6.pop()||R7.length;return R7[h]=x,R7[h+1]=1,h}};function i7(x){return this.fromWireType(z1()[x>>>2>>>0])}var L6={name:"emscripten::val",fromWireType:(x)=>{var h=E4(x);return O9(x),h},toWireType:(x,h)=>N5(h),Cb:O4,readValueFromPointer:i7,Db:null};function n7(x){return i4(x>>>0,L6)}var M0=(x,h)=>{switch(h){case 4:return function(r){return this.fromWireType(V1()[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(w1()[r>>>3>>>0])};default:throw TypeError(`invalid float width (${h}): ${x}`)}};function w0(x,h,r){r>>>=0,i4(x>>>=0,{name:h=X5(h>>>0),fromWireType:(X1)=>X1,toWireType:(X1,B1)=>B1,Cb:O4,readValueFromPointer:M0(h,r),Db:null})}function a0(x,h,r,X1,B1){if(x>>>=0,r>>>=0,h=X5(h>>>0),B1===-1&&(B1=4294967295),B1=(V0)=>V0,X1===0){var R1=32-8*r;B1=(V0)=>V0<<R1>>>R1}var $0=h.includes("unsigned")?function(V0,d0){return d0>>>0}:function(V0,d0){return d0};i4(x,{name:h,fromWireType:B1,toWireType:$0,Cb:O4,readValueFromPointer:b9(h,r,X1!==0),Db:null})}function P5(x,h,r){function X1(R1){var $0=z1()[R1>>>2>>>0];return R1=z1()[R1+4>>>2>>>0],new B1(K1().buffer,R1,$0)}var B1=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][h];i4(x>>>=0,{name:r=X5(r>>>0),fromWireType:X1,Cb:O4,readValueFromPointer:X1},{Sb:!0})}function x6(x,h){i4(x>>>=0,{name:h=X5(h>>>0),fromWireType:function(r){for(var X1,B1=z1()[r>>>2>>>0],R1=r+4,$0=R1,V0=0;V0<=B1;++V0){var d0=R1+V0;V0!=B1&&g()[d0>>>0]!=0||($0=z0($0,d0-$0),X1===void 0?X1=$0:(X1+="\x00",X1+=$0),$0=d0+1)}return z6(r),X1},toWireType:function(r,X1){X1 instanceof ArrayBuffer&&(X1=new Uint8Array(X1));var B1=typeof X1=="string";if(!(B1||X1 instanceof Uint8Array||X1 instanceof Uint8ClampedArray||X1 instanceof Int8Array))throw new P4("Cannot pass non-string to std::string");var R1=B1?L1(X1):X1.length,$0=a6(4+R1+1),V0=$0+4;if(z1()[$0>>>2>>>0]=R1,B1)$1(X1,V0,R1+1);else if(B1)for(B1=0;B1<R1;++B1){var d0=X1.charCodeAt(B1);if(255<d0)throw z6($0),new P4("String has UTF-16 code units that do not fit in 8 bits");g()[V0+B1>>>0]=d0}else for(B1=0;B1<R1;++B1)g()[V0+B1>>>0]=X1[B1];return r!==null&&r.push(z6,$0),$0},Cb:O4,readValueFromPointer:i7,Db(r){z6(r)}})}var c6=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,p6=(x,h)=>{for(var r=x>>1,X1=r+h/2;!(r>=X1)&&Z1()[r>>>0];)++r;if(32<(r<<=1)-x&&c6)return c6.decode(g().slice(x,r));for(r="",X1=0;!(X1>=h/2);++X1){var B1=n()[x+2*X1>>>1>>>0];if(B1==0)break;r+=String.fromCharCode(B1)}return r},jJ=(x,h,r)=>{if(r??=2147483647,2>r)return 0;var X1=h;r=(r-=2)<2*x.length?r/2:x.length;for(var B1=0;B1<r;++B1){var R1=x.charCodeAt(B1);n()[h>>>1>>>0]=R1,h+=2}return n()[h>>>1>>>0]=0,h-X1},w3=(x)=>2*x.length,C8=(x,h)=>{for(var r=0,X1="";!(r>=h/4);){var B1=J1()[x+4*r>>>2>>>0];if(B1==0)break;++r,65536<=B1?(B1-=65536,X1+=String.fromCharCode(55296|B1>>10,56320|1023&B1)):X1+=String.fromCharCode(B1)}return X1},E3=(x,h,r)=>{if(h>>>=0,r??=2147483647,4>r)return 0;var X1=h;r=X1+r-4;for(var B1=0;B1<x.length;++B1){var R1=x.charCodeAt(B1);if(55296<=R1&&57343>=R1&&(R1=65536+((1023&R1)<<10)|1023&x.charCodeAt(++B1)),J1()[h>>>2>>>0]=R1,(h+=4)+4>r)break}return J1()[h>>>2>>>0]=0,h-X1},u=(x)=>{for(var h=0,r=0;r<x.length;++r){var X1=x.charCodeAt(r);55296<=X1&&57343>=X1&&++r,h+=4}return h};function q1(x,h,r){if(x>>>=0,h>>>=0,r=X5(r>>>=0),h===2)var X1=p6,B1=jJ,R1=w3,$0=(V0)=>Z1()[V0>>>1>>>0];else h===4&&(X1=C8,B1=E3,R1=u,$0=(V0)=>z1()[V0>>>2>>>0]);i4(x,{name:r,fromWireType:(V0)=>{for(var d0,Q2=z1()[V0>>>2>>>0],y2=V0+4,H5=0;H5<=Q2;++H5){var _5=V0+4+H5*h;H5!=Q2&&$0(_5)!=0||(y2=X1(y2,_5-y2),d0===void 0?d0=y2:(d0+="\x00",d0+=y2),y2=_5+h)}return z6(V0),d0},toWireType:(V0,d0)=>{if(typeof d0!="string")throw new P4(`Cannot pass non-string to C++ string type ${r}`);var Q2=R1(d0),y2=a6(4+Q2+h);return z1()[y2>>>2>>>0]=Q2/h,B1(d0,y2+4,Q2+h),V0!==null&&V0.push(z6,y2),y2},Cb:O4,readValueFromPointer:i7,Db(V0){z6(V0)}})}function F1(x,h){i4(x>>>=0,{Tb:!0,name:h=X5(h>>>0),Cb:0,fromWireType:()=>{},toWireType:()=>{}})}function E1(x){s5(x>>>0,!K,1,!H,131072,!1),N1()}var f1=(x)=>{if(!Q1)try{if(x(),!(0<E0))try{B?h9(E):D0(E)}catch(h){h instanceof P1||h=="unwind"||A(0,h)}}catch(h){h instanceof P1||h=="unwind"||A(0,h)}};function e1(x){x>>>=0,typeof Atomics.jc=="function"&&(Atomics.jc(J1(),x>>>2,x).value.then(v0),x+=128,Atomics.store(J1(),x>>>2,1))}var v0=()=>{var x=U8();x&&(e1(x),f1(N9))};function y0(x,h){(x>>>=0)==h>>>0?setTimeout(v0):B?postMessage({Gb:x,Bb:"checkMailbox"}):(x=t2[x])&&x.postMessage({Bb:"checkMailbox"})}var m0=[];function T0(x,h,r,X1,B1){for(h>>>=0,X1/=2,m0.length=X1,r=B1>>>0>>>3,B1=0;B1<X1;B1++)m0[B1]=i[r+2*B1]?i[r+2*B1+1]:w1()[r+2*B1+1>>>0];return(h?v1[h]:y9[x])(...m0)}var J5=()=>{E0=0};function D2(x){x>>>=0,B?postMessage({Bb:"cleanupThread",hc:x}):Y1(t2[x])}function z4(x){}var g4=(x,h)=>{var r=k6[x];if(r===void 0)throw x=fZ(x),r=X5(x),z6(x),new P4(`${h} has unknown type ${r}`);return r},N4=(x,h,r)=>{var X1=[];return x=x.toWireType(X1,r),X1.length&&(z1()[h>>>2>>>0]=N5(X1)),x};function a7(x,h,r){return h>>>=0,r>>>=0,x=E4(x>>>0),h=g4(h,"emval::as"),N4(h,r,x)}function z7(x,h){return h>>>=0,x=E4(x>>>0),(h=g4(h,"emval::as")).toWireType(null,x)}var Y7=(x)=>{try{x()}catch(h){C1(h)}},s7=0,W4=null,l6=0,C5=[],n4={},N7={},o7=0,i6=null,g5=[];function z9(x){return function(h){if(!Q1){if(s7===0){var r=!1,X1=!1;h((B1=0)=>{if(!Q1&&(l6=B1,r=!0,X1)){s7=2,Y7(()=>S3(W4)),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.resume(),B1=!1;try{var R1=function(){var d0=J1()[W4+8>>>2>>>0];return d0=X2[N7[d0]],--E0,d0()}()}catch(d0){R1=d0,B1=!0}var $0=!1;if(!W4){var V0=i6;V0&&(i6=null,(B1?V0.reject:V0.resolve)(R1),$0=!0)}if(B1&&!$0)throw R1}}),X1=!0,r||(s7=1,W4=function(){var B1=a6(65548),R1=B1+12;z1()[B1>>>2>>>0]=R1,z1()[B1+4>>>2>>>0]=R1+65536,R1=C5[0];var $0=n4[R1];return $0===void 0&&($0=o7++,n4[R1]=$0,N7[$0]=R1),R1=$0,J1()[B1+8>>>2>>>0]=R1,B1}(),typeof MainLoop<"u"&&MainLoop.Pb&&MainLoop.pause(),Y7(()=>s6(W4)))}else s7===2?(s7=0,Y7(sX),z6(W4),W4=null,g5.forEach(f1)):C1(`invalid state: ${s7}`);return l6}}((h)=>{x().then(h)})}function a4(x){return x>>>=0,z9(async()=>{var h=await E4(x);return N5(h)})}var Q4=[];function y4(x,h,r,X1){return r>>>=0,X1>>>=0,(x=Q4[x>>>0])(null,h=E4(h>>>0),r,X1)}var s4={},C7=(x)=>{var h=s4[x];return h===void 0?X5(x):h};function k3(x,h,r,X1,B1){return r>>>=0,X1>>>=0,B1>>>=0,(x=Q4[x>>>0])(h=E4(h>>>0),h[r=C7(r)],X1,B1)}var DZ=()=>typeof globalThis=="object"?globalThis:Function("return this")();function x3(x){return(x>>>=0)==0?N5(DZ()):(x=C7(x),N5(DZ()[x]))}var sG=(x)=>{var h=Q4.length;return Q4.push(x),h},wZ=(x,h)=>{for(var r=Array(x),X1=0;X1<x;++X1)r[X1]=g4(z1()[h+4*X1>>>2>>>0],"parameter "+X1);return r},jQ=(x,h)=>Object.defineProperty(h,"name",{value:x});function mX(x,h,r){var X1=(h=wZ(x,h>>>0)).shift();x--;var B1=`return function (obj, func, destructorsRef, args) {
`,R1=0,$0=[];r===0&&$0.push("obj");for(var V0=["retType"],d0=[X1],Q2=0;Q2<x;++Q2)$0.push("arg"+Q2),V0.push("argType"+Q2),d0.push(h[Q2]),B1+=`  var arg${Q2} = argType${Q2}.readValueFromPointer(args${R1?"+"+R1:""});
`,R1+=h[Q2].Cb;return B1+=`  var rv = ${r===1?"new func":"func.call"}(${$0.join(", ")});
`,X1.Tb||(V0.push("emval_returnValue"),d0.push(N4),B1+=`  return emval_returnValue(retType, destructorsRef, rv);
`),V0.push(B1+`};
`),x=function(y2){var H5=Function;if(!(H5 instanceof Function))throw TypeError(`new_ called with constructor type ${typeof H5} which is not a function`);var _5=jQ(H5.name||"unknownFunctionName",function(){});return _5.prototype=H5.prototype,_5=new _5,(y2=H5.apply(_5,y2))instanceof Object?y2:_5}(V0)(...d0),r=`methodCaller<(${h.map((y2)=>y2.name).join(", ")}) => ${X1.name}>`,sG(jQ(r,x))}function cX(x){return x=C7(x>>>0),N5(Y[x])}function DJ(x,h){return h>>>=0,x=E4(x>>>0),h=E4(h),N5(x[h])}function oG(x){9<(x>>>=0)&&(R7[x+1]+=1)}function rG(){return N5([])}function tG(x){x=E4(x>>>0);for(var h=Array(x.length),r=0;r<x.length;r++)h[r]=x[r];return N5(h)}function eG(x){return N5(C7(x>>>0))}function wJ(){return N5({})}function R3(x){for(var h=E4(x>>>=0);h.length;){var r=h.pop();h.pop()(r)}O9(x)}function pX(x,h,r){h>>>=0,r>>>=0,x=E4(x>>>0),h=E4(h),r=E4(r),x[h]=r}function lX(x,h){return h>>>=0,x=(x=g4(x>>>0,"_emval_take_value")).readValueFromPointer(h),N5(x)}function iX(x,h){x=-9007199254740992>x||9007199254740992<x?NaN:Number(x),h>>>=0,x=new Date(1000*x),J1()[h>>>2>>>0]=x.getUTCSeconds(),J1()[h+4>>>2>>>0]=x.getUTCMinutes(),J1()[h+8>>>2>>>0]=x.getUTCHours(),J1()[h+12>>>2>>>0]=x.getUTCDate(),J1()[h+16>>>2>>>0]=x.getUTCMonth(),J1()[h+20>>>2>>>0]=x.getUTCFullYear()-1900,J1()[h+24>>>2>>>0]=x.getUTCDay(),x=(x.getTime()-Date.UTC(x.getUTCFullYear(),0,1,0,0,0,0))/86400000|0,J1()[h+28>>>2>>>0]=x}var EZ=(x)=>x%4==0&&(x%100!=0||x%400==0),DQ=[0,31,60,91,121,152,182,213,244,274,305,335],f9=[0,31,59,90,120,151,181,212,243,273,304,334];function b8(x,h){x=-9007199254740992>x||9007199254740992<x?NaN:Number(x),h>>>=0,x=new Date(1000*x),J1()[h>>>2>>>0]=x.getSeconds(),J1()[h+4>>>2>>>0]=x.getMinutes(),J1()[h+8>>>2>>>0]=x.getHours(),J1()[h+12>>>2>>>0]=x.getDate(),J1()[h+16>>>2>>>0]=x.getMonth(),J1()[h+20>>>2>>>0]=x.getFullYear()-1900,J1()[h+24>>>2>>>0]=x.getDay();var r=(EZ(x.getFullYear())?DQ:f9)[x.getMonth()]+x.getDate()-1|0;J1()[h+28>>>2>>>0]=r,J1()[h+36>>>2>>>0]=-60*x.getTimezoneOffset(),r=new Date(x.getFullYear(),6,1).getTimezoneOffset();var X1=new Date(x.getFullYear(),0,1).getTimezoneOffset();x=0|(r!=X1&&x.getTimezoneOffset()==Math.min(X1,r)),J1()[h+32>>>2>>>0]=x}function n6(x){x>>>=0;var h=new Date(J1()[x+20>>>2>>>0]+1900,J1()[x+16>>>2>>>0],J1()[x+12>>>2>>>0],J1()[x+8>>>2>>>0],J1()[x+4>>>2>>>0],J1()[x>>>2>>>0],0),r=J1()[x+32>>>2>>>0],X1=h.getTimezoneOffset(),B1=new Date(h.getFullYear(),6,1).getTimezoneOffset(),R1=new Date(h.getFullYear(),0,1).getTimezoneOffset(),$0=Math.min(R1,B1);return 0>r?J1()[x+32>>>2>>>0]=+(B1!=R1&&$0==X1):0<r!=($0==X1)&&(B1=Math.max(R1,B1),h.setTime(h.getTime()+60000*((0<r?$0:B1)-X1))),J1()[x+24>>>2>>>0]=h.getDay(),r=(EZ(h.getFullYear())?DQ:f9)[h.getMonth()]+h.getDate()-1|0,J1()[x+28>>>2>>>0]=r,J1()[x>>>2>>>0]=h.getSeconds(),J1()[x+4>>>2>>>0]=h.getMinutes(),J1()[x+8>>>2>>>0]=h.getHours(),J1()[x+12>>>2>>>0]=h.getDate(),J1()[x+16>>>2>>>0]=h.getMonth(),J1()[x+20>>>2>>>0]=h.getYear(),x=h.getTime(),BigInt(isNaN(x)?-1:x/1000)}function r7(x,h,r,X1,B1,R1,$0){return B?H0(16,1,x,h,r,X1,B1,R1,$0):-52}function EJ(x,h,r,X1,B1,R1){if(B)return H0(17,1,x,h,r,X1,B1,R1)}var S9={},wQ=()=>performance.timeOrigin+performance.now();function b7(x,h){if(B)return H0(18,1,x,h);if(S9[x]&&(clearTimeout(S9[x].id),delete S9[x]),!h)return 0;var r=setTimeout(()=>{delete S9[x],f1(()=>f8(x,performance.timeOrigin+performance.now()))},h);return S9[x]={id:r,qc:h},0}function J$(x,h,r,X1){x>>>=0,h>>>=0,r>>>=0,X1>>>=0;var B1=new Date().getFullYear(),R1=new Date(B1,0,1).getTimezoneOffset();B1=new Date(B1,6,1).getTimezoneOffset();var $0=Math.max(R1,B1);z1()[x>>>2>>>0]=60*$0,J1()[h>>>2>>>0]=+(R1!=B1),x=(h=(V0)=>{var d0=Math.abs(V0);return`UTC${0<=V0?"-":"+"}${String(Math.floor(d0/60)).padStart(2,"0")}${String(d0%60).padStart(2,"0")}`})(R1),h=h(B1),B1<R1?($1(x,r,17),$1(h,X1,17)):($1(x,X1,17),$1(h,r,17))}var kZ=()=>Date.now(),H8=1;function xZ(x,h,r){if(!(0<=x&&3>=x))return 28;if(x===0)x=Date.now();else{if(!H8)return 52;x=performance.timeOrigin+performance.now()}return i[r>>>0>>>3]=BigInt(Math.round(1e6*x)),0}var C3=[],EQ=(x,h)=>{C3.length=0;for(var r;r=g()[x++>>>0];){var X1=r!=105;h+=(X1&=r!=112)&&h%8?4:0,C3.push(r==112?z1()[h>>>2>>>0]:r==106?i[h>>>3]:r==105?J1()[h>>>2>>>0]:w1()[h>>>3>>>0]),h+=X1?8:4}return C3};function kQ(x,h,r){return x>>>=0,h=EQ(h>>>0,r>>>0),v1[x](...h)}function Z$(x,h,r){return x>>>=0,h=EQ(h>>>0,r>>>0),v1[x](...h)}var xQ=()=>{};function T9(x,h){return C(z0(x>>>0,h>>>0))}var nX=()=>{throw E0+=1,"unwind"};function RQ(){return 4294901760}var RZ=()=>navigator.hardwareConcurrency;function W8(){return C1("Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER"),0}function CQ(x){x>>>=0;var h=g().length;if(x<=h||4294901760<x)return!1;for(var r=1;4>=r;r*=2){var X1=h*(1+0.2/r);X1=Math.min(X1,x+100663296);J:{X1=(Math.min(4294901760,65536*Math.ceil(Math.max(x,X1)/65536))-I.buffer.byteLength+65535)/65536|0;try{I.grow(X1),G1();var B1=1;break J}catch{}B1=void 0}if(B1)return!0}return!1}var K8=()=>(C1("Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER"),0),O6={},bQ=(x)=>{x.forEach((h)=>{var r=K8();r&&(O6[r]=h)})};function CZ(){var x=Error().stack.toString().split(`
`);return x[0]=="Error"&&x.shift(),bQ(x),O6.Lb=K8(),O6.cc=x,O6.Lb}function B8(x,h,r){if(x>>>=0,h>>>=0,O6.Lb==x)var X1=O6.cc;else(X1=Error().stack.toString().split(`
`))[0]=="Error"&&X1.shift(),bQ(X1);for(var B1=3;X1[B1]&&K8()!=x;)++B1;for(x=0;x<r&&X1[x+B1];++x)J1()[h+4*x>>>2>>>0]=K8();return x}var P9,q8={},bZ=()=>{if(!P9){var x,h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(x in q8)q8[x]===void 0?delete h[x]:h[x]=q8[x];var r=[];for(x in h)r.push(`${x}=${h[x]}`);P9=r}return P9};function v8(x,h){if(B)return H0(19,1,x,h);x>>>=0,h>>>=0;var r=0;return bZ().forEach((X1,B1)=>{var R1=h+r;for(B1=z1()[x+4*B1>>>2>>>0]=R1,R1=0;R1<X1.length;++R1)K1()[B1++>>>0]=X1.charCodeAt(R1);K1()[B1>>>0]=0,r+=X1.length+1}),0}function vQ(x,h){if(B)return H0(20,1,x,h);x>>>=0,h>>>=0;var r=bZ();z1()[x>>>2>>>0]=r.length;var X1=0;return r.forEach((B1)=>X1+=B1.length+1),z1()[h>>>2>>>0]=X1,0}function vZ(x){return B?H0(21,1,x):52}function b3(x,h,r,X1){return B?H0(22,1,x,h,r,X1):52}function v3(x,h,r,X1){return B?H0(23,1,x,h,r,X1):70}var aX=[null,[],[]];function f3(x,h,r,X1){if(B)return H0(24,1,x,h,r,X1);h>>>=0,r>>>=0,X1>>>=0;for(var B1=0,R1=0;R1<r;R1++){var $0=z1()[h>>>2>>>0],V0=z1()[h+4>>>2>>>0];h+=8;for(var d0=0;d0<V0;d0++){var Q2=g()[$0+d0>>>0],y2=aX[x];Q2===0||Q2===10?((x===1?w:C)(T4(y2)),y2.length=0):y2.push(Q2)}B1+=V0}return z1()[X1>>>2>>>0]=B1,0}B||function(){for(var x=Y.numThreads-1;x--;)Z0();j0.unshift(()=>{D1++,function(h){B?h():Promise.all(_0.map(Q0)).then(h)}(()=>u1())})}();for(var fQ=Array(256),g9=0;256>g9;++g9)fQ[g9]=String.fromCharCode(g9);O7=fQ,P4=Y.BindingError=class extends Error{constructor(x){super(x),this.name="BindingError"}},Y.InternalError=class extends Error{constructor(x){super(x),this.name="InternalError"}},R7.push(0,1,void 0,1,null,1,!0,1,!1,1),Y.count_emval_handles=()=>R7.length/2-5-U6.length;var X2,y9=[A0,i0,I2,L7,c,O1,I1,d1,B0,n0,Y2,s1,d2,j2,H4,a5,r7,EJ,b7,v8,vQ,vZ,b3,v3,f3];(async function(){function x(X1,B1){return X2=X1.exports,X2=function(){var R1=X2,$0={};for(let[V0,d0]of Object.entries(R1))$0[V0]=typeof d0=="function"?(...Q2)=>{C5.push(V0);try{return d0(...Q2)}finally{Q1||(C5.pop(),W4&&s7===1&&C5.length===0&&(s7=0,E0+=1,Y7(o6),typeof Fibers<"u"&&Fibers.rc()))}}:d0;return $0}(),X2=function(){var R1=X2,$0=(d0)=>(Q2)=>d0(Q2)>>>0,V0=(d0)=>()=>d0()>>>0;return(R1=Object.assign({},R1)).Da=$0(R1.Da),R1.fb=V0(R1.fb),R1.hb=$0(R1.hb),R1.tb=$0(R1.tb),R1.ub=V0(R1.ub),R1.__cxa_get_exception_ptr=$0(R1.__cxa_get_exception_ptr),R1}(),Z2.push(X2.ib),b=B1,u1(),X2}D1++;var h=x1();if(Y.instantiateWasm)return new Promise((X1)=>{Y.instantiateWasm(h,(B1,R1)=>{x(B1,R1),X1(B1.exports)})});if(B)return new Promise((X1)=>{r1=(B1)=>{var R1=new WebAssembly.Instance(B1,x1());X1(x(R1,B1))}});M1??=Y.locateFile?Y.locateFile?Y.locateFile("ort-wasm-simd-threaded.jsep.wasm",M):M+"ort-wasm-simd-threaded.jsep.wasm":new URL("ort-wasm-simd-threaded.jsep.wasm",import.meta.url).href;try{var r=await async function(X1){var B1=M1;if(!t&&typeof WebAssembly.instantiateStreaming=="function"&&!m(B1))try{var R1=fetch(B1,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(R1,X1)}catch($0){C(`wasm streaming compile failed: ${$0}`),C("falling back to ArrayBuffer instantiation")}return async function($0,V0){try{var d0=await async function(Q2){if(!t)try{var y2=await z(Q2);return new Uint8Array(y2)}catch{}if(Q2==M1&&t)Q2=new Uint8Array(t);else{if(!F)throw"both async and sync fetching of the wasm failed";Q2=F(Q2)}return Q2}($0);return await WebAssembly.instantiate(d0,V0)}catch(Q2){C(`failed to asynchronously prepare wasm: ${Q2}`),C1(Q2)}}(B1,X1)}(h);return x(r.instance,r.module)}catch(X1){return Q(X1),Promise.reject(X1)}})();var fZ=(x)=>(fZ=X2.Da)(x),kJ=()=>(kJ=X2.Ea)();Y._OrtInit=(x,h)=>(Y._OrtInit=X2.Fa)(x,h),Y._OrtGetLastError=(x,h)=>(Y._OrtGetLastError=X2.Ga)(x,h),Y._OrtCreateSessionOptions=(x,h,r,X1,B1,R1,$0,V0,d0,Q2)=>(Y._OrtCreateSessionOptions=X2.Ha)(x,h,r,X1,B1,R1,$0,V0,d0,Q2),Y._OrtAppendExecutionProvider=(x,h,r,X1,B1)=>(Y._OrtAppendExecutionProvider=X2.Ia)(x,h,r,X1,B1),Y._OrtAddFreeDimensionOverride=(x,h,r)=>(Y._OrtAddFreeDimensionOverride=X2.Ja)(x,h,r),Y._OrtAddSessionConfigEntry=(x,h,r)=>(Y._OrtAddSessionConfigEntry=X2.Ka)(x,h,r),Y._OrtReleaseSessionOptions=(x)=>(Y._OrtReleaseSessionOptions=X2.La)(x),Y._OrtCreateSession=(x,h,r)=>(Y._OrtCreateSession=X2.Ma)(x,h,r),Y._OrtReleaseSession=(x)=>(Y._OrtReleaseSession=X2.Na)(x),Y._OrtGetInputOutputCount=(x,h,r)=>(Y._OrtGetInputOutputCount=X2.Oa)(x,h,r),Y._OrtGetInputOutputMetadata=(x,h,r,X1)=>(Y._OrtGetInputOutputMetadata=X2.Pa)(x,h,r,X1),Y._OrtFree=(x)=>(Y._OrtFree=X2.Qa)(x),Y._OrtCreateTensor=(x,h,r,X1,B1,R1)=>(Y._OrtCreateTensor=X2.Ra)(x,h,r,X1,B1,R1),Y._OrtGetTensorData=(x,h,r,X1,B1)=>(Y._OrtGetTensorData=X2.Sa)(x,h,r,X1,B1),Y._OrtReleaseTensor=(x)=>(Y._OrtReleaseTensor=X2.Ta)(x),Y._OrtCreateRunOptions=(x,h,r,X1)=>(Y._OrtCreateRunOptions=X2.Ua)(x,h,r,X1),Y._OrtAddRunConfigEntry=(x,h,r)=>(Y._OrtAddRunConfigEntry=X2.Va)(x,h,r),Y._OrtReleaseRunOptions=(x)=>(Y._OrtReleaseRunOptions=X2.Wa)(x),Y._OrtCreateBinding=(x)=>(Y._OrtCreateBinding=X2.Xa)(x),Y._OrtBindInput=(x,h,r)=>(Y._OrtBindInput=X2.Ya)(x,h,r),Y._OrtBindOutput=(x,h,r,X1)=>(Y._OrtBindOutput=X2.Za)(x,h,r,X1),Y._OrtClearBoundOutputs=(x)=>(Y._OrtClearBoundOutputs=X2._a)(x),Y._OrtReleaseBinding=(x)=>(Y._OrtReleaseBinding=X2.$a)(x),Y._OrtRunWithBinding=(x,h,r,X1,B1)=>(Y._OrtRunWithBinding=X2.ab)(x,h,r,X1,B1),Y._OrtRun=(x,h,r,X1,B1,R1,$0,V0)=>(Y._OrtRun=X2.bb)(x,h,r,X1,B1,R1,$0,V0),Y._OrtEndProfiling=(x)=>(Y._OrtEndProfiling=X2.cb)(x),Y._JsepOutput=(x,h,r)=>(Y._JsepOutput=X2.db)(x,h,r),Y._JsepGetNodeName=(x)=>(Y._JsepGetNodeName=X2.eb)(x);var U8=()=>(U8=X2.fb)(),z6=Y._free=(x)=>(z6=Y._free=X2.gb)(x),a6=Y._malloc=(x)=>(a6=Y._malloc=X2.hb)(x),s5=(x,h,r,X1,B1,R1)=>(s5=X2.kb)(x,h,r,X1,B1,R1),xJ=()=>(xJ=X2.lb)(),SZ=(x,h,r,X1,B1)=>(SZ=X2.mb)(x,h,r,X1,B1),TZ=(x)=>(TZ=X2.nb)(x),h9=(x)=>(h9=X2.ob)(x),f8=(x,h)=>(f8=X2.pb)(x,h),N9=()=>(N9=X2.qb)(),RJ=(x,h)=>(RJ=X2.rb)(x,h),u9=(x)=>(u9=X2.sb)(x),CJ=(x)=>(CJ=X2.tb)(x),bJ=()=>(bJ=X2.ub)(),PZ=Y.dynCall_ii=(x,h)=>(PZ=Y.dynCall_ii=X2.vb)(x,h),s6=(x)=>(s6=X2.wb)(x),o6=()=>(o6=X2.xb)(),S3=(x)=>(S3=X2.yb)(x),sX=()=>(sX=X2.zb)();return Y.stackSave=()=>bJ(),Y.stackRestore=(x)=>u9(x),Y.stackAlloc=(x)=>CJ(x),Y.setValue=function(x,h,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":K1()[x>>>0]=h;break;case"i16":n()[x>>>1>>>0]=h;break;case"i32":J1()[x>>>2>>>0]=h;break;case"i64":i[x>>>3]=BigInt(h);break;case"float":V1()[x>>>2>>>0]=h;break;case"double":w1()[x>>>3>>>0]=h;break;case"*":z1()[x>>>2>>>0]=h;break;default:C1(`invalid type for setValue: ${r}`)}},Y.getValue=function(x,h="i8"){switch(h.endsWith("*")&&(h="*"),h){case"i1":case"i8":return K1()[x>>>0];case"i16":return n()[x>>>1>>>0];case"i32":return J1()[x>>>2>>>0];case"i64":return i[x>>>3];case"float":return V1()[x>>>2>>>0];case"double":return w1()[x>>>3>>>0];case"*":return z1()[x>>>2>>>0];default:C1(`invalid type for getValue: ${h}`)}},Y.UTF8ToString=z0,Y.stringToUTF8=$1,Y.lengthBytesUTF8=L1,function x(){if(0<D1)g1=x;else if(B)Z(Y),a();else{for(;0<j0.length;)j0.shift()(Y);0<D1?g1=x:(Y.calledRun=!0,Q1||(a(),Z(Y)))}}(),Y.PTR_SIZE=4,$}),_p=WE,Iu=globalThis.self?.name?.startsWith("em-pthread"),Iu&&WE()}),Vk=f0(()=>{_k(),KE=typeof location>"u"?void 0:location.origin,Zk=import.meta.url>"file:"&&import.meta.url<"file;",ju=()=>{if(Zk)return new URL(new URL("ort.bundle.min.mjs",import.meta.url).href,KE).href;return import.meta.url},_3=ju(),Vp=()=>{if(_3&&!_3.startsWith("blob:"))return _3.substring(0,_3.lastIndexOf("/")+1)},k_=(J,Z)=>{try{let Q=Z??_3;return(Q?new URL(J,Q):new URL(J)).origin===KE}catch{return!1}},Du=(J,Z)=>{let Q=Z??_3;try{return(Q?new URL(J,Q):new URL(J)).href}catch{return}},wu=(J,Z)=>`${Z??"./"}${J}`,BE=async(J)=>{let Z=await(await fetch(J,{credentials:"same-origin"})).blob();return URL.createObjectURL(Z)},Eu=async(J)=>(await import(J)).default,qE=(o61(),oN(Fp)).default,Ip=async()=>{if(!_3)throw Error("Failed to load proxy worker: cannot determine the script source URL.");if(k_(_3))return[void 0,qE()];let J=await BE(_3);return[J,qE(J)]},UE=(r61(),oN(Mp)).default,jp=async(J,Z,Q)=>{if(!J&&!Z&&UE&&_3&&k_(_3))return[void 0,UE];{let Y="ort-wasm-simd-threaded.jsep.mjs",$=J??Du(Y,Z),H=Q&&$&&!k_($,Z),K=H?await BE($):$??wu(Y,Z);return[H?K:void 0,await Eu(K)]}}}),qK=f0(()=>{Vk(),x_=!1,gN=!1,OE=!1,ku=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},xu=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ru=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,19,1,17,0,65,1,253,15,65,2,253,15,65,3,253,15,253,147,2,11]))}catch{return!1}},Ik=async(J)=>{if(x_)return Promise.resolve();if(gN)throw Error("multiple calls to 'initializeWebAssembly()' detected.");if(OE)throw Error("previous call to 'initializeWebAssembly()' failed.");gN=!0;let{initTimeout:Z,numThreads:Q}=J;if(J.simd!==!1){if(J.simd==="relaxed"){if(!Ru())throw Error("Relaxed WebAssembly SIMD is not supported in the current environment.")}else if(!xu())throw Error("WebAssembly SIMD is not supported in the current environment.")}let Y=ku();Q>1&&!Y&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+Q+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),J.numThreads=Q=1);let $=J.wasmPaths,H=typeof $=="string"?$:void 0,K=$?.mjs,B=K?.href??K,q=$?.wasm,L=q?.href??q,O=J.wasmBinary,[z,F]=await jp(B,H,Q>1),V=!1,A=[];if(Z>0&&A.push(new Promise((M)=>{setTimeout(()=>{V=!0,M()},Z)})),A.push(new Promise((M,j)=>{let D={numThreads:Q};if(O)D.wasmBinary=O;else if(L||H)D.locateFile=(w)=>L??H+w;else if(B&&B.indexOf("blob:")!==0)D.locateFile=(w)=>new URL(w,B).href;else if(z){let w=Vp();w&&(D.locateFile=(C)=>w+C)}F(D).then((w)=>{gN=!1,x_=!0,LE=w,M(),z&&URL.revokeObjectURL(z)},(w)=>{gN=!1,OE=!0,j(w)})})),await Promise.race(A),V)throw Error(`WebAssembly backend initializing failed due to timeout: ${Z}ms`)},w4=()=>{if(x_&&LE)return LE;throw Error("WebAssembly is not initialized yet.")}}),jk=f0(()=>{qK(),FZ=(J,Z)=>{let Q=w4(),Y=Q.lengthBytesUTF8(J)+1,$=Q._malloc(Y);return Q.stringToUTF8(J,$,Y),Z.push($),$},d_=(J,Z,Q,Y)=>{if(typeof J=="object"&&J!==null){if(Q.has(J))throw Error("Circular reference in options");Q.add(J)}Object.entries(J).forEach(([$,H])=>{let K=Z?Z+$:$;if(typeof H=="object")d_(H,K+".",Q,Y);else if(typeof H=="string"||typeof H=="number")Y(K,H.toString());else if(typeof H=="boolean")Y(K,H?"1":"0");else throw Error(`Can't handle extra config type: ${typeof H}`)})},$4=(J)=>{let Z=w4(),Q=Z.stackSave();try{let Y=Z.PTR_SIZE,$=Z.stackAlloc(2*Y);Z._OrtGetLastError($,$+Y);let H=Number(Z.getValue($,Y===4?"i32":"i64")),K=Z.getValue($+Y,"*"),B=K?Z.UTF8ToString(K):"";throw Error(`${J} ERROR_CODE: ${H}, ERROR_MESSAGE: ${B}`)}finally{Z.stackRestore(Q)}}}),t61=f0(()=>{qK(),jk(),Dp=(J)=>{let Z=w4(),Q=0,Y=[],$=J||{};try{if(J?.logSeverityLevel===void 0)$.logSeverityLevel=2;else if(typeof J.logSeverityLevel!="number"||!Number.isInteger(J.logSeverityLevel)||J.logSeverityLevel<0||J.logSeverityLevel>4)throw Error(`log serverity level is not valid: ${J.logSeverityLevel}`);if(J?.logVerbosityLevel===void 0)$.logVerbosityLevel=0;else if(typeof J.logVerbosityLevel!="number"||!Number.isInteger(J.logVerbosityLevel))throw Error(`log verbosity level is not valid: ${J.logVerbosityLevel}`);J?.terminate===void 0&&($.terminate=!1);let H=0;return J?.tag!==void 0&&(H=FZ(J.tag,Y)),Q=Z._OrtCreateRunOptions($.logSeverityLevel,$.logVerbosityLevel,!!$.terminate,H),Q===0&&$4("Can't create run options."),J?.extra!==void 0&&d_(J.extra,"",new WeakSet,(K,B)=>{let q=FZ(K,Y),L=FZ(B,Y);Z._OrtAddRunConfigEntry(Q,q,L)!==0&&$4(`Can't set a run config entry: ${K} - ${B}.`)}),[Q,Y]}catch(H){throw Q!==0&&Z._OrtReleaseRunOptions(Q),Y.forEach((K)=>Z._free(K)),H}}}),e61=f0(()=>{qK(),jk(),Cu=(J)=>{switch(J){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw Error(`unsupported graph optimization level: ${J}`)}},bu=(J)=>{switch(J){case"sequential":return 0;case"parallel":return 1;default:throw Error(`unsupported execution mode: ${J}`)}},vu=(J)=>{J.extra||(J.extra={}),J.extra.session||(J.extra.session={});let Z=J.extra.session;Z.use_ort_model_bytes_directly||(Z.use_ort_model_bytes_directly="1"),J.executionProviders&&J.executionProviders.some((Q)=>(typeof Q=="string"?Q:Q.name)==="webgpu")&&(J.enableMemPattern=!1)},yN=(J,Z,Q,Y)=>{let $=FZ(Z,Y),H=FZ(Q,Y);w4()._OrtAddSessionConfigEntry(J,$,H)!==0&&$4(`Can't set a session config entry: ${Z} - ${Q}.`)},fu=async(J,Z,Q)=>{for(let Y of Z){let $=typeof Y=="string"?Y:Y.name,H=[];switch($){case"webnn":if($="WEBNN",typeof Y!="string"){let O=Y?.deviceType;O&&yN(J,"deviceType",O,Q)}break;case"webgpu":if($="JS",typeof Y!="string"){let O=Y;if(O?.preferredLayout){if(O.preferredLayout!=="NCHW"&&O.preferredLayout!=="NHWC")throw Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${O.preferredLayout}`);yN(J,"preferredLayout",O.preferredLayout,Q)}}break;case"wasm":case"cpu":continue;default:throw Error(`not supported execution provider: ${$}`)}let K=FZ($,Q),B=H.length,q=0,L=0;if(B>0){q=w4()._malloc(B*w4().PTR_SIZE),Q.push(q),L=w4()._malloc(B*w4().PTR_SIZE),Q.push(L);for(let O=0;O<B;O++)w4().setValue(q+O*w4().PTR_SIZE,H[O][0],"*"),w4().setValue(L+O*w4().PTR_SIZE,H[O][1],"*")}await w4()._OrtAppendExecutionProvider(J,K,q,L,B)!==0&&$4(`Can't append execution provider: ${$}.`)}},wp=async(J)=>{let Z=w4(),Q=0,Y=[],$=J||{};vu($);try{let H=Cu($.graphOptimizationLevel??"all"),K=bu($.executionMode??"sequential"),B=typeof $.logId=="string"?FZ($.logId,Y):0,q=$.logSeverityLevel??2;if(!Number.isInteger(q)||q<0||q>4)throw Error(`log serverity level is not valid: ${q}`);let L=$.logVerbosityLevel??0;if(!Number.isInteger(L)||L<0||L>4)throw Error(`log verbosity level is not valid: ${L}`);let O=typeof $.optimizedModelFilePath=="string"?FZ($.optimizedModelFilePath,Y):0;if(Q=Z._OrtCreateSessionOptions(H,!!$.enableCpuMemArena,!!$.enableMemPattern,K,!!$.enableProfiling,0,B,q,L,O),Q===0&&$4("Can't create session options."),$.executionProviders&&await fu(Q,$.executionProviders,Y),$.enableGraphCapture!==void 0){if(typeof $.enableGraphCapture!="boolean")throw Error(`enableGraphCapture must be a boolean value: ${$.enableGraphCapture}`);yN(Q,"enableGraphCapture",$.enableGraphCapture.toString(),Y)}if($.freeDimensionOverrides)for(let[z,F]of Object.entries($.freeDimensionOverrides)){if(typeof z!="string")throw Error(`free dimension override name must be a string: ${z}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw Error(`free dimension override value must be a non-negative integer: ${F}`);let V=FZ(z,Y);Z._OrtAddFreeDimensionOverride(Q,V,F)!==0&&$4(`Can't set a free dimension override: ${z} - ${F}.`)}return $.extra!==void 0&&d_($.extra,"",new WeakSet,(z,F)=>{yN(Q,z,F,Y)}),[Q,Y]}catch(H){throw Q!==0&&Z._OrtReleaseSessionOptions(Q)!==0&&$4("Can't release session options."),Y.forEach((K)=>Z._free(K)),H}}}),g2=f0(()=>{UL=(J)=>{switch(J){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;case"int4":return 22;case"uint4":return 21;default:throw Error(`unsupported data type: ${J}`)}},TX=(J)=>{switch(J){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";case 22:return"int4";case 21:return"uint4";default:throw Error(`unsupported data type: ${J}`)}},$K=(J,Z)=>{let Q=[-1,4,1,1,2,2,4,8,-1,1,2,8,4,8,-1,-1,-1,-1,-1,-1,-1,0.5,0.5][J],Y=typeof Z=="number"?Z:Z.reduce(($,H)=>$*H,1);return Q>0?Math.ceil(Y*Q):void 0},Dk=(J)=>{switch(J){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw Error(`unsupported type: ${J}`)}},m_=(J)=>{switch(J){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw Error(`unsupported logging level: ${J}`)}},wk=(J)=>J==="float32"||J==="float16"||J==="int32"||J==="int64"||J==="uint32"||J==="uint8"||J==="bool"||J==="uint4"||J==="int4",Ek=(J)=>J==="float32"||J==="float16"||J==="int32"||J==="int64"||J==="uint32"||J==="uint64"||J==="int8"||J==="uint8"||J==="bool"||J==="uint4"||J==="int4",Qk=(J)=>{switch(J){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;case"ml-tensor":return 5;default:throw Error(`unsupported data location: ${J}`)}}}),Ep=f0(()=>{_k(),kk=async(J)=>{if(typeof J=="string"){let Z=await fetch(J);if(!Z.ok)throw Error(`failed to load external data file: ${J}`);let Q=Z.headers.get("Content-Length"),Y=Q?parseInt(Q,10):0;if(Y<1073741824)return new Uint8Array(await Z.arrayBuffer());{if(!Z.body)throw Error(`failed to load external data file: ${J}, no response body.`);let $=Z.body.getReader(),H;try{H=new ArrayBuffer(Y)}catch(B){if(B instanceof RangeError){let q=Math.ceil(Y/65536);H=new WebAssembly.Memory({initial:q,maximum:q}).buffer}else throw B}let K=0;for(;;){let{done:B,value:q}=await $.read();if(B)break;let L=q.byteLength;new Uint8Array(H,K,L).set(q),K+=L}return new Uint8Array(H,0,Y)}}else return J instanceof Blob?new Uint8Array(await J.arrayBuffer()):J instanceof Uint8Array?J:new Uint8Array(J)}}),PX=f0(()=>{g2(),Su=["V","I","W","E","F"],Tu=(J,Z)=>{console.log(`[${Su[J]},${new Date().toISOString()}]${Z}`)},xk=(J,Z)=>{Pu=J,gu=Z},yu=(J,Z)=>{let Q=m_(J),Y=m_(Pu);Q>=Y&&Tu(Q,typeof Z=="function"?Z():Z)},R5=(...J)=>{gu&&yu(...J)}}),n2=f0(()=>{hu=class{static calcMatMulShape(J,Z){return J[1]!==Z[0]?void 0:[J[0],Z[1]]}},OL=class{static calcShape(J,Z,Q=!1){let Y=J.length,$=Z.length;if(Y===0)return Z;if($===0)return J;let H=Math.max(J.length,Z.length),K=Array(H);if(Q){if(Y<2||$<2)return;let B=hu.calcMatMulShape([J[Y-2],J[Y-1]],[Z[$-2],Z[$-1]]);if(B===void 0)return;[K[H-2],K[H-1]]=B}for(let B=Q?3:1;B<=H;B++){let q=Y-B<0?1:J[Y-B],L=$-B<0?1:Z[$-B];if(q!==L&&q>1&&L>1)return;let O=Math.max(q,L);if(q&&L)K[H-B]=Math.max(q,L);else{if(O>1)return;K[H-B]=0}}return K}static isValidBroadcast(J,Z){let Q=J.length,Y=Z.length;if(Q>Y)return!1;for(let $=1;$<=Q;$++)if(J[Q-$]!==1&&J[Q-$]!==Z[Y-$])return!1;return!0}},t1=class J{static size(Z){return J.getSizeFromDimensionRange(Z,0,Z.length)}static convertShape(Z,Q=4){let Y=Z.length;if(Y===0)return[];let $=Array(Y),H=Y-1;for(;H>=0;){if(Z[H]%Q===0){$[H]=Z[H]/Q;break}if(Q%Z[H]!==0)throw Error("cannot convert shape");$[H]=1,Q/=Z[H],H--}for(H--;H>=0;H--)$[H]=Z[H];return $}static sizeFromDimension(Z,Q){if(Q<0||Q>Z.length)throw Error(`invalid dimension of ${Q} for sizeFromDimension as Tensor has ${Z.length} dimensions.`);return J.getSizeFromDimensionRange(Z,Q,Z.length)}static sizeToDimension(Z,Q){if(Q<0||Q>Z.length)throw Error(`invalid dimension of ${Q} for sizeToDimension as Tensor has ${Z.length} dimensions.`);return J.getSizeFromDimensionRange(Z,0,Q)}static getSizeFromDimensionRange(Z,Q,Y){let $=1;for(let H=Q;H<Y;H++){if(Z[H]<0)throw Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");$*=Number(Z[H])}return $}static computeStrides(Z){let Q=Z.length;if(Q===0)return[];if(Q===1)return[1];let Y=Array(Q);Y[Q-1]=1,Y[Q-2]=Z[Q-1];for(let $=Q-3;$>=0;--$)Y[$]=Y[$+1]*Z[$+1];return Y}static normalizeAxis(Z,Q){if(Z<-Q&&Z>=Q)throw Error("unsupported axis for this operation.");return Z<0?Z+Q:Z}static normalizeAxes(Z,Q){return Z.map((Y)=>this.normalizeAxis(Y,Q??Z.length))}static sortBasedOnPerm(Z,Q){return Q?Q.map((Y)=>Z[Y]):Z.slice().reverse()}static padShape(Z,Q){let Y=Z.length;return Z.map(($,H)=>$+Q[H]+Q[H+Y])}static areEqual(Z,Q){return Z.length!==Q.length?!1:Z.every((Y,$)=>Y===Q[$])}},c_=class J{static adjustPoolAttributes(Z,Q,Y,$,H,K){if(!Z&&Y.length!==Q.length-2)throw Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(Z)for(let B=0;B<Q.length-2;B++)B>=Y.length?Y.push(Q[B+2]):Y[B]=Q[B+2];for(let B=0;B<Y.length;B++)if(B<$.length){if($[B]<0)throw Error("strides should be greater than or equal to 1")}else $.push(1);for(let B=0;B<Y.length;B++)if(B<H.length){if(H[B]<0)throw Error("dilations should be greater than or equal to 1")}else H.push(1);for(let B=0;B<Y.length*2;B++)if(B<K.length){if(K[B]<0)throw Error("pad should be greater than or equal to 1")}else K.push(0);for(let B=0;B<Y.length;B++){if(Y[B]<=0)throw Error("kernel shapes need to be greater than 0");if(K[B]>=Y[B]||K[B+Y.length]>=Y[B])throw Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(Z,Q,Y,$,H,K,B){if(B){if(H.length!==2*(Z.length-2))throw Error("length of pads should be twice the length of data dimensions");if(Q.length!==Z.length-2)throw Error("length of strides should be the length of data dimensions");if($.length!==Z.length-2)throw Error("length of kernel shapes should be the length of data dimensions");for(let q=0;q<Z.length-2;q++)J.adjustPadAndReturnShape(Z[q+(K?1:2)],Q[q],Y[q],$[q],H,q,q+Z.length-2,B)}}static computePoolOutputShape(Z,Q,Y,$,H,K,B){if(Q.length<=0)throw Error("input shape must be of size greater than 0");let q=[Q[0],Q[1]];return J.computeShapeHelper(Z,Q,q,Y,$,H,K,B),q}static computeConvOutputShape(Z,Q,Y,$,H,K,B){if(Z.length<=0||Q.length<=0)throw Error("invalid input tensor dims or invalid filter tensor dims");let q=[Z[0],Q[0]];return J.computeShapeHelper(!1,Z,q,Y,$,H,K,B),q}static computeShapeHelper(Z,Q,Y,$,H,K,B,q){if(Z)for(let L=0;L<Q.length-2;L++)Y.push(1);else for(let L=0;L<Q.length-2;L++)Y.push(J.adjustPadAndReturnShape(Q[L+2],$[L],H[L],K[L],B,L,L+Q.length-2,q))}static adjustPadAndReturnShape(Z,Q,Y,$,H,K,B,q){let L=Y*($-1)+1;if(q&&q!=="NOTSET")switch(q){case"VALID":return H[K]=0,H[B]=0,Math.floor((Z-L)/Q+1);case"SAME_LOWER":case"SAME_UPPER":if(Y!==1)throw Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let O=((Z+Q-1)/Q-1)*Q+$-Z;return H[K]=Math.floor(q==="SAME_LOWER"?(O+1)/2:O/2),H[B]=O-H[K],Math.floor((Z+O-$)/Q+1)}default:throw Error("Unsupported AutoPad type")}else return Math.floor((Z+H[K]+H[B]-L)/Q+1)}},kp=class{static getShapeOfGemmResult(J,Z,Q,Y,$){if(J.length!==2||Q.length!==2)throw Error("shape need to be of size 2");let H,K,B;Z?(H=J[1],K=J[0]):(H=J[0],K=J[1]);let q=-1;if(Y?(B=Q[0],q=1):(B=Q[1],q=0),Q[q]!==K)throw Error("dimension mismatch");if(H<=0||B<=0||K<=0)throw Error("invalid shape specified");if($&&!OL.isValidBroadcast($,[H,B]))throw Error("gemm: invalid bias shape for broadcast");return[H,B,K]}},xp=-340282346638528860000000000000000000000,Rp=340282346638528860000000000000000000000}),Cp=f0(()=>{g2(),Rk=(J,Z)=>new(Dk(Z))(J)}),J91=f0(()=>{PX(),Xk=(J,Z=!0)=>{if(J.byteLength%8!==0)throw Error("Invalid Uint8Array length - must be a multiple of 8 (BigInt).");let Q=J.byteLength/8,Y=new BigInt64Array(J.buffer,J.byteOffset,Q),$=new Int32Array(Q);for(let H=0;H<Q;H++){let K=Y[H];if(K>2147483647n||K<-2147483648n)throw Error(`Overflow occurred when converting BigInt to Int32 at index ${H}: ${K}`);$[H]=Number(K)}return Z?new Uint8Array($.buffer):$},zE=(J,Z=!0)=>{if(J.byteLength%4!==0)throw Error("Invalid Uint8Array length - must be a multiple of 4 (Int32).");let Q=J.byteLength/4,Y=new Int32Array(J.buffer,J.byteOffset,Q),$=BigInt64Array.from(Y,BigInt);return Z?new Uint8Array($.buffer):$},uu=1,NE=()=>uu++,du=new Map([["float32",32],["float16",16],["int32",32],["uint32",32],["int64",64],["uint64",64],["int8",8],["uint8",8],["int4",4],["uint4",4]]),FE=(J,Z)=>{let Q=du.get(J);if(!Q)throw Error("Unsupported data type.");return Z.length>0?Math.ceil(Z.reduce((Y,$)=>Y*$)*Q/8):0},AE=class{constructor(J){this.shouldConvertInt64toInt32=!1,this.isInt64ToInt32Converted=!1;let{sessionId:Z,context:Q,tensor:Y,dataType:$,shape:H,shouldConvertInt64toInt32:K=!1}=J;this.sessionId=Z,this.mlContext=Q,this.mlTensor=Y,this.dataType=$,this.tensorShape=H,this.shouldConvertInt64toInt32=K}get tensor(){return this.mlTensor}get type(){return this.dataType}get shape(){return this.tensorShape}get byteLength(){return FE(this.dataType,this.tensorShape)}destroy(){R5("verbose",()=>"[WebNN] TensorWrapper.destroy"),this.mlTensor.destroy()}write(J){this.mlContext.writeTensor(this.mlTensor,J)}async read(J,Z){if(J){let Q=await this.mlContext.readTensor(this.mlTensor),Y=zE(new Uint8Array(Q));if(Z){(Z instanceof ArrayBuffer?new Uint8Array(Z):new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength)).set(Y);return}else return Y.buffer}else return Z?this.mlContext.readTensor(this.mlTensor,Z):this.mlContext.readTensor(this.mlTensor)}canReuseTensor(J,Z,Q){return this.mlContext===J&&this.dataType===Z&&this.tensorShape.length===Q.length&&this.tensorShape.every((Y,$)=>Y===Q[$])}setIsInt64ToInt32Converted(J){this.isInt64ToInt32Converted=J}},ME=class{constructor(J,Z){this.tensorManager=J,this.wrapper=Z}get tensorWrapper(){return this.wrapper}releaseTensor(){this.tensorWrapper&&(this.tensorManager.releaseTensor(this.tensorWrapper),this.wrapper=void 0)}async ensureTensor(J,Z,Q,Y){let $=Z,H=this.tensorManager.getMLContext(J),K=$==="int64"&&!H.opSupportLimits().input.dataTypes.includes("int64");if(K&&($="int32",R5("verbose",()=>"[WebNN] TensorIdTracker.ensureTensor: convert dataType from int64 to int32")),this.wrapper){if(this.wrapper.canReuseTensor(H,$,Q))return this.wrapper.tensor;if(Y){if(this.wrapper.byteLength!==FE($,Q))throw Error("Unable to copy data to tensor with different size.");this.activeUpload=new Uint8Array(await this.wrapper.read())}this.tensorManager.releaseTensor(this.wrapper)}let B=typeof MLTensorUsage>"u"?void 0:MLTensorUsage.READ|MLTensorUsage.WRITE;return this.wrapper=await this.tensorManager.getCachedTensor(J,$,Q,B,!0,!0,K),Y&&this.activeUpload&&(this.wrapper.write(this.activeUpload),this.activeUpload=void 0),this.wrapper.tensor}upload(J){let Z=J;if(this.wrapper)if(this.wrapper.shouldConvertInt64toInt32&&(Z=Xk(J,!0),this.wrapper.setIsInt64ToInt32Converted(!0)),Z.byteLength===this.wrapper.byteLength){this.wrapper.write(Z);return}else R5("verbose",()=>"Data size does not match tensor size. Releasing tensor."),this.releaseTensor();this.activeUpload?this.activeUpload.set(Z):this.activeUpload=new Uint8Array(Z)}async download(J){if(this.activeUpload){let Z=this.wrapper?.isInt64ToInt32Converted?zE(this.activeUpload):this.activeUpload;if(J){J instanceof ArrayBuffer?new Uint8Array(J).set(Z):new Uint8Array(J.buffer,J.byteOffset,J.byteLength).set(Z);return}else return Z.buffer}if(!this.wrapper)throw Error("Tensor has not been created.");return J?this.wrapper.read(this.wrapper?.shouldConvertInt64toInt32,J):this.wrapper.read(this.wrapper?.shouldConvertInt64toInt32)}},mu=class{constructor(J){this.backend=J,this.tensorTrackersById=new Map,this.freeTensors=[],this.externalTensors=new Set}getMLContext(J){let Z=this.backend.getMLContext(J);if(!Z)throw Error("MLContext not found for session.");return Z}reserveTensorId(){let J=NE();return this.tensorTrackersById.set(J,new ME(this)),J}releaseTensorId(J){let Z=this.tensorTrackersById.get(J);Z&&(this.tensorTrackersById.delete(J),Z.tensorWrapper&&this.releaseTensor(Z.tensorWrapper))}async ensureTensor(J,Z,Q,Y,$){R5("verbose",()=>`[WebNN] TensorManager.ensureTensor {tensorId: ${Z}, dataType: ${Q}, shape: ${Y}, copyOld: ${$}}`);let H=this.tensorTrackersById.get(Z);if(!H)throw Error("Tensor not found.");return H.ensureTensor(J,Q,Y,$)}upload(J,Z){let Q=this.tensorTrackersById.get(J);if(!Q)throw Error("Tensor not found.");Q.upload(Z)}async download(J,Z){R5("verbose",()=>`[WebNN] TensorManager.download {tensorId: ${J}, dstBuffer: ${Z?.byteLength}}`);let Q=this.tensorTrackersById.get(J);if(!Q)throw Error("Tensor not found.");return Q.download(Z)}releaseTensorsForSession(J){for(let Z of this.freeTensors)Z.sessionId===J&&Z.destroy();this.freeTensors=this.freeTensors.filter((Z)=>Z.sessionId!==J)}registerTensor(J,Z,Q,Y){let $=this.getMLContext(J),H=NE(),K=new AE({sessionId:J,context:$,tensor:Z,dataType:Q,shape:Y});return this.tensorTrackersById.set(H,new ME(this,K)),this.externalTensors.add(K),H}async getCachedTensor(J,Z,Q,Y,$,H,K=!1){let B=this.getMLContext(J);for(let[L,O]of this.freeTensors.entries())if(O.canReuseTensor(B,Z,Q)){R5("verbose",()=>`[WebNN] Reusing tensor {dataType: ${Z}, shape: ${Q}}`);let z=this.freeTensors.splice(L,1)[0];return z.sessionId=J,z}R5("verbose",()=>`[WebNN] MLContext.createTensor {dataType: ${Z}, shape: ${Q}}`);let q=await B.createTensor({dataType:Z,shape:Q,dimensions:Q,usage:Y,writable:$,readable:H});return new AE({sessionId:J,context:B,tensor:q,dataType:Z,shape:Q,shouldConvertInt64toInt32:K})}releaseTensor(J){this.externalTensors.has(J)&&this.externalTensors.delete(J),this.freeTensors.push(J)}},bp=(...J)=>new mu(...J)}),Z91=f0(()=>{g2(),qK(),Cp(),J91(),PX(),R_=new Map([[1,"float32"],[10,"float16"],[6,"int32"],[12,"uint32"],[7,"int64"],[13,"uint64"],[22,"int4"],[21,"uint4"],[3,"int8"],[2,"uint8"],[9,"uint8"]]),cu=(J,Z)=>{if(J===Z)return!0;if(J===void 0||Z===void 0)return!1;let Q=Object.keys(J).sort(),Y=Object.keys(Z).sort();return Q.length===Y.length&&Q.every(($,H)=>$===Y[H]&&J[$]===Z[$])},vp=class{constructor(J){this.tensorManager=bp(this),this.mlContextBySessionId=new Map,this.sessionIdsByMLContext=new Map,this.mlContextCache=[],this.sessionGraphInputs=new Map,this.temporaryGraphInputs=[],this.temporarySessionTensorIds=new Map,xk(J.logLevel,!!J.debug)}get currentSessionId(){if(this.activeSessionId===void 0)throw Error("No active session");return this.activeSessionId}onRunStart(J){R5("verbose",()=>`[WebNN] onRunStart {sessionId: ${J}}`),this.activeSessionId=J}onRunEnd(J){R5("verbose",()=>`[WebNN] onRunEnd {sessionId: ${J}}`);let Z=this.temporarySessionTensorIds.get(J);if(Z){for(let Q of Z)R5("verbose",()=>`[WebNN] releasing temporary tensor {tensorId: ${Q}}`),this.tensorManager.releaseTensorId(Q);this.temporarySessionTensorIds.delete(J),this.activeSessionId=void 0}}async createMLContext(J){if(J instanceof GPUDevice){let Q=this.mlContextCache.findIndex((Y)=>Y.gpuDevice===J);if(Q!==-1)return this.mlContextCache[Q].mlContext;{let Y=await navigator.ml.createContext(J);return this.mlContextCache.push({gpuDevice:J,mlContext:Y}),Y}}else if(J===void 0){let Q=this.mlContextCache.findIndex((Y)=>Y.options===void 0&&Y.gpuDevice===void 0);if(Q!==-1)return this.mlContextCache[Q].mlContext;{let Y=await navigator.ml.createContext();return this.mlContextCache.push({mlContext:Y}),Y}}let Z=this.mlContextCache.findIndex((Q)=>cu(Q.options,J));if(Z!==-1)return this.mlContextCache[Z].mlContext;{let Q=await navigator.ml.createContext(J);return this.mlContextCache.push({options:J,mlContext:Q}),Q}}registerMLContext(J,Z){this.mlContextBySessionId.set(J,Z);let Q=this.sessionIdsByMLContext.get(Z);Q||(Q=new Set,this.sessionIdsByMLContext.set(Z,Q)),Q.add(J),this.temporaryGraphInputs.length>0&&(this.sessionGraphInputs.set(J,this.temporaryGraphInputs),this.temporaryGraphInputs=[])}onReleaseSession(J){this.sessionGraphInputs.delete(J);let Z=this.mlContextBySessionId.get(J);if(!Z)return;this.tensorManager.releaseTensorsForSession(J),this.mlContextBySessionId.delete(J);let Q=this.sessionIdsByMLContext.get(Z);if(Q.delete(J),Q.size===0){this.sessionIdsByMLContext.delete(Z);let Y=this.mlContextCache.findIndex(($)=>$.mlContext===Z);Y!==-1&&this.mlContextCache.splice(Y,1)}}getMLContext(J){return this.mlContextBySessionId.get(J)}reserveTensorId(){return this.tensorManager.reserveTensorId()}releaseTensorId(J){R5("verbose",()=>`[WebNN] releaseTensorId {tensorId: ${J}}`),this.tensorManager.releaseTensorId(J)}async ensureTensor(J,Z,Q,Y,$){let H=R_.get(Q);if(!H)throw Error(`Unsupported ONNX data type: ${Q}`);return this.tensorManager.ensureTensor(J??this.currentSessionId,Z,H,Y,$)}async createTemporaryTensor(J,Z,Q){R5("verbose",()=>`[WebNN] createTemporaryTensor {onnxDataType: ${Z}, shape: ${Q}}`);let Y=R_.get(Z);if(!Y)throw Error(`Unsupported ONNX data type: ${Z}`);let $=this.tensorManager.reserveTensorId();await this.tensorManager.ensureTensor(J,$,Y,Q,!1);let H=this.temporarySessionTensorIds.get(J);return H?H.push($):this.temporarySessionTensorIds.set(J,[$]),$}uploadTensor(J,Z){if(!w4().shouldTransferToMLTensor)throw Error("Trying to upload to a MLTensor while shouldTransferToMLTensor is false");R5("verbose",()=>`[WebNN] uploadTensor {tensorId: ${J}, data: ${Z.byteLength}}`),this.tensorManager.upload(J,Z)}async downloadTensor(J,Z){return this.tensorManager.download(J,Z)}createMLTensorDownloader(J,Z){return async()=>{let Q=await this.tensorManager.download(J);return Rk(Q,Z)}}registerMLTensor(J,Z,Q,Y){let $=R_.get(Q);if(!$)throw Error(`Unsupported ONNX data type: ${Q}`);let H=this.tensorManager.registerTensor(J,Z,$,Y);return R5("verbose",()=>`[WebNN] registerMLTensor {tensor: ${Z}, dataType: ${$}, dimensions: ${Y}} -> {tensorId: ${H}}`),H}registerMLConstant(J,Z,Q,Y,$,H,K=!1){if(!H)throw Error("External mounted files are not available.");let B=J;J.startsWith("./")&&(B=J.substring(2));let q=H.get(B);if(!q)throw Error(`File with name ${B} not found in preloaded files.`);if(Z+Q>q.byteLength)throw Error("Out of bounds: data offset and length exceed the external file data size.");let L=q.slice(Z,Z+Q).buffer,O;switch($.dataType){case"float32":O=new Float32Array(L);break;case"float16":O=typeof Float16Array<"u"&&Float16Array.from?new Float16Array(L):new Uint16Array(L);break;case"int32":O=new Int32Array(L);break;case"uint32":O=new Uint32Array(L);break;case"int64":K?(O=Xk(new Uint8Array(L),!1),$.dataType="int32"):O=new BigInt64Array(L);break;case"uint64":O=new BigUint64Array(L);break;case"int8":O=new Int8Array(L);break;case"int4":case"uint4":case"uint8":O=new Uint8Array(L);break;default:throw Error(`Unsupported data type: ${$.dataType} in creating WebNN Constant from external data.`)}return R5("verbose",()=>`[WebNN] registerMLConstant {dataType: ${$.dataType}, shape: ${$.shape}}} ${K?"(Note: it was int64 data type and registered to int32 as workaround)":""}`),Y.constant($,O)}registerGraphInput(J){this.temporaryGraphInputs.push(J)}isGraphInput(J,Z){let Q=this.sessionGraphInputs.get(J);return Q?Q.includes(Z):!1}isInt64Supported(J){return!!this.mlContextBySessionId.get(J)?.opSupportLimits().input.dataTypes.includes("int64")}flush(){}}}),Ck=f0(()=>{}),Q91=f0(()=>{PX(),Ck(),_E=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),C_=[],b_=(J)=>Math.ceil(Number(J)/16)*16,pu=(J)=>{for(let Z=0;Z<C_.length;Z++){let Q=C_[Z];if(J<=Q)return Q}return Math.ceil(J/16)*16},lu=1,VE=()=>lu++,Yk=async(J,Z,Q,Y)=>{let $=b_(Q),H=J.device.createBuffer({size:$,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let K=J.getCommandEncoder();J.endComputePass(),K.copyBufferToBuffer(Z,0,H,0,$),J.flush(),await H.mapAsync(GPUMapMode.READ);let B=H.getMappedRange();if(Y){let q=Y();return q.set(new Uint8Array(B,0,Q)),q}else return new Uint8Array(B.slice(0,Q))}finally{H.destroy()}},iu=class{constructor(J){this.backend=J,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersPending=[],this.capturedPendingBuffers=new Map;for(let[Z]of _E)C_.push(Z),this.freeBuffers.set(Z,[]),this.freeUniformBuffers.set(Z,[]);this.sessionCount=0}upload(J,Z){let{buffer:Q,byteOffset:Y,byteLength:$}=Z,H=b_($),K=this.storageCache.get(J);if(!K)throw Error("gpu data for uploading does not exist");if(Number(K.originalSize)!==$)throw Error(`inconsistent data size. gpu data size=${K.originalSize}, data size=${$}`);let B=this.backend.device.createBuffer({mappedAtCreation:!0,size:H,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),q=B.getMappedRange();new Uint8Array(q).set(new Uint8Array(Q,Y,$)),B.unmap();let L=this.backend.device.createCommandEncoder();L.copyBufferToBuffer(B,0,K.gpuData.buffer,0,H),this.backend.device.queue.submit([L.finish()]),B.destroy(),R5("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${J})`)}memcpy(J,Z){let Q=this.storageCache.get(J);if(!Q)throw Error("source gpu data for memcpy does not exist");let Y=this.storageCache.get(Z);if(!Y)throw Error("destination gpu data for memcpy does not exist");if(Q.originalSize!==Y.originalSize)throw Error("inconsistent source and destination gpu data size");let $=b_(Q.originalSize),H=this.backend.getCommandEncoder();this.backend.endComputePass(),H.copyBufferToBuffer(Q.gpuData.buffer,0,Y.gpuData.buffer,0,$)}registerExternalBuffer(J,Z,Q){let Y;if(Q){if(Y=Q[0],J===Q[1])return R5("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${Z}) => id=${Y}, buffer is the same, skip.`),Y;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw Error(`Registering a different external buffer under graph capture mode is not supported yet.
             Please use the previous external buffer!`)}else Y=VE();return this.storageCache.set(Y,{gpuData:{id:Y,type:0,buffer:J},originalSize:Z}),R5("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${Z}) => id=${Y}, registered.`),Y}unregisterExternalBuffer(J){J!==void 0&&(this.storageCache.delete(J),R5("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${J}`))}create(J,Z=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){let Q=pu(J),Y,$=(Z&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,H=(Z&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if($||H){let B=($?this.freeBuffers:this.freeUniformBuffers).get(Q);B?B.length>0?Y=B.pop():Y=this.backend.device.createBuffer({size:Q,usage:Z}):Y=this.backend.device.createBuffer({size:Q,usage:Z})}else Y=this.backend.device.createBuffer({size:Q,usage:Z});let K={id:VE(),type:0,buffer:Y};return this.storageCache.set(K.id,{gpuData:K,originalSize:Number(J)}),R5("verbose",()=>`[WebGPU] GpuDataManager.create(size=${J}) => id=${K.id}`),K}get(J){return this.storageCache.get(J)?.gpuData}release(J){let Z=typeof J=="bigint"?Number(J):J,Q=this.storageCache.get(Z);if(!Q){if(this.storageCache.size===0)return 0;throw Error("releasing data does not exist")}return R5("verbose",()=>`[WebGPU] GpuDataManager.release(id=${Z}), gpuDataId=${Q.gpuData.id}`),this.storageCache.delete(Z),this.buffersPending.push(Q.gpuData.buffer),Q.originalSize}async download(J,Z){let Q=this.storageCache.get(Number(J));if(!Q)throw Error("data does not exist");await Yk(this.backend,Q.gpuData.buffer,Q.originalSize,Z)}refreshPendingBuffers(){if(this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(let J of this.buffersPending){let Z=_E.get(J.size);if((J.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){let Q=this.freeBuffers.get(J.size)||[];Z===void 0||Q.length>=Z?J.destroy():Q.push(J)}else if((J.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){let Q=this.freeUniformBuffers.get(J.size)||[];Z===void 0||Q.length>=Z?J.destroy():Q.push(J)}else J.destroy()}this.buffersPending=[]}else{let J=this.capturedPendingBuffers.get(this.backend.currentSessionId);J||(J=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,J));for(let Z of this.buffersPending)J.push(Z);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach((J)=>{J.forEach((Z)=>{Z.destroy()})}),this.freeUniformBuffers.forEach((J)=>{J.forEach((Z)=>{Z.destroy()})}),this.storageCache.forEach((J)=>{J.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach((J)=>{J.forEach((Z)=>{Z.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onCreateSession(){this.sessionCount+=1}onReleaseSession(J){let Z=this.capturedPendingBuffers.get(J);Z&&(Z.forEach((Q)=>{Q.destroy()}),this.capturedPendingBuffers.delete(J)),this.sessionCount-=1,this.sessionCount===0&&(R5("warning",()=>"[WebGPU] Clearing webgpu buffer cache"),this.storageCache.forEach((Q)=>{Q.gpuData.buffer.destroy()}),this.storageCache=new Map)}},fp=(...J)=>new iu(...J)}),k7=f0(()=>{nu=class{constructor(J){Object.assign(this,J)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map((J)=>`${this[J]}`).join(";")),this.key}},i5=(J)=>new nu(J)}),r2=f0(()=>{g2(),n2(),zL=64,v_=(J,Z)=>{if(Z===3)throw Error("vec3 has same alignment as vec4, use vec4 instead");switch(Number(J)){case 10:return Z>1?`vec${Z}<f16>`:"f16";case 1:return Z>1?`vec${Z}<f32>`:"f32";case 6:return Z>1?`vec${Z}<i32>`:"i32";case 12:return Z>1?`vec${Z}<u32>`:"u32";case 7:if(Z>1)throw Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(Z>1)throw Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(Z!==4)throw Error("bool must be vec4");return["u32","vec4<bool>"];case 22:return"i32";case 21:return"u32";default:throw Error(`Unknown data type: ${J}`)}},w6=(J,Z=1)=>{let Q=v_(J,Z);return typeof Q=="string"?Q:Q[0]},R9=(J,Z=1)=>{let Q=v_(J,Z);return typeof Q=="string"?Q:Q[1]},N2=(...J)=>{let Z=[];return J.forEach((Q)=>{Q.length!==0&&Z.push({type:12,data:Q},{type:12,data:t1.computeStrides(Q)})}),Z},U7=(J)=>J%4===0?4:J%2===0?2:1,Gk=(J="f32",Z,Q="0")=>!Z||Z===1?`${J}(${Q})`:`vec${Z}<${J}>(${Q})`,LL=(J,Z,Q)=>J==="f32"?Q:Z===1?`f32(${Q})`:`vec${Z}<f32>(${Q})`,mG=(J,Z)=>Z===4?`(${J}.x + ${J}.y + ${J}.z + ${J}.w)`:Z===2?`(${J}.x + ${J}.y)`:Z===3?`(${J}.x + ${J}.y + ${J}.z)`:J,O2=(J,Z,Q,Y)=>J.startsWith("uniforms.")&&Q>4?typeof Z=="string"?Y==="f16"?`${J}[(${Z}) / 8][(${Z}) % 8 / 4][(${Z}) % 8 % 4]`:`${J}[(${Z}) / 4][(${Z}) % 4]`:Y==="f16"?`${J}[${Math.floor(Z/8)}][${Math.floor(Z%8/4)}][${Z%8%4}]`:`${J}[${Math.floor(Z/4)}][${Z%4}]`:Q>1?`${J}[${Z}]`:J,hN=(J,Z,Q,Y,$)=>{let H=typeof Q=="number",K=H?Q:Q.length,B=[...Array(K).keys()],q=K<2?"u32":K<=4?`vec${K}<u32>`:`array<u32, ${K}>`,L=v_(Z,$),O=typeof L=="string"?L:L[1],z=typeof L=="string"?L:L[0],F={indices:q,value:O,storage:z,tensor:Z},V=(g)=>typeof g=="string"?g:`${g}u`,A={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},M=H?"uniforms.":"",j=`${M}${J}_shape`,D=`${M}${J}_strides`,w="";for(let g=0;g<K-1;g++)w+=`
    let dim${g} = current / ${O2(D,g,K)};
    let rest${g} = current % ${O2(D,g,K)};
    indices[${g}] = dim${g};
    current = rest${g};
    `;w+=`indices[${K-1}] = current;`;let C=K<2?"":`
  fn o2i_${J}(offset: u32) -> ${F.indices} {
    var indices: ${F.indices};
    var current = offset;
    ${w}
    return indices;
  }`,I=(g)=>(A.offsetToIndices=!0,K<2?g:`o2i_${J}(${g})`),b=[];if(K>=2)for(let g=K-1;g>=0;g--)b.push(`${O2(D,g,K)} * (indices[${g}])`);let E=K<2?"":`
  fn i2o_${J}(indices: ${F.indices}) -> u32 {
    return ${b.join("+")};
  }`,k=(g)=>(A.indicesToOffset=!0,K<2?g:`i2o_${J}(${g})`),T=(...g)=>K===0?"0u":`${F.indices}(${g.map(V).join(",")})`,S=(g,n)=>K<2?`${g}`:`${O2(g,n,K)}`,d=(g,n,Z1)=>K<2?`${g}=${Z1};`:`${O2(g,n,K)}=${Z1};`,o={},v=(g,n)=>{A.broadcastedIndicesToOffset=!0;let Z1=`${n.name}broadcastedIndicesTo${J}Offset`;if(Z1 in o)return`${Z1}(${g})`;let J1=[];for(let z1=K-1;z1>=0;z1--){let V1=n.indicesGet("outputIndices",z1+n.rank-K);J1.push(`${S(D,z1)} * (${V1} % ${S(j,z1)})`)}return o[Z1]=`fn ${Z1}(outputIndices: ${n.type.indices}) -> u32 {
             return ${J1.length>0?J1.join("+"):"0u"};
           }`,`${Z1}(${g})`},y=(g,n)=>(()=>{if(F.storage===F.value)return`${J}[${g}]=${n};`;if(F.storage==="vec2<u32>"&&F.value==="i32")return`${J}[${g}]=vec2<u32>(u32(${n}), select(0u, 0xFFFFFFFFu, ${n} < 0));`;if(F.storage==="vec2<u32>"&&F.value==="u32")return`${J}[${g}]=vec2<u32>(u32(${n}), 0u);`;if(F.storage==="u32"&&F.value==="vec4<bool>")return`${J}[${g}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${n}));`;throw Error(`not supported combination of storage type ${F.storage} and value type ${F.value} yet`)})(),i=(g)=>(()=>{if(F.storage===F.value)return`${J}[${g}]`;if(F.storage==="vec2<u32>"&&F.value==="i32")return`i32(${J}[${g}].x)`;if(F.storage==="vec2<u32>"&&F.value==="u32")return`u32(${J}[${g}].x)`;if(F.storage==="u32"&&F.value==="vec4<bool>")return`vec4<bool>(bool(${J}[${g}] & 0xFFu), bool(${J}[${g}] & 0xFF00u), bool(${J}[${g}] & 0xFF0000u), bool(${J}[${g}] & 0xFF000000u))`;throw Error(`not supported combination of storage type ${F.storage} and value type ${F.value} yet`)})(),p=K<2?"":`
  fn get_${J}ByIndices(indices: ${F.indices}) -> ${O} {
    return ${i(`i2o_${J}(indices)`)};
  }`,l=K<2?"":(()=>{let g=B.map((Z1)=>`d${Z1}: u32`).join(", "),n=B.map((Z1)=>`d${Z1}`).join(", ");return`
  fn get_${J}(${g}) -> ${O} {
    return get_${J}ByIndices(${T(n)});
  }`})(),t=(...g)=>{if(g.length!==K)throw Error(`indices length must be ${K}`);let n=g.map(V).join(",");return K===0?i("0u"):K===1?i(n[0]):(A.get=!0,A.getByIndices=!0,A.indicesToOffset=!0,`get_${J}(${n})`)},Q1=(g)=>K<2?i(g):(A.getByIndices=!0,A.indicesToOffset=!0,`get_${J}ByIndices(${g})`),m=K<2?"":`
  fn set_${J}ByIndices(indices: ${F.indices}, value: ${O}) {
    ${y(`i2o_${J}(indices)`,"value")}
  }`,K1=K<2?"":(()=>{let g=B.map((Z1)=>`d${Z1}: u32`).join(", "),n=B.map((Z1)=>`d${Z1}`).join(", ");return`
  fn set_${J}(${g}, value: ${O}) {
    set_${J}ByIndices(${T(n)}, value);
  }`})();return{impl:()=>{let g=[],n=!1;return A.offsetToIndices&&(g.push(C),n=!0),A.indicesToOffset&&(g.push(E),n=!0),A.broadcastedIndicesToOffset&&(Object.values(o).forEach((Z1)=>g.push(Z1)),n=!0),A.set&&(g.push(K1),n=!0),A.setByIndices&&(g.push(m),n=!0),A.get&&(g.push(l),n=!0),A.getByIndices&&(g.push(p),n=!0),!H&&n&&g.unshift(`const ${j} = ${F.indices}(${Q.join(",")});`,`const ${D} = ${F.indices}(${t1.computeStrides(Q).join(",")});`),g.join(`
`)},type:F,offsetToIndices:I,indicesToOffset:k,broadcastedIndicesToOffset:v,indices:T,indicesGet:S,indicesSet:d,set:(...g)=>{if(g.length!==K+1)throw Error(`indices length must be ${K}`);let n=g[K];if(typeof n!="string")throw Error("value must be string");let Z1=g.slice(0,K).map(V).join(",");return K===0?y("0u",n):K===1?y(Z1[0],n):(A.set=!0,A.setByIndices=!0,A.indicesToOffset=!0,`set_${J}(${Z1}, ${n})`)},setByOffset:y,setByIndices:(g,n)=>K<2?y(g,n):(A.setByIndices=!0,A.indicesToOffset=!0,`set_${J}ByIndices(${g}, ${n});`),get:t,getByOffset:i,getByIndices:Q1,usage:Y,name:J,strides:D,shape:j,rank:K}},q0=(J,Z,Q,Y=1)=>hN(J,Z,Q,"input",Y),H2=(J,Z,Q,Y=1)=>hN(J,Z,Q,"output",Y),Sp=(J,Z,Q)=>hN(J,Z,Q,"atomicOutput",1),bk=(J,Z,Q,Y=1)=>hN(J,Z,Q,"internal",Y),au=class{constructor(J,Z){this.normalizedDispatchGroup=J,this.limits=Z,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(J){return`if (global_idx >= ${typeof J=="number"?`${J}u`:J}) { return; }`}mainStart(J=zL){let Z=typeof J=="number"?J:J[0],Q=typeof J=="number"?1:J[1],Y=typeof J=="number"?1:J[2];if(Z>this.limits.maxComputeWorkgroupSizeX||Q>this.limits.maxComputeWorkgroupSizeY||Y>this.limits.maxComputeWorkgroupSizeZ)throw Error(`workgroup size [${Z}, ${Q}, ${Y}] exceeds the maximum workgroup size [${this.limits.maxComputeWorkgroupSizeX}, ${this.limits.maxComputeWorkgroupSizeY}, ${this.limits.maxComputeWorkgroupSizeZ}].`);if(Z*Q*Y>this.limits.maxComputeInvocationsPerWorkgroup)throw Error(`workgroup size [${Z}, ${Q}, ${Y}] exceeds the maximum workgroup invocations ${this.limits.maxComputeInvocationsPerWorkgroup}.`);let $=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,H=$?`@builtin(global_invocation_id) global_id : vec3<u32>,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(global_invocation_id) global_id : vec3<u32>,
                                             @builtin(local_invocation_id) local_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(num_workgroups) num_workgroups : vec3<u32>`,K=$?`let global_idx = global_id.x;
         let workgroup_index = workgroup_id.x;`:`let workgroup_index = workgroup_id.z * num_workgroups[0] * num_workgroups[1] +
             workgroup_id.y * num_workgroups[0] + workgroup_id.x;
         let global_idx = workgroup_index * ${Z*Q*Y}u + local_idx;`;return`@compute @workgroup_size(${Z}, ${Q}, ${Y})
  fn main(${H}) {
    ${K}
  `}appendVariableUniforms(J){J.rank!==0&&(J.shape.startsWith("uniforms.")&&this.uniforms.push({name:J.shape.replace("uniforms.",""),type:"u32",length:J.rank}),J.strides.startsWith("uniforms.")&&this.uniforms.push({name:J.strides.replace("uniforms.",""),type:"u32",length:J.rank}))}declareVariable(J,Z){if(J.usage==="internal")throw Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(J),this.appendVariableUniforms(J);let Q=J.usage==="input"?"read":"read_write",Y=J.usage==="atomicOutput"?"atomic<i32>":J.type.storage;return`@group(0) @binding(${Z}) var<storage, ${Q}> ${J.name}: array<${Y}>;`}declareVariables(...J){return J.map((Z)=>this.declareVariable(Z,this.variableIndex++)).join(`
`)}registerInternalVariable(J){if(J.usage!=="internal")throw Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(J),this.appendVariableUniforms(J)}registerInternalVariables(...J){return J.forEach((Z)=>this.registerInternalVariable(Z)),this}registerUniform(J,Z,Q=1){return this.uniforms.push({name:J,type:Z,length:Q}),this}registerUniforms(J){return this.uniforms=this.uniforms.concat(J),this}uniformDeclaration(){if(this.uniforms.length===0)return"";let J=[];for(let{name:Z,type:Q,length:Y}of this.uniforms)if(Y&&Y>4)Q==="f16"?J.push(`@align(16) ${Z}:array<mat2x4<${Q}>, ${Math.ceil(Y/8)}>`):J.push(`${Z}:array<vec4<${Q}>, ${Math.ceil(Y/4)}>`);else{let $=Y==null||Y===1?Q:`vec${Y}<${Q}>`;J.push(`${Z}:${$}`)}return`
      struct Uniforms { ${J.join(", ")} };
      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map((J)=>J.impl()).join(`
`)+this.internalVariables.map((J)=>J.impl()).join(`
`)}get variablesInfo(){if(this.uniforms.length===0)return;let J=(Z)=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(Z)];return this.uniforms.map((Z)=>[J(Z.type),Z.length??1])}},Tp=(J,Z)=>new au(J,Z)}),cG=f0(()=>{g2(),n2(),k7(),r2(),su=(J,Z)=>{if(!J||J.length!==1)throw Error("Transpose requires 1 input.");if(Z.length!==0&&Z.length!==J[0].dims.length)throw Error(`perm size ${Z.length} does not match input rank ${J[0].dims.length}`)},IE=(J,Z)=>Z.length!==0?Z:[...Array(J).keys()].reverse(),ou=(J,Z)=>t1.sortBasedOnPerm(J,IE(J.length,Z)),ru=(J,Z,Q,Y)=>{let $=`fn perm(i: ${Y.type.indices}) -> ${Q.type.indices} {
    var a: ${Q.type.indices};`;for(let H=0;H<Z;++H)$+=`a[${J[H]}]=i[${H}];`;return $+="return a;}"},tu=(J,Z)=>{let Q=[],Y=[];for(let $=0;$<J.length;++$)J[$]!==1&&Q.push(J[$]),J[Z[$]]!==1&&Y.push(Z[$]);return{newShape:Q,newPerm:Y}},eu=(J,Z)=>{let Q=0;for(let Y=0;Y<J.length;++Y)if(Z[J[Y]]!==1){if(J[Y]<Q)return!1;Q=J[Y]}return!0},I3=(J,Z)=>{let Q=J.dataType,Y=J.dims.length,$=IE(Y,Z),H=ou(J.dims,$),K=J.dims,B=H,q=Y<2||eu($,J.dims),L;if(q)return L=(A)=>{let M=q0("input",Q,K,4),j=H2("output",Q,B,4);return`
  ${A.registerUniform("output_size","u32").declareVariables(M,j)}
  ${A.mainStart()}
    ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    output[global_idx] = input[global_idx];
  }`},{name:"TransposeCopy",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let A=t1.size(H);return{outputs:[{dims:H,dataType:J.dataType}],dispatchGroup:{x:Math.ceil(A/64/4)},programUniforms:[{type:12,data:Math.ceil(A/4)}]}},getShaderSource:L};let{newShape:O,newPerm:z}=tu(J.dims,$),F=t1.areEqual(z,[2,3,1]),V=t1.areEqual(z,[3,1,2]);if(O.length===2||F||V){K=F?[O[0],O[1]*O[2]]:V?[O[0]*O[1],O[2]]:O,B=[K[1],K[0]];let A=16;return L=(M)=>{let j=q0("a",Q,K.length),D=H2("output",Q,B.length);return`
  ${M.registerUniform("output_size","u32").declareVariables(j,D)}
  var<workgroup> tile : array<array<${D.type.value}, ${A+1}>, ${A}>;
  ${M.mainStart([A,A,1])}
    let stride = (uniforms.output_shape[1] - 1) / ${A} + 1;
    let workgroup_id_x = workgroup_index % stride;
    let workgroup_id_y = workgroup_index / stride;
    let input_col = workgroup_id_y * ${A}u + local_id.x;
    let input_row = workgroup_id_x * ${A}u + local_id.y;
    if (input_row < uniforms.a_shape[0] && input_col < uniforms.a_shape[1]) {
      tile[local_id.y][local_id.x] = ${j.getByIndices(`${j.type.indices}(input_row, input_col)`)};
    }
    workgroupBarrier();

    let output_col = workgroup_id_x * ${A}u + local_id.x;
    let output_row = workgroup_id_y * ${A}u + local_id.y;
    if (output_row < uniforms.output_shape[0] && output_col < uniforms.output_shape[1]) {
      ${D.setByIndices(`${D.type.indices}(output_row, output_col)`,"tile[local_id.x][local_id.y]")}
    }
  }`},{name:"TransposeShared",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let M=t1.size(H);return{outputs:[{dims:H,dataType:J.dataType}],dispatchGroup:{x:Math.ceil(B[1]/A),y:Math.ceil(B[0]/A)},programUniforms:[{type:12,data:M},...N2(K,B)]}},getShaderSource:L}}return L=(A)=>{let M=q0("a",Q,K.length),j=H2("output",Q,B.length);return`
  ${A.registerUniform("output_size","u32").declareVariables(M,j)}

  ${ru($,Y,M,j)}

  ${A.mainStart()}
    ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${j.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${j.setByOffset("global_idx",M.getByIndices("aIndices"))}
  }`},{name:"Transpose",shaderCache:{hint:`${Z}`,inputDependencies:["rank"]},getRunData:()=>{let A=t1.size(H);return{outputs:[{dims:H,dataType:J.dataType}],dispatchGroup:{x:Math.ceil(A/64)},programUniforms:[{type:12,data:A},...N2(K,B)]}},getShaderSource:L}},Pp=(J,Z)=>{su(J.inputs,Z.perm),J.compute(I3(J.inputs[0],Z.perm))},gp=(J)=>i5({perm:J.perm})}),X91=f0(()=>{g2(),n2(),r2(),vk(),cG(),Jd={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},Zd={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},Qd={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},Xd={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},Yd=(J,Z)=>{let Q=[];for(let Y=Z-J;Y<Z;++Y)Q.push(Y);return Q},Gd=(J,Z)=>{let Q=[],Y=J.length;for(let H=0;H<Y;H++)Z.indexOf(H)===-1&&Q.push(J[H]);let $=Z.map((H)=>J[H]);return[Q,$]},$d=(J,Z)=>{let Q=J.length+Z.length,Y=[],$=0;for(let H=0;H<Q;H++)Z.indexOf(H)===-1?Y.push(J[$++]):Y.push(1);return Y},Hd=(J,Z)=>{for(let Q=0;Q<J.length;++Q)if(J[J.length-Q-1]!==Z-1-Q)return!1;return!0},Wd=(J,Z)=>{let Q=[];if(!Hd(J,Z)){for(let Y=0;Y<Z;++Y)J.indexOf(Y)===-1&&Q.push(Y);J.forEach((Y)=>Q.push(Y))}return Q},Kd=(J,Z,Q,Y,$,H,K)=>{let B=Q[0].dims,q=t1.size(H),L=t1.size(K),O=q0("_A",Q[0].dataType,B),z=H2("output",$,H),F=64;q===1&&(F=256);let V=`
          var<workgroup> aBestValues : array<f32, ${F}>;
       `,A=(M)=>`
        ${M.registerUniform("reduceSize","u32").declareVariables(O,z)}
        ${V}
        fn DIV_CEIL(a : u32, b : u32) -> u32 {
          return ((a - 1u) / b + 1u);
         }
         ${M.mainStart(F)}

          let outputIndex = global_idx / ${F};
          let offset = outputIndex * uniforms.reduceSize;

          var bestValue = f32(${Qd[Y]});
          let Length = uniforms.reduceSize;
          for (var k = local_idx; k < Length; k = k + ${F}) {
           let candidate = f32(${O.getByOffset("offset + k")});
           bestValue = ${Jd[Y]};
          }
          aBestValues[local_idx] = bestValue;
          workgroupBarrier();

         var reduceSize = min(Length, ${F}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (local_idx < currentSize) {
            let candidate = aBestValues[local_idx + interval];
            bestValue = ${Zd[Y]};
            aBestValues[local_idx] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (local_idx == 0u) {
          ${z.setByOffset("outputIndex",`${Y==="mean"?`${z.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${z.type.storage}(${Xd[Y]})`}`)};
         }
        }`;return{name:J,shaderCache:{hint:`${Z};${F}`,inputDependencies:["type"]},getShaderSource:A,getRunData:()=>({outputs:[{dims:H,dataType:$}],dispatchGroup:{x:q},programUniforms:[{type:12,data:L}]})}},UZ=(J,Z,Q,Y)=>{let $=J.inputs.length===1?Q:$k(J.inputs,Q),H=$.axes;H.length===0&&!$.noopWithEmptyAxes&&(H=J.inputs[0].dims.map((V,A)=>A));let K=t1.normalizeAxes(H,J.inputs[0].dims.length),B=K,q=J.inputs[0],L=Wd(B,J.inputs[0].dims.length);L.length>0&&(q=J.compute(I3(J.inputs[0],L),{inputs:[0],outputs:[-1]})[0],B=Yd(B.length,q.dims.length));let[O,z]=Gd(q.dims,B),F=O;$.keepDims&&(F=$d(O,K)),J.compute(Kd(Z,$.cacheKey,[q],Y,J.inputs[0].dataType,F,z),{inputs:[q]})},yp=(J,Z)=>{UZ(J,"ReduceMeanShared",Z,"mean")},hp=(J,Z)=>{UZ(J,"ReduceL1Shared",Z,"l1")},up=(J,Z)=>{UZ(J,"ReduceL2Shared",Z,"l2")},dp=(J,Z)=>{UZ(J,"ReduceLogSumExpShared",Z,"logSumExp")},mp=(J,Z)=>{UZ(J,"ReduceMaxShared",Z,"max")},cp=(J,Z)=>{UZ(J,"ReduceMinShared",Z,"min")},pp=(J,Z)=>{UZ(J,"ReduceProdShared",Z,"prod")},lp=(J,Z)=>{UZ(J,"ReduceSumShared",Z,"sum")},ip=(J,Z)=>{UZ(J,"ReduceSumSquareShared",Z,"sumSquare")},np=(J,Z)=>{UZ(J,"ReduceLogSumShared",Z,"logSum")}}),vk=f0(()=>{g2(),n2(),k7(),r2(),X91(),LZ=(J)=>{if(!J||J.length===0||J.length>2)throw Error("Reduce op requires 1 or 2 inputs.");if(J.length===2&&J[1].dims.length!==1)throw Error("Invalid axes input dims.")},Bd=(J)=>["","",`var value = ${J.getByIndices("input_indices")};`,""],p_=(J,Z,Q,Y,$,H,K=!1,B=!1)=>{let q=[],L=Q[0].dims,O=L.length,z=t1.normalizeAxes($,O),F=!B&&z.length===0;L.forEach((M,j)=>{F||z.indexOf(j)>=0?K&&q.push(1):q.push(M)});let V=q.length,A=t1.size(q);return{name:J,shaderCache:Z,getShaderSource:(M)=>{let j=[],D=q0("_A",Q[0].dataType,O),w=H2("output",H,V),C=Y(D,w,z),I=C[2];for(let b=0,E=0;b<O;b++)F||z.indexOf(b)>=0?(K&&E++,I=`for(var j${b}: u32 = 0; j${b} < ${L[b]}; j${b}++) {
                  ${C[2].includes("last_index")?`let last_index = j${b};`:""}
                  ${D.indicesSet("input_indices",b,`j${b}`)}
                  ${I}
                }`):(j.push(`${D.indicesSet("input_indices",b,w.indicesGet("output_indices",E))};`),E++);return`

        ${M.registerUniform("output_size","u32").declareVariables(D,w)}

        ${M.mainStart()}
          ${M.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var input_indices: ${D.type.indices};
          let output_indices = ${w.offsetToIndices("global_idx")};

          ${j.join(`
`)}
          ${C[0]}       // init ops for reduce max/min
          ${C[1]}
          ${I}
          ${C[3]}
          ${C.length===4?w.setByOffset("global_idx","value"):C.slice(4).join(`
`)}
        }`},getRunData:()=>({outputs:[{dims:q,dataType:H}],dispatchGroup:{x:Math.ceil(A/64)},programUniforms:[{type:12,data:A},...N2(L,q)]})}},$k=(J,Z)=>{let Q=[];return J[1].dims[0]>0&&J[1].getBigInt64Array().forEach((Y)=>Q.push(Number(Y))),i5({axes:Q,keepDims:Z.keepDims,noopWithEmptyAxes:Z.noopWithEmptyAxes})},OZ=(J,Z,Q,Y)=>{let $=J.inputs,H=$.length===1?Q:$k($,Q);J.compute(p_(Z,{hint:H.cacheKey,inputDependencies:["rank"]},[$[0]],H.noopWithEmptyAxes&&H.axes.length===0?Bd:Y,H.axes,$[0].dataType,H.keepDims,H.noopWithEmptyAxes),{inputs:[0]})},qd=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceLogSum",Z,(Q,Y)=>[`var value = ${Y.type.storage}(0);`,"",`value += ${Q.getByIndices("input_indices")};`,"value = log(value);"])},Ud=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceL1",Z,(Q,Y)=>[`var value = ${Y.type.storage}(0);`,"",`value += abs(${Q.getByIndices("input_indices")});`,""])},Ld=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceL2",Z,(Q,Y)=>[`var t = ${Y.type.value}(0); var value = ${Y.type.value}(0);`,"",`t = ${Q.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},Od=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceLogSumExp",Z,(Q,Y)=>[`var value = ${Y.type.storage}(0);`,"",`value += exp(${Q.getByIndices("input_indices")});`,"value = log(value);"])},zd=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceMax",Z,(Q,Y,$)=>{let H=[];for(let K=0;K<Q.rank;K++)($.indexOf(K)>=0||$.length===0)&&H.push(Q.indicesSet("input_indices",K,0));return[`${H.join(`
`)}`,`var value = ${Q.getByIndices("input_indices")};`,`value = max(value, ${Q.getByIndices("input_indices")});`,""]})},Nd=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceMean",Z,(Q,Y,$)=>{let H=1;for(let K=0;K<Q.rank;K++)($.indexOf(K)>=0||$.length===0)&&(H*=J.inputs[0].dims[K]);return["var sum = f32(0);","",`sum += f32(${Q.getByIndices("input_indices")});`,`let value = ${Y.type.value}(sum / ${H});`]})},Fd=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceMin",Z,(Q,Y,$)=>{let H=[];for(let K=0;K<Q.rank;K++)($.indexOf(K)>=0||$.length===0)&&H.push(`input_indices[${K}] = 0;`);return[`${H.join(`
`)}`,`var value = ${Q.getByIndices("input_indices")};`,`value = min(value, ${Q.getByIndices("input_indices")});`,""]})},Ad=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceProd",Z,(Q,Y)=>[`var value = ${Y.type.storage}(1);`,"",`value *= ${Q.getByIndices("input_indices")};`,""])},Md=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceSum",Z,(Q,Y)=>[`var value = ${Y.type.storage}(0);`,"",`value += ${Q.getByIndices("input_indices")};`,""])},_d=(J,Z)=>{LZ(J.inputs),OZ(J,"ReduceSumSquare",Z,(Q,Y)=>[`var t = ${Y.type.value}(0); var value = ${Y.type.value}(0);`,"",`t = ${Q.getByIndices("input_indices")}; value += t * t;`,""])},zZ=(J,Z,Q)=>{if(Z.length===0)return Q;let Y=1,$=1;for(let H=0;H<Z.length;H++)Z.indexOf(H)===-1?Y*=J[H]:$*=J[H];return $<32&&Y>1024},ap=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Nd(J,Z):yp(J,Z)},sp=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Ud(J,Z):hp(J,Z)},op=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Ld(J,Z):up(J,Z)},rp=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Od(J,Z):dp(J,Z)},tp=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?zd(J,Z):mp(J,Z)},ep=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Fd(J,Z):cp(J,Z)},Jl=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Ad(J,Z):pp(J,Z)},Zl=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?Md(J,Z):lp(J,Z)},Ql=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?_d(J,Z):ip(J,Z)},Xl=(J,Z)=>{zZ(J.inputs[0].dims,Z.axes,Z.noopWithEmptyAxes)?qd(J,Z):np(J,Z)}}),Y91=f0(()=>{g2(),k7(),vk(),jE=(J)=>{if(!J||J.length===0||J.length>2)throw Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(J[0].dataType!==1)throw Error("Invalid input type.")},Yl=(J,Z)=>{jE(J.inputs);let Q=(Y,$,H)=>{let K=[];for(let B=0;B<Y.rank;B++)(H.indexOf(B)>=0||H.length===0)&&K.push(`input_indices[${B}] = 0;`);return[`${K.join(`
`)}`,`var value = ${Y.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${Y.getByIndices("input_indices")} ${Z.selectLastIndex>0?"<=":"<"} value) {
         value = ${Y.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",$.setByOffset("global_idx","best_index")]};J.compute(p_("ArgMin",{hint:Z.cacheKey,inputDependencies:["rank"]},[J.inputs[0]],Q,[Z.axis],7,Z.keepDims),{inputs:[0]})},Gl=(J,Z)=>{jE(J.inputs);let Q=(Y,$,H)=>{let K=[];for(let B=0;B<Y.rank;B++)(H.indexOf(B)>=0||H.length===0)&&K.push(`input_indices[${B}] = 0;`);return[`${K.join(`
`)}`,`var value = ${Y.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${Y.getByIndices("input_indices")} ${Z.selectLastIndex>0?">=":">"} value) {
         value = ${Y.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",$.setByOffset("global_idx","best_index")]};J.compute(p_("argMax",{hint:Z.cacheKey,inputDependencies:["rank"]},[J.inputs[0]],Q,[Z.axis],7,Z.keepDims),{inputs:[0]})},Hk=(J)=>i5(J)}),fk=f0(()=>{g2(),n2(),Ck(),r2(),Vd=(J,Z)=>{let Q=J[0],Y=J[1],$=J[2],H=J[3],K=J[4],B=J[5];if(K&&B)throw Error("Attention cannot have both past and attention_bias");if(Q.dims.length!==3)throw Error('Input "input" must have 3 dimensions');let q=Q.dims[0],L=Q.dims[1],O=Q.dims[2];if($.dims.length!==1)throw Error('Input "bias" is expected to have 1 dimensions');if(Y.dims.length!==2)throw Error('Input "weights" is expected to have 2 dimensions');if(Y.dims[0]!==O)throw Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if($.dims[0]!==Y.dims[1])throw Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let z=$.dims[0]/3,F=z,V=F;if(Z.qkvHiddenSizes.length>0){if(Z.qkvHiddenSizes.length!==3)throw Error("qkv_hidden_sizes attribute should have 3 elements");for(let C of Z.qkvHiddenSizes)if(C%Z.numHeads!==0)throw Error("qkv_hidden_sizes should be divisible by num_heads");z=Z.qkvHiddenSizes[0],F=Z.qkvHiddenSizes[1],V=Z.qkvHiddenSizes[2]}let A=L;if(z!==F)throw Error("qkv_hidden_sizes first element should be same as the second");if($.dims[0]!==z+F+V)throw Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let M=0;if(K){if(F!==V)throw Error('Input "past" expect k_hidden_size == v_hidden_size');if(K.dims.length!==5)throw Error('Input "past" must have 5 dimensions');if(K.dims[0]!==2)throw Error('Input "past" first dimension must be 2');if(K.dims[1]!==q)throw Error('Input "past" second dimension must be batch_size');if(K.dims[2]!==Z.numHeads)throw Error('Input "past" third dimension must be num_heads');if(K.dims[4]!==F/Z.numHeads)throw Error('Input "past" fifth dimension must be k_hidden_size / num_heads');Z.pastPresentShareBuffer||(M=K.dims[3])}let j=A+M,D=-1,w=0;if(H)throw Error("Mask not supported");if(K)throw Error("past is not supported");if(B){if(B.dims.length!==4)throw Error('Input "attention_bias" must have 4 dimensions');if(B.dims[0]!==q||B.dims[1]!==Z.numHeads||B.dims[2]!==L||B.dims[3]!==j)throw Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:q,sequenceLength:L,pastSequenceLength:M,kvSequenceLength:A,totalSequenceLength:j,maxSequenceLength:D,inputHiddenSize:O,hiddenSize:z,vHiddenSize:V,headSize:Math.floor(z/Z.numHeads),vHeadSize:Math.floor(V/Z.numHeads),numHeads:Z.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:Z.maskFilterValue,maskType:w,scale:Z.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},f_=(J,Z,Q)=>Z&&J?`
      let total_sequence_length_input = u32(${Z.getByOffset("0")});
      let present_sequence_length = max(total_sequence_length_input, uniforms.past_sequence_length);
      let is_subsequent_prompt: bool = sequence_length > 1 && sequence_length != total_sequence_length_input;
      let is_first_prompt: bool = is_subsequent_prompt == false && sequence_length == total_sequence_length_input;
      total_sequence_length = u32(${J?.getByOffset("batchIdx")}) + 1;
      var past_sequence_length: u32 = 0;
      if (is_first_prompt == false) {
        past_sequence_length = total_sequence_length - sequence_length;
      }
       `:`
    ${Q?"let past_sequence_length = uniforms.past_sequence_length":""};
    let present_sequence_length = total_sequence_length;
    `,Id=(J,Z,Q,Y,$,H,K,B)=>{let q=U7(K?1:H),L=64,O=H/q;O<L&&(L=32);let z=Math.ceil(H/q/L),F=[{type:12,data:Z},{type:12,data:Q},{type:12,data:Y},{type:12,data:$},{type:12,data:O},{type:12,data:z}],V=w6(J.dataType,q),A=R9(1,q),M=["type"];K&&M.push("type"),B&&M.push("type");let j=(D)=>{let w=H2("x",J.dataType,J.dims,q),C=[w],I=K?q0("seq_lens",K.dataType,K.dims):void 0;I&&C.push(I);let b=B?q0("total_sequence_length_input",B.dataType,B.dims):void 0;b&&C.push(b);let E=R9(J.dataType),k=[{name:"batch_size",type:"u32"},{name:"num_heads",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"sequence_length",type:"u32"},{name:"total_sequence_length",type:"u32"},{name:"elements_per_thread",type:"u32"}];return`
  var<workgroup> thread_max: array<f32, ${L}>;
  var<workgroup> thread_sum: array<f32, ${L}>;
  ${D.registerUniforms(k).declareVariables(...C)}
  ${D.mainStart([L,1,1])}
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let sequence_length = uniforms.sequence_length;
    var total_sequence_length = uniforms.total_sequence_length;
    ${f_(I,b,!1)}
    let local_offset = local_idx * uniforms.elements_per_thread;
    let offset = (global_idx / ${L}) * uniforms.total_sequence_length + local_offset;
    let seq_causal_length = ${K?"u32(past_sequence_length + workgroup_id.y + 1)":"total_sequence_length"};
    var thread_max_vector = ${A}(-3.402823e+38f);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      thread_max_vector = max(${A}(x[offset + i]), thread_max_vector);
    }
    thread_max[local_idx] = ${(()=>{switch(q){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw Error(`Unsupported components: ${q}`)}})()};
    workgroupBarrier();

    var max_value =  f32(-3.402823e+38f);
    for (var i = 0u; i < ${L}; i++) {
      max_value = max(thread_max[i], max_value);
    }

    var sum_vector = ${A}(0);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      sum_vector += exp(${A}(x[offset + i]) - max_value);
    }
    thread_sum[local_idx] = ${(()=>{switch(q){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw Error(`Unsupported components: ${q}`)}})()};
    workgroupBarrier();

    var sum: f32 = 0;
    for (var i = 0u; i < ${L}; i++) {
      sum += thread_sum[i];
    }

    if (sum == 0) {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        x[offset + i] = ${w.type.value}(${E}(1.0) / ${E}(seq_causal_length));
      }
    } else {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        var f32input = ${A}(x[offset + i]);
        x[offset + i] = ${w.type.value}(exp(f32input - max_value) / sum);
      }
    }
      ${K?`
        for (var total_seq_id: u32 = seq_causal_length; total_seq_id + local_offset < uniforms.total_sequence_length; total_seq_id++) {
          x[offset + total_seq_id] = ${w.type.value}(${E}(0));
        }`:""};
  }`};return{name:"AttentionProbsSoftmax",shaderCache:{hint:`${L};${V};${q}`,inputDependencies:M},getShaderSource:j,getRunData:()=>({outputs:[],dispatchGroup:{x:1,y:$,z:Z*Q},programUniforms:F})}},jd=(J,Z,Q,Y,$,H,K,B,q)=>{let L=K+H.kvSequenceLength,O=[H.batchSize,H.numHeads,H.sequenceLength,L],z=J>1&&Y,F=H.kvNumHeads?H.kvNumHeads:H.numHeads,V=z?[H.batchSize,F,L,H.headSize]:void 0,A=H.nReps?H.nReps:1,M=H.scale===0?1/Math.sqrt(H.headSize):H.scale,j=U7(H.headSize),D=H.headSize/j,w=12,C={x:Math.ceil(L/w),y:Math.ceil(H.sequenceLength/w),z:H.batchSize*H.numHeads},I=[{type:12,data:H.sequenceLength},{type:12,data:D},{type:12,data:L},{type:12,data:H.numHeads},{type:12,data:H.headSize},{type:1,data:M},{type:12,data:K},{type:12,data:H.kvSequenceLength},{type:12,data:A}],b=z&&Y&&t1.size(Y.dims)>0,E=["type","type"];b&&E.push("type"),$&&E.push("type"),B&&E.push("type"),q&&E.push("type");let k=[{dims:O,dataType:Z.dataType,gpuDataType:0}];z&&k.push({dims:V,dataType:Z.dataType,gpuDataType:0});let T=(S)=>{let d=q0("q",Z.dataType,Z.dims,j),o=q0("key",Q.dataType,Q.dims,j),v=[d,o];if(b){let m=q0("past_key",Y.dataType,Y.dims,j);v.push(m)}$&&v.push(q0("attention_bias",$.dataType,$.dims));let y=B?q0("seq_lens",B.dataType,B.dims):void 0;y&&v.push(y);let i=q?q0("total_sequence_length_input",q.dataType,q.dims):void 0;i&&v.push(i);let p=H2("output",Z.dataType,O),l=[p];z&&l.push(H2("present_key",Z.dataType,V,j));let t=R9(1,j),Q1=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${w}u;

  var<workgroup> tileQ: array<${d.type.storage}, ${w*w}>;
  var<workgroup> tileK: array<${d.type.storage}, ${w*w}>;
  ${S.registerUniforms(Q1).declareVariables(...v,...l)}
  ${S.mainStart([w,w,1])}
    // x holds the N and y holds the M
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let kvHeadIdx = ${A===1?"headIdx":"headIdx / uniforms.n_reps"};
    let kv_num_heads = ${A===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let m = workgroup_id.y * TILE_SIZE;
    let n = workgroup_id.x * TILE_SIZE;
    let sequence_length = uniforms.M;
    var total_sequence_length = uniforms.N;
    ${f_(y,i,!0)}
    let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx;
    let qOffset = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
    ${b&&z?"let pastKeyOffset = absKvHeadIdx * uniforms.past_sequence_length * uniforms.K;":""};
    let kOffset = absKvHeadIdx * uniforms.kv_sequence_length * uniforms.K;
    ${z?"let presentKeyOffset = absKvHeadIdx * uniforms.N * uniforms.K;":""}
    var value = ${t}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
      ${b&&z?`
              if (n + local_id.y < past_sequence_length) {
                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
              } else if (n + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
                tileK[idx] = key[kOffset + (n + local_id.y - past_sequence_length) * uniforms.K + w + local_id.x];
              }`:`
          if (n + local_id.y < uniforms.kv_sequence_length) {
            tileK[idx] = key[kOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
          }`}
      ${z?`if (n + local_id.y < present_sequence_length) {
        present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];
      }`:""}
      }
      workgroupBarrier();

      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {
          value += ${t}(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);
      }

      workgroupBarrier();
    }

    if (global_id.y < uniforms.M && global_id.x < total_sequence_length) {
      let headOffset = workgroup_id.z * uniforms.M * uniforms.N;
      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;
      var sum: f32 = ${(()=>{switch(j){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw Error(`Unsupported components: ${j}`)}})()};
        output[outputIdx] = ${p.type.value} (sum * uniforms.alpha) + ${$?"attention_bias[outputIdx]":"0.0"};
    }
  }`};return{name:"AttentionProbs",shaderCache:{hint:`${j};${$!==void 0};${Y!==void 0};${J}`,inputDependencies:E},getRunData:()=>({outputs:k,dispatchGroup:C,programUniforms:I}),getShaderSource:T}},Dd=(J,Z,Q,Y,$,H,K=void 0,B=void 0)=>{let q=H+$.kvSequenceLength,L=$.nReps?$.nReps:1,O=$.vHiddenSize*L,z=J>1&&Y,F=$.kvNumHeads?$.kvNumHeads:$.numHeads,V=z?[$.batchSize,F,q,$.headSize]:void 0,A=[$.batchSize,$.sequenceLength,O],M=12,j={x:Math.ceil($.vHeadSize/M),y:Math.ceil($.sequenceLength/M),z:$.batchSize*$.numHeads},D=[{type:12,data:$.sequenceLength},{type:12,data:q},{type:12,data:$.vHeadSize},{type:12,data:$.numHeads},{type:12,data:$.headSize},{type:12,data:O},{type:12,data:H},{type:12,data:$.kvSequenceLength},{type:12,data:L}],w=z&&Y&&t1.size(Y.dims)>0,C=["type","type"];w&&C.push("type"),K&&C.push("type"),B&&C.push("type");let I=[{dims:A,dataType:Z.dataType,gpuDataType:0}];z&&I.push({dims:V,dataType:Z.dataType,gpuDataType:0});let b=(E)=>{let k=q0("probs",Z.dataType,Z.dims),T=q0("v",Q.dataType,Q.dims),S=[k,T];w&&S.push(q0("past_value",Y.dataType,Y.dims));let d=K?q0("seq_lens",K.dataType,K.dims):void 0;K&&S.push(d);let o=B?q0("total_sequence_length_input",B.dataType,B.dims):void 0;B&&S.push(o);let v=[H2("output",Z.dataType,A)];z&&v.push(H2("present_value",Z.dataType,V));let y=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${M}u;
  var<workgroup> tileQ: array<${k.type.value}, ${M*M}>;
  var<workgroup> tileV: array<${k.type.value}, ${M*M}>;
  ${E.registerUniforms(y).declareVariables(...S,...v)}
  ${E.mainStart([M,M,1])}
   let headIdx = workgroup_id.z % uniforms.num_heads;
   let batchIdx = workgroup_id.z / uniforms.num_heads;
   let kvHeadIdx = ${L===1?"headIdx":"headIdx / uniforms.n_reps"};
   let kv_num_heads = ${L===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
   let m = global_id.y;
   let n = global_id.x;
   let sequence_length = uniforms.M;
   var total_sequence_length = uniforms.K;
   ${f_(d,o,!0)}
   let offsetA = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
   let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx; // kvHeadIdx is relative to the batch
   ${w&&z?"let pastValueOffset = absKvHeadIdx * uniforms.N * uniforms.past_sequence_length + n;":""};
   let vOffset = absKvHeadIdx * uniforms.N * uniforms.kv_sequence_length + n;
   ${z?"let presentValueOffset = absKvHeadIdx * uniforms.N * uniforms.K + n;":""}
   var value = ${k.type.storage}(0);
   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
        ${w&&z?`
        if (w + local_id.y < past_sequence_length) {
          tileV[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];
        } else if (w + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
          tileV[idx] = v[vOffset + (w + local_id.y - past_sequence_length) * uniforms.N];
        }
      `:`
            if (w + local_id.y < uniforms.kv_sequence_length) {
              tileV[idx] = v[vOffset + (w + local_id.y) * uniforms.N];
            }`}
        ${z?`
            if (w + local_id.y < present_sequence_length) {
          present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileV[idx];
        }`:""}
      }
     workgroupBarrier();
     for (var k: u32 = 0u; k < TILE_SIZE && w+k < total_sequence_length; k++) {
       value += tileQ[TILE_SIZE * local_id.y + k] * tileV[TILE_SIZE * k + local_id.x];
     }
     workgroupBarrier();
   }

   // we need to transpose output from BNSH_v to BSND_v
   if (m < uniforms.M && n < uniforms.N) {
     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size
       + headIdx * uniforms.N + n;
     output[outputIdx] = value;
   }
  }`};return{name:"AttentionScore",shaderCache:{hint:`${Y!==void 0};${J}`,inputDependencies:C},getRunData:()=>({outputs:I,dispatchGroup:j,programUniforms:D}),getShaderSource:b}},tN=(J,Z,Q,Y,$,H,K,B,q,L,O=void 0,z=void 0)=>{let F=Math.min(J.outputCount,1+(K?1:0)+(B?1:0)),V=F>1?L.pastSequenceLength:0,A=V+L.kvSequenceLength,M=q&&t1.size(q.dims)>0?q:void 0,j=[Z,Q];F>1&&K&&t1.size(K.dims)>0&&j.push(K),M&&j.push(M),O&&j.push(O),z&&j.push(z);let D=J.compute(jd(F,Z,Q,K,M,L,V,O,z),{inputs:j,outputs:F>1?[-1,1]:[-1]})[0];J.compute(Id(D,L.batchSize,L.numHeads,V,L.sequenceLength,A,O,z),{inputs:O&&z?[D,O,z]:[D],outputs:[]});let w=[D,Y];F>1&&B&&t1.size(B.dims)>0&&w.push(B),O&&w.push(O),z&&w.push(z),J.compute(Dd(F,D,Y,B,L,V,O,z),{inputs:w,outputs:F>1?[0,2]:[0]})},wd=(J,Z)=>{let Q=[Z.batchSize,Z.numHeads,Z.sequenceLength,Z.headSize],Y=Z.sequenceLength,$=Z.inputHiddenSize,H=Z.headSize,K=12,B={x:Math.ceil(Z.headSize/K),y:Math.ceil(Z.sequenceLength/K),z:Z.batchSize*Z.numHeads},q=[J.inputs[0],J.inputs[1],J.inputs[2]],L=[{type:12,data:Y},{type:12,data:$},{type:12,data:H},{type:12,data:Z.numHeads},{type:12,data:Z.headSize},{type:12,data:Z.hiddenSize},{type:12,data:Z.hiddenSize+Z.hiddenSize+Z.vHiddenSize}],O=(z)=>{let F=H2("output_q",q[0].dataType,Q),V=H2("output_k",q[0].dataType,Q),A=H2("output_v",q[0].dataType,Q),M=q0("input",q[0].dataType,q[0].dims),j=q0("weight",q[1].dataType,q[1].dims),D=q0("bias",q[2].dataType,q[2].dims),w=M.type.storage,C=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`
  const TILE_SIZE = ${K}u;
  var<workgroup> tileInput: array<${w}, ${K*K}>;
  var<workgroup> tileWeightQ: array<${w}, ${K*K}>;
  var<workgroup> tileWeightK: array<${w}, ${K*K}>;
  var<workgroup> tileWeightV: array<${w}, ${K*K}>;
  ${z.registerUniforms(C).declareVariables(M,j,D,F,V,A)}
  ${z.mainStart([K,K,1])}
    let batchIndex = workgroup_id.z / uniforms.num_heads;
    let headNumber = workgroup_id.z % uniforms.num_heads;
    let m = global_id.y;
    let n = global_id.x;

    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;
    let biasOffsetQ = headNumber * uniforms.head_size;
    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;
    let biasOffsetV = uniforms.hidden_size + biasOffsetK;

    var valueQ = ${w}(0);
    var valueK = ${w}(0);
    var valueV = ${w}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        let offset = n + (w + local_id.y) * uniforms.ldb;
        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];
        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];
        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];
      }
      workgroupBarrier();
      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        let inputTileOffset = TILE_SIZE * local_id.y + k;
        let weightTileOffset = TILE_SIZE * k + local_id.x;
        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];
        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];
        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];
      }

      workgroupBarrier();
    }

    let headOffset = (m * uniforms.N + n) % uniforms.head_size;
    valueQ += bias[headOffset + biasOffsetQ];
    valueK += bias[headOffset + biasOffsetK];
    valueV += bias[headOffset + biasOffsetV];

    let offset = workgroup_id.z * uniforms.M * uniforms.N;
    if (m < uniforms.M && n < uniforms.N) {
      let outputIdx = offset + m * uniforms.N + n;
      output_q[outputIdx] = valueQ;
      output_k[outputIdx] = valueK;
      output_v[outputIdx] = valueV;
    }
  }`};return J.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:Q,dataType:J.inputs[0].dataType,gpuDataType:0},{dims:Q,dataType:J.inputs[0].dataType,gpuDataType:0},{dims:Q,dataType:J.inputs[0].dataType,gpuDataType:0}],dispatchGroup:B,programUniforms:L}),getShaderSource:O},{inputs:q,outputs:[-1,-1,-1]})},$l=(J,Z)=>{let Q=Vd(J.inputs,Z),[Y,$,H]=wd(J,Q);return tN(J,Y,$,H,J.inputs[4],void 0,void 0,void 0,J.inputs[5],Q)}}),G91=f0(()=>{_Z(),g2(),n2(),k7(),r2(),Ed=(J,Z)=>{if(!J||J.length!==5)throw Error("BatchNormalization requires 5 inputs");let Q=(Y,$,H)=>{let K=$.length;if(K!==Y.length)throw Error(`${H}: num dimensions != ${K}`);$.forEach((B,q)=>{if(B!==Y[q])throw Error(`${H}: dim[${q}] do not match`)})};if(J[0].dims.length>1){let Y=Z.format==="NHWC"?Z.spatial?J[0].dims.slice(-1):J[0].dims.slice(-1).concat(J[0].dims.slice(1,J[0].dims.length-1)):J[0].dims.slice(1,Z.spatial?2:void 0);Q(J[1].dims,Y,"Invalid input scale"),Q(J[2].dims,Y,"Invalid input B"),Q(J[3].dims,Y,"Invalid input mean"),Q(J[4].dims,Y,"Invalid input var")}else Q(J[1].dims,[1],"Invalid input scale"),Q(J[2].dims,[1],"Invalid input B"),Q(J[3].dims,[1],"Invalid input mean"),Q(J[4].dims,[1],"Invalid input var")},kd=(J,Z)=>{let{epsilon:Q,spatial:Y,format:$}=Z,H=J[0].dims,K=Y?U7(H[H.length-1]):1,B=$==="NHWC"&&H.length>1?K:1,q=t1.size(H)/K,L=Y,O=L?H.length:H,z=q0("x",J[0].dataType,J[0].dims,K),F=q0("scale",J[1].dataType,J[1].dims,B),V=q0("bias",J[2].dataType,J[2].dims,B),A=q0("inputMean",J[3].dataType,J[3].dims,B),M=q0("inputVar",J[4].dataType,J[4].dims,B),j=H2("y",J[0].dataType,O,K),D=()=>{let C="";if(Y)C=`let cOffset = ${H.length===1?"0u":$==="NHWC"?`outputIndices[${H.length-1}] / ${K}`:"outputIndices[1]"};`;else if($==="NCHW")C=`
            ${j.indicesSet("outputIndices","0","0")}
            let cOffset = ${j.indicesToOffset("outputIndices")};`;else{C=`var cIndices = ${F.type.indices}(0);
                       cIndices[0] = outputIndices[${H.length-1}];`;for(let I=1;I<F.rank;I++)C+=`cIndices[${I}] = outputIndices[${I}];`;C+=`let cOffset = ${F.indicesToOffset("cIndices")};`}return C},w=(C)=>`
  const epsilon = ${Q};
  ${C.registerUniform("outputSize","u32").declareVariables(z,F,V,A,M,j)}
  ${C.mainStart()}
  ${C.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
    var outputIndices = ${j.offsetToIndices(`global_idx * ${K}`)};
    ${D()}
    let scale = ${F.getByOffset("cOffset")};
    let bias = ${V.getByOffset("cOffset")};
    let inputMean = ${A.getByOffset("cOffset")};
    let inputVar = ${M.getByOffset("cOffset")};
    let x = ${z.getByOffset("global_idx")};
    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;
    ${j.setByOffset("global_idx","value")}
  }`;return{name:"BatchNormalization",shaderCache:{hint:`${Z.epsilon}_${Z.format}_${Y}_${K}`,inputDependencies:L?["rank","type","type","type","type"]:void 0},getShaderSource:w,getRunData:()=>({outputs:[{dims:J[0].dims,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(q/64)},programUniforms:L?[{type:12,data:q},...N2(H)]:[{type:12,data:q}]})}},xd=(J)=>i5(J),Hl=(J,Z)=>{let{inputs:Q,outputCount:Y}=J,$=xd({...Z,outputCount:Y});if(f4.webgpu.validateInputContent&&Ed(Q,$),Z.trainingMode)throw Error("BatchNormalization trainingMode is not supported yet.");J.compute(kd(Q,$))}}),$91=f0(()=>{n2(),r2(),Rd=(J)=>{if(J[0].dims.length!==3)throw Error("input should have 3 dimensions");if(![320,640,1280].includes(J[0].dims[2]))throw Error("number of channels should be 320, 640 or 1280");if(J[1].dims.length!==1)throw Error("bias is expected to have 1 dimensions");if(J[0].dims[2]!==J[1].dims[0])throw Error("last dimension of input and bias are not the same")},Cd=(J)=>{let Z=J[0].dims,Q=J[0].dims[2],Y=t1.size(Z)/4,$=J[0].dataType,H=q0("input",$,Z,4),K=q0("bias",$,[Q],4),B=q0("residual",$,Z,4),q=H2("output",$,Z,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:Z,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(Y/64)}}),getShaderSource:(L)=>`
  const channels = ${Q}u / 4;
  ${L.declareVariables(H,K,B,q)}

  ${L.mainStart()}
    ${L.guardAgainstOutOfBoundsWorkgroupSizes(Y)}
    let value = ${H.getByOffset("global_idx")}
      + ${K.getByOffset("global_idx % channels")} + ${B.getByOffset("global_idx")};
    ${q.setByOffset("global_idx","value")}
  }`}},Wl=(J)=>{Rd(J.inputs),J.compute(Cd(J.inputs))}}),Sk=f0(()=>{g2(),n2(),k7(),r2(),bd=(J,Z,Q,Y,$,H,K)=>{let B=Math.ceil(Z/4),q="";typeof $=="string"?q=`${$}(a)`:q=$("a");let L=q0("inputData",Q,[B],4),O=H2("outputData",Y,[B],4),z=[{name:"vec_size",type:"u32"}];return K&&z.push(...K),`
      ${J.registerUniforms(z).declareVariables(L,O)}

  ${H??""}

  ${J.mainStart()}
    ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}

    let a = ${L.getByOffset("global_idx")};
    ${O.setByOffset("global_idx",q)}
  }`},l5=(J,Z,Q,Y,$,H=J.dataType,K,B)=>{let q=[{type:12,data:Math.ceil(t1.size(J.dims)/4)}];return K&&q.push(...K),{name:Z,shaderCache:{hint:$,inputDependencies:["type"]},getShaderSource:(L)=>bd(L,t1.size(J.dims),J.dataType,H,Q,Y,B),getRunData:(L)=>({outputs:[{dims:J.dims,dataType:H}],dispatchGroup:{x:Math.ceil(t1.size(L[0].dims)/64/4)},programUniforms:q})}},Kl=(J)=>{J.compute(l5(J.inputs[0],"Abs","abs"))},Bl=(J)=>{J.compute(l5(J.inputs[0],"Acos","acos"))},ql=(J)=>{J.compute(l5(J.inputs[0],"Acosh","acosh"))},Ul=(J)=>{J.compute(l5(J.inputs[0],"Asin","asin"))},Ll=(J)=>{J.compute(l5(J.inputs[0],"Asinh","asinh"))},Ol=(J)=>{J.compute(l5(J.inputs[0],"Atan","atan"))},zl=(J)=>{J.compute(l5(J.inputs[0],"Atanh","atanh"))},Nl=(J)=>i5(J),Fl=(J,Z)=>{let Q;switch(Z.to){case 10:Q="vec4<f16>";break;case 1:Q="vec4<f32>";break;case 12:Q="vec4<u32>";break;case 6:Q="vec4<i32>";break;case 9:Q="vec4<bool>";break;default:throw RangeError(`not supported type (specified in attribute 'to' from 'Cast' operator): ${Z.to}`)}J.compute(l5(J.inputs[0],"Cast",Q,void 0,Z.cacheKey,Z.to))},vd=(J)=>{let Z,Q,Y=J.length>=2&&J[1].data!==0,$=J.length>=3&&J[2].data!==0;switch(J[0].dataType){case 1:Z=Y?J[1].getFloat32Array()[0]:-340282346638528860000000000000000000000,Q=$?J[2].getFloat32Array()[0]:340282346638528860000000000000000000000;break;case 10:Z=Y?J[1].getUint16Array()[0]:64511,Q=$?J[2].getUint16Array()[0]:31743;break;default:throw Error("Unsupport data type")}return i5({min:Z,max:Q})},Al=(J,Z)=>{let Q=Z||vd(J.inputs),Y=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"Clip",($)=>`clamp(${$}, vec4<${Y}>(uniforms.min), vec4<${Y}>(uniforms.max))`,void 0,Q.cacheKey,void 0,[{type:J.inputs[0].dataType,data:Q.min},{type:J.inputs[0].dataType,data:Q.max}],[{name:"min",type:Y},{name:"max",type:Y}]),{inputs:[0]})},Ml=(J)=>{J.compute(l5(J.inputs[0],"Ceil","ceil"))},_l=(J)=>{J.compute(l5(J.inputs[0],"Cos","cos"))},Vl=(J)=>{J.compute(l5(J.inputs[0],"Cosh","cosh"))},nN=(J)=>i5(J),Il=(J,Z)=>{let Q=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"Elu",(Y)=>`elu_vf32(${Y})`,`
  const elu_alpha_ = ${Q}(${Z.alpha});

  fn elu_f32(a: ${Q}) -> ${Q} {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<${Q}>) -> vec4<${Q}> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,Z.cacheKey))},u_=(J="f32")=>`
const r0: ${J} = 0.3275911;
const r1: ${J} = 0.254829592;
const r2: ${J} = -0.284496736;
const r3: ${J} = 1.421413741;
const r4: ${J} = -1.453152027;
const r5: ${J} = 1.061405429;

fn erf_vf32(v: vec4<${J}>) -> vec4<${J}> {
  let absv = abs(v);
  let x = 1.0 / (1.0 + r0 * absv);
  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
}`,jl=(J)=>{let Z=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"Erf",(Q)=>`erf_vf32(${Q})`,u_(Z)))},Dl=(J)=>{J.compute(l5(J.inputs[0],"Exp","exp"))},wl=(J)=>{J.compute(l5(J.inputs[0],"Floor","floor"))},El=(J)=>{let Z=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"Gelu",(Q)=>`0.5 * ${Q} * (1.0 + erf_vf32(${Q} * 0.7071067811865475))`,u_(Z)))},kl=(J,Z)=>{let Q=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"LeakyRelu",(Y)=>`select(leaky_relu_alpha_ * ${Y}, ${Y}, ${Y} >= vec4<${Q}>(0.0))`,`const leaky_relu_alpha_ = ${Q}(${Z.alpha});`,Z.cacheKey))},xl=(J)=>{J.compute(l5(J.inputs[0],"Not",(Z)=>`!${Z}`))},Rl=(J)=>{J.compute(l5(J.inputs[0],"Neg",(Z)=>`-${Z}`))},Cl=(J)=>{J.compute(l5(J.inputs[0],"Reciprocal",(Z)=>`1.0/${Z}`))},bl=(J)=>{let Z=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"Relu",(Q)=>`select(vec4<${Z}>(0.0), ${Q}, ${Q} > vec4<${Z}>(0.0))`))},vl=(J)=>{J.compute(l5(J.inputs[0],"Sigmoid",(Z)=>`(1.0 / (1.0 + exp(-${Z})))`))},fl=(J)=>i5(J),Sl=(J,Z)=>{let Q=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"HardSigmoid",(Y)=>`max(vec4<${Q}>(0.0), min(vec4<${Q}>(1.0), ${Z.alpha} * ${Y} + vec4<${Q}>(${Z.beta})))`,void 0,Z.cacheKey))},Tl=(J)=>{J.compute(l5(J.inputs[0],"Sin","sin"))},Pl=(J)=>{J.compute(l5(J.inputs[0],"Sinh","sinh"))},gl=(J)=>{J.compute(l5(J.inputs[0],"Sqrt","sqrt"))},yl=(J)=>{J.compute(l5(J.inputs[0],"Tan","tan"))},DE=(J)=>`sign(${J}) * (1 - exp(-2 * abs(${J}))) / (1 + exp(-2 * abs(${J})))`,hl=(J)=>{J.compute(l5(J.inputs[0],"Tanh",DE))},Wk=(J="f32")=>`
const fast_gelu_a: ${J} = 0.5;
const fast_gelu_b: ${J} = 0.7978845608028654;
const fast_gelu_c: ${J} = 0.035677408136300125;

fn tanh_v(v: vec4<${J}>) -> vec4<${J}> {
  return ${DE("v")};
}
`,Kk=(J)=>`(fast_gelu_a + fast_gelu_a * tanh_v(${J} * (fast_gelu_c * ${J} * ${J} + fast_gelu_b))) * ${J}`,ul=(J)=>{let Z=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"FastGelu",Kk,Wk(Z),void 0,J.inputs[0].dataType))},dl=(J,Z)=>{let Q=R9(J.inputs[0].dataType);return J.compute(l5(J.inputs[0],"ThresholdedRelu",(Y)=>`select(vec4<${Q}>(0.0), ${Y}, ${Y} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${Q}>(${Z.alpha});`,Z.cacheKey)),0},ml=(J)=>{J.compute(l5(J.inputs[0],"Log","log"))},fd=(J,Z)=>`
const alpha = vec4<${J}>(${Z});
const one = ${J}(1.0);
const zero = ${J}(0.0);

fn quick_gelu_impl(x: vec4<${J}>) -> vec4<${J}> {
  let v = x *alpha;
  var x1 : vec4<${J}>;
  for (var i = 0; i < 4; i = i + 1) {
    if (v[i] >= zero) {
      x1[i] = one / (one + exp(-v[i]));
    } else {
      x1[i] = one - one / (one + exp(v[i]));
    }
  }
  return x * x1;
}
`,Sd=(J)=>`quick_gelu_impl(${J})`,cl=(J,Z)=>{let Q=R9(J.inputs[0].dataType);J.compute(l5(J.inputs[0],"QuickGelu",Sd,fd(Q,Z.alpha),Z.cacheKey,J.inputs[0].dataType))}}),H91=f0(()=>{n2(),r2(),Sk(),Td=(J)=>{if(J[0].dims.length!==3)throw Error("input should have 3 dimensions");if(![2560,5120,10240].includes(J[0].dims[2]))throw Error("hidden state should be 2560, 5120 or 10240");if(J[1].dims.length!==1)throw Error("bias is expected to have 1 dimensions");if(J[0].dims[2]!==J[1].dims[0])throw Error("last dimension of input and bias are not the same")},Pd=(J)=>{let Z=J[0].dims.slice();Z[2]=Z[2]/2;let Q=q0("input",J[0].dataType,J[0].dims,4),Y=q0("bias",J[0].dataType,[J[0].dims[2]],4),$=H2("output",J[0].dataType,Z,4),H=t1.size(Z)/4,K=w6(J[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:Z,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(H/64)}}),getShaderSource:(B)=>`
  const M_SQRT2 = sqrt(2.0);
  const halfChannels = ${J[0].dims[2]/4/2}u;

  ${B.declareVariables(Q,Y,$)}

  ${u_(K)}

  ${B.mainStart()}
    ${B.guardAgainstOutOfBoundsWorkgroupSizes(H)}
    let biasIdx = global_idx % halfChannels;
    let batchIndex = global_idx / halfChannels;
    let inputOffset = biasIdx + batchIndex * halfChannels * 2;
    let valueLeft = input[inputOffset] + bias[biasIdx];
    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];
    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);

    ${$.setByOffset("global_idx","valueLeft * geluRight")}
  }`}},pl=(J)=>{Td(J.inputs),J.compute(Pd(J.inputs))}}),W91=f0(()=>{g2(),n2(),r2(),gd=(J,Z,Q,Y,$,H,K,B,q,L,O,z)=>{let F,V;typeof B=="string"?F=V=(w,C)=>`${B}((${w}),(${C}))`:typeof B=="function"?F=V=B:(F=B.scalar,V=B.vector);let A=H2("outputData",O,Y.length,4),M=q0("aData",q,Z.length,4),j=q0("bData",L,Q.length,4),D;if($)if(H){let w=t1.size(Z)===1,C=t1.size(Q)===1,I=Z.length>0&&Z[Z.length-1]%4===0,b=Q.length>0&&Q[Q.length-1]%4===0;w||C?D=A.setByOffset("global_idx",V(w?`${M.type.value}(${M.getByOffset("0")}.x)`:M.getByOffset("global_idx"),C?`${j.type.value}(${j.getByOffset("0")}.x)`:j.getByOffset("global_idx"))):D=`
            let outputIndices = ${A.offsetToIndices("global_idx * 4u")};
            let offsetA = ${M.broadcastedIndicesToOffset("outputIndices",A)};
            let offsetB = ${j.broadcastedIndicesToOffset("outputIndices",A)};
            ${A.setByOffset("global_idx",V(K||I?M.getByOffset("offsetA / 4u"):`${M.type.value}(${M.getByOffset("offsetA / 4u")}[offsetA % 4u])`,K||b?j.getByOffset("offsetB / 4u"):`${j.type.value}(${j.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}
          `}else D=A.setByOffset("global_idx",V(M.getByOffset("global_idx"),j.getByOffset("global_idx")));else{if(!H)throw Error("no necessary to use scalar implementation for element-wise binary op implementation.");let w=(C,I,b="")=>{let E=`aData[indexA${I}][componentA${I}]`,k=`bData[indexB${I}][componentB${I}]`;return`
            let outputIndices${I} = ${A.offsetToIndices(`global_idx * 4u + ${I}u`)};
            let offsetA${I} = ${M.broadcastedIndicesToOffset(`outputIndices${I}`,A)};
            let offsetB${I} = ${j.broadcastedIndicesToOffset(`outputIndices${I}`,A)};
            let indexA${I} = offsetA${I} / 4u;
            let indexB${I} = offsetB${I} / 4u;
            let componentA${I} = offsetA${I} % 4u;
            let componentB${I} = offsetB${I} % 4u;
            ${C}[${I}] = ${b}(${F(E,k)});
          `};O===9?D=`
            var data = vec4<u32>(0);
            ${w("data",0,"u32")}
            ${w("data",1,"u32")}
            ${w("data",2,"u32")}
            ${w("data",3,"u32")}
            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:D=`
            ${w("outputData[global_idx]",0)}
            ${w("outputData[global_idx]",1)}
            ${w("outputData[global_idx]",2)}
            ${w("outputData[global_idx]",3)}
          `}return`
        ${J.registerUniform("vec_size","u32").declareVariables(M,j,A)}

        ${z??""}

        ${J.mainStart()}
        ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${D}
      }`},yd=(J,Z,Q,Y,$,H,K=Q.dataType)=>{let B=Q.dims.map((M)=>Number(M)??1),q=Y.dims.map((M)=>Number(M)??1),L=!t1.areEqual(B,q),O=B,z=t1.size(B),F=!1,V=!1,A=[L];if(L){let M=OL.calcShape(B,q,!1);if(!M)throw Error("Can't perform binary op on the given tensors");O=M.slice(),z=t1.size(O);let j=t1.size(B)===1,D=t1.size(q)===1,w=B.length>0&&B[B.length-1]%4===0,C=q.length>0&&q[q.length-1]%4===0;A.push(j),A.push(D),A.push(w),A.push(C);let I=1;for(let b=1;b<O.length;b++){let E=B[B.length-b],k=q[q.length-b];if(E===k)I*=E;else break}I%4===0?(V=!0,F=!0):(j||D||w||C)&&(F=!0)}else F=!0;return A.push(F),{name:J,shaderCache:{hint:Z+A.map((M)=>M.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:(M)=>gd(M,B,q,O,F,L,V,$,Q.dataType,Y.dataType,K,H),getRunData:()=>({outputs:[{dims:O,dataType:K}],dispatchGroup:{x:Math.ceil(z/64/4)},programUniforms:[{type:12,data:Math.ceil(t1.size(O)/4)},...N2(B,q,O)]})}},NZ=(J,Z,Q,Y,$,H)=>{J.compute(yd(Z,$??"",J.inputs[0],J.inputs[1],Q,Y,H))},ll=(J)=>{NZ(J,"Add",(Z,Q)=>`${Z}+${Q}`)},il=(J)=>{NZ(J,"Div",(Z,Q)=>`${Z}/${Q}`)},nl=(J)=>{NZ(J,"Equal",{scalar:(Z,Q)=>`u32(${Z}==${Q})`,vector:(Z,Q)=>`vec4<u32>(${Z}==${Q})`},void 0,void 0,9)},al=(J)=>{NZ(J,"Mul",(Z,Q)=>`${Z}*${Q}`)},sl=(J)=>{let Z=q0("input",J.inputs[0].dataType,J.inputs[0].dims).type.value;NZ(J,"Pow",{scalar:(Q,Y)=>`pow_custom(${Q},${Y})`,vector:(Q,Y)=>`pow_vector_custom(${Q},${Y})`},`
    fn pow_custom(a : ${Z}, b : ${Z}) -> ${Z} {
      if (b == ${Z}(0.0)) {
        return ${Z}(1.0);
      } else if (a < ${Z}(0.0) && f32(b) != floor(f32(b))) {
        return ${Z}(pow(f32(a), f32(b))); // NaN
      }
      return select(sign(a), ${Z}(1.0), round(f32(abs(b) % ${Z}(2.0))) != 1.0) * ${Z}(${Z==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));
    }
    fn pow_vector_custom(a : vec4<${Z}>, b : vec4<${Z}>) -> vec4<${Z}> {
      // TODO: implement vectorized pow
      return vec4<${Z}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));
    }
      `)},ol=(J)=>{NZ(J,"Sub",(Z,Q)=>`${Z}-${Q}`)},rl=(J)=>{NZ(J,"Greater",{scalar:(Z,Q)=>`u32(${Z}>${Q})`,vector:(Z,Q)=>`vec4<u32>(${Z}>${Q})`},void 0,void 0,9)},tl=(J)=>{NZ(J,"Less",{scalar:(Z,Q)=>`u32(${Z}<${Q})`,vector:(Z,Q)=>`vec4<u32>(${Z}<${Q})`},void 0,void 0,9)},el=(J)=>{NZ(J,"GreaterOrEqual",{scalar:(Z,Q)=>`u32(${Z}>=${Q})`,vector:(Z,Q)=>`vec4<u32>(${Z}>=${Q})`},void 0,void 0,9)},Ji=(J)=>{NZ(J,"LessOrEqual",{scalar:(Z,Q)=>`u32(${Z}<=${Q})`,vector:(Z,Q)=>`vec4<u32>(${Z}<=${Q})`},void 0,void 0,9)}}),K91=f0(()=>{g2(),n2(),k7(),r2(),hd=(J,Z)=>{if(!J||J.length<1)throw Error("too few inputs");let Q=0,Y=J[Q],$=Y.dataType,H=Y.dims.length;J.forEach((K,B)=>{if(B!==Q){if(K.dataType!==$)throw Error("input tensors should be one type");if(K.dims.length!==H)throw Error("input tensors should have the same shape");K.dims.forEach((q,L)=>{if(L!==Z&&q!==Y.dims[L])throw Error("non concat dimensions must match")})}})},ud=(J,Z)=>`
  fn calculateInputIndex(index: u32) -> u32 {
    let sizeInConcatAxis = array<u32, ${J}u>(${Z});
    for (var i: u32 = 0u; i < ${J}; i += 1u ) {
      if (index < sizeInConcatAxis[i]) {
        return i;
      }
    }
    return ${J}u;
  }`,dd=(J,Z)=>{let Q=J.length,Y=[];for(let $=0;$<Q;++$){let H=Z.setByOffset("global_idx",J[$].getByIndices("indices"));Q===1?Y.push(H):$===0?Y.push(`if (inputIndex == ${$}u) { ${H} }`):$===Q-1?Y.push(`else { ${H} }`):Y.push(`else if (inputIndex == ${$}) { ${H} }`)}return Y.join(`
`)},md=(J,Z,Q,Y)=>{let $=t1.size(Q),H=Array(J.length),K=Array(J.length),B=0,q=[],L=[],O=[{type:12,data:$}];for(let M=0;M<J.length;++M)B+=J[M].dims[Z],H[M]=B,L.push(J[M].dims.length),K[M]=q0(`input${M}`,Y,L[M]),q.push("rank"),O.push({type:12,data:H[M]});for(let M=0;M<J.length;++M)O.push(...N2(J[M].dims));O.push(...N2(Q));let z=H2("output",Y,Q.length),F=z.indicesGet("indices",Z),V=Array.from(Array(H.length).keys()).map((M)=>`uniforms.sizeInConcatAxis${M}`).join(","),A=(M)=>`

  ${(()=>{M.registerUniform("outputSize","u32");for(let j=0;j<J.length;j++)M.registerUniform(`sizeInConcatAxis${j}`,"u32");return M.declareVariables(...K,z)})()}

  ${ud(H.length,V)}

  ${M.mainStart()}
    ${M.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

    var indices = ${z.offsetToIndices("global_idx")};

    let inputIndex = calculateInputIndex(${F});
    if (inputIndex != 0u) {
      let sizeInConcatAxis = array<u32, ${H.length}u>(${V});
      ${F} -= sizeInConcatAxis[inputIndex - 1u];
    }

    ${dd(K,z)}
  }`;return{name:"Concat",shaderCache:{hint:`${Z}`,inputDependencies:q},getRunData:()=>({outputs:[{dims:Q,dataType:Y}],dispatchGroup:{x:Math.ceil($/64)},programUniforms:O}),getShaderSource:A}},Zi=(J,Z)=>{let Q=J.inputs,Y=Q[0].dims,$=t1.normalizeAxis(Z.axis,Y.length);hd(Q,$);let H=Y.slice();H[$]=Q.reduce((B,q)=>B+(q.dims.length>$?q.dims[$]:0),0);let K=Q.filter((B)=>t1.size(B.dims)>0);J.compute(md(K,$,H,Q[0].dataType),{inputs:K})},Qi=(J)=>i5({axis:J.axis})}),UK=f0(()=>{g2(),n2(),WK=(J,Z,Q="f32")=>{switch(J.activation){case"Relu":return`value = max(value, ${Z}(0.0));`;case"Sigmoid":return`value = (${Z}(1.0) / (${Z}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${Z}(${Q}(uniforms.clip_min)), ${Z}(${Q}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${Z}(0.0), min(${Z}(1.0), ${Q}(uniforms.alpha) * value + ${Q}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${Q}(uniforms.alpha) * value, value, value >= ${Z}(0.0));`;case"Tanh":return`let e2x = exp(-2.0 * abs(value));
              value = sign(value) * (1.0 - e2x) / (1.0 + e2x);
        `;case"":return"";default:throw Error(`Unsupported activation ${J.activation}`)}},KK=(J,Z)=>{J.activation==="Clip"?Z.push({type:1,data:J.clipMax},{type:1,data:J.clipMin}):J.activation==="HardSigmoid"?Z.push({type:1,data:J.alpha},{type:1,data:J.beta}):J.activation==="LeakyRelu"&&Z.push({type:1,data:J.alpha})},BK=(J,Z)=>{J.activation==="Clip"?Z.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):J.activation==="HardSigmoid"?Z.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):J.activation==="LeakyRelu"&&Z.push({name:"alpha",type:"f32"})},Tk=(J)=>{let Z=J?.activation||"";if(Z==="HardSigmoid"){let[Q,Y]=J?.activation_params||[0.2,0.5];return{activation:Z,alpha:Q,beta:Y}}else if(Z==="Clip"){let[Q,Y]=J?.activation_params||[xp,Rp];return{activation:Z,clipMax:Y,clipMin:Q}}else if(Z==="LeakyRelu"){let[Q]=J?.activation_params||[0.01];return{activation:Z,alpha:Q}}return{activation:Z}}}),Pk=f0(()=>{d6=(J,Z)=>{switch(J){case 1:return Z;case 2:return`vec2<${Z}>`;case 3:return`vec3<${Z}>`;case 4:return`vec4<${Z}>`;default:throw Error(`${J}-component is not supported.`)}},Xi=(J)=>`
      ${J?"value = value + getBiasByOutputCoords(coords);":""}
      `}),B91=f0(()=>{Yi=(J)=>`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    i32(${J}.x), i32(${J}.y), i32(${J}.z), 1));
}
`}),yk=f0(()=>{g2(),n2(),r2(),UK(),sN=(J,Z,Q,Y,$)=>{let H=Y-Q;return`
      ${Array.from({length:Q}).map((K,B)=>`
      if (${O2(Z.shape,B,Z.rank)} != 1) {
        ${Z.indicesSet(J,B,O2($,B+H,Y))}
      } else {
        ${Z.indicesSet(J,B,0)}
      }`).join("")}
`},gk=(J,Z,Q,Y,$=!1,H)=>{let K=J[0].dims,B=J[1].dims,q=K[K.length-2],L=B[B.length-1],O=K[K.length-1],z=U7(L),F=U7(O),V=U7(q),A=t1.size(Q)/z/V,M=J.length>2,j=Y?Y.slice(0,-2):Q.slice(0,-2),D=[t1.size(j),q,L],w=[{type:12,data:A},{type:12,data:q},{type:12,data:L},{type:12,data:O}];KK(Z,w),w.push(...N2(j,K,B)),M&&w.push(...N2(J[2].dims)),w.push(...N2(D));let C=(I)=>{let b=bk("batch_dims",J[0].dataType,j.length),E=q0("a",J[0].dataType,K.length,F),k=q0("b",J[1].dataType,B.length,z),T=H2("output",J[0].dataType,D.length,z),S=w6(T.type.tensor),d=WK(Z,T.type.value,S),o=[E,k],v="";if(M){let p=$?z:1;o.push(q0("bias",J[2].dataType,J[2].dims.length,p)),v=`${$?`value += bias[col / ${p}];`:`value += ${T.type.value}(bias[row + i]);`}`}let y=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];BK(Z,y);let i=()=>{let p=`var a_data: ${E.type.value};`;for(let l=0;l<F;l++)p+=`
              let b_data${l} = b[(b_offset + (k + ${l}) * uniforms.N + col) / ${z}];`;for(let l=0;l<V;l++){p+=`a_data = a[(a_offset + (row + ${l}) * uniforms.K + k) / ${F}];`;for(let t=0;t<F;t++)p+=`
            values[${l}] = fma(${k.type.value}(a_data${F===1?"":`[${t}]`}), b_data${t}, values[${l}]);
`}return p};return`
  ${I.registerUniforms(y).registerInternalVariables(b).declareVariables(...o,T)}
  ${I.mainStart()}
    ${I.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let col = (global_idx % (uniforms.N / ${z})) * ${z};
    var index1 = global_idx / (uniforms.N / ${z});
    let stride1 = uniforms.M / ${V};
    let row = (index1 % stride1) * ${V};
    let batch = index1 / stride1;

    ${Q.length===2?"":`let batch_indices = ${b.offsetToIndices("batch")};`}

    var a_indices: ${E.type.indices};
    ${sN("a_indices",E,E.rank-2,b.rank,"batch_indices")}
    ${E.indicesSet("a_indices",E.rank-2,0)}
    ${E.indicesSet("a_indices",E.rank-1,0)}
    let a_offset = ${E.indicesToOffset("a_indices")};

    var b_indices: ${k.type.indices};
    ${sN("b_indices",k,k.rank-2,b.rank,"batch_indices")}
    ${k.indicesSet("b_indices",k.rank-2,0)}
    ${k.indicesSet("b_indices",k.rank-1,0)}
    let b_offset = ${k.indicesToOffset("b_indices")};
    var values: array<${T.type.value}, ${V}>;
    for (var k: u32 = 0u; k < uniforms.K; k = k + ${F}) {
      ${i()}
    }
    for (var i = 0u; i < ${V}u; i++) {
      var value = values[i];
      ${v}
      ${d}
      let cur_indices = ${T.type.indices}(batch, row + i, col);
      let offset = ${T.indicesToOffset("cur_indices")};
      ${T.setByOffset(`offset / ${z}`,"value")};
    }
  }
  `};return{name:"MatMulNaive",shaderCache:{hint:`${Z.activation};${z};${F};${V};${$}`,inputDependencies:M?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:H?H(Q):Q,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(A/64)},programUniforms:w}),getShaderSource:C}}}),hk=f0(()=>{g2(),n2(),r2(),UK(),yk(),Pk(),cd=(J,Z)=>J?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol${Z?", batchIndices":""});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol${Z?", batchIndices":""});
        `,pd=(J,Z)=>J?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${Z===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${Z===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${Z===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`,Bk=(J,Z,Q="f32",Y,$=!1,H=32,K=!1,B=32)=>{let q=Z[1]*J[1],L=Z[0]*J[0],O=$?q:H,z=$?H:q,F=O/Z[0],V=H/Z[1];if(!(($&&F===4&&J[1]===4||!$&&(F===3||F===4))&&O%Z[0]===0&&H%Z[1]===0&&J[0]===4))throw Error(`If transposeA ${$} is true, innerElementSize ${F} and workPerThread[1] ${J[1]} must be 4.
      Otherwise, innerElementSize ${F} must be 3 or 4.
  tileAWidth ${O} must be divisible by workgroupSize[0]${Z[0]}. tileInner ${H} must be divisible by workgroupSize[1] ${Z[1]}. colPerThread ${J[0]} must be 4.`);return`
var<workgroup> mm_Asub: array<array<vec${F}<${Q}>, ${O/F}>, ${z}>;
var<workgroup> mm_Bsub: array<array<vec4<${Q}>, ${L/J[0]}>, ${H}>;

const rowPerThread = ${J[1]};
const colPerThread = ${J[0]};
const innerElementSize = ${F};
const tileInner = ${H};

@compute @workgroup_size(${Z[0]}, ${Z[1]}, ${Z[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = localRow * rowPerThread;
  let tileCol = i32(localId.x);

  let globalRow =i32(globalId.y) * rowPerThread;
  let globalCol = i32(globalId.x);
  let batch = ${K?"0":"i32(globalId.z)"};
  ${Y?`let batchIndices = ${Y.offsetToIndices("u32(batch)")};`:""}
  let globalRowStart = i32(workgroupId.y) * ${q};

  let num_tiles = ${K?`${Math.ceil(B/H)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
  var kStart = ${K?`i32(globalId.z) * ${B}`:"0"};

  var acc: array<vec4<${Q}>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${V};
  for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${cd($,Y)}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${V}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${Y?", batchIndices":""});
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${F===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${pd($,F)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`},wE=(J,Z)=>J?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol${Z?", batchIndices":""});
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol${Z?", batchIndices":""});
            `,ld=(J)=>J?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",qk=(J,Z,Q="f32",Y,$=!1,H=32,K=!1,B=32,q=!1)=>{let L=J[1]*Z[1],O=J[0]*Z[0],z=$?L:H,F=$?H:L;if(!(F%Z[1]===0&&z%Z[0]===0&&H%Z[1]===0))throw Error(`tileAHight ${F} must be divisible by workgroupSize[1]${Z[1]}, tileAWidth ${z} must be divisible by workgroupSize[0]${Z[0]}, tileInner ${H} must be divisible by workgroupSize[1]${Z[1]}`);let V=F/Z[1],A=z/Z[0],M=H/Z[1],j=q?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${L};
    let globalColStart = i32(workgroupId.x) * ${O};

    // Loop over shared dimension.
    for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${F}; inputRow = inputRow + ${Z[1]}) {
        for (var inputCol = localCol; inputCol < ${z}; inputCol = inputCol + ${Z[0]}) {
          ${wE($,Y)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${H}; inputRow = inputRow + ${Z[1]}) {
            for (var inputCol = localCol; inputCol < ${O}; inputCol = inputCol + ${Z[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol${Y?", batchIndices":""});
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<${Q}, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${Z[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${$?`mm_Asub[k][localRow + innerRow * ${Z[1]}];`:`mm_Asub[localRow + innerRow * ${Z[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${Z[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${Z[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${L};

let tileRowA = i32(localId.y) * ${V};
let tileColA = i32(localId.x) * ${A};
let tileRowB = i32(localId.y) * ${M};
// Loop over shared dimension.
for (var t = 0; t < num_tiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${V}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${A}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${wE($,Y)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${M}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol${Y?", batchIndices":""});
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<${Q}, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${ld($)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<${Q}, ${z}>, ${F}>;
  var<workgroup> mm_Bsub : array<array<${Q}, ${O}>, ${H}>;
  const rowPerThread = ${J[1]};
  const colPerThread = ${J[0]};
  const tileInner = ${H};

@compute @workgroup_size(${Z[0]}, ${Z[1]}, ${Z[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${K?"0":"i32(globalId.z)"};
    ${Y?`let batchIndices = ${Y.offsetToIndices("u32(batch)")};`:""}
    let num_tiles = ${K?`${Math.ceil(B/H)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
    var kStart = ${K?`i32(globalId.z) * ${B}`:"0"};

    var acc : array<array<${Q}, colPerThread>, rowPerThread>;
    ${j}
  }
`},id=(J,Z,Q,Y,$=!1)=>{let[H,K,B,q]=Y,L=w6(Y[0].type.tensor);return`
    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${H.type.indices}) -> ${d6(J,L)} {
      var value = ${d6(J,L)}(0.0);
      let col = colIn * ${J};
      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)
      {
        var aIndices: ${K.type.indices};
        ${sN("aIndices",K,K.rank-2,H.rank,"batchIndices")}
        ${K.indicesSet("aIndices",K.rank-2,"u32(row)")}
        ${K.indicesSet("aIndices",K.rank-1,"u32(colIn)")}
        value = ${K.getByIndices("aIndices")};
      }
      return value;
    }

    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${H.type.indices}) -> ${d6(J,L)} {
      var value = ${d6(J,L)}(0.0);
      let col = colIn * ${J};
      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)
      {
        var bIndices: ${B.type.indices};
        ${sN("bIndices",B,B.rank-2,H.rank,"batchIndices")}
        ${B.indicesSet("bIndices",B.rank-2,"u32(row)")}
        ${B.indicesSet("bIndices",B.rank-1,"u32(colIn)")}
        value = ${B.getByIndices("bIndices")};
      }
      return value;
    }

    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${d6(J,L)}) {
      let col = colIn * ${J};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
        var value = valueIn;
        let coords = vec3<i32>(batch, row, colIn);
        ${Z?`value = value + ${$?"bias[colIn]":`${d6(J,L)}(bias[row])`};`:""}
        ${Q}
        ${q.setByIndices("vec3<u32>(coords)","value")}
      }
    }
    `},l_=(J,Z,Q,Y,$=!1,H)=>{let K=J[0].dims,B=J[1].dims,q=K.slice(0,-2),L=B.slice(0,-2),O=Y?Y.slice(0,-2):Q.slice(0,-2),z=t1.size(O),F=K[K.length-2],V=K[K.length-1],A=B[B.length-1],M=V%4===0&&A%4===0,j=F<=8?[4,1,1]:[4,4,1],D=[8,8,1],w=[Math.ceil(A/D[0]/j[0]),Math.ceil(F/D[1]/j[1]),Math.ceil(z/D[2]/j[2])],C=M?4:1,I=[...q,F,V/C],b=I.length,E=[...L,V,A/C],k=E.length,T=[z,F,A/C],S=[{type:6,data:F},{type:6,data:A},{type:6,data:V}];KK(Z,S),S.push(...N2(O,I,E));let d=["rank","rank"],o=J.length>2;o&&(S.push(...N2(J[2].dims)),d.push("rank")),S.push(...N2(T));let v=(y)=>{let i=O.length,p=bk("batchDims",J[0].dataType,i,1),l=w6(J[0].dataType),t=q0("a",J[0].dataType,b,C),Q1=q0("b",J[1].dataType,k,C),m=H2("result",J[0].dataType,T.length,C),K1=[t,Q1];if(o){let z1=$?C:1;K1.push(q0("bias",J[2].dataType,J[2].dims.length,z1))}let g=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];BK(Z,g);let n=w6(m.type.tensor),Z1=WK(Z,m.type.value,n),J1=id(C,o,Z1,[p,t,Q1,m],$);return`
  ${y.registerUniforms(g).registerInternalVariables(p).declareVariables(...K1,m)}
  ${J1}
  ${M?Bk(j,D,l,p):qk(j,D,l,p)}
                   `};return{name:"MatMul",shaderCache:{hint:`${j};${Z.activation};${M};${$}`,inputDependencies:d},getRunData:()=>({outputs:[{dims:H?H(Q):Q,dataType:J[0].dataType}],dispatchGroup:{x:w[0],y:w[1],z:w[2]},programUniforms:S}),getShaderSource:v}}}),q91=f0(()=>{g2(),PX(),r2(),UK(),Pk(),B91(),hk(),nd=(J,Z,Q,Y,$=!1,H,K=4,B=4,q=4,L="f32")=>{let O=(S)=>{switch(S){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${L}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw Error(`innerElementSize ${S} is not supported.`)}},z=(S)=>{switch(S){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw Error(`innerElementSize ${S} is not supported.`)}},F=J?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,V=J?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,A=J?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",M=J?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",j=J?"row":"col",D=J?"col":"row",w=`
    let inChannels = i32(uniforms.w_shape[2]);
    let outWidth = ${J?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
    let outRow = ${j} / outWidth;
    let outCol = ${j} % outWidth;

    let WRow = ${D} / (i32(uniforms.w_shape[1]) * inChannels);
    let WCol = ${D} / inChannels % i32(uniforms.w_shape[1]);
    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];
    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];
    let xCh = ${D} % inChannels;
    var resData = ${d6(K,L)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${A} && xCol >= 0 && xCol < ${M}) {
      ${F}
      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));
      ${O(K)}
    }
    return resData;`,C=J?Z&&Y?`
    let col = colIn * ${K};
    ${w}`:`
    let col = colIn * ${K};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
      ${w}
    }
    return ${d6(K,L)}(0.0);`:Y&&Q?`
    let col = colIn * ${K};
    ${w}`:`
    let col = colIn * ${K};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${w}
    }
    return ${d6(K,L)}(0.0);`,I=J?Y&&Q?z(B):`
    let col = colIn * ${B};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${z(B)}
    }
    return ${d6(B,L)}(0.0);`:`
    let col = colIn * ${B};
    if (row < uniforms.dim_inner && col < uniforms.dim_a_outer) {
      ${z(B)}
    }
    return ${d6(B,L)}(0.0);`,b=d6(q,L),E=J?d6(K,L):d6(B,L),k=J?d6(B,L):d6(K,L),T=WK(H,b,L);return`
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${E} {
      ${J?C:I}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${k} {
      ${J?I:C}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${b}) {
      let col = colIn * ${q};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)
      {
      var value = valueIn;
      let outWidth = ${J?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${V}
      ${Xi($)}
      ${T}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`},Gi=(J,Z,Q,Y,$,H,K,B,q)=>{let L=Z.format==="NHWC",O=L?J[0].dims[3]:J[0].dims[1],z=Q[0],F=L?Q[2]:Q[3],V=L?Q[1]:Q[2],A=L?Q[3]:Q[1],M=L&&(O%4===0||O%3===0)&&A%4===0,j=L?A:F*V,D=L?F*V:A,w=[8,8,1],C=Y<=8?[4,1,1]:[4,4,1],I=[Math.ceil(j/w[0]/C[0]),Math.ceil(D/w[1]/C[1]),Math.ceil(z/w[2]/C[2])];R5("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${I}`);let b=M?L&&O%4!==0?3:4:1,E=w[1]*C[1],k=w[0]*C[0],T=Math.max(w[0]*b,w[1]),S=Y%E===0,d=$%k===0,o=H%T===0,v=M?[b,4,4]:[1,1,1],y=[{type:6,data:Y},{type:6,data:$},{type:6,data:H},{type:6,data:[Z.pads[0],Z.pads[1]]},{type:6,data:Z.strides},{type:6,data:Z.dilations}];KK(Z,y),y.push(...N2(J[0].dims,J[1].dims));let i=["rank","rank"];K&&(y.push(...N2(J[2].dims)),i.push("rank")),y.push(...N2(Q));let p=(l)=>{let t=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];BK(Z,t);let Q1=M?4:1,m=w6(J[0].dataType),K1=`
      fn setOutputAtIndex(flatIndex : i32, value : ${M?`vec4<${m}>`:m}) {
        result[flatIndex] = ${M?`vec4<${m}>`:m}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${M?`vec4<${m}>`:m}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${M?"/ 4":""}, value);
      }`,g=q0("x",J[0].dataType,J[0].dims.length,b===3?1:b),n=q0("w",J[1].dataType,J[1].dims.length,Q1),Z1=[g,n],J1=H2("result",J[0].dataType,Q.length,Q1);if(K){let z1=q0("bias",J[2].dataType,J[2].dims.length,Q1);Z1.push(z1),K1+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${M?`vec4<${m}>`:m} {
          return bias[coords.${L?"w":"y"}${M?"/ 4":""}];
        }`}return`
        ${Yi("uniforms.result_strides")}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${l.registerUniforms(t).declareVariables(...Z1,J1)}
        ${K1}
        ${nd(L,S,d,o,K,Z,v[0],v[1],v[2],m)}
        ${M?Bk(C,w,m,void 0,!L,T):qk(C,w,m,void 0,!L,T,!1,void 0,B)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${Z.cacheKey};${b};${M};${S};${d};${o};${E};${k};${T}`,inputDependencies:i},getRunData:()=>({outputs:[{dims:q?q(Q):Q,dataType:J[0].dataType}],dispatchGroup:{x:I[0],y:I[1],z:I[2]},programUniforms:y}),getShaderSource:p}}}),U91=f0(()=>{g2(),PX(),n2(),r2(),UK(),Pk(),ad=(J)=>{let Z=1;for(let Q=0;Q<J.length;Q++)Z*=J[Q];return Z},EE=(J)=>typeof J=="number"?[J,J,J]:J,uN=(J,Z)=>Z<=1?J:J+(J-1)*(Z-1),sd=(J,Z,Q,Y=1)=>{let $=uN(Z,Y);return Math.floor((J[0]*(Q-1)-Q+$)/2)},kE=(J,Z,Q,Y,$)=>{$==null&&($=sd(J,Z[0],Y[0]));let H=[0,0,0,Q];for(let K=0;K<3;K++)J[K]+2*$>=Z[K]&&(H[K]=Math.trunc((J[K]-Z[K]+2*$)/Y[K]+1));return H},od=(J,Z,Q,Y,$,H,K,B,q,L)=>{let O,z,F,V;if(J==="VALID"&&(J=0),typeof J=="number"){O={top:J,bottom:J,left:J,right:J,front:J,back:J};let A=kE([Z,Q,Y,1],[B,q,L],1,[$,H,K],J);z=A[0],F=A[1],V=A[2]}else if(Array.isArray(J)){if(!J.every((M,j,D)=>M===D[0]))throw Error(`Unsupported padding parameter: ${J}`);O={top:J[0],bottom:J[1],left:J[2],right:J[3],front:J[4],back:J[5]};let A=kE([Z,Q,Y,1],[B,q,L],1,[$,H,K],J[0]);z=A[0],F=A[1],V=A[2]}else if(J==="SAME_UPPER"){z=Math.ceil(Z/$),F=Math.ceil(Q/H),V=Math.ceil(Y/K);let A=(z-1)*$+B-Z,M=(F-1)*H+q-Q,j=(V-1)*K+L-Y,D=Math.floor(A/2),w=A-D,C=Math.floor(M/2),I=M-C,b=Math.floor(j/2),E=j-b;O={top:C,bottom:I,left:b,right:E,front:D,back:w}}else throw Error(`Unknown padding parameter: ${J}`);return{padInfo:O,outDepth:z,outHeight:F,outWidth:V}},$i=(J,Z,Q,Y,$,H=!1,K="channelsLast")=>{let B,q,L,O,z;if(K==="channelsLast")[B,q,L,O,z]=J;else if(K==="channelsFirst")[B,z,q,L,O]=J;else throw Error(`Unknown dataFormat ${K}`);let[F,,V,A,M]=Z,[j,D,w]=EE(Q),[C,I,b]=EE(Y),E=uN(V,C),k=uN(A,I),T=uN(M,b),{padInfo:S,outDepth:d,outHeight:o,outWidth:v}=od($,q,L,O,j,D,w,E,k,T),y=H?F*z:F,i=[0,0,0,0,0];return K==="channelsFirst"?i=[B,y,d,o,v]:K==="channelsLast"&&(i=[B,d,o,v,y]),{batchSize:B,dataFormat:K,inDepth:q,inHeight:L,inWidth:O,inChannels:z,outDepth:d,outHeight:o,outWidth:v,outChannels:y,padInfo:S,strideDepth:j,strideHeight:D,strideWidth:w,filterDepth:V,filterHeight:A,filterWidth:M,effectiveFilterDepth:E,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:C,dilationHeight:I,dilationWidth:b,inShape:J,outShape:i,filterShape:Z}},Hi=(J,Z,Q,Y,$,H)=>{let K=H==="channelsLast",B=K?J[0].dims[3]:J[0].dims[1],q=!1,L=[64,1,1],O={x:Q.map((w,C)=>C)},z=[Math.ceil(ad(O.x.map((w)=>Q[w]))/L[0]),1,1];R5("verbose",()=>`[conv3d_naive_webgpu] dispatch = ${z}`);let F=q?K&&B%4!==0?3:4:1,V=t1.size(Q),A=[{type:12,data:V},{type:12,data:Y},{type:12,data:$},{type:12,data:Z.strides},{type:12,data:Z.dilations}];KK(Z,A),A.push(...N2(J[0].dims,J[1].dims));let M=["rank","rank"],j=J.length===3;j&&(A.push(...N2(J[2].dims)),M.push("rank")),A.push(...N2(Q));let D=(w)=>{let C=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:Y.length},{name:"pads",type:"u32",length:$.length},{name:"strides",type:"u32",length:Z.strides.length},{name:"dilations",type:"u32",length:Z.dilations.length}];BK(Z,C);let I=q?4:1,b=w6(J[0].dataType),E=q0("x",J[0].dataType,J[0].dims.length,F===3?1:F),k=q0("W",J[1].dataType,J[1].dims.length,I),T=[E,k],S=H2("result",J[0].dataType,Q.length,I),d="";if(j){let y=q0("bias",J[2].dataType,J[2].dims.length,I);T.push(y),d+=`
        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ${q?`vec4<${b}>`:b} {
          return bias[${K?O2("coords",4,5):O2("coords",1,5)}${q?"/ 4":""}];
        }`}let o=d6(F,b),v=WK(Z,o,b);return`
            ${d}
            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${E.getByIndices("aIndices")};
            }
            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${k.getByIndices("aIndices")};
            }
          ${w.registerUniforms(C).declareVariables(...T,S)}
          ${w.mainStart()}
          ${w.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
              let coords = ${S.offsetToIndices("global_idx")};
              let batch = ${O2("coords",0,E.rank)};
              let d2 = ${K?O2("coords",E.rank-1,E.rank):O2("coords",1,E.rank)};
              let xFRCCorner = vec3<u32>(${K?O2("coords",1,E.rank):O2("coords",2,E.rank)},
              ${K?O2("coords",2,E.rank):O2("coords",3,E.rank)},
              ${K?O2("coords",3,E.rank):O2("coords",4,E.rank)}) * uniforms.strides - uniforms.pads;
              let xFCorner = xFRCCorner.x;
              let xRCorner = xFRCCorner.y;
              let xCCorner = xFRCCorner.z;
              let xShapeY = ${K?O2("uniforms.x_shape",1,E.rank):O2("uniforms.x_shape",2,E.rank)};
              let xShapeZ = ${K?O2("uniforms.x_shape",2,E.rank):O2("uniforms.x_shape",3,E.rank)};
              let xShapeW = ${K?O2("uniforms.x_shape",3,E.rank):O2("uniforms.x_shape",4,E.rank)};
              let xShapeU = ${K?O2("uniforms.x_shape",4,E.rank):O2("uniforms.x_shape",1,E.rank)};
              let inputDepthNearestVec4 = (xShapeU / 4) * 4;
              let inputDepthVec4Remainder = xShapeU % 4;

              var value = 0.0;
              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {
                let xF = xFCorner + wF * uniforms.dilations[0];
                if (xF < 0 || xF >= xShapeY) {
                  continue;
                }

                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {
                  let xR = xRCorner + wR * uniforms.dilations[1];
                  if (xR < 0 || xR >= xShapeZ) {
                    continue;
                  }

                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {
                    let xC = xCCorner + wC * uniforms.dilations[2];
                    if (xC < 0 || xC >= xShapeW) {
                      continue;
                    }

                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {
                      ${K?`let xValues = vec4<f32>(
                               getX(batch, xF, xR, xC, d1),
                               getX(batch, xF, xR, xC, d1 + 1),
                               getX(batch, xF, xR, xC, d1 + 2),
                               getX(batch, xF, xR, xC, d1 + 3));
                            `:`let xValues = vec4<f32>(
                               getX(batch, d1, xF, xR, xC),
                               getX(batch, d1 + 1, xF, xR, xC),
                               getX(batch, d1 + 2, xF, xR, xC),
                               getX(batch, d1 + 3, xF, xR, xC));
                            `}
                            let wValues = vec4<f32>(
                              getW(d2, d1, wF, wR, wC),
                              getW(d2, d1 + 1, wF, wR, wC),
                              getW(d2, d1 + 2, wF, wR, wC),
                              getW(d2, d1 + 3, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                    if (inputDepthVec4Remainder == 1) {
                        ${K?`value += getX(batch, xF, xR, xC, inputDepthNearestVec4)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`:`value += getX(batch, inputDepthNearestVec4, xF, xR, xC)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`}
                    } else if (inputDepthVec4Remainder == 2) {
                      ${K?`let xValues = vec2<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));
                      `:`let xValues = vec2<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));
                    `}
                    let wValues = vec2<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));
                      value += dot(xValues, wValues);
                    } else if (inputDepthVec4Remainder == 3) {
                      ${K?`let xValues = vec3<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));
                      `:`let xValues = vec3<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));
                    `}
                    let wValues = vec3<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                  }
                }
              }
              ${j?"value = value + getBiasByOutputCoords(coords)":""};
              ${v}
              result[global_idx] = f32(value);
          }`};return{name:"Conv3DNaive",shaderCache:{hint:`${Z.cacheKey};${K};${F};${j}`,inputDependencies:M},getRunData:()=>({outputs:[{dims:Q,dataType:J[0].dataType}],dispatchGroup:{x:z[0],y:z[1],z:z[2]},programUniforms:A}),getShaderSource:D}}}),L91=f0(()=>{g2(),n2(),r2(),UK(),Wi=(J,Z,Q,Y)=>{let $=J.length>2,H=$?"value += b[output_channel];":"",K=J[0].dims,B=J[1].dims,q=Z.format==="NHWC",L=q?Q[3]:Q[1],O=L/Z.group,z=q&&O>=4?U7(L):1,F=t1.size(Q)/z,V=[{type:12,data:F},{type:12,data:Z.dilations},{type:12,data:[Z.strides[0],Z.strides[1]]},{type:12,data:[Z.pads[0],Z.pads[1]]},{type:12,data:O}];KK(Z,V),V.push(...N2(K,[B[0],B[1],B[2],B[3]/z]));let A=$?["rank","rank","rank"]:["rank","rank"];V.push(...N2([Q[0],Q[1],Q[2],Q[3]/z]));let M=(j)=>{let D=H2("output",J[0].dataType,Q.length,z),w=w6(D.type.tensor),C=WK(Z,D.type.value,w),I=q0("x",J[0].dataType,K.length),b=q0("w",J[1].dataType,B.length,z),E=[I,b];$&&E.push(q0("b",J[2].dataType,J[2].dims,z));let k=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:Z.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];BK(Z,k);let T=q?`
      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[0]; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

        if (xHeight < 0u || xHeight >= uniforms.x_shape[1]) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[1]; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
          if (xWidth < 0u || xWidth >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[2]; wInChannel++) {
            let input_channel = in_channel_offset + wInChannel;
            let xVal = ${I.get("batch","xHeight","xWidth","input_channel")};
            let wVal = ${b.get("wHeight","wWidth","wInChannel","output_channel")};
            value += xVal * wVal;
          }
        }
      }
      `:`
      for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {
        let input_channel = in_channel_offset + wInChannel;
        for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {
          let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

          if (xHeight < 0u || xHeight >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {
            let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
            if (xWidth < 0u || xWidth >= uniforms.x_shape[3]) {
              continue;
            }

            let xVal = ${I.get("batch","input_channel","xHeight","xWidth")};
            let wVal = ${b.get("output_channel","wInChannel","wHeight","wWidth")};
            value += xVal * wVal;
          }
        }
      }
      `;return`
  ${j.registerUniforms(k).declareVariables(...E,D)}

  ${j.mainStart()}
    ${j.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let outputIndices = ${D.offsetToIndices("global_idx")};
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${q?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${q?1:2}], outputIndices[${q?2:3}]) * uniforms.strides - uniforms.pads;
    let group_id: u32 = output_channel * ${z} / uniforms.output_channels_per_group;
    var in_channel_offset = group_id * uniforms.w_shape[${q?2:1}];

    var value: ${D.type.value} = ${D.type.value}(0);
    ${T}
    ${H}
    ${C}
    ${D.setByOffset("global_idx","value")}
  }`};return{name:"GroupedConv",shaderCache:{hint:`${Z.cacheKey}_${z}`,inputDependencies:A},getRunData:()=>({outputs:[{dims:Y?Y(Q):Q,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(F/64)},programUniforms:V}),getShaderSource:M}},Ki=(J,Z,Q,Y)=>{let $=J.length>2,H=U7(Q[3]),K=U7(Q[2]),B=t1.size(Q)/H/K,q=[J[0].dims[0],J[0].dims[1],J[0].dims[2],J[0].dims[3]/H],L=[J[1].dims[0],J[1].dims[1],J[1].dims[2],J[1].dims[3]/H],O=[Q[0],Q[1],Q[2],Q[3]/H],z=[{type:12,data:B},{type:6,data:[Z.strides[0],Z.strides[1]]},{type:6,data:[Z.pads[0],Z.pads[1]]}];KK(Z,z),z.push(...N2(q,L,O));let F=(K-1)*Z.strides[1]+L[1],V=(A)=>{let M=H2("output",J[0].dataType,O.length,H),j=w6(M.type.tensor),D=WK(Z,M.type.value,j),w=q0("x",J[0].dataType,q.length,H),C=q0("w",J[1].dataType,L.length,H),I=[w,C];$&&I.push(q0("b",J[2].dataType,J[2].dims,H));let b=$?"value += b[output_channel];":"",E=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return BK(Z,E),`
  ${A.registerUniforms(E).declareVariables(...I,M)}
  ${A.mainStart()}
    ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let width0 = uniforms.output_shape[3];
    let output_channel = global_idx % width0;
    var index1 = global_idx / width0;
    let width1 = uniforms.output_shape[2] / ${K}u;
    let col = (index1 % width1) * ${K}u;
    index1 = index1 / width1;
    let row = index1 % uniforms.output_shape[1];
    let batch = index1 / uniforms.output_shape[1];

    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;

    var x_vals: array<${w.type.value}, ${F}>;
    var values: array<${M.type.value}, ${K}>;
    let input_channel = output_channel;
    // Use constant instead of uniform can give better performance for w's height/width.
    for (var w_height: u32 = 0u; w_height < ${L[0]}; w_height++) {
      let x_height = x_corner.x + i32(w_height);
      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {
        for (var i = 0; i < ${F}; i++) {
          let x_width = x_corner.y + i;
          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {
            x_vals[i] = ${w.get("batch","u32(x_height)","u32(x_width)","input_channel")};
          } else {
            x_vals[i] = ${w.type.value}(0);
          }
        }
        for (var w_width: u32 = 0u; w_width < ${L[1]}; w_width++) {
          let w_val = ${C.get("w_height","w_width","0","output_channel")};
          for (var i = 0u; i < ${K}u; i++) {
            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);
          }
        }
      }
    }

    for (var i = 0u; i < ${K}u; i++) {
      var value = values[i];
      ${b}
      ${D}
      ${M.set("batch","row","col + i","output_channel","value")};
    }
  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${Z.cacheKey};${H};${K};${F};${L[0]};${L[1]}`,inputDependencies:$?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:Y?Y(Q):Q,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(B/64)},programUniforms:z}),getShaderSource:V}}}),O91=f0(()=>{n2(),q91(),U91(),hk(),L91(),UK(),yk(),cG(),rd=(J,Z,Q,Y,$,H)=>{let K=J[0],B=J.slice(H?1:2,H?3:4),q=B.length,L=Z[0],O=Z.slice(2).map((F,V)=>F+(F-1)*(Q[V]-1)),z=B.map((F,V)=>F+Y[V]+Y[V+q]).map((F,V)=>Math.floor((F-O[V]+$[V])/$[V]));return z.splice(0,0,K),z.splice(H?3:1,0,L),z},S_=[2,3,1,0],td=(J,Z)=>{if(!J||J.length!==2&&J.length!==3)throw Error("Conv requires 2 or 3 inputs");if(J[0].dims.length>5)throw Error("greater than 5D is not supported");if(J[0].dims.length!==J[1].dims.length)throw Error("filter does not have same dimension as input");let Q=J[0].dims[Z.format==="NHWC"?J[0].dims.length-1:1],Y=J[1].dims[1]*Z.group;if(Q!==Y)throw Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(J.length===3&&(J[2].dims.length!==1||J[1].dims[0]!==J[2].dims[0]))throw Error("invalid bias");let $=J[0].dims.length-2;if(Z.dilations.length!==$)throw Error(`dilations should be ${$}D`);if(Z.strides.length!==$)throw Error(`strides should be ${$}D`);if(Z.pads.length!==$*2)throw Error(`pads should be ${$*2}D`);if(Z.kernelShape.length!==0&&Z.kernelShape.length!==J[1].dims.length-2)throw Error("invalid kernel shape")},T_=(J,Z)=>{let Q=J.kernelShape.slice();Q.length<Z[1].dims.length-2&&Q.push(...Array(Z[1].dims.length-2-Q.length).fill(0));for(let H=2;H<Z[1].dims.length;++H)Q[H-2]===0&&(Q[H-2]=Z[1].dims[H]);let Y=J.pads.slice();c_.adjustPadsBasedOnAutoPad(Z[0].dims,J.strides,J.dilations,Q,Y,J.format==="NHWC",J.autoPad);let $=Object.assign({},J);return Object.assign($,{kernelShape:Q,pads:Y}),$},Uk=(J)=>{let Z=Tk(J),Q=J.format,Y=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][J.auto_pad],$=J.dilations,H=J.group,K=J.kernel_shape,B=J.pads,q=J.strides,L=J.w_is_const();return{autoPad:Y,format:Q,dilations:$,group:H,kernelShape:K,pads:B,strides:q,wIsConst:L,...Z,cacheKey:`${J.format};${Z.activation};`}},xE=(J,Z,Q,Y)=>{let $=Q.format==="NHWC",H=rd(Z[0].dims,Z[1].dims,Q.dilations,Q.pads,Q.strides,$);if(Q.group!==1){let E=[Z[0]];if($){let k=J.kernelCustomData.wT??J.compute(I3(Z[1],S_),{inputs:[1],outputs:[Q.wIsConst?-2:-1]})[0];Q.wIsConst&&!J.kernelCustomData.wT&&(J.kernelCustomData.wT=k),E.push(k)}else E.push(Z[1]);Z.length===3&&E.push(Z[2]),!J.adapterInfo.isArchitecture("ampere")&&$&&Z[1].dims[0]===Q.group&&Z[1].dims[1]===1&&Q.dilations[0]===1&&Q.dilations[1]===1?J.compute(Ki(E,Q,H,Y),{inputs:E}):J.compute(Wi(E,Q,H,Y),{inputs:E});return}let K=Z.length===3,B=Z[0].dims[$?1:2],q=Z[0].dims[$?2:3],L=Z[0].dims[$?3:1],O=Z[1].dims[2],z=Z[1].dims[3],F=H[$?1:2],V=H[$?2:3],A=H[$?3:1],M=$&&O===B&&z===q&&Q.pads[0]===0&&Q.pads[1]===0;if(M||O===1&&z===1&&Q.dilations[0]===1&&Q.dilations[1]===1&&Q.strides[0]===1&&Q.strides[1]===1&&Q.pads[0]===0&&Q.pads[1]===0){let E=H[0],k,T,S,d=[];if($){let y=J.kernelCustomData.wT??J.compute(I3(Z[1],S_),{inputs:[1],outputs:[Q.wIsConst?-2:-1]})[0];if(Q.wIsConst&&!J.kernelCustomData.wT&&(J.kernelCustomData.wT=y),M){let i=B*q*L;k=Z[0].reshape([1,E,i]),T=y.reshape([1,i,A]),S=[1,E,A]}else k=Z[0].reshape([E,B*q,L]),T=y.reshape([1,L,A]),S=[E,F*V,A];d.push(k),d.push(T)}else k=Z[0].reshape([E,L,B*q]),T=Z[1].reshape([1,A,L]),S=[E,A,F*V],d.push(T),d.push(k);K&&d.push(Z[2]);let o=S[2],v=d[0].dims[d[0].dims.length-1];o<8&&v<8?J.compute(gk(d,Q,H,S,$,Y),{inputs:d}):J.compute(l_(d,Q,H,S,$,Y),{inputs:d});return}let j=!0,D=J.kernelCustomData.wT??J.compute(I3(Z[1],S_),{inputs:[1],outputs:[Q.wIsConst?-2:-1]})[0];Q.wIsConst&&!J.kernelCustomData.wT&&(J.kernelCustomData.wT=D);let w=[Z[0],D];K&&w.push(Z[2]);let C=$?F*V:A,I=$?A:F*V,b=O*z*L;J.compute(Gi(w,Q,H,C,I,b,K,j,Y),{inputs:w})},ed=(J,Z)=>{let Q=Z.format==="NHWC",Y=[J.inputs[0].reshape(Q?[J.inputs[0].dims[0],1,J.inputs[0].dims[1],J.inputs[0].dims[2]]:[J.inputs[0].dims[0],J.inputs[0].dims[1],1,J.inputs[0].dims[2]]),J.inputs[1].reshape([J.inputs[1].dims[0],J.inputs[1].dims[1],1,J.inputs[1].dims[2]])];J.inputs.length===3&&Y.push(J.inputs[2]);let $=[0,Z.pads[0],0,Z.pads[1]],H=[1].concat(Z.strides),K=[1].concat(Z.dilations),B=[1].concat(Z.kernelShape),q=T_({...Z,pads:$,strides:H,dilations:K,kernelShape:B},Y);xE(J,Y,q,(L)=>Q?[L[0],L[2],L[3]]:[L[0],L[1],L[3]])},Jm=(J,Z,Q)=>{let Y=Q.format==="NHWC"?"channelsLast":"channelsFirst",$=T_(Q,Z),H=Q.autoPad==="NOTSET"?Q.pads:Q.autoPad,K=$i(Z[0].dims,Z[1].dims,Q.strides,Q.dilations,H,!1,Y);J.compute(Hi(Z,$,K.outShape,[K.filterDepth,K.filterHeight,K.filterWidth],[K.padInfo.front,K.padInfo.top,K.padInfo.left],Y))},Lk=(J,Z)=>{if(td(J.inputs,Z),J.inputs[0].dims.length===3)ed(J,Z);else if(J.inputs[0].dims.length===5)Jm(J,J.inputs,Z);else{let Q=T_(Z,J.inputs);xE(J,J.inputs,Q)}}}),z91=f0(()=>{g2(),PX(),n2(),r2(),Bi=(J,Z,Q)=>{let Y=J.length>2,$=Z.outputShape,H=Z.format==="NHWC",K=Z.group,B=J[1].dims,q=B[2]/K,L=B[3],O=H?U7(q):1,z=H&&L===1&&q>=4,F=z?Math.floor(q/4)*4:Math.floor(q/O)*O,V=q-F,A=H?U7(L):1,M=H?L===1?O:A:1,j=t1.size($)/A,D=[Math.ceil(j/64),1,1];R5("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${D}`);let w=["rank","rank"],C=[Z.strides[0],Z.strides[1]],I=[Z.kernelShape[H?1:2],Z.kernelShape[H?2:3]],b=[Z.dilations[0],Z.dilations[1]],E=[I[0]+(Z.dilations[0]<=1?0:(Z.kernelShape[H?1:2]-1)*(Z.dilations[0]-1)),I[1]+(Z.dilations[1]<=1?0:(Z.kernelShape[H?2:3]-1)*(Z.dilations[1]-1))],k=[E[0]-1-Math.floor((Z.pads[0]+Z.pads[2])/2),E[1]-1-Math.floor((Z.pads[1]+Z.pads[3])/2)],T=[{type:12,data:j},{type:12,data:C},{type:12,data:I},{type:12,data:b},{type:12,data:E},{type:6,data:k},{type:12,data:F},{type:12,data:q},{type:12,data:L},...N2(J[0].dims,J[1].dims)];Y&&(T.push(...N2(J[2].dims)),w.push("rank")),T.push(...N2($));let S=(d)=>{let o=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:C.length},{name:"filter_dims",type:"u32",length:I.length},{name:"dilations",type:"u32",length:I.length},{name:"effective_filter_dims",type:"u32",length:E.length},{name:"pads",type:"i32",length:k.length},{name:"input_channels_per_group_int",type:"u32"},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],v=w6(J[0].dataType),y=H?1:2,i=H?2:3,p=H?3:1,l=q0("W",J[1].dataType,J[1].dims.length,M),t=q0("Dy",J[0].dataType,J[0].dims.length,O),Q1=[t,l];Y&&Q1.push(q0("bias",J[2].dataType,[$[p]].length,A));let m=H2("result",J[0].dataType,$.length,A),K1=()=>{let Z1="";if(z)O===4?Z1+=`
        let xValue = ${t.getByOffset("x_offset")};
        let wValue = ${l.getByOffset("w_offset")};
        dotProd = dotProd + dot(xValue, wValue);
        x_offset += 1u;
        w_offset += 1u;`:O===2?Z1+=`
          dotProd = dotProd + dot(vec4<${v}>(${t.getByOffset("x_offset")}, ${t.getByOffset("x_offset + 1u")}), vec4<${v}>(${l.getByOffset("w_offset")}, ${l.getByOffset("w_offset + 1u")}));
          x_offset += 2u;
          w_offset += 2u;`:O===1&&(Z1+=`
          dotProd = dotProd + dot(vec4<${v}>(${t.getByOffset("x_offset")}, ${t.getByOffset("x_offset + 1u")}, ${t.getByOffset("x_offset + 2u")}, ${t.getByOffset("x_offset + 3u")}), vec4<${v}>(${l.getByOffset("w_offset")}, ${l.getByOffset("w_offset + 1u")}, ${l.getByOffset("w_offset + 2u")}, ${l.getByOffset("w_offset + 3u")}));
          x_offset += 4u;
          w_offset += 4u;`);else if(Z1+=`
                  let xValue = ${H?t.getByOffset(`${t.indicesToOffset(`${t.type.indices}(batch, idyR, idyC, inputChannel)`)} / ${O}`):t.get("batch","inputChannel","idyR","idyC")};
        `,O===1)Z1+=`
          let w_offset = ${l.indicesToOffset(`${l.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)`)};
          let wValue = ${l.getByOffset(`w_offset / ${M}`)};
          dotProd = dotProd + xValue * wValue;`;else for(let J1=0;J1<O;J1++)Z1+=`
            let wValue${J1} = ${l.getByOffset(`${l.indicesToOffset(`${l.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel + ${J1}, wOutChannel)`)} / ${M}`)};
            dotProd = dotProd + xValue[${J1}] * wValue${J1};`;return Z1},g=()=>{if(V===0)return"";if(!z)throw Error(`packInputAs4 ${z} is not true.`);let Z1="";if(O===1){Z1+="dotProd = dotProd";for(let J1=0;J1<V;J1++)Z1+=`
            + ${t.getByOffset(`x_offset + ${J1}`)} * ${l.getByOffset(`w_offset + ${J1}`)}`;Z1+=";"}else if(O===2){if(V!==2)throw Error(`Invalid inputChannelsRemainder ${V}.`);Z1+=`
          let xValue = ${t.getByOffset("x_offset")};
          let wValue = ${l.getByOffset("w_offset")};
          dotProd = dotProd + dot(xValue, wValue);`}return Z1},n=`
            let outputIndices = ${m.offsetToIndices(`global_idx * ${A}`)};
            let batch = ${m.indicesGet("outputIndices",0)};
            let d1 = ${m.indicesGet("outputIndices",p)};
            let r = ${m.indicesGet("outputIndices",y)};
            let c = ${m.indicesGet("outputIndices",i)};
            let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;
            let dyRCorner = dyCorner.x;
            let dyCCorner = dyCorner.y;
            let groupId = d1 / uniforms.output_channels_per_group;
            let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;
            // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
            // ? = to be determined. : = across all values in that axis.
            var dotProd = ${m.type.value}(0.0);
            var wR: u32 = 0;
            if (uniforms.dilations.x == 1) {
              // Minimum wR >= 0 that satisfies (dyRCorner + wR) % (uniforms.strides.x) == 0
              wR = u32(((dyRCorner + i32(uniforms.strides.x) - 1) / i32(uniforms.strides.x)) * i32(uniforms.strides.x) - dyRCorner);
            }
            for (; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {
              if (wR % uniforms.dilations.x != 0) {
                continue;
              }
              let dyR = (${v}(dyRCorner) + ${v}(wR)) / ${v}(uniforms.strides[0]);
              let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;
              if (dyR < 0.0 || dyR >= ${v}(uniforms.Dy_shape[${y}]) || fract(dyR) > 0.0 ||
                  wRPerm < 0) {
                continue;
              }
              let idyR: u32 = u32(dyR);
              var wC: u32 = 0;
              if (uniforms.dilations.y == 1) {
                // Minimum wC >= 0 that satisfies (dyCCorner + wC) % (uniforms.strides.y) == 0
                wC = u32(((dyCCorner + i32(uniforms.strides.y) - 1) / i32(uniforms.strides.y)) * i32(uniforms.strides.y) - dyCCorner);
              }
              for (; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {
                if (wC % uniforms.dilations.y != 0) {
                  continue;
                }
                let dyC = (${v}(dyCCorner) + ${v}(wC)) / ${v}(uniforms.strides.y);
                let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;
                if (dyC < 0.0 || dyC >= ${v}(uniforms.Dy_shape[${i}]) ||
                    fract(dyC) > 0.0 || wCPerm < 0) {
                  continue;
                }
                let idyC: u32 = u32(dyC);
                var inputChannel = groupId * uniforms.input_channels_per_group;
                ${z?`
                var x_offset = ${t.indicesToOffset(`${t.type.indices}(batch, idyR, idyC, inputChannel)`)} / ${O};
                var w_offset = ${l.indicesToOffset(`${l.type.indices}(wRPerm, wCPerm, inputChannel, wOutChannel)`)} / ${M};
                  `:""}
                for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group_int; d2 = d2 + ${z?4:O}) {
                  ${K1()}
                  inputChannel = inputChannel + ${z?4:O};
                }
                ${g()}
                wC = wC + uniforms.strides.y - 1;
              }
              wR = wR + uniforms.strides[0] - 1;
            }
            let value = dotProd${Y?` + bias[d1 / ${A}]`:""};
            ${m.setByOffset("global_idx","value")};
          `;return`
    ${d.registerUniforms(o).declareVariables(...Q1,m)}
      ${d.mainStart()}
      ${d.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};
    ${n}}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${Z.cacheKey};${O}${M}${A}${z}${V}`,inputDependencies:w},getRunData:()=>({dispatchGroup:{x:D[0],y:D[1],z:D[2]},outputs:[{dims:Q?Q($):$,dataType:J[0].dataType}],programUniforms:T}),getShaderSource:S}}}),N91=f0(()=>{z91(),UK(),cG(),Zm=(J,Z,Q,Y,$,H)=>(J-1)*Z+Q+(Y-1)*$+1-H,Qm=(J,Z,Q,Y,$)=>{let H=Math.floor(J/2);Z==="SAME_UPPER"?(Q[Y]=H,Q[$]=J-H):Z==="SAME_LOWER"&&(Q[Y]=J-H,Q[$]=H)},Xm=(J,Z,Q,Y,$,H,K,B,q,L)=>{let O=J.length-2,z=L.length===0;q.length<O&&q.push(...Array(O-q.length).fill(0));let F=J[0],V=Z[B?3:1]*$;for(let A=0,M=J.length-O-(B?1:0);A<O;++A,++M){let j=J[M],D=z?j*K[A]:L[A],w=Zm(j,K[A],H[A],Z[M],Q[A],D);Qm(w,Y,H,A,A+O),z&&L.push(K[A]*(j-1)+q[A]+(Z[M]-1)*Q[A]+1-H[A]-H[A+O])}L.splice(0,0,F),L.splice(B?3:1,0,V)},RE=(J,Z)=>{let Q=J.kernelShape.slice();if(J.kernelShape.length===0||J.kernelShape.reduce((z,F)=>z*F,1)===0){Q.length=0;for(let z=2;z<Z[1].dims.length;++z)Q.push(Z[1].dims[z])}let Y=J.format==="NHWC";Q.splice(0,0,Z[1].dims[0]),Q.splice(Y?3:1,0,Z[1].dims[1]);let $=J.pads.slice(),H=J.outputShape.slice(),K=J.outputPadding.slice(),B=Z[0].dims,q=J.dilations.slice();if(q.reduce((z,F)=>z+F,0)===0){let z=Z[0].dims.length-2;q=Array(z).fill(1)}let L=J.strides.slice();if(L.reduce((z,F)=>z+F,0)===0){let z=Z[0].dims.length-2;L=Array(z).fill(1)}Xm(B,Q,q,J.autoPad,J.group,$,L,Y,K,H);let O=Object.assign({},J);return Object.assign(O,{kernelShape:Q,pads:$,outputPadding:K,outputShape:H,dilations:q,strides:L}),O},qi=(J)=>{let Z=Tk(J),Q=J.format,Y=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof J.autoPad>"u"?0:J.autoPad],$=J.dilations,H=J.group,K=J.kernelShape,B=J.pads,q=J.strides,L=J.wIsConst(),O=J.outputPadding,z=J.outputShape;return{autoPad:Y,format:Q,dilations:$,group:H,kernelShape:K,outputPadding:O,outputShape:z,pads:B,strides:q,wIsConst:L,...Z,cacheKey:`${J.format};${Z.activation};`}},Ym=(J,Z)=>{if(!J||J.length!==2&&J.length!==3)throw Error("Conv requires 2 or 3 inputs");if(J[0].dims.length!==4&&J[0].dims.length!==3)throw Error("currently only support 2-dimensional conv");if(J[0].dims.length!==J[1].dims.length)throw Error("filter does not have same dimension as input");let Q=J[0].dims[Z.format==="NHWC"?J[0].dims.length-1:1],Y=J[1].dims[0];if(Q!==Y)throw Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let $=J[1].dims[1]*Z.group;if(J.length===3&&(J[2].dims.length!==1||J[2].dims[0]!==$))throw Error("invalid bias");let H=J[0].dims.length-2;if(Z.dilations.reduce((K,B)=>K+B,0)>0&&Z.dilations.length!==H)throw Error(`dilations should be ${H}D`);if(Z.strides.reduce((K,B)=>K+B,0)>0&&Z.strides.length!==H)throw Error(`strides should be ${H}D`);if(Z.pads.reduce((K,B)=>K+B,0)>0&&Z.pads.length!==H*2)throw Error(`pads should be ${H*2}D`);if(Z.outputPadding.length!==H&&Z.outputPadding.length!==0)throw Error(`output_padding should be ${H}D`);if(Z.kernelShape.reduce((K,B)=>K+B,0)>0&&Z.kernelShape.length!==0&&Z.kernelShape.length!==J[1].dims.length-2)throw Error("invalid kernel shape");if(Z.outputShape.length!==0&&Z.outputShape.length!==J[0].dims.length-2)throw Error("invalid output shape")},CE=(J,Z,Q,Y)=>{let $=J.kernelCustomData.wT??J.compute(I3(Z[1],[2,3,0,1]),{inputs:[1],outputs:[Q.wIsConst?-2:-1]})[0];Q.wIsConst&&!J.kernelCustomData.wT&&(J.kernelCustomData.wT=$);let H=[Z[0],$];Z.length===3&&H.push(Z[2]),J.compute(Bi(H,Q,Y),{inputs:H})},Gm=(J,Z)=>{let Q=Z.format==="NHWC",Y=[J.inputs[0].reshape(Q?[J.inputs[0].dims[0],1,J.inputs[0].dims[1],J.inputs[0].dims[2]]:[J.inputs[0].dims[0],J.inputs[0].dims[1],1,J.inputs[0].dims[2]]),J.inputs[1].reshape([J.inputs[1].dims[0],J.inputs[1].dims[1],1,J.inputs[1].dims[2]])];J.inputs.length===3&&Y.push(J.inputs[2]);let $=Z.kernelShape;($.length===0||$[0]===0)&&($=[J.inputs[1].dims[2]]);let H=Z.dilations;(H.length===0||H[0]===0)&&(H=[1]);let K=Z.strides;(K.length===0||K[0]===0)&&(K=[1]);let B=Z.pads;B.length===0&&(B=[0,0]),B=[0,B[0],0,B[1]],K=[1].concat(K),H=[1].concat(H),$=[1].concat($);let q=Z.outputPadding;q=[0].concat(q);let L=RE({...Z,pads:B,strides:K,dilations:H,kernelShape:$,outputPadding:q},Y);CE(J,Y,L,(O)=>Q?[O[0],O[2],O[3]]:[O[0],O[1],O[3]])},Ui=(J,Z)=>{if(Ym(J.inputs,Z),J.inputs[0].dims.length===3)Gm(J,Z);else{let Q=RE(Z,J.inputs);CE(J,J.inputs,Q)}}}),F91=f0(()=>{g2(),n2(),k7(),r2(),$m=(J,Z,Q,Y)=>{let $=t1.size(Z),H=Z.length,K=q0("input",J,H),B=H2("output",J,H),q=Q.dataType===6?Q.getInt32Array()[0]:Number(Q.getBigInt64Array()[0]),L=t1.normalizeAxis(q,H),O=(z)=>{let F=` i32(${K.indicesGet("inputIndices","uniforms.axis")}) `,V=O2("uniforms.input_shape","uniforms.axis",H),A=Y.reverse?F+(Y.exclusive?" + 1":""):"0",M=Y.reverse?V:F+(Y.exclusive?"":" + 1");return`
                ${z.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(K,B)}
                ${z.mainStart()}
                  ${z.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
                  var inputIndices = ${B.offsetToIndices("global_idx")};
                  var sum = ${B.type.value}(0);
                  let first : i32 = ${A};
                  let last : i32 = ${M};
                  for (var i : i32 = first; i < last; i++) {
                    ${K.indicesSet("inputIndices","uniforms.axis","u32(i)")};
                    sum = sum + ${K.getByIndices("inputIndices")};
                  }
                  ${B.setByOffset("global_idx","sum")};
                }`};return{name:"CumSum",shaderCache:{hint:Y.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:Z,dataType:J}],dispatchGroup:{x:Math.ceil($/64)},programUniforms:[{type:12,data:$},{type:12,data:L},...N2(Z,Z)]}),getShaderSource:O}},Li=(J,Z)=>{let Q=J.inputs[0].dims,Y=J.inputs[0].dataType,$=J.inputs[1];J.compute($m(Y,Q,$,Z),{inputs:[0]})},Oi=(J)=>{let Z=J.exclusive===1,Q=J.reverse===1;return i5({exclusive:Z,reverse:Q})}}),A91=f0(()=>{g2(),n2(),k7(),r2(),Hm=(J)=>{if(!J||J.length!==1)throw Error("DepthToSpace requires 1 input.");if(J[0].dims.length!==4)throw Error("DepthToSpace requires 4D input.")},Wm=(J,Z,Q,Y)=>{let $=[];$.push(`fn perm(i: ${Y.type.indices}) -> ${Q.type.indices} {
    var a: ${Q.type.indices};`);for(let H=0;H<Z;++H)$.push(Q.indicesSet("a",J[H],`i[${H}]`));return $.push("return a;}"),$.join(`
`)},Km=(J,Z)=>{let Q,Y,$,H,K,B,q=Z.format==="NHWC",L=Z.blocksize,O=Z.mode==="DCR";q?([Q,Y,$,H]=J.dims,K=O?[Q,Y,$,L,L,H/L**2]:[Q,Y,$,H/L**2,L,L],B=O?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([Q,Y,$,H]=[J.dims[0],J.dims[2],J.dims[3],J.dims[1]],K=O?[Q,L,L,H/L**2,Y,$]:[Q,H/L**2,L,L,Y,$],B=O?[0,3,4,1,5,2]:[0,1,4,2,5,3]);let z=J.reshape(K),F=z.dims.length,V=J.dataType,A=q0("a",V,F),M=H2("output",V,F),j=(D)=>`
  ${D.registerUniform("output_size","u32").declareVariables(A,M)}

  ${Wm(B,F,A,M)}

  ${D.mainStart()}
    ${D.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${M.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${M.setByOffset("global_idx",A.getByIndices("aIndices"))}
  }`;return{name:"DepthToSpace",shaderCache:{hint:`${J.dims};${Z.blocksize};${Z.mode}`,inputDependencies:["rank"]},getRunData:(D)=>{let w=q?[Q,Y*L,$*L,H/L**2]:[Q,H/L**2,Y*L,$*L],C=t1.size(w),I=z.dims,b=t1.sortBasedOnPerm(I,B);return{outputs:[{dims:w,dataType:D[0].dataType}],dispatchGroup:{x:Math.ceil(C/64)},programUniforms:[{type:12,data:C},...N2(I,b)]}},getShaderSource:j}},zi=(J,Z)=>{Hm(J.inputs),J.compute(Km(J.inputs[0],Z))},Ni=(J)=>i5({blocksize:J.blocksize,mode:J.mode,format:J.format})}),M91=f0(()=>{g2(),n2(),k7(),r2(),P_="[a-zA-Z]|\\.\\.\\.",dN="("+P_+")+",bE="^"+dN+"$",Bm="("+dN+",)*"+dN,qm="^"+Bm+"$",Um=class{constructor(J=-1){this.symbolToIndices=new Map,this.inputIndex=J}addSymbol(J,Z){let Q=this.symbolToIndices.get(J);Q===void 0?Q=[Z]:Q.push(Z),this.symbolToIndices.set(J,Q)}},Lm=class{constructor(J,Z){this.equation=Z,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=[],this.outputDims=[];let[Q,Y]=Z.includes("->")?Z.split("->",2):[Z,""];if(!Q.match(RegExp(qm)))throw Error("Invalid LHS term");if(Q.split(",").forEach(($,H)=>{let K=J[H].dims.slice();if(!$.match(RegExp(bE)))throw Error("Invalid LHS term");let B=this.processTerm($,!0,K,H);this.lhs.push(B)}),Y==="")Y+=[...this.symbolToInfo.entries()].filter(([$,H])=>H.count===1||$==="...").map(([$])=>$).join("");else if(!Y.match(RegExp(dN)))throw Error("Invalid RHS");Y.match(RegExp(P_,"g"))?.forEach(($)=>{if($==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let H=this.symbolToInfo.get($);if(H===void 0)throw Error("Invalid RHS symbol");this.outputDims.push(H.dimValue)}}),this.rhs=this.processTerm(Y,!1,this.outputDims)}addSymbol(J,Z,Q){let Y=this.symbolToInfo.get(J);if(Y!==void 0){if(Y.dimValue!==Z&&Y.count!==1)throw Error("Dimension mismatch");Y.count++,Y.inputIndices.push(Q)}else Y={count:1,dimValue:Z,inputIndices:[Q]};this.symbolToInfo.set(J,Y)}processTerm(J,Z,Q,Y=-1){let $=Q.length,H=!1,K=[],B=0;if(!J.match(RegExp(bE))&&!Z&&J!=="")throw Error("Invalid LHS term");let q=J.match(RegExp(P_,"g")),L=new Um(Y);return q?.forEach((O,z)=>{if(O==="..."){if(H)throw Error("Only one ellipsis is allowed per input term");H=!0;let F=$-q.length+1;if(F<0)throw Error("Ellipsis out of bounds");if(K=Q.slice(B,B+F),this.hasEllipsis){if(this.ellipsisDims.length!==K.length||this.ellipsisDims.toString()!==K.toString())throw Error("Ellipsis dimensions mismatch")}else if(Z)this.hasEllipsis=!0,this.ellipsisDims=K;else throw Error("Ellipsis must be specified in the LHS");for(let V=0;V<K.length;V++){let A=String.fromCharCode(48+V);L.addSymbol(A,z+V),this.addSymbol(A,Q[B++],Y)}}else L.addSymbol(O,z+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(O,Q[B++],Y)}),L}},vE=(J)=>J+"_max",Om=(J,Z,Q,Y)=>{let $=J.map((L)=>L.length).map((L,O)=>q0(`input${O}`,Z,L)),H=t1.size(Y),K=H2("output",Z,Y.length),B=[...Q.symbolToInfo.keys()].filter((L)=>!Q.rhs.symbolToIndices.has(L)),q=(L)=>{let O=[],z="var prod = 1.0;",F="var sum = 0.0;",V="sum += prod;",A=[],M=[],j=[],D=[],w=Q.symbolToInfo.size===Q.rhs.symbolToIndices.size;Q.symbolToInfo.forEach((I,b)=>{if(Q.rhs.symbolToIndices.has(b)){let E=Q.rhs.symbolToIndices.get(b)?.[0];E!==void 0&&Q.lhs.forEach((k,T)=>{if(I.inputIndices.includes(T)){let S=k.symbolToIndices.get(b);if(S===void 0)throw Error("Invalid symbol error");S.forEach((d)=>{O.push(`${$[T].indicesSet(`input${T}Indices`,d,K.indicesGet("outputIndices",E))}`)})}})}else Q.lhs.forEach((E,k)=>{if(I.inputIndices.includes(k)){let T=E.symbolToIndices.get(b);if(T===void 0)throw Error("Invalid symbol error");T.forEach((S)=>{A.push(`${$[k].indicesSet(`input${k}Indices`,S,`${b}`)}`)}),D.push(`prod *= ${$[k].getByIndices(`input${k}Indices`)};`)}}),M.push(`for(var ${b}: u32 = 0; ${b} < uniforms.${vE(b)}; ${b}++) {`),j.push("}")});let C=w?[...O,`let sum = ${$.map((I,b)=>I.getByIndices(`input${b}Indices`)).join(" * ")};`]:[...O,F,...M,...A,z,...D,V,...j];return`
            ${L.registerUniforms(B.map((I)=>({name:`${vE(I)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...$,K)}

            ${L.mainStart()}
            ${L.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
            var outputIndices = ${K.offsetToIndices("global_idx")};
            ${$.map((I,b)=>`var input${b}Indices: ${$[b].type.indices};`).join(`
`)}
            ${C.join(`
`)};
            ${K.setByOffset("global_idx","sum")};
          }`};return{name:"Einsum",shaderCache:{hint:Q.equation,inputDependencies:J.map(()=>"rank")},getRunData:()=>{let L=B.filter((z)=>Q.symbolToInfo.has(z)).map((z)=>({type:12,data:Q.symbolToInfo.get(z)?.dimValue||0}));L.push({type:12,data:H});let O=J.map((z,F)=>[...N2(z)]).reduce((z,F)=>z.concat(F),L);return O.push(...N2(Y)),{outputs:[{dims:Y,dataType:Z}],dispatchGroup:{x:Math.ceil(H/64)},programUniforms:O}},getShaderSource:q}},Fi=(J,Z)=>{let Q=new Lm(J.inputs,Z.equation),Y=Q.outputDims,$=J.inputs.map((H,K)=>H.dims);J.compute(Om($,J.inputs[0].dataType,Q,Y))},Ai=(J)=>{let Z=J.equation.replace(/\s+/g,"");return i5({equation:Z})}}),_91=f0(()=>{g2(),n2(),r2(),zm=(J)=>{if(!J||J.length!==2)throw Error("Expand requires 2 input.");let Z=J[0].dims,Q=Array.from(J[1].getBigInt64Array(),Number),Y=Q.length<Z.length?0:Q.length-Z.length,$=Z.length<Q.length?0:Z.length-Q.length;for(;Y<Q.length&&$<Z.length;++Y,++$)if(Q[Y]!==Z[$]&&Q[Y]!==1&&Z[$]!==1)throw Error("Expand requires shape to be broadcastable to input")},fE=(J,Z)=>{let Q=J.length-Z.length,Y=[];for(let $=0;$<Q;++$)Y.push(J[$]);for(let $=0;$<Z.length;++$)Y.push(Z[$]===1?J[$+Q]:Z[$]);return Y},Nm=(J,Z)=>J.length>Z.length?fE(J,Z):fE(Z,J),Fm=(J)=>{let Z=J[0].dims,Q=Array.from(J[1].getBigInt64Array(),Number),Y=Nm(Z,Q),$=J[0].dataType,H=$===9||t1.size(Z)===1,K=$===9||Z.length>0&&Z[Z.length-1]%4===0?4:1,B=H||Y.length>0&&Y[Y.length-1]%4===0?4:1,q=Math.ceil(t1.size(Y)/B),L=(z)=>{let F=q0("input",$,Z.length,K),V=H2("output",$,Y.length,B),A;if($===9){let M=(j,D,w="")=>`
          let outputIndices${D} = ${V.offsetToIndices(`outputOffset + ${D}u`)};
          let offset${D} = ${F.broadcastedIndicesToOffset(`outputIndices${D}`,V)};
          let index${D} = offset${D} / 4u;
          let component${D} = offset${D} % 4u;
          ${j}[${D}] = ${w}(${F.getByOffset(`index${D}`)}[component${D}]);
        `;A=`
        let outputOffset = global_idx * ${B};
        var data = vec4<u32>(0);
        ${M("data",0,"u32")}
        ${M("data",1,"u32")}
        ${M("data",2,"u32")}
        ${M("data",3,"u32")}
        ${V.setByOffset("global_idx","data")}
      }`}else A=`
        let outputIndices = ${V.offsetToIndices(`global_idx * ${B}`)};
        let inputOffset = ${F.broadcastedIndicesToOffset("outputIndices",V)};
        let data = ${V.type.value}(${F.getByOffset(`inputOffset / ${K}`)});
        ${V.setByOffset("global_idx","data")}
      }`;return`
    ${z.registerUniform("vec_size","u32").declareVariables(F,V)}
    ${z.mainStart()}
    ${z.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
    ${A}`},O=[{type:12,data:q},...N2(Z,Y)];return{name:"Expand",shaderCache:{hint:`${Y.length};${K}${B}`,inputDependencies:["rank"]},getShaderSource:L,getRunData:()=>({outputs:[{dims:Y,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(q/64)},programUniforms:O})}},Mi=(J)=>{zm(J.inputs),J.compute(Fm(J.inputs),{inputs:[0]})}}),V91=f0(()=>{g2(),n2(),r2(),Sk(),Am=(J)=>{let Z=J[0].dataType,Q=t1.size(J[0].dims),Y=t1.size(J[1].dims),$=Y%4===0,H=(K)=>{let B=q0("x",Z,[1],4),q=q0("bias",Z,[1],4),L=H2("y",Z,[1],4),O=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],z=(V)=>`
      let bias${V}_offset: u32 = (global_idx * 4 + ${V}) % uniforms.bias_size;
      let bias${V} = ${q.getByOffset(`bias${V}_offset / 4`)}[bias${V}_offset % 4];`,F=$?`
      let bias = ${q.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${z(0)}${z(1)}${z(2)}${z(3)}
      let bias = ${B.type.value}(bias0, bias1, bias2, bias3);`;return`${K.registerUniforms(O).declareVariables(B,q,L)}

    ${Wk(R9(Z))}

    ${K.mainStart(zL)}
      ${K.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}

      let x = ${B.getByOffset("global_idx")};
      ${F}
      let x_in = x + bias;
      ${L.setByOffset("global_idx",Kk("x_in"))}
    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${$}`,inputDependencies:["type","type"]},getShaderSource:H,getRunData:(K)=>({outputs:[{dims:K[0].dims,dataType:K[0].dataType}],programUniforms:[{type:12,data:Math.ceil(Q/4)},{type:12,data:Y}],dispatchGroup:{x:Math.ceil(Q/zL/4)}})}},_i=(J)=>{J.inputs.length<2||t1.size(J.inputs[1].dims)===0?ul(J):J.compute(Am(J.inputs))}}),I91=f0(()=>{g2(),n2(),k7(),r2(),Mm=(J)=>{if(!J||J.length!==2)throw Error("Gather requires 2 inputs.")},_m=(J,Z)=>{let Q=J[0].dims,Y=J[1].dims,$=Q.length,H=t1.normalizeAxis(Z.axis,$),K=Q.slice(0);K.splice(H,1,...Y);let B=Q[H],q=J[0].dataType===9?4:1,L=Math.ceil(t1.size(K)/q),O=[{type:12,data:L},{type:6,data:B},{type:12,data:H},...N2(J[0].dims,J[1].dims,K)],z=(F)=>{let V=q0("data",J[0].dataType,J[0].dims.length,q),A=q0("inputIndices",J[1].dataType,J[1].dims.length),M=H2("output",J[0].dataType,K.length,q),j=(w)=>{let C=Y.length,I=`var indicesIndices${w}  = ${A.type.indices}(0);`;for(let b=0;b<C;b++)I+=`${C>1?`indicesIndices${w}[${b}]`:`indicesIndices${w}`} = ${K.length>1?`outputIndices${w}[uniforms.axis + ${b}]`:`outputIndices${w}`};`;I+=`
          var idx${w} = ${A.getByIndices(`indicesIndices${w}`)};
          if (idx${w} < 0) {
            idx${w} = idx${w} + uniforms.axisDimLimit;
          }
          var dataIndices${w} : ${V.type.indices};
        `;for(let b=0,E=0;b<$;b++)b===H?(I+=`${$>1?`dataIndices${w}[${b}]`:`dataIndices${w}`} = u32(idx${w});`,E+=C):(I+=`${$>1?`dataIndices${w}[${b}]`:`dataIndices${w}`} = ${K.length>1?`outputIndices${w}[${E}]`:`outputIndices${w}`};`,E++);return I},D;if(J[0].dataType===9){let w=(C,I,b="")=>`
          let outputIndices${I} = ${M.offsetToIndices(`outputOffset + ${I}u`)};
          ${j(I)};
          let offset${I} = ${V.indicesToOffset(`dataIndices${I}`)};
          let index${I} = offset${I} / 4u;
          let component${I} = offset${I} % 4u;
          ${C}[${I}] = ${b}(${V.getByOffset(`index${I}`)}[component${I}]);
        `;D=`
        let outputOffset = global_idx * ${q};
        var value = vec4<u32>(0);
        ${w("value",0,"u32")}
        ${w("value",1,"u32")}
        ${w("value",2,"u32")}
        ${w("value",3,"u32")}
        ${M.setByOffset("global_idx","value")}
      `}else D=`
      let outputIndices = ${M.offsetToIndices("global_idx")};
      ${j("")};
      let value = ${V.getByIndices("dataIndices")};
      ${M.setByOffset("global_idx","value")};
      `;return`
      ${F.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(V,A,M)}
      ${F.mainStart()}
        ${F.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        ${D}
      }`};return{name:"Gather",shaderCache:{hint:Z.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:K,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(L/64)},programUniforms:O}),getShaderSource:z}},Vi=(J)=>i5({axis:J.axis}),Ii=(J,Z)=>{let Q=J.inputs;Mm(Q),J.compute(_m(J.inputs,Z))}}),j91=f0(()=>{g2(),n2(),r2(),Vm=(J,Z,Q,Y,$,H,K,B,q)=>{let L=[{type:12,data:H},{type:12,data:Y},{type:12,data:$},{type:12,data:Q},{type:12,data:K},{type:12,data:B},{type:12,data:q}],O=[H];L.push(...N2(Z.dims,O));let z=(F)=>{let V=q0("indices_data",Z.dataType,Z.dims.length),A=H2("input_slice_offsets_data",12,1,1),M=[V,A],j=[{name:"output_size",type:"u32"},{name:"batch_dims",type:"u32"},{name:"input_dims",type:"u32",length:$.length},{name:"sizes_from_slice_dims_data",type:"u32",length:Q.length},{name:"num_slices_per_batch",type:"u32"},{name:"input_batch_stride",type:"u32"},{name:"num_slice_dims",type:"u32"}];return`
  ${F.registerUniforms(j).declareVariables(...M)}
  ${F.mainStart()}
    ${F.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let batch_idx = global_idx / uniforms.num_slices_per_batch;
    let base_offset = batch_idx * uniforms.input_batch_stride;

    let slice_indices_base_offset = global_idx * uniforms.num_slice_dims;
    var relative_slice_offset = 0;
    for (var dim_idx = 0u; dim_idx < uniforms.num_slice_dims; dim_idx ++) {
      var index = i32(indices_data[dim_idx + slice_indices_base_offset].x);
      let input_dim_idx = uniforms.batch_dims + dim_idx;
      if (index < 0) {
        ${$.length===1?"index += i32(uniforms.input_dims);":"index += i32(uniforms.input_dims[input_dim_idx]);"}
      }
      ${Q.length===1?"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data);":"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data[dim_idx]);"}
    }

    input_slice_offsets_data[global_idx] =  base_offset + u32(relative_slice_offset);
  }`};return J.compute({name:"computeSliceOffsets",shaderCache:{hint:`${$.length}_${Q.length}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:O,dataType:J.inputs[1].dataType}],dispatchGroup:{x:Math.ceil(H/64)},programUniforms:L}),getShaderSource:z},{inputs:[Z],outputs:[-1]})[0]},ji=(J,Z)=>{let Q=J.inputs,Y=Q[0].dims,$=Q[0].dataType,H=Q[1].dims,K=H[H.length-1],B=t1.sizeToDimension(H,H.length-1),q=t1.sizeFromDimension(Y,Z.batchDims+K),L=t1.sizeToDimension(Y,Z.batchDims),O=t1.sizeFromDimension(Y,Z.batchDims),z=B/L,F=Array(K),V=q;for(let I=0;I<K;++I)F[K-1-I]=V,V*=Y[Z.batchDims+K-1-I];let A=Vm(J,Q[1],F,Z.batchDims,Y,B,z,O,K),M=Z.batchDims+K;if(M>Y.length)throw Error("last dimension of indices must not be larger than rank of input tensor");let j=H.slice(0,-1).concat(Y.slice(M)),D=t1.size(j),w=[{type:12,data:D},{type:12,data:q},...N2(Q[0].dims,A.dims,j)],C=(I)=>{let b=q0("data",Q[0].dataType,Q[0].dims.length),E=q0("slice_offsets",12,A.dims.length),k=H2("output",Q[0].dataType,j.length);return`
          ${I.registerUniform("output_size","u32").registerUniform("slice_size","u32").declareVariables(b,E,k)}
            ${I.mainStart()}
            ${I.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let slice_offset = slice_offsets[global_idx / uniforms.slice_size];
          output[global_idx] = data[u32(slice_offset) + global_idx % uniforms.slice_size];
        }`};J.compute({name:"GatherND",shaderCache:{hint:Z.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:j,dataType:$}],dispatchGroup:{x:Math.ceil(D/64)},programUniforms:w}),getShaderSource:C},{inputs:[Q[0],A]})},Di=(J)=>({batchDims:J.batch_dims,cacheKey:""})}),D91=f0(()=>{g2(),n2(),k7(),r2(),Im=(J,Z)=>{if(J.length<3||J.length>4)throw Error("GatherBlockQuantized requires 3 or 4 inputs.");let Q=t1.normalizeAxis(Z.quantizeAxis,J[0].dims.length),Y=Z.blockSize,$=J[0],H=J[2],K=J.length===4?J[3]:void 0;if(H.dims.length!==$.dims.length||!$.dims.map((B,q)=>q===Q?Math.ceil(B/Y)===H.dims[q]:B===H.dims[q]).reduce((B,q)=>B&&q,!0))throw Error("Scales must have the same rank as the input tensor and the dims should match except on gatherAxis.");if(K){if(K.dataType!==$.dataType)throw Error("Zero point must have the same data type as the input tensor.");if(K.dims.length!==H.dims.length||!K.dims.map((B,q)=>B===H.dims[q]).reduce((B,q)=>B&&q,!0))throw Error("Zero point must have the same rank as the input tensor and the dims should match except on quantizeAxis.")}},jm=(J,Z)=>{let Q=J[0].dims,Y=J[1].dims,$=Q.length,H=t1.normalizeAxis(Z.gatherAxis,$),K=t1.normalizeAxis(Z.quantizeAxis,$),B=Q.slice(0);B.splice(H,1,...Y);let q=t1.size(B),L=J[2].dataType,O=J[0].dataType===22,z=[{type:12,data:q},{type:12,data:K},{type:12,data:H},{type:12,data:Z.blockSize},...N2(...J.map((V,A)=>V.dims),B)],F=(V)=>{let A=q0("data",J[0].dataType,J[0].dims.length),M=q0("inputIndices",J[1].dataType,J[1].dims.length),j=q0("scales",J[2].dataType,J[2].dims.length),D=J.length>3?q0("zeroPoint",J[3].dataType,J[3].dims.length):void 0,w=H2("output",L,B.length),C=[A,M,j];D&&C.push(D);let I=[{name:"output_size",type:"u32"},{name:"quantize_axis",type:"u32"},{name:"gather_axis",type:"u32"},{name:"block_size",type:"u32"}];return`
        ${V.registerUniforms(I).declareVariables(...C,w)}
        ${V.mainStart()}
        let output_indices = ${w.offsetToIndices("global_idx")};
        var indices_indices = ${M.type.indices}(0);
        ${Y.length>1?`
          for (var i: u32 = 0; i < ${Y.length}; i++) {
            let index = ${w.indicesGet("output_indices","uniforms.gather_axis + i")};
            ${M.indicesSet("indices_indices","i","index")};
          }`:`indices_indices = ${w.indicesGet("output_indices","uniforms.gather_axis")};`};
        var data_indices = ${A.type.indices}(0);
        for (var i: u32 = 0; i < uniforms.gather_axis; i++) {
          let index = ${w.indicesGet("output_indices","i")};
          ${A.indicesSet("data_indices","i","index")};
        }
        var index_from_indices = ${M.getByIndices("indices_indices")};
        if (index_from_indices < 0) {
          index_from_indices += ${Q[H]};
        }
        ${A.indicesSet("data_indices","uniforms.gather_axis","u32(index_from_indices)")};
        for (var i = uniforms.gather_axis + 1; i < ${B.length}; i++) {
          let index = ${w.indicesGet("output_indices",`i + ${Y.length} - 1`)};
          ${A.indicesSet("data_indices","i","index")};
        }
        let data_offset = ${A.indicesToOffset("data_indices")};
        let data_index = data_offset % 8;
        // Convert 4-bit packed data to 8-bit packed data.
        let packed_4bit_quantized_data = ${A.getByOffset("data_offset / 8")};
        let packed_8bit_quantized_data = (packed_4bit_quantized_data >> (4 * (data_index % 2))) & 0x0f0f0f0f;
        let quantized_data_vec = ${O?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_quantized_data));
        let quantized_data = quantized_data_vec[data_index / 2];
        var scale_indices = data_indices;
        let quantize_axis_index = ${j.indicesGet("data_indices","uniforms.quantize_axis")} / uniforms.block_size;
        ${j.indicesSet("scale_indices","uniforms.quantize_axis","quantize_axis_index")};
        var scale = ${j.getByIndices("scale_indices")};
        ${D?`
              let zero_point_indices = scale_indices;
              let zero_point_offset = ${D.indicesToOffset("zero_point_indices")};
              let zero_point_index = zero_point_offset % 8;
              let packed_4bit_zero_points = ${D.getByOffset("zero_point_offset / 8")};
              let packed_8bit_zero_points = (packed_4bit_zero_points >> (4 * (zero_point_index % 2))) & 0x0f0f0f0f;
              let zero_point_vec = ${O?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_zero_points));
              let zero_point = zero_point_vec[zero_point_index / 2];`:"var zero_point = 0"};
        let dequantized_data = ${R9(L)}(quantized_data - zero_point) * scale;
        ${w.setByOffset("global_idx","dequantized_data")};
    }`};return{name:"GatherBlockQuantized",shaderCache:{hint:`${Z.cacheKey};${J.filter((V,A)=>A!==1).map((V)=>V.dims.join("_")).join(";")}`,inputDependencies:Array.from({length:J.length},(V,A)=>"rank")},getRunData:()=>({outputs:[{dims:B,dataType:L}],dispatchGroup:{x:Math.ceil(q/64)},programUniforms:z}),getShaderSource:F}},wi=(J,Z)=>{let Q=J.inputs;Im(Q,Z),J.compute(jm(J.inputs,Z))},Ei=(J)=>i5({blockSize:J.blockSize,gatherAxis:J.gatherAxis,quantizeAxis:J.quantizeAxis})}),w91=f0(()=>{g2(),n2(),k7(),r2(),Dm=(J)=>{if(!J||J.length!==2)throw Error("GatherElements requires 2 inputs.");if(J[0].dims.length<1)throw Error("GatherElements requires that the data input be rank >= 1.");if(J[0].dims.length!==J[1].dims.length)throw Error(`GatherElements requires that the data input and
                     indices input tensors be of same rank.`)},wm=(J,Z)=>{let Q=J[0].dims,Y=J[0].dataType,$=Q.length,H=J[1].dims,K=J[1].dataType,B=t1.normalizeAxis(Z.axis,$),q=Q[B],L=H.slice(0),O=t1.size(L),z=q0("input",Y,$),F=q0("indicesInput",K,H.length),V=H2("output",Y,L.length),A=[{type:12,data:O},{type:6,data:q},{type:12,data:B}];return A.push(...N2(Q,H,L)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:L,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(O/64)},programUniforms:A}),getShaderSource:(M)=>`
      ${M.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(z,F,V)}
      ${M.mainStart()}
      ${M.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

      let outputIndices = ${V.offsetToIndices("global_idx")};

      var idx = ${F.getByOffset("global_idx")};
      if (idx < 0) {
        idx = idx + uniforms.axisDimLimit;
      }
      var inputIndices = ${z.type.indices}(outputIndices);
      ${z.indicesSet("inputIndices","uniforms.axis","u32(idx)")};
      let value = ${z.getByIndices("inputIndices")};

      ${V.setByOffset("global_idx","value")};
  }`}},ki=(J)=>i5({axis:J.axis}),xi=(J,Z)=>{let Q=J.inputs;Dm(Q),J.compute(wm(J.inputs,Z))}}),E91=f0(()=>{g2(),n2(),r2(),Em=(J)=>{if(!J)throw Error("Input is missing");if(J.length<2||J.length>3)throw Error("Invaid input number.");if(J.length===3&&J[2].dims.length>2)throw Error("Invalid input shape of C");if(J[0].dataType!==J[1].dataType||J.length===3&&J[0].dataType!==J[2].dataType)throw Error("Input types are mismatched")},km=(J,Z)=>{let Q=J[0].dims.slice(),Y=J[1].dims.slice(),[$,H,K]=kp.getShapeOfGemmResult(Q,Z.transA,Y,Z.transB,J.length===3?J[2].dims:void 0),B=[$,H];if(!B)throw Error("Can't use gemm on the given tensors");let q=16,L=Math.ceil(H/q),O=Math.ceil($/q),z=!0,F=t1.size(B),V=[{type:12,data:z?L:F},{type:12,data:$},{type:12,data:H},{type:12,data:K},{type:1,data:Z.alpha},{type:1,data:Z.beta}],A=["type","type"];J.length===3&&(V.push(...N2(J[2].dims)),A.push("rank")),V.push(...N2(B));let M=(D)=>{let w="";Z.transA&&Z.transB?w="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":Z.transA&&!Z.transB?w="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!Z.transA&&Z.transB?w="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!Z.transA&&!Z.transB&&(w="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");let C=Z.alpha===1?"":"value *= uniforms.alpha;",I=q0("a",J[0].dataType,J[0].dims),b=q0("b",J[1].dataType,J[1].dims),E=I.type.value,k=null,T=[I,b];J.length===3&&(k=q0("c",J[2].dataType,J[2].dims.length),T.push(k));let S=H2("output",J[0].dataType,B.length);T.push(S);let d=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`
  ${D.registerUniforms(d).declareVariables(...T)}

  ${D.mainStart()}
    ${D.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let m = global_idx / uniforms.N;
    let n = global_idx % uniforms.N;

    var value = ${E}(0);
    for (var k: u32 = 0u; k < uniforms.K; k++) {
      ${w}
    }

    ${C}
    ${k!=null?`let cOffset = ${k.broadcastedIndicesToOffset("vec2(m, n)",S)}; value += ${E}(uniforms.beta) * ${k.getByOffset("cOffset")};`:""}
    output[global_idx] = value;
  }`},j=(D)=>{let w=q0("a",J[0].dataType,J[0].dims),C=q0("b",J[1].dataType,J[1].dims),I=null,b=[w,C];J.length===3&&(I=q0("c",J[2].dataType,J[2].dims.length),b.push(I));let E=H2("output",J[0].dataType,B.length);b.push(E);let k=[{name:"num_tile_n",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}],T="",S="";Z.transA&&Z.transB?(S=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${w.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${C.type.value}(0);
      }
      `,T="value += tile_a[k][local_id.y] * tile_b[local_id.x][k];"):Z.transA&&!Z.transB?(S=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${w.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${C.type.value}(0);
      }
      `,T="value += tile_a[k][local_id.y] * tile_b[k][local_id.x];"):!Z.transA&&Z.transB?(S=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${w.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${C.type.value}(0);
      }
      `,T="value += tile_a[local_id.y][k] * tile_b[local_id.x][k];"):!Z.transA&&!Z.transB&&(S=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${w.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${C.type.value}(0);
      }
      `,T="value += tile_a[local_id.y][k] * tile_b[k][local_id.x];");let d=Z.alpha===1?"":"value *= uniforms.alpha;";return`
  ${D.registerUniforms(k).declareVariables(...b)}
  var<workgroup> tile_a: array<array<${w.type.storage}, ${q}>, ${q}>;
  var<workgroup> tile_b: array<array<${C.type.storage}, ${q}>, ${q}>;
  ${D.mainStart([q,q,1])}
    let tile_col_start = (workgroup_index % uniforms.num_tile_n) * ${q};
    let tile_row_start = (workgroup_index / uniforms.num_tile_n) * ${q};
    let num_tiles = (uniforms.K - 1) / ${q} + 1;
    var k_start = 0u;
    var value = ${E.type.value}(0);
    for (var t: u32 = 0u; t < num_tiles; t++) {
      ${S}
      k_start = k_start + ${q};
      workgroupBarrier();

      for (var k: u32 = 0u; k < ${q}; k++) {
        ${T}
      }
      workgroupBarrier();
    }

    ${d}
    let m = tile_row_start + local_id.y;
    let n = tile_col_start + local_id.x;
    ${I!=null?`let cOffset = ${I.broadcastedIndicesToOffset("vec2(m, n)",E)}; value += ${E.type.value}(uniforms.beta) * ${I.getByOffset("cOffset")};`:""}
    if (m < uniforms.M && n < uniforms.N) {
      output[m * uniforms.N + n] = value;
    }
  }`};return z?{name:"GemmShared",shaderCache:{hint:`${Z.cacheKey}`,inputDependencies:A},getRunData:()=>({outputs:[{dims:B,dataType:J[0].dataType}],dispatchGroup:{x:L*O},programUniforms:V}),getShaderSource:j}:{name:"Gemm",shaderCache:{hint:`${Z.cacheKey}`,inputDependencies:A},getRunData:()=>({outputs:[{dims:B,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(F/64)},programUniforms:V}),getShaderSource:M}},Ri=(J)=>{let{transA:Z,transB:Q,alpha:Y,beta:$}=J;return{transA:Z,transB:Q,alpha:Y,beta:$,cacheKey:`${J.transA};${J.transB};${J.alpha===1}`}},Ci=(J,Z)=>{Em(J.inputs),J.compute(km(J.inputs,Z))}}),k91=f0(()=>{g2(),n2(),k7(),r2(),[IQ,SX,ZK,QK]=[0,1,2,3],xm=(J)=>{if(J[0].dims.length!==4)throw Error("only 4-D tensor is supported.");if(J[0].dims.length!==J[1].dims.length)throw Error("input dimensions must be equal to grid dimensions");if(J[0].dims.length-2!==J[1].dims[J[1].dims.length-1])throw Error(`last dimension of grid must be equal to ${J[0].dims.length-2}`);if(J[0].dims[0]!==J[1].dims[0])throw Error("grid batch size must match input batch size")},Rm=`
  fn gs_get_cubic_coeffs(x: f32) -> vec4<f32> {
    let cubic_alpha = -0.75f;
    let x_abs = abs(x);
    var coeffs: vec4<f32>;
    coeffs[0] = (((cubic_alpha * (x_abs + 1) - 5 * cubic_alpha) * (x_abs + 1) + 8 * cubic_alpha) * (x_abs + 1) - 4 * cubic_alpha);
    coeffs[1] = (((cubic_alpha + 2) * x_abs - (cubic_alpha + 3)) * x_abs * x_abs + 1);
    coeffs[2] = (((cubic_alpha + 2) * (1 - x_abs) - (cubic_alpha + 3)) * (1 - x_abs) * (1 - x_abs) + 1);
    coeffs[3] = (((cubic_alpha * (2 - x_abs) - 5 * cubic_alpha) * (2 - x_abs) + 8 * cubic_alpha) * (2 - x_abs) - 4 * cubic_alpha);
    return coeffs;
  }
`,Cm=(J)=>`
  fn gs_bicubic_interpolate(p: mat4x4<${J}>, x: f32, y: f32) -> ${J} {
    var v: vec4<f32>;
    var coeffs = gs_get_cubic_coeffs(x);
    for (var i = 0; i < 4; i++) {
      v[i] = coeffs[0] * p[i][0] + coeffs[1] * p[i][1] + coeffs[2] * p[i][2] + coeffs[3] * p[i][3];
    }
    coeffs = gs_get_cubic_coeffs(y);
    let pixel = ${J}(coeffs[0] * v[0] + coeffs[1] * v[1] + coeffs[2] * v[2] + coeffs[3] * v[3]);
    return pixel;
  }
`,bm=(J)=>`
  fn gs_denormalize(n: f32, length: i32) -> f32 {
    ${J.alignCorners===0?`
    // alignCorners: false => [-1, 1] to [-0.5, length - 0.5]
    return ((n + 1.0) * f32(length) - 1.0) / 2.0;
    `:`
    // alignCorners: true => [-1, 1] to [0, length - 1]
    return (n + 1.0) / 2.0 * (f32(length - 1));
    `}
  }
`,vm=(J)=>`
  ${J.paddingMode==="reflection"?`
      fn gs_reflect(x: i32, x_min: f32, x_max: f32) -> u32 {
        var dx = 0.0;
        var fx = f32(x);
        let range = x_max - x_min;
        if (fx < x_min) {
          dx = x_min - fx;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_min + r;
          } else {
            fx = x_max - r;
          }
        } else if (fx > x_max) {
          dx = fx - x_max;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_max - r;
          } else {
            fx = x_min + r;
          }
        }
        return u32(fx);
      }`:""}
`,fm=(J,Z,Q)=>`
  fn pixel_at_grid(r: i32, c: i32, H: i32, W: i32, batch: u32, channel: u32, border: vec4<f32>) -> ${Z} {
     var pixel = ${Z}(0);
     var indices = vec4<u32>(0);
     indices[${IQ}] = batch;
     indices[${SX}] = channel;`+(()=>{switch(Q.paddingMode){case"zeros":return`
          if (r >= 0 && r < H && c >=0 && c < W) {
            indices[${ZK}] = u32(r);
            indices[${QK}] = u32(c);
          } else {
            return ${Z}(0);
          }
        `;case"border":return`
          indices[${ZK}] = u32(clamp(r, 0, H - 1));
          indices[${QK}] = u32(clamp(c, 0, W - 1));
        `;case"reflection":return`
          indices[${ZK}] = gs_reflect(r, border[1], border[3]);
          indices[${QK}] = gs_reflect(c, border[0], border[2]);
        `;default:throw Error(`padding mode ${Q.paddingMode} is not supported`)}})()+`
    return ${J.getByIndices("indices")};
  }
`,Sm=(J,Z,Q)=>(()=>{switch(Q.mode){case"nearest":return`
          let result = pixel_at_grid(i32(round(y)), i32(round(x)), H_in, W_in, indices[${IQ}], indices[${SX}], border);
        `;case"bilinear":return`
          let x1 = i32(floor(x));
          let y1 = i32(floor(y));
          let x2 = x1 + 1;
          let y2 = y1 + 1;

          let p11 = pixel_at_grid(y1, x1, H_in, W_in, indices[${IQ}], indices[${SX}], border);
          let p12 = pixel_at_grid(y1, x2, H_in, W_in, indices[${IQ}], indices[${SX}], border);
          let p21 = pixel_at_grid(y2, x1, H_in, W_in, indices[${IQ}], indices[${SX}], border);
          let p22 = pixel_at_grid(y2, x2, H_in, W_in, indices[${IQ}], indices[${SX}], border);

          let dx2 = ${Z}(f32(x2) - x);
          let dx1 = ${Z}(x - f32(x1));
          let dy2 = ${Z}(f32(y2) - y);
          let dy1 = ${Z}(y - f32(y1));
          let result = dy2 * (dx2 * p11 + dx1 * p12) + dy1 * (dx2 * p21 + dx1 * p22);
        `;case"bicubic":return`
          let x0 = i32(floor(x)) - 1;
          let y0 = i32(floor(y)) - 1;
          var p: mat4x4<${Z}>;
          for (var h = 0; h < 4; h++) {
            for (var w = 0; w < 4; w++) {
              p[h][w] = pixel_at_grid(h + y0, w + x0, H_in, W_in, indices[${IQ}], indices[${SX}], border);
            }
          }

          let dx = x - f32(x0 + 1);
          let dy = y - f32(y0 + 1);
          let result = gs_bicubic_interpolate(p, dx, dy);
        `;default:throw Error(`mode ${Q.mode} is not supported`)}})()+`${J.setByOffset("global_idx","result")}`,Tm=(J,Z)=>{let Q=q0("x",J[0].dataType,J[0].dims.length),Y=[J[1].dims[0],J[1].dims[1],J[1].dims[2]],$=q0("grid",J[1].dataType,Y.length,2),H=[J[0].dims[0],J[0].dims[1],J[1].dims[1],J[1].dims[2]];Z.format==="NHWC"&&(H=[J[0].dims[0],J[1].dims[1],J[1].dims[2],J[0].dims[3]],[IQ,SX,ZK,QK]=[0,3,1,2]);let K=H2("output",J[0].dataType,H.length),B=Q.type.value,q=t1.size(H),L=[{type:12,data:q},...N2(J[0].dims,Y,H)],O=(z)=>`
  ${z.registerUniform("output_size","u32").declareVariables(Q,$,K)}
  ${Rm}
  ${Cm(B)}
  ${bm(Z)}
  ${vm(Z)}
  ${fm(Q,B,Z)}

  ${z.mainStart()}
    ${z.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let H_in = i32(uniforms.x_shape[${ZK}]);
      let W_in = i32(uniforms.x_shape[${QK}]);

      ${Z.alignCorners===0?`
      let x_min = -0.5;
      let x_max = f32(W_in) - 0.5;
      let y_min = -0.5;
      let y_max = f32(H_in) - 0.5;
      `:`
      let x_min = 0.0;
      let x_max = f32(W_in) - 1.0;
      let y_min = 0.0;
      let y_max = f32(H_in) - 1.0;
      `};
      let border = vec4<f32>(x_min, y_min, x_max, y_max);

      let indices = ${K.offsetToIndices("global_idx")};
      var grid_indices = vec3<u32>(indices[${IQ}], indices[${ZK}], indices[${QK}]);
      let nxy = ${$.getByIndices("grid_indices")};
      var x = gs_denormalize(f32(nxy[0]), W_in);
      var y = gs_denormalize(f32(nxy[1]), H_in);

      ${Sm(K,B,Z)}
  }`;return{name:"GridSample",shaderCache:{hint:`${Z.cacheKey}`,inputDependencies:["type","type"]},getRunData:(z)=>{let F=t1.size(H);return{outputs:[{dims:H,dataType:z[0].dataType}],dispatchGroup:{x:Math.ceil(F/64)},programUniforms:L}},getShaderSource:O}},bi=(J,Z)=>{xm(J.inputs),J.compute(Tm(J.inputs,Z))},fi=(J)=>i5({alignCorners:J.align_corners,mode:J.mode,paddingMode:J.padding_mode,format:J.format})}),Pi=f0(()=>{g2(),n2(),k7(),Ck(),fk(),r2(),cG(),G8=(J,Z)=>J.length>Z&&J[Z].dims.length>0?J[Z]:void 0,Pm=(J,Z)=>{let Q=J[0],Y=G8(J,1),$=G8(J,2),H=G8(J,3),K=G8(J,4),B=G8(J,5),q=G8(J,6),L=G8(J,7);if(Q.dims.length!==3&&Q.dims.length!==5)throw Error("Input query is expected to have 3 or 5 dimensions");let O=Q.dims[0],z=Q.dims[1],F=Q.dims.length===3?Q.dims[2]:Z.numHeads*Q.dims[4],V=z,A=0,M=0,j=Math.floor(F/Z.numHeads);if(q&&L&&t1.size(q.dims)&&t1.size(L.dims)){if(q.dims.length!==4)throw Error('Input "past_key" is expected to have 4 dimensions');if(q.dims[0]!==O||q.dims[1]!==Z.numHeads||q.dims[3]!==j)throw Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if(L.dims[0]!==O||L.dims[1]!==Z.numHeads||L.dims[3]!==j)throw Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(q.dims[2]!==L.dims[2])throw Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if(L.dims.length!==4)throw Error('Input "past_value" is expected to have 4 dimensions');A=q.dims[2],M=q.dims[2]}else if(q&&t1.size(q.dims)||L&&t1.size(L.dims))throw Error('Input "past_key" and "past_value" shall be both present or both absent');let D;if(Y&&t1.size(Y.dims)>0){if(Q.dims.length!==3)throw Error('Input "query" is expected to have 3 dimensions when key is given');if(Y.dims.length<3||Y.dims.length>5)throw Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(Q.dims[0]!==Y.dims[0])throw Error('Input "query" and "key" shall have same dim 0 (batch size)');if(Y.dims.length===3){if(Y.dims[2]!==Q.dims[2])throw Error('Input "query" and "key" shall have same dim 2 (hidden_size)');D=2,V=Y.dims[1]}else if(Y.dims.length===5){if(Y.dims[2]!==Z.numHeads||Y.dims[3]!==2||Y.dims[4]!==j)throw Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if($)throw Error('Expect "value" be none when "key" has packed kv format.');D=5,V=Y.dims[1]}else{if(Y.dims[1]!==Z.numHeads||Y.dims[3]!==j)throw Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');D=0,V=Y.dims[2]}}else{if(Q.dims.length!==5)throw Error('Input "query" is expected to have 5 dimensions when key is empty');if(Q.dims[2]!==Z.numHeads||Q.dims[3]!==3)throw Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');D=3}if(H&&t1.size(H.dims)>0){if(H.dims.length!==1)throw Error('Input "bias" is expected to have 1 dimension');if(Y&&Y.dims.length===5&&Y.dims[3]===2)throw Error("bias is not allowed for packed kv.")}let w=A+V,C=0;if(K&&t1.size(K.dims)>0){C=8;let k=K.dims;throw k.length===1?k[0]===O?C=1:k[0]===3*O+2&&(C=3):k.length===2&&k[0]===O&&k[1]===w&&(C=5),C===8?Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, total_sequence_length)'):Error("Mask not supported")}let I=!1,b=F;if($&&t1.size($.dims)>0){if($.dims.length!==3&&$.dims.length!==4)throw Error('Input "value" is expected to have 3 or 4 dimensions');if(Q.dims[0]!==$.dims[0])throw Error('Input "query" and "value" shall have same dim 0 (batch_size)');if($.dims.length===3){if(V!==$.dims[1])throw Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');b=$.dims[2]}else{if(V!==$.dims[2])throw Error('Input "key" and "value" shall have the same dim 2 (kv_sequence_length)');b=$.dims[1]*$.dims[3],I=!0}}let E=!1;if(K&&t1.size(K.dims)>0)throw Error("Key padding mask is not supported");if(B&&t1.size(B.dims)>0){if(B.dims.length!==4)throw Error('Input "attention_bias" is expected to have 4 dimensions');if(B.dims[0]!==O||B.dims[1]!==Z.numHeads||B.dims[2]!==z||B.dims[3]!==w)throw Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:O,sequenceLength:z,pastSequenceLength:A,kvSequenceLength:V,totalSequenceLength:w,maxSequenceLength:M,inputHiddenSize:0,hiddenSize:F,vHiddenSize:b,headSize:j,vHeadSize:Math.floor(b/Z.numHeads),numHeads:Z.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:Z.maskFilterValue,maskType:C,scale:Z.scale,broadcastResPosBias:E,passPastInKv:I,qkvFormat:D}},Si=(J)=>i5({...J}),SE=i5({perm:[0,2,1,3]}),gm=(J,Z,Q,Y,$,H,K)=>{let B=[Y,$,H],q=t1.size(B),L=[{type:12,data:q},{type:12,data:K},{type:12,data:H}],O=(z)=>{let F=H2("qkv_with_bias",Z.dataType,B),V=q0("qkv",Z.dataType,B),A=q0("bias",Q.dataType,B),M=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`
  ${z.registerUniforms(M).declareVariables(V,A,F)}
  ${z.mainStart()}
    ${z.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;

    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];
  }`};return J.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:B,dataType:Z.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(q/64)},programUniforms:L}),getShaderSource:O},{inputs:[Z,Q],outputs:[-1]})[0]},aN=(J,Z,Q,Y,$,H,K,B)=>{let q=H;if(K&&t1.size(K.dims)>0){if(Y===1)throw Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return q=gm(J,H,K,Z,Y,Q*$,B),q=q.reshape([Z,Y,Q,$]),Q===1||Y===1?q:J.compute(I3(q,SE.perm),{inputs:[q],outputs:[-1]})[0]}else return H.dims.length===3&&(q=H.reshape([Z,Y,Q,$])),Q===1||Y===1?q:J.compute(I3(q,SE.perm),{inputs:[q],outputs:[-1]})[0]},Ti=(J,Z)=>{let Q=Pm(J.inputs,Z),Y=J.inputs[0],$=G8(J.inputs,1),H=G8(J.inputs,2),K=G8(J.inputs,3),B=G8(J.inputs,4),q=G8(J.inputs,5),L=G8(J.inputs,6),O=G8(J.inputs,7);if(Y.dims.length===5)throw Error("Packed QKV is not implemented");if($?.dims.length===5)throw Error("Packed KV is not implemented");let z=$&&H&&$.dims.length===4&&H.dims.length===4,F=aN(J,Q.batchSize,Q.numHeads,Q.sequenceLength,Q.headSize,Y,K,0);if(z)return tN(J,F,$,H,B,void 0,L,O,q,Q);if(!$||!H)throw Error("key and value must be provided");let V=aN(J,Q.batchSize,Q.numHeads,Q.kvSequenceLength,Q.headSize,$,K,Q.hiddenSize),A=aN(J,Q.batchSize,Q.numHeads,Q.kvSequenceLength,Q.vHeadSize,H,K,2*Q.hiddenSize);tN(J,F,V,A,B,void 0,L,O,q,Q)}}),hi=f0(()=>{g2(),n2(),k7(),r2(),ym=(J)=>{if(!J||J.length<1)throw Error("too few inputs")},hm=(J,Z)=>{let Q=[],Y=Z.numOutputs;return J[1].dims[0]>0&&(J[1].getBigInt64Array().forEach(($)=>Q.push(Number($))),Y=Q.length),i5({numOutputs:Y,axis:Z.axis,splitSizes:Q})},um=(J)=>`
fn calculateOutputIndex(index: u32) -> u32 {
    for (var i: u32 = 0u; i < ${J}u; i += 1u ) {
    if (index < ${O2("uniforms.size_in_split_axis","i",J)}) {
        return i;
    }
    }
    return ${J}u;
}`,dm=(J)=>{let Z=J.length,Q=[];for(let Y=0;Y<Z;++Y){let $=J[Y].setByIndices("indices","input[global_idx]");Z===1?Q.push($):Y===0?Q.push(`if (output_number == ${Y}u) { ${$} }`):Y===Z-1?Q.push(`else { ${$} }`):Q.push(`else if (output_number == ${Y}) { ${$} }`)}return`
      fn writeBufferData(output_number: u32, indices: ${J[0].type.indices}, global_idx: u32) {
        ${Q.join(`
`)}
      }`},Ok=(J,Z)=>{let Q=J[0].dims,Y=t1.size(Q),$=J[0].dataType,H=t1.normalizeAxis(Z.axis,Q.length),K=Array(Z.numOutputs),B=q0("input",$,Q.length),q=Array(Z.numOutputs),L=[],O=[],z=0,F=[{type:12,data:Y}];for(let A=0;A<Z.numOutputs;A++){z+=Z.splitSizes[A],q[A]=z;let M=Q.slice();M[H]=Z.splitSizes[A],O.push(M),K[A]=H2(`output${A}`,$,M.length),L.push({dims:O[A],dataType:J[0].dataType})}F.push({type:12,data:q},...N2(Q,...O));let V=(A)=>`
  ${A.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",q.length).declareVariables(B,...K)}
  ${um(q.length)}
  ${dm(K)}

  ${A.mainStart()}
    ${A.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}

    var indices = ${B.offsetToIndices("global_idx")};
    var index = ${B.indicesGet("indices",H)};
    let output_number = calculateOutputIndex(index);
    if (output_number != 0) {
      index -= ${O2("uniforms.size_in_split_axis","output_number - 1u",q.length)};
      ${B.indicesSet("indices",H,"index")};
    }
    writeBufferData(output_number, indices, global_idx);
  }`;return{name:"Split",shaderCache:{hint:Z.cacheKey,inputDependencies:["rank"]},getShaderSource:V,getRunData:()=>({outputs:L,dispatchGroup:{x:Math.ceil(Y/64)},programUniforms:F})}},gi=(J,Z)=>{ym(J.inputs);let Q=J.inputs.length===1?Z:hm(J.inputs,Z);J.compute(Ok(J.inputs,Q),{inputs:[0]})},yi=(J)=>{let{axis:Z,splitSizes:Q}=J,Y=J.numOutputs<0?Q.length:J.numOutputs;if(Y!==Q.length)throw Error("numOutputs and splitSizes lengh must be equal");return i5({axis:Z,numOutputs:Y,splitSizes:Q})}}),di=f0(()=>{g2(),n2(),k7(),r2(),mm=(J,Z)=>{let[Q,Y,$,H]=J,{numHeads:K,rotaryEmbeddingDim:B}=Z;if(Q.dims.length!==3&&Q.dims.length!==4)throw Error(`Input 'x' is expected to have 3 or 4 dimensions, got ${Q.dims.length}`);if(!t1.areEqual(Y.dims,[])&&!t1.areEqual(Y.dims,[1])&&Y.dims.length!==2)throw Error(`Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ${Y.dims.length}`);if($.dims.length!==2)throw Error(`Input 'cos_cache' is expected to have 2 dimensions, got ${$.dims.length}`);if(H.dims.length!==2)throw Error(`Input 'sin_cache' is expected to have 2 dimensions, got ${H.dims.length}`);if(!t1.areEqual($.dims,H.dims))throw Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(B>0&&K===0)throw Error("num_heads must be provided if rotary_embedding_dim is specified");let q=Q.dims[0],L=Q.dims[Q.dims.length-2],O=$.dims[0],z=t1.sizeFromDimension(Q.dims,1)/L,F=B===0?$.dims[1]*2:z/K;if(B>F)throw Error("rotary_embedding_dim must be less than or equal to head_size");if(Y.dims.length===2){if(q!==Y.dims[0])throw Error(`Input 'position_ids' dimension 0 should be of size batch_size, got ${Y.dims[0]}`);if(L!==Y.dims[1])throw Error(`Input 'position_ids' dimension 1 should be of size sequence_length, got ${Y.dims[1]}`)}if(F/2!==$.dims[1]&&B/2!==$.dims[1])throw Error(`Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ${$.dims[1]}`);if(L>O)throw Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},i_=(J,Z)=>{let{interleaved:Q,numHeads:Y,rotaryEmbeddingDim:$,scale:H}=Z,K=J[0].dims[0],B=t1.sizeFromDimension(J[0].dims,1),q=J[0].dims[J[0].dims.length-2],L=B/q,O=J[2].dims[1],z=$===0?O*2:L/Y,F=[K,q,L/z,z-O],V=t1.computeStrides(F),A=[{type:1,data:H},{type:12,data:F},{type:12,data:V},...J[0].dims.length===3?[{type:12,data:[B,L,z,1]}]:[],...J[0].dims.length===4?[{type:12,data:[B,z,q*z,1]}]:[],...N2(J[0].dims,J[1].dims,J[2].dims,J[3].dims,J[0].dims)],M=(j)=>{let D=q0("input",J[0].dataType,J[0].dims.length),w=q0("position_ids",J[1].dataType,J[1].dims.length),C=q0("cos_cache",J[2].dataType,J[2].dims.length),I=q0("sin_cache",J[3].dataType,J[3].dims.length),b=H2("output",J[0].dataType,J[0].dims.length);return j.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:F.length},{name:"global_strides",type:"u32",length:V.length},{name:"input_output_strides",type:"u32",length:V.length}]),`
        ${j.declareVariables(D,w,C,I,b)}

        ${j.mainStart(zL)}
          let half_rotary_emb_dim = uniforms.${C.name}_shape[1];
          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;
          let size = uniforms.global_shape[0] * uniforms.global_strides[0];
          ${j.guardAgainstOutOfBoundsWorkgroupSizes("size")}

          if (bsnh[3] < half_rotary_emb_dim) {
            let position_ids_idx =
                ${w.broadcastedIndicesToOffset("bsnh.xy",H2("",w.type.tensor,2))};
            let position_id =
                u32(${w.getByOffset("position_ids_idx")}) + select(0, bsnh[1], position_ids_idx == 0);
            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ${Q});
            let j = i + select(half_rotary_emb_dim, 1, ${Q});
            let re = ${D.getByOffset("i")} * ${C.get("position_id","bsnh[3]")} -
                ${D.getByOffset("j")} * ${I.get("position_id","bsnh[3]")};
            ${b.setByOffset("i","re")}
            let im = ${D.getByOffset("i")} * ${I.get("position_id","bsnh[3]")} +
                ${D.getByOffset("j")} * ${C.get("position_id","bsnh[3]")};
            ${b.setByOffset("j","im")}
          } else {
            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;
            ${b.setByOffset("k",D.getByOffset("k"))}
          }
        }`};return{name:"RotaryEmbedding",shaderCache:{hint:i5({interleaved:Q}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:M,getRunData:()=>({outputs:[{dims:J[0].dims,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(t1.size(F)/zL)},programUniforms:A})}},ui=(J,Z)=>{mm(J.inputs,Z),J.compute(i_(J.inputs,Z))}}),x91=f0(()=>{k7(),g2(),fk(),Pi(),hi(),cG(),di(),r2(),cm=(J,Z)=>{if(Z.doRotary&&J.length<=7)throw Error("cos_cache and sin_cache inputs are required if do_rotary is specified");let Q=J[0],Y=J[1],$=J[2],H=J[3],K=J[4];if(Z.doRotary!==0&&J.length<=7)throw Error("cos_cast and sin_cache are expected if do_rotary attribute is non-zero");if(Z.localWindowSize!==-1)throw Error("Local attention is not supported");if(Z.softcap!==0)throw Error("Softcap is not supported");if(Z.rotaryInterleaved!==0)throw Error("Rotary interleaved is not supported");if(Z.smoothSoftmax)throw Error("Smooth softmax is not supported");if(Q.dims.length!==3&&Q.dims.length!==5)throw Error("Input query is expected to have 3 or 5 dimensions");let B=!1,q=Q.dims[0],L=Q.dims[1],O=Q.dims.length===3?B?Q.dims[2]/3:Q.dims[2]:Z.numHeads*Q.dims[4],z=L,F=0,V=!Y||Y.dims.length===0,A=Math.floor(V?O/(Z.numHeads+2*Z.kvNumHeads):O/Z.numHeads);V&&(O=A*Z.numHeads);let M=H&&H.dims.length!==0,j=K&&K.dims.length!==0;if(M&&H.dims.length===4&&H.dims[0]===q&&H.dims[1]!==Z.kvNumHeads&&H.dims[2]===Z.kvNumHeads&&H.dims[3]===A)throw Error("BSNH pastKey/pastValue is not supported");if(M&&j){if(H.dims.length!==4)throw Error('Input "past_key" is expected to have 4 dimensions');if(K.dims.length!==4)throw Error('Input "past_value" is expected to have 4 dimensions');F=H.dims[2]}else if(M||j)throw Error('Input "past_key" and "past_value" shall be both present or both absent');let D=1;if(Y&&Y.dims.length>0){if(Q.dims.length!==3)throw Error('Input "query" is expected to have 3 dimensions when key is given');if(Y.dims.length<3||Y.dims.length>5)throw Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(Q.dims[0]!==Y.dims[0])throw Error('Input "query" and "key" shall have same dim 0 (batch size)');if(Y.dims.length===3){if(Q.dims[2]%Y.dims[2]!==0)throw Error('Dimension 2 of "query" should be a multiple of "key"');z=Y.dims[1]}else if(Y.dims.length===5){if(Y.dims[2]!==Z.numHeads||Y.dims[3]!==2||Y.dims[4]!==A)throw Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if($)throw Error('Expect "value" be none when "key" has packed kv format.');z=Y.dims[1]}else{if(Y.dims[1]!==Z.numHeads||Y.dims[3]!==A)throw Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');z=Y.dims[2]}}else{if(Q.dims.length!==3&&Q.dims.length!==5)throw Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(Q.dims.length===5&&(Q.dims[2]!==Z.numHeads||Q.dims[3]!==3))throw Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');D=3}let w=0,C=!1,I=Z.kvNumHeads?A*Z.kvNumHeads:O;if($&&$.dims.length>0){if($.dims.length!==3&&$.dims.length!==4)throw Error('Input "value" is expected to have 3 or 4 dimensions');if(Q.dims[0]!==$.dims[0])throw Error('Input "query" and "value" shall have same dim 0 (batch_size)');if($.dims.length===3){if(z!==$.dims[1])throw Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');I=$.dims[2]}else{if(z!==$.dims[2])throw Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');I=$.dims[1]*$.dims[3],C=!0}}let b=J.length>4?J[5]:void 0;if(b&&b.dims.length!==1&&b.dims[0]!==q)throw Error('Input "seqlens" is expected to have 1 dimension and the same dim 0 as batch_size');return{batchSize:q,sequenceLength:L,pastSequenceLength:F,kvSequenceLength:z,totalSequenceLength:-1,maxSequenceLength:-1,inputHiddenSize:0,hiddenSize:O,vHiddenSize:I,headSize:A,vHeadSize:Math.floor(I/Z.kvNumHeads),numHeads:Z.numHeads,kvNumHeads:Z.kvNumHeads,nReps:Z.numHeads/Z.kvNumHeads,pastPresentShareBuffer:!1,maskType:w,scale:Z.scale,broadcastResPosBias:!1,passPastInKv:C,qkvFormat:D}},pm=i5({perm:[0,2,1,3]}),TE=(J,Z,Q)=>{let Y=Z,$=Q.kvNumHeads;return Z.dims.length===3&&Q.kvSequenceLength!==0&&(Y=Z.reshape([Q.batchSize,Q.kvSequenceLength,$,Q.headSize]),Y=J.compute(I3(Y,pm.perm),{inputs:[Y],outputs:[-1]})[0]),Y},lm=(J,Z,Q,Y)=>{let $=7,H=["type","type"],K=[J*Z],B=J*Z,q=[{type:12,data:B},{type:12,data:Z},{type:12,data:J}],L=(O)=>{let z=q0("seq_lens",Q.dataType,Q.dims),F=q0("total_seq_lens",Y.dataType,Y.dims),V=H2("pos_ids",$,K),A=[{name:"output_size",type:"u32"},{name:"sequence_length",type:"u32"},{name:"batch_size",type:"u32"}];return`
  ${O.registerUniforms(A).declareVariables(z,F,V)}
  ${O.mainStart()}
    ${O.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let total_sequence_length = u32(${F.getByOffset("0")});
    let is_subsequent_prompt = uniforms.sequence_length > 1 && uniforms.sequence_length != total_sequence_length;
    let is_first_prompt = !is_subsequent_prompt && uniforms.sequence_length == total_sequence_length;
    let batch_idx = global_idx / uniforms.sequence_length;
    let sequence_idx = i32(global_idx % uniforms.sequence_length);
    var pos_id: i32 = 0;
    let seqlen = ${z.getByOffset("batch_idx")};
    let total_seqlen = seqlen + 1;
    if (is_first_prompt) {
      if (sequence_idx < total_seqlen) {
        pos_id = sequence_idx;
      } else {
        pos_id = 1;
      }
      ${V.setByOffset("global_idx","pos_id")}
    } else if (is_subsequent_prompt) {
      let past_seqlen = total_seqlen - i32(uniforms.sequence_length);
      if (past_seqlen + sequence_idx < total_seqlen) {
        pos_id = past_seqlen + sequence_idx;
      } else {
        pos_id = 1;
      }
      ${V.setByOffset("global_idx","pos_id")}
    } else if (global_idx < uniforms.batch_size) {
      ${V.setByOffset("global_idx","seqlen")}
    };
  }
  `};return{name:"GeneratePositionIds",shaderCache:{hint:`${J};${Z}`,inputDependencies:H},getRunData:()=>({outputs:[{dims:K,dataType:$}],dispatchGroup:{x:Math.ceil(B/64)},programUniforms:q}),getShaderSource:L}},mi=(J,Z)=>{let Q=cm(J.inputs,Z);if(J.inputs[0].dims.length===5)throw Error("Packed QKV is not implemented");if(J.inputs[1]?.dims.length===5)throw Error("Packed KV is not implemented");let Y=J.inputs[0],$=J.inputs[1]&&J.inputs[1].dims.length>0?J.inputs[1]:void 0,H=J.inputs[2]&&J.inputs[2].dims.length>0?J.inputs[2]:void 0,K=J.inputs[3]&&J.inputs[3].dims.length!==0?J.inputs[3]:void 0,B=J.inputs[4]&&J.inputs[4].dims.length!==0?J.inputs[4]:void 0,q=J.inputs.length>4?J.inputs[5]:void 0,L=J.inputs.length>5?J.inputs[6]:void 0,O=Q.kvNumHeads?Q.kvNumHeads:Q.numHeads,z=i5({axis:2,numOutputs:3,splitSizes:[Q.numHeads*Q.headSize,O*Q.headSize,O*Q.headSize]}),[F,V,A]=!$&&!H?J.compute(Ok([Y],z),{inputs:[Y],outputs:[-1,-1,-1]}):[Y,$,H],M,j;if(Z.doRotary){let I=J.compute(lm(Q.batchSize,Q.sequenceLength,q,L),{inputs:[q,L],outputs:[-1]})[0],b=J.inputs[7],E=J.inputs[8],k=i5({interleaved:Z.rotaryInterleaved!==0,numHeads:Q.numHeads,rotaryEmbeddingDim:0,scale:Z.scale}),T=[F,I,b,E],S=[-1];M=J.compute(i_(T,k),{inputs:T,outputs:S})[0],T.splice(0,1,V);let d=i5({interleaved:Z.rotaryInterleaved!==0,numHeads:Q.kvNumHeads,rotaryEmbeddingDim:0,scale:Z.scale});j=J.compute(i_(T,d),{inputs:T,outputs:S})[0]}let D=aN(J,Q.batchSize,Q.numHeads,Q.sequenceLength,Q.headSize,Z.doRotary?M:F,void 0,0),w=TE(J,Z.doRotary?j:V,Q),C=TE(J,A,Q);tN(J,D,w,C,void 0,void 0,K,B,void 0,Q,q,L)}}),R91=f0(()=>{g2(),n2(),cG(),r2(),PE=(J,Z,Q,Y,$,H,K,B)=>{let q=U7(H),L=q===1?"f32":`vec${q}f`,O=q===1?"vec2f":`mat2x${q}f`,z=$*K,F=64;z===1&&(F=256);let V=[$,K,H/q],A=[$,K,2],M=["rank","type","type"],j=[];j.push(...N2(V,A));let D=(w)=>{let C=q0("x",Z.dataType,3,q),I=q0("scale",Q.dataType,Q.dims),b=q0("bias",Y.dataType,Y.dims),E=H2("output",1,3,2),k=[C,I,b,E];return`
  var<workgroup> workgroup_shared : array<${O}, ${F}>;
  const workgroup_size = ${F}u;
  ${w.declareVariables(...k)}
  ${w.mainStart(F)}
    let batch = workgroup_index / uniforms.x_shape[1];
    let channel = workgroup_index % uniforms.x_shape[1];
    let hight = uniforms.x_shape[2];
    // initialize workgroup memory
    var sum = ${L}(0);
    var squared_sum = ${L}(0);
    for (var h = local_idx; h < hight; h += workgroup_size) {
      let value = ${L}(${C.get("batch","channel","h")});
      sum += value;
      squared_sum += value * value;
    }
    workgroup_shared[local_idx] = ${O}(sum, squared_sum);
    workgroupBarrier();

    for (var currSize = workgroup_size >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (local_idx < currSize) {
        workgroup_shared[local_idx] = workgroup_shared[local_idx] + workgroup_shared[local_idx + currSize];
      }
      workgroupBarrier();
    }
    if (local_idx == 0) {
      let sum_final = ${mG("workgroup_shared[0][0]",q)} / f32(hight * ${q});
      let squared_sum_final = ${mG("workgroup_shared[0][1]",q)} / f32(hight * ${q});

      let inv_std_dev = inverseSqrt(squared_sum_final - sum_final * sum_final + f32(${B}));
      let channel_scale = inv_std_dev * f32(scale[channel]);
      let channel_shift = f32(bias[channel]) - sum_final * channel_scale;
      output[workgroup_index] = vec2f(channel_scale, channel_shift);
    }
  }`};return J.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${q};${B};${F}`,inputDependencies:M},getRunData:()=>({outputs:[{dims:A,dataType:1}],dispatchGroup:{x:z},programUniforms:j}),getShaderSource:D},{inputs:[Z,Q,Y],outputs:[-1]})[0]},im=(J,Z,Q)=>{let Y=Z[0].dims,$=Y,H=2,K=Y[0],B=Y[1],q=t1.sizeFromDimension(Y,H),L=U7(q),O=t1.size($)/L,z=PE(J,Z[0],Z[1],Z[2],K,q,B,Q.epsilon),F=[K,B,q/L],V=[K,B],A=["type","none"],M=(j)=>{let D=q0("x",Z[0].dataType,F.length,L),w=q0("scale_shift",1,V.length,2),C=H2("output",Z[0].dataType,F.length,L),I=[D,w,C];return`
  ${j.registerUniform("output_size","u32").declareVariables(...I)}
  ${j.mainStart()}
  ${j.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let outputIndices = ${C.offsetToIndices("global_idx")};
      let batch = outputIndices[0];
      let channel = outputIndices[1];
      let scale_shift = ${w.getByIndices("vec2<u32>(batch, channel)")};
      let value = ${D.getByOffset("global_idx")} * ${C.type.value}(scale_shift.x) + ${C.type.value}(scale_shift.y);
      ${C.setByOffset("global_idx","value")};
  }`};J.compute({name:"InstanceNormalization",shaderCache:{hint:`${L}`,inputDependencies:A},getRunData:()=>({outputs:[{dims:$,dataType:Z[0].dataType}],dispatchGroup:{x:Math.ceil(O/64)},programUniforms:[{type:12,data:O},...N2(F,V,F)]}),getShaderSource:M},{inputs:[Z[0],z]})},nm=(J,Z,Q)=>{let Y=Z[0].dims,$=Y,H=Y[0],K=Y[Y.length-1],B=t1.sizeFromDimension(Y,1)/K,q=U7(K),L=t1.size($)/q,O=[{type:12,data:B},{type:12,data:Math.floor(K/q)}],z=["type","type"],F=!1,V=[0,Y.length-1];for(let D=0;D<Y.length-2;D++)F=F||Y[D+1]!==1,V.push(D+1);F=F&&Y[Y.length-1]!==1;let A=F?J.compute(I3(J.inputs[0],V),{inputs:[J.inputs[0]],outputs:[-1]})[0]:J.inputs[0].reshape(Array.from({length:Y.length},(D,w)=>Y[V[w]])),M=PE(J,A,Z[1],Z[2],H,B,K,Q.epsilon),j=(D)=>{let w=w6(Z[0].dataType),C=q===1?"vec2f":`mat${q}x2f`,I=(k)=>{let T=k===0?"x":"y",S=q===1?"f32":`vec${q}f`;switch(q){case 1:return`${w}(${S}(scale.${T}))`;case 2:return`vec2<${w}>(${S}(scale[0].${T}, scale[1].${T}))`;case 4:return`vec4<${w}>(${S}(scale[0].${T}, scale[1].${T}, scale[2].${T}, scale[3].${T}))`;default:throw Error(`Not supported compoents ${q}`)}},b=q0("input",Z[0].dataType,Z[0].dims,q),E=H2("output",Z[0].dataType,$,q);return`
  @group(0) @binding(0) var<storage, read> input : array<${b.type.storage}>;
  @group(0) @binding(1) var<storage, read> scale_input : array<${C}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${E.type.storage}>;
  struct Uniforms {H: u32, C : u32};
  @group(0) @binding(3) var<uniform> uniforms: Uniforms;

  ${D.mainStart()}
    let current_image_number = global_idx / (uniforms.C * uniforms.H);
    let current_channel_number = global_idx % uniforms.C;

    let scale_offset = current_image_number * uniforms.C + current_channel_number;
    let scale = scale_input[scale_offset];
    output[global_idx] = fma(input[global_idx], ${I(0)}, ${I(1)});
  }`};J.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${q}`,inputDependencies:z},getRunData:()=>({outputs:[{dims:$,dataType:Z[0].dataType}],dispatchGroup:{x:Math.ceil(L/64)},programUniforms:O}),getShaderSource:j},{inputs:[Z[0],M]})},ci=(J,Z)=>{Z.format==="NHWC"?nm(J,J.inputs,Z):im(J,J.inputs,Z)}}),C91=f0(()=>{g2(),n2(),r2(),am=(J)=>{if(!J||J.length<2)throw Error("layerNorm requires at least 2 inputs.")},sm=(J,Z,Q)=>{let Y=Z.simplified,$=J[0].dims,H=J[1],K=!Y&&J[2],B=$,q=t1.normalizeAxis(Z.axis,$.length),L=t1.sizeToDimension($,q),O=t1.sizeFromDimension($,q),z=t1.size(H.dims),F=K?t1.size(K.dims):0;if(z!==O||K&&F!==O)throw Error(`Size of X.shape()[axis:] == ${O}.
       Size of scale and bias (if provided) must match this.
       Got scale size of ${z} and bias size of ${F}`);let V=[];for(let b=0;b<$.length;++b)b<q?V.push($[b]):V.push(1);let A=U7(O),M=["type","type"],j=[{type:12,data:L},{type:1,data:O},{type:12,data:Math.floor(O/A)},{type:1,data:Z.epsilon}];K&&M.push("type");let D=Q>1,w=Q>2,C=(b)=>{let E=w6(J[0].dataType),k=[q0("x",J[0].dataType,J[0].dims,A),q0("scale",H.dataType,H.dims,A)];K&&k.push(q0("bias",K.dataType,K.dims,A)),k.push(H2("output",J[0].dataType,B,A)),D&&k.push(H2("mean_data_output",1,V)),w&&k.push(H2("inv_std_output",1,V));let T=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`
  ${b.registerUniforms(T).declareVariables(...k)}
  ${b.mainStart()}
    ${b.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}
    let offset = global_idx * uniforms.norm_size_vectorized;
    var mean_vector = ${Gk("f32",A)};
    var mean_square_vector = ${Gk("f32",A)};

    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {
      let value = ${LL(E,A,"x[h + offset]")};
      mean_vector += value;
      mean_square_vector += value * value;
    }
    let mean = ${mG("mean_vector",A)} / uniforms.norm_size;
    let inv_std_dev = inverseSqrt(${mG("mean_square_vector",A)} / uniforms.norm_size ${Y?"":"- mean * mean"} + uniforms.epsilon);

    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {
      let f32input = ${LL(E,A,"x[j + offset]")};
      let f32scale = ${LL(E,A,"scale[j]")};
      output[j + offset] = ${k[0].type.value}((f32input ${Y?"":"- mean"}) * inv_std_dev * f32scale
        ${K?`+ ${LL(E,A,"bias[j]")}`:""}
      );
    }

    ${D?"mean_data_output[global_idx] = mean":""};
    ${w?"inv_std_output[global_idx] = inv_std_dev":""};
  }`},I=[{dims:B,dataType:J[0].dataType}];return D&&I.push({dims:V,dataType:1}),w&&I.push({dims:V,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${A};${Q};${Y}`,inputDependencies:M},getRunData:()=>({outputs:I,dispatchGroup:{x:Math.ceil(L/64)},programUniforms:j}),getShaderSource:C}},pi=(J,Z)=>{am(J.inputs),J.compute(sm(J.inputs,Z,J.outputCount))}}),b91=f0(()=>{n2(),yk(),hk(),om=(J)=>{if(!J||J.length!==2)throw Error("MatMul requires 2 inputs.");if(J[0].dims[J[0].dims.length-1]!==J[1].dims[J[1].dims.length-2])throw Error("shared dimension does not match.")},li=(J)=>{om(J.inputs);let Z=OL.calcShape(J.inputs[0].dims,J.inputs[1].dims,!0);if(!Z)throw Error("Can't use matmul on the given tensors");let Q=Z[Z.length-1],Y=J.inputs[0].dims[J.inputs[0].dims.length-1];if(Q<8&&Y<8)J.compute(gk(J.inputs,{activation:""},Z));else{let $=Z[Z.length-2],H=t1.size(J.inputs[0].dims.slice(0,-2)),K=t1.size(J.inputs[1].dims.slice(0,-2));if(H!==1&&$===1&&K===1){let B=J.inputs[0].reshape([1,H,Y]),q=J.inputs[1].reshape([1,Y,Q]),L=[1,H,Q],O=[B,q];J.compute(l_(O,{activation:""},Z,L),{inputs:O})}else J.compute(l_(J.inputs,{activation:""},Z))}}}),v91=f0(()=>{g2(),n2(),k7(),r2(),rm=(J,Z)=>{if(J.length<3||J.length>4)throw Error("MatMulNBits requires 3 or 4 inputs");let Q=J[0],Y=Q.dims.length;if(Q.dims[Y-1]!==Z.k)throw Error("The last dim of input shape does not match the k value");let $=Math.floor((Z.k+Z.blockSize-1)/Z.blockSize),H=Z.blockSize/8*Z.bits,K=J[1];if(!t1.areEqual(K.dims,[Z.n,$,H]))throw Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let B=J[2].dims;if(t1.size(B)!==Z.n*$)throw Error("scales input size error.");if(J.length===4){let q=J[3].dims,L=Z.bits>4?Z.n*$:Z.n*Math.floor(($+1)/2);if(t1.size(q)!==L)throw Error("zeroPoints input size error.")}},tm=(J,Z)=>{let Q=J[0].dims,Y=Q.length,$=Q[Y-2],H=Z.k,K=Z.n,B=Q.slice(0,Y-2),q=t1.size(B),L=J[1].dims[2]/4,O=J[0].dataType,z=U7(Z.k),F=U7(L),V=U7(K),A=B.concat([$,K]),M=$>1&&K/V%2===0?2:1,j=t1.size(A)/V/M,D=64,w=[],C=[q,$,H/z],I=t1.convertShape(J[1].dims).slice();I.splice(-1,1,L/F),w.push(...N2(C)),w.push(...N2(I)),w.push(...N2(J[2].dims)),J.length===4&&w.push(...N2(t1.convertShape(J[3].dims)));let b=[q,$,K/V];w.push(...N2(b));let E=(k)=>{let T=C.length,S=q0("a",J[0].dataType,T,z),d=q0("b",12,I.length,F),o=q0("scales",J[2].dataType,J[2].dims.length),v=[S,d,o],y=J.length===4?q0("zero_points",12,J[3].dims.length):void 0;y&&v.push(y);let i=b.length,p=H2("output",J[0].dataType,i,V),l=w6(J[0].dataType),t=(()=>{switch(z){case 1:return`array<${l}, 8>`;case 2:return`mat4x2<${l}>`;case 4:return`mat2x4<${l}>`;default:throw Error(`${z}-component is not supported.`)}})(),Q1=()=>{let g=`
          // reuse a data
            var input_offset = ${S.indicesToOffset(`${S.type.indices}(batch, row, word_offset)`)};
            var a_data: ${t};
            for (var j: u32 = 0; j < ${8/z}; j++) {
              a_data[j] = ${S.getByOffset("input_offset")};
              input_offset++;
            }
          `;for(let n=0;n<V*M;n++)g+=`
            b_value = ${F===1?`b${n}_data`:`b${n}_data[i]`};
            b_value_lower = unpack4xU8(b_value & b_mask);
            b_value_upper = unpack4xU8((b_value >> 4) & b_mask);
            b_quantized_values = ${t}(${Array.from({length:4},(Z1,J1)=>`${l}(b_value_lower[${J1}]), ${l}(b_value_upper[${J1}])`).join(", ")});
            b_dequantized_values = ${z===1?`${t}(${Array.from({length:8},(Z1,J1)=>`(b_quantized_values[${J1}] - ${y?`zero_point${n}`:"zero_point"}) * scale${n}`).join(", ")});`:`(b_quantized_values - ${t}(${Array(8).fill(`${y?`zero_point${n}`:"zero_point"}`).join(",")})) * scale${n};`};
            workgroup_shared[local_id.x * ${M} + ${Math.floor(n/V)}]${V>1?`[${n%V}]`:""} += ${Array.from({length:8/z},(Z1,J1)=>`${z===1?`a_data[${J1}] * b_dequantized_values[${J1}]`:`dot(a_data[${J1}], b_dequantized_values[${J1}])`}`).join(" + ")};
          `;return g},m=()=>{let g=`
            var col_index = col * ${V};
            ${y?`
            let zero_point_bytes_per_col = (nBlocksPerCol + 1) / 2;
            var zero_point_byte_count: u32;
            var zero_point_word_index: u32;
            var zero_point_byte_offset: u32;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            var zero_point_bits_offset: u32;
            var zero_point_word: u32;`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${l}(8);`}
            `;for(let n=0;n<V*M;n++)g+=`
            let scale${n} = ${o.getByOffset("col_index * nBlocksPerCol + block")};
            ${y?`
            zero_point_byte_count = col_index * zero_point_bytes_per_col + (block >> 0x1u);
            zero_point_word_index = zero_point_byte_count >> 0x2u;
            zero_point_byte_offset = zero_point_byte_count & 0x3u;
            zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            zero_point_word = ${y.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point${n} = ${l}((zero_point_word) & 0xFu);`:""}
            col_index += 1;`;return g},K1=()=>{let g=`col_index = col * ${V};`;for(let n=0;n<V*M;n++)g+=`
            let b${n}_data = ${d.getByIndices(`${d.type.indices}(col_index, block, word)`)};
            col_index += 1;`;return g+=`
            var b_value: u32;
            let b_mask: u32 = 0x0F0F0F0Fu;
            var b_value_lower: vec4<u32>;
            var b_value_upper: vec4<u32>;
            var b_quantized_values: ${t};
            var b_dequantized_values: ${t};`,g};return`
        var<workgroup> workgroup_shared: array<${p.type.value}, ${M*D}>;
        ${k.declareVariables(...v,p)}
        ${k.mainStart([D,1,1])}
          let output_indices = ${p.offsetToIndices(`(global_idx / ${D}) * ${M}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let nBlocksPerCol = uniforms.b_shape[1];

          for (var block = local_id.x; block < nBlocksPerCol; block += ${D}) {
            //process one block
            var word_offset: u32 = block * ${Z.blockSize/z};
            ${m()}
            for (var word: u32 = 0; word < ${L}; word += ${F}) {
              ${K1()}
              for (var i: u32 = 0; i < ${F}; i++) {
                ${Q1()}
                word_offset += ${8/z};
              }
            }
          }
          workgroupBarrier();

          if (local_id.x < ${M}) {
            var output_value: ${p.type.value} = ${p.type.value}(0);
            var workgroup_shared_offset: u32 = local_id.x;
            for (var b: u32 = 0u; b < ${D}u; b++) {
              output_value += workgroup_shared[workgroup_shared_offset];
              workgroup_shared_offset += ${M};
            }
            ${p.setByIndices(`${p.type.indices}(batch, row, col + local_id.x)`,"output_value")};
          }
        }`};return{name:"MatMulNBits",shaderCache:{hint:`${Z.blockSize};${Z.bits};${z};${F};${V};${M};${D}`,inputDependencies:Array(J.length).fill("rank")},getRunData:()=>({outputs:[{dims:A,dataType:O}],dispatchGroup:{x:j},programUniforms:w}),getShaderSource:E}},em=(J,Z)=>{let Q=J[0].dims,Y=Q.length,$=Q[Y-2],H=Z.k,K=Z.n,B=Q.slice(0,Y-2),q=t1.size(B),L=J[1].dims[2]/4,O=J[0].dataType,z=U7(Z.k),F=U7(L),V=B.concat([$,K]),A=128,M=K%8===0?8:K%4===0?4:1,j=A/M,D=j*F*8,w=D/z,C=D/Z.blockSize,I=t1.size(V)/M,b=[],E=[q,$,H/z],k=t1.convertShape(J[1].dims).slice();k.splice(-1,1,L/F),b.push(...N2(E)),b.push(...N2(k)),b.push(...N2(J[2].dims)),J.length===4&&b.push(...N2(t1.convertShape(J[3].dims)));let T=[q,$,K];b.push(...N2(T));let S=(d)=>{let o=E.length,v=q0("a",J[0].dataType,o,z),y=q0("b",12,k.length,F),i=q0("scales",J[2].dataType,J[2].dims.length),p=[v,y,i],l=J.length===4?q0("zero_points",12,J[3].dims.length):void 0;l&&p.push(l);let t=T.length,Q1=H2("output",J[0].dataType,t),m=w6(J[0].dataType),K1=()=>{switch(z){case 1:return`
          let a_data0 = vec4<${m}>(sub_a[word_offset], sub_a[word_offset + 1], sub_a[word_offset + 2], sub_a[word_offset + 3]);
          let a_data1 = vec4<${m}>(sub_a[word_offset + 4], sub_a[word_offset + 5], sub_a[word_offset + 6], sub_a[word_offset + 7]);`;case 2:return`
          let a_data0 = vec4<${m}>(sub_a[word_offset], sub_a[word_offset + 1]);
          let a_data1 = vec4<${m}>(sub_a[word_offset + 2], sub_a[word_offset + 3]);`;case 4:return`
          let a_data0 = sub_a[word_offset];
          let a_data1 = sub_a[word_offset + 1];`;default:throw Error(`${z}-component is not supported.`)}};return`
        var<workgroup> sub_a: array<${v.type.value}, ${w}>;
        var<workgroup> inter_results: array<array<${Q1.type.value}, ${j}>, ${M}>;
        ${d.declareVariables(...p,Q1)}
        ${d.mainStart([j,M,1])}
          let output_indices = ${Q1.offsetToIndices(`workgroup_index * ${M}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let n_blocks_per_col = uniforms.b_shape[1];
          let num_tiles =  (n_blocks_per_col - 1) / ${C} + 1;

          // Loop over shared dimension.
          for (var tile: u32 = 0; tile < num_tiles; tile += 1) {
            let a_col_start = tile * ${w};
            // load one tile A data into shared memory.
            for (var a_offset = local_idx; a_offset < ${w}; a_offset += ${A})
            {
              let a_col = a_col_start + a_offset;
              if (a_col < uniforms.a_shape[2])
              {
                sub_a[a_offset] = ${v.getByIndices(`${v.type.indices}(batch, row, a_col)`)};
              } else {
                sub_a[a_offset] = ${v.type.value}(0);
              }
            }
            workgroupBarrier();

            // each thread process one block
            let b_row = col + local_id.y;
            let block = tile * ${C} + local_id.x;
            ${l?`
            let zero_point_bytes_per_col = (n_blocks_per_col + 1) / 2;
            let zero_point_byte_count = b_row * zero_point_bytes_per_col + (block >> 0x1u);
            let zero_point_word_index = zero_point_byte_count >> 0x2u;
            let zero_point_byte_offset = zero_point_byte_count & 0x3u;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            let zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            let zero_point_word = ${l.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point = ${m}((zero_point_word) & 0xFu);`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${m}(8);`}
            let scale = ${i.getByOffset("b_row * n_blocks_per_col + block")};
            let b_data = ${y.getByIndices(`${y.type.indices}(b_row, block, 0)`)};
            var word_offset = local_id.x * ${Z.blockSize/z};
            for (var i: u32 = 0; i < ${F}; i++) {
              ${K1()}
              let b_value = ${F===1?"b_data":"b_data[i]"};
              let b_value_lower = unpack4xU8(b_value & 0x0F0F0F0Fu);
              let b_value_upper = unpack4xU8((b_value >> 4) & 0x0F0F0F0Fu);
              let b_quantized_values = mat2x4<${m}>(${Array.from({length:4},(g,n)=>`${m}(b_value_lower[${n}]), ${m}(b_value_upper[${n}])`).join(", ")});
              let b_dequantized_values = (b_quantized_values - mat2x4<${m}>(${Array(8).fill("zero_point").join(",")})) * scale;
              inter_results[local_id.y][local_id.x] += ${Array.from({length:2},(g,n)=>`${`dot(a_data${n}, b_dequantized_values[${n}])`}`).join(" + ")};
              word_offset += ${8/z};
            }
            workgroupBarrier();
          }

          if (local_idx < ${M}) {
            var output_value: ${Q1.type.value} = ${Q1.type.value}(0);
            for (var b = 0u; b < ${j}; b++) {
              output_value += inter_results[local_idx][b];
            }
            if (col + local_idx < uniforms.output_shape[2])
            {
              ${Q1.setByIndices(`${Q1.type.indices}(batch, row, col + local_idx)`,"output_value")}
            }
          }
        }`};return{name:"BlockwiseMatMulNBits32",shaderCache:{hint:`${Z.blockSize};${z};${F};${j};${M}`,inputDependencies:Array(J.length).fill("rank")},getRunData:()=>({outputs:[{dims:V,dataType:O}],dispatchGroup:{x:I},programUniforms:b}),getShaderSource:S}},ii=(J,Z)=>{rm(J.inputs,Z),Z.blockSize===32&&J.adapterInfo.isVendor("intel")&&J.adapterInfo.isArchitecture("gen-12lp")?J.compute(em(J.inputs,Z)):J.compute(tm(J.inputs,Z))},ni=(J)=>i5(J)}),f91=f0(()=>{g2(),n2(),r2(),Jc=(J)=>{if(!J||J.length<1)throw Error("Too few inputs");if(J[0].dataType!==1&&J[0].dataType!==10)throw Error("Input type must be float or float16.");if(J.length>=2){let Z=J[0].dims.length*2===J[1].dims[0];if(J.length===4&&(Z=J[3].dims[0]*2===J[1].dims[0]),!Z)throw Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},Zc=(J,Z,Q)=>{let Y="";for(let $=Z-1;$>=0;--$)Y+=`
            k = i32(${J.indicesGet("indices",$)}) - ${O2("uniforms.pads",$,Q)};
            if (k < 0) {
              break;
            }
            if (k >= i32(${O2("uniforms.x_shape",$,Z)})) {
              break;
            }
            offset += k * i32(${O2("uniforms.x_strides",$,Z)});
        `;return`
          value = ${J.type.value}(uniforms.constant_value);
          for (var i = 0; i < 1; i++) {
            var offset = 0;
            var k = 0;
            ${Y}
            value = x[offset];
          }
      `},Qc=(J,Z,Q)=>{let Y="";for(let $=Z-1;$>=0;--$)Y+=`
                k = i32(${J.indicesGet("indices",$)}) - ${O2("uniforms.pads",$,Q)};
                if (k < 0) {
                  k = -k;
                }
                {
                  let _2n_1 = 2 * (i32(${O2("uniforms.x_shape",$,Z)}) - 1);
                  k = k % _2n_1;
                  if(k >= i32(${O2("uniforms.x_shape",$,Z)})) {
                    k = _2n_1 - k;
                  }
                }
                offset += k * i32(${O2("uniforms.x_strides",$,Z)});
            `;return`
              var offset = 0;
              var k = 0;
              ${Y}
              value = x[offset];
          `},Xc=(J,Z,Q)=>{let Y="";for(let $=Z-1;$>=0;--$)Y+=`
                k = i32(${J.indicesGet("indices",$)}) - ${O2("uniforms.pads",$,Q)};
                if (k < 0) {
                  k = 0;
                }
                if (k >= i32(${O2("uniforms.x_shape",$,Z)})) {
                  k = i32(${O2("uniforms.x_shape",$,Z)}) - 1;
                }
                offset += k * i32(${O2("uniforms.x_strides",$,Z)});
            `;return`
              var offset = 0;
              var k = 0;
              ${Y}
              value = x[offset];
          `},Yc=(J,Z,Q)=>{let Y="";for(let $=Z-1;$>=0;--$)Y+=`
                k = i32(${J.indicesGet("indices",$)}) - ${O2("uniforms.pads",$,Q)};
                if (k < 0)  {
                  k += i32(${O2("uniforms.x_shape",$,Z)}]);
                }
                if (k >= i32(${O2("uniforms.x_shape",$,Z)})) {
                  k -= i32(${O2("uniforms.x_shape",$,Z)});
                }
                offset += k * i32(${O2("uniforms.x_strides",$,Z)});
            `;return`
              var offset = 0;
              var k = 0;
              ${Y}
              value = x[offset];
          `},Gc=(J,Z,Q)=>{switch(Q.mode){case 0:return Zc(J,Z,Q.pads.length);case 1:return Qc(J,Z,Q.pads.length);case 2:return Xc(J,Z,Q.pads.length);case 3:return Yc(J,Z,Q.pads.length);default:throw Error("Invalid mode")}},$c=(J,Z)=>{let Q=t1.padShape(J[0].dims.slice(),Z.pads),Y=J[0].dims,$=t1.size(Q),H=[{type:12,data:$},{type:6,data:Z.pads}],K=J.length>=3&&J[2].data;Z.mode===0&&H.push({type:K?J[2].dataType:1,data:Z.value}),H.push(...N2(J[0].dims,Q));let B=["rank"],q=(L)=>{let O=H2("output",J[0].dataType,Q.length),z=q0("x",J[0].dataType,Y.length),F=z.type.value,V=Gc(O,Y.length,Z),A=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:Z.pads.length}];return Z.mode===0&&A.push({name:"constant_value",type:K?F:"f32"}),`
            ${L.registerUniforms(A).declareVariables(z,O)}
            ${L.mainStart()}
            ${L.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

            let indices = ${O.offsetToIndices("global_idx")};

            var value = ${F}(0);
            ${V}
            output[global_idx] = value;
        }`};return{name:"Pad",shaderCache:{hint:`${Z.mode}${K}`,inputDependencies:B},getRunData:()=>({outputs:[{dims:Q,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(t1.size(Q)/64)},programUniforms:H}),getShaderSource:q}},Hc=(J,Z)=>{if(J.length>1){let Q=J[1].getBigInt64Array(),Y=J.length>=3&&J[2].data?J[2].dataType===10?J[2].getUint16Array()[0]:J[2].getFloat32Array()[0]:0,$=J[0].dims.length,H=new Int32Array(2*$).fill(0);if(J.length>=4){let B=J[3].getBigInt64Array();for(let q=0;q<B.length;q++)H[Number(B[q])]=Number(Q[q]),H[Number(B[q])+$]=Number(Q[q+B.length])}else Q.forEach((B,q)=>H[Number(q)]=Number(B));let K=[];return H.forEach((B)=>K.push(B)),{mode:Z.mode,value:Y,pads:K}}else return Z},ai=(J,Z)=>{Jc(J.inputs);let Q=Hc(J.inputs,Z);J.compute($c(J.inputs,Q),{inputs:[0]})}}),S91=f0(()=>{_Z(),g2(),n2(),r2(),mN=(J)=>{if(f4.webgpu.validateInputContent&&(!J||J.length!==1))throw Error("Pool ops requires 1 input.")},gE=(J,Z,Q)=>{let Y=Z.format==="NHWC",$=J.dims.slice();Y&&$.splice(1,0,$.pop());let H=Object.hasOwnProperty.call(Z,"dilations"),K=Z.kernelShape.slice(),B=Z.strides.slice(),q=H?Z.dilations.slice():[],L=Z.pads.slice();c_.adjustPoolAttributes(Q,$,K,B,q,L);let O=c_.computePoolOutputShape(Q,$,B,q,K,L,Z.autoPad),z=Object.assign({},Z);H?Object.assign(z,{kernelShape:K,strides:B,pads:L,dilations:q,cacheKey:Z.cacheKey}):Object.assign(z,{kernelShape:K,strides:B,pads:L,cacheKey:Z.cacheKey});let F=O.slice();return F.push(F.splice(1,1)[0]),[z,Y?F:O]},yE=(J,Z)=>{let Q=Z.format==="NHWC",Y=t1.size(J),$=t1.size(Z.kernelShape),H=[{type:12,data:Y},{type:12,data:$}],K=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(Z.kernelShape.length<=2){let B=Z.kernelShape[Z.kernelShape.length-1],q=Z.strides[Z.strides.length-1],L=Z.pads[Z.pads.length/2-1],O=Z.pads[Z.pads.length-1],z=!!(L+O);H.push({type:12,data:B},{type:12,data:q},{type:12,data:L},{type:12,data:O}),K.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let F=!1;if(Z.kernelShape.length===2){let V=Z.kernelShape[Z.kernelShape.length-2],A=Z.strides[Z.strides.length-2],M=Z.pads[Z.pads.length/2-2],j=Z.pads[Z.pads.length-2];F=!!(M+j),H.push({type:12,data:V},{type:12,data:A},{type:12,data:M},{type:12,data:j}),K.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[H,K,!0,z,F]}else{if(Q)throw Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let B=t1.computeStrides(Z.kernelShape);H.push({type:12,data:B},{type:12,data:Z.pads},{type:12,data:Z.strides}),K.push({name:"kernelStrides",type:"u32",length:B.length},{name:"pads",type:"u32",length:Z.pads.length},{name:"strides",type:"u32",length:Z.strides.length});let q=Z.pads.reduce((L,O)=>L+O);return[H,K,!!q,!1,!1]}},hE=(J,Z,Q,Y,$,H,K,B,q,L,O,z)=>{let F=$.format==="NHWC",V=Z.type.value,A=H2("output",Z.type.tensor,Y);if($.kernelShape.length<=2){let M="",j="",D="",w=Q-(F?2:1);if(O?M=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${w}] = indices[${w}] * uniforms.sw - uniforms.pwStart + i;
                  if (xIndices[${w}] < 0 || xIndices[${w}]
                      >= uniforms.x_shape[${w}]) {
                    pad++;
                    continue;
                  }
                  let x_val = x[${Z.indicesToOffset("xIndices")}];
                  ${H}
                }`:M=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${w}] = indices[${w}] * uniforms.sw - uniforms.pwStart + i;
                  let x_val = x[${Z.indicesToOffset("xIndices")}];
                  ${H}
                }`,$.kernelShape.length===2){let C=Q-(F?3:2);z?j=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${C}] = indices[${C}] * uniforms.sh - uniforms.phStart + j;
                  if (xIndices[${C}] < 0 || xIndices[${C}] >= uniforms.x_shape[${C}]) {
                    pad += i32(uniforms.kw);
                    continue;
                  }
              `:j=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${C}] = indices[${C}] * uniforms.sh - uniforms.phStart + j;
                `,D=`
              }
            `}return`
            ${J.registerUniforms(q).declareVariables(Z,A)}

            ${J.mainStart()}
              ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

              let indices = ${A.offsetToIndices("global_idx")};
              var xIndices = ${A.offsetToIndices("global_idx")};

              var value = ${V}(${B});
              var pad = 0;
              ${j}
              ${M}
              ${D}
              ${K}

              output[global_idx] = value;
            }`}else{if(F)throw Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let M=$.kernelShape.length,j=$.pads.length,D="";return L?D=`
                if (xIndices[j] >= uniforms.x_shape[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${Z.indicesToOffset("xIndices")}];
                ${H}
              }`:D=`
              }
              let x_val = x[${Z.indicesToOffset("xIndices")}];
              ${H}
            `,`
            ${J.registerUniforms(q).declareVariables(Z,A)}

            ${J.mainStart()}
              ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
              let indices = ${A.offsetToIndices("global_idx")};
              var xIndices = ${A.offsetToIndices("global_idx")};

              var offsets: array<u32, ${M}>;

              var value = ${V}(${B});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {
                var offset = i;
                for (var j = 0u; j < ${M-1}u; j++) {
                  offsets[j] = offset / ${O2("uniforms.kernelStrides","j",M)};
                  offset -= offsets[j] * ${O2("uniforms.kernelStrides","j",M)};
                }
                offsets[${M-1}] = offset;

                isPad = false;
                for (var j = ${Q-M}u; j < ${Q}u; j++) {
                  xIndices[j] = indices[j] * ${O2("uniforms.strides",`j - ${Q-M}u`,M)}
                    + offsets[j - ${Q-M}u] - ${O2("uniforms.pads","j - 2u",j)};
                  ${D}
              }
              ${K}

              output[global_idx] = value;
            }`}},uE=(J)=>`${J.format};${J.ceilMode};${J.autoPad};${J.kernelShape.length}`,Wc=(J)=>`${uE(J)};${J.countIncludePad}`,Kc=(J)=>`${uE(J)};${J.storageOrder};${J.dilations}`,dE=(J)=>({format:J.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][J.auto_pad],ceilMode:J.ceil_mode,kernelShape:J.kernel_shape,strides:J.strides,pads:J.pads}),mE=(J,Z,Q,Y)=>{let[$,H]=gE(Z,Y,Q),K=q0("x",Z.dataType,Z.dims.length),B=K.type.value,q="value += x_val;",L="";$.countIncludePad?L+=`value /= ${B}(uniforms.kernelSize);`:L+=`value /= ${B}(i32(uniforms.kernelSize) - pad);`;let[O,z,F,V,A]=yE(H,$);O.push(...N2(Z.dims,H));let M=["rank"];return{name:J,shaderCache:{hint:`${Y.cacheKey};${F};${V};${A}`,inputDependencies:M},getRunData:()=>({outputs:[{dims:H,dataType:Z.dataType}],dispatchGroup:{x:Math.ceil(t1.size(H)/64)},programUniforms:O}),getShaderSource:(j)=>hE(j,K,Z.dims.length,H.length,$,q,L,0,z,F,V,A)}},si=(J)=>{let Z=J.count_include_pad!==0,Q=dE(J);if(Q.ceilMode!==0)throw Error("using ceil() in shape computation is not yet supported for AveragePool");let Y={countIncludePad:Z,...Q,cacheKey:""};return{...Y,cacheKey:Wc(Y)}},oi=(J,Z)=>{mN(J.inputs),J.compute(mE("AveragePool",J.inputs[0],!1,Z))},cE={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},ri=(J)=>{let Z=J.format;return{format:Z,...cE,cacheKey:Z}},ti=(J,Z)=>{mN(J.inputs),J.compute(mE("GlobalAveragePool",J.inputs[0],!0,Z))},pE=(J,Z,Q,Y)=>{let[$,H]=gE(Z,Y,Q),K=`
      value = max(x_val, value);
    `,B="",q=q0("x",Z.dataType,Z.dims.length),L=["rank"],[O,z,F,V,A]=yE(H,$);return O.push(...N2(Z.dims,H)),{name:J,shaderCache:{hint:`${Y.cacheKey};${F};${V};${A}`,inputDependencies:L},getRunData:()=>({outputs:[{dims:H,dataType:Z.dataType}],dispatchGroup:{x:Math.ceil(t1.size(H)/64)},programUniforms:O}),getShaderSource:(M)=>hE(M,q,Z.dims.length,H.length,$,K,B,Z.dataType===10?-65504:-1e5,z,F,V,A)}},ei=(J,Z)=>{mN(J.inputs),J.compute(pE("MaxPool",J.inputs[0],!1,Z))},Jn=(J)=>{let{storage_order:Z,dilations:Q}=J,Y=dE(J);if(Z!==0)throw Error("column major storage order is not yet supported for MaxPool");if(Y.ceilMode!==0)throw Error("using ceil() in shape computation is not yet supported for MaxPool");let $={storageOrder:Z,dilations:Q,...Y,cacheKey:""};return{...$,cacheKey:Kc($)}},Zn=(J)=>{let Z=J.format;return{format:Z,...cE,cacheKey:Z}},Qn=(J,Z)=>{mN(J.inputs),J.compute(pE("GlobalMaxPool",J.inputs[0],!0,Z))}}),T91=f0(()=>{g2(),n2(),k7(),r2(),Bc=(J,Z)=>{if(J.length<2||J.length>3)throw Error("DequantizeLinear requires 2 or 3 inputs.");if(J.length===3&&J[1].dims===J[2].dims)throw Error("x-scale and x-zero-point must have the same shape.");if(J.length===3&&J[0].dataType!==J[2].dataType)throw Error("x and x-zero-point must have the same data type.");if(J[0].dataType===6&&J.length>2)throw Error("In the case of dequantizing int32 there is no zero point.");if(J[1].dims.length!==0&&J[1].dims.length!==1&&J[1].dims.length!==J[0].dims.length)throw Error("scale input must be a scalar, a 1D tensor, or have the same rank as the input tensor.");if(J.length>2){if(J[0].dataType!==J[2].dataType)throw Error("x and x-zero-point must have the same data type.");if(J[1].dims.length!==J[2].dims.length)throw Error("scale and zero-point inputs must have the same rank.");if(!J[1].dims.map((Q,Y)=>Q===J[2].dims[Y]).reduce((Q,Y)=>Q&&Y,!0))throw Error("scale and zero-point inputs must have the same shape.")}if(Z.blockSize>0){if(J[1].dims.length===0||J[1].dims.length===1&&J[1].dims[0]===1)throw Error("blockSize must be set only for block quantization.");if(!J[1].dims.map(($,H)=>H===Z.axis||$===J[0].dims[H]).reduce(($,H)=>$&&H,!0))throw Error("For block qunatization, scale input shape to match the input shape except for the axis");if(J[1].dims.length!==J[0].dims.length)throw Error("For block qunatization the scale input rank must be the same as the x rank.");let Q=J[0].dims[Z.axis],Y=J[1].dims[Z.axis];if(Z.blockSize<Math.ceil(Q/Y)||Z.blockSize>Math.ceil(Q/(Y-1)-1))throw Error("blockSize must be with in the range [ceil(dI / Si), ceil(dI / (Si - 1) - 1)].")}},qc=(J,Z)=>{let Q=t1.normalizeAxis(Z.axis,J[0].dims.length),Y=J[0].dataType,$=Y===3,H=J[0].dims,K=J[1].dataType,B=t1.size(H),q=Y===3||Y===2,L=q?[Math.ceil(t1.size(J[0].dims)/4)]:J[0].dims,O=J[1].dims,z=J.length>2?J[2]:void 0,F=z?q?[Math.ceil(t1.size(z.dims)/4)]:z.dims:void 0,V=O.length===0||O.length===1&&O[0]===1,A=V===!1&&O.length===1,M=U7(B),j=V&&(!q||M===4),D=j?M:1,w=j&&!q?M:1,C=q0("input",q?12:Y,L.length,w),I=q0("scale",K,O.length),b=z?q0("zero_point",q?12:Y,F.length):void 0,E=H2("output",K,H.length,D),k=[C,I];b&&k.push(b);let T=[L,O];z&&T.push(F);let S=[{type:12,data:B/D},{type:12,data:Q},{type:12,data:Z.blockSize},...N2(...T,H)],d=(o)=>{let v=[{name:"output_size",type:"u32"},{name:"axis",type:"u32"},{name:"block_size",type:"u32"}];return`
      ${o.registerUniforms(v).declareVariables(...k,E)}
      ${o.mainStart()}
          ${o.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let output_indices = ${E.offsetToIndices("global_idx")};

          // Set input x
          ${q?`
            let input = ${C.getByOffset("global_idx / 4")};
            let x_vec = ${$?"unpack4xI8(input)":"unpack4xU8(input)"};
            let x_value = ${D===1?"x_vec[global_idx % 4]":"x_vec"};`:`let x_value = ${C.getByOffset("global_idx")};`};

          // Set scale input
          ${V?`let scale_value= ${I.getByOffset("0")}`:A?`
            let scale_index = ${E.indicesGet("output_indices","uniforms.axis")};
            let scale_value= ${I.getByOffset("scale_index")};`:`
            var scale_indices: ${I.type.indices} = output_indices;
            let index = ${I.indicesGet("scale_indices","uniforms.axis")} / uniforms.block_size;
            ${I.indicesSet("scale_indices","uniforms.axis","index")};
            let scale_value= ${I.getByIndices("scale_indices")};`};

          // Set zero-point input
          ${b?V?q?`
                let zero_point_input = ${b.getByOffset("0")};
                let zero_point_vec =  ${$?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value= zero_point_vec[0]`:`let zero_point_value = ${b.getByOffset("0")}`:A?q?`
                let zero_point_index = ${E.indicesGet("output_indices","uniforms.axis")};
                let zero_point_input = ${b.getByOffset("zero_point_index / 4")};
                let zero_point_vec =  ${$?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_index % 4]`:`
                let zero_point_index = ${E.indicesGet("output_indices","uniforms.axis")};
                let zero_point_value = ${b.getByOffset("zero_point_index")};`:q?`
                let zero_point_offset = ${I.indicesToOffset("scale_indices")};
                let zero_point_input = ${b.getByOffset("zero_point_offset / 4")};
                let zero_point_vec = ${$?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_offset % 4];`:`let zero_point_value = ${b.getByIndices("scale_indices")};`:`let zero_point_value = ${q?$?"i32":"u32":C.type.value}(0);`};
      // Compute and write output
      ${E.setByOffset("global_idx",`${E.type.value}(x_value - zero_point_value) * scale_value`)};
      }`};return{name:"DequantizeLinear",shaderCache:{hint:Z.cacheKey,inputDependencies:b?["rank","rank","rank"]:["rank","rank"]},getShaderSource:d,getRunData:()=>({outputs:[{dims:H,dataType:K}],dispatchGroup:{x:Math.ceil(B/D/64),y:1,z:1},programUniforms:S})}},Xn=(J,Z)=>{Bc(J.inputs,Z),J.compute(qc(J.inputs,Z))},Yn=(J)=>i5({axis:J.axis,blockSize:J.blockSize})}),P91=f0(()=>{_Z(),g2(),r2(),Uc=(J,Z,Q)=>{let Y=J===Z,$=J<Z&&Q<0,H=J>Z&&Q>0;if(Y||$||H)throw Error("Range these inputs' contents are invalid.")},Lc=(J,Z,Q,Y)=>{let $=Math.abs(Math.ceil((Z-J)/Q)),H=[$],K=$,B=[{type:12,data:K},{type:Y,data:J},{type:Y,data:Q},...N2(H)],q=(L)=>{let O=H2("output",Y,H.length),z=O.type.value,F=[{name:"outputSize",type:"u32"},{name:"start",type:z},{name:"delta",type:z}];return`
        ${L.registerUniforms(F).declareVariables(O)}
        ${L.mainStart()}
        ${L.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        output[global_idx] = uniforms.start + ${z}(global_idx) * uniforms.delta;
      }`};return{name:"Range",shaderCache:{hint:`${Y}`},getShaderSource:q,getRunData:()=>({outputs:[{dims:H,dataType:Y}],dispatchGroup:{x:Math.ceil(K/64)},programUniforms:B})}},Gn=(J)=>{let Z=0,Q=0,Y=0;J.inputs[0].dataType===6?(Z=J.inputs[0].getInt32Array()[0],Q=J.inputs[1].getInt32Array()[0],Y=J.inputs[2].getInt32Array()[0]):J.inputs[0].dataType===1&&(Z=J.inputs[0].getFloat32Array()[0],Q=J.inputs[1].getFloat32Array()[0],Y=J.inputs[2].getFloat32Array()[0]),f4.webgpu.validateInputContent&&Uc(Z,Q,Y),J.compute(Lc(Z,Q,Y,J.inputs[0].dataType),{inputs:[]})}}),g91=f0(()=>{g2(),n2(),k7(),r2(),Oc=(J,Z,Q,Y)=>{if(J!=="none"&&Y!=="i32"&&Y!=="u32"&&Y!=="f32")throw Error(`Input ${Y} is not supported with reduction ${J}.`);let $=`{
                var oldValue = 0;
                loop {
                  let newValueF32 =`,H=`;
                  let newValue = bitcast<i32>(newValueF32);
                  let res = atomicCompareExchangeWeak(&${Z}, oldValue, newValue);
                  if res.exchanged {
                    break;
                  }
                  oldValue = res.old_value;
                }
              }`;switch(J){case"none":return`${Z}=${Q};`;case"add":return Y==="i32"||Y==="u32"?`atomicAdd(&${Z}, bitcast<${Y}>(${Q}));`:`
              ${$}bitcast<${Y}>(oldValue) + (${Q})${H}`;case"max":return Y==="i32"||Y==="u32"?`atomicMax(&${Z}, bitcast<${Y}>(${Q}));`:`
                ${$}max(bitcast<f32>(oldValue), (${Q}))${H}`;case"min":return Y==="i32"||Y==="u32"?`atomicMin(&${Z}, bitcast<${Y}>(${Q}));`:`${$}min(bitcast<${Y}>(oldValue), (${Q}))${H}`;case"mul":return`${$}(bitcast<${Y}>(oldValue) * (${Q}))${H}`;default:throw Error(`Reduction ${J} is not supported.`)}},lE=(J,Z)=>`${J===1?`
    let element_count_dim = uniforms.output_strides;
    let dim_value = uniforms.output_shape;`:`
    let element_count_dim = uniforms.output_strides[${Z?"i - indices_start":"i"}];
    let dim_value = uniforms.output_shape[${Z?"i - indices_start":"i"} + uniforms.last_index_dimension];`}
    
    if (index >= 0) {
      if (index >= i32(dim_value)) {
        index = i32(dim_value - 1);
      }
    } else {
      if (index < -i32(dim_value)) {
        index = 0;
      } else {
        index += i32(dim_value);
      }
    }
    data_offset += u32((u32(index) * element_count_dim));`,iE=(J,Z,Q)=>`for (var i = 0u; i < uniforms.num_updates_elements; i++) {
        let value = updates[uniforms.num_updates_elements * ${Q?"global_idx":"idx"} + i];
        ${Oc(J.reduction,"output[data_offset + i]","value",Z)}
      }`,zc=(J,Z)=>{let Q=J[0].dims,Y=J[1].dims,$=Q,H=1,K=Math.ceil(t1.size(Y)/H),B=Y[Y.length-1],q=t1.sizeFromDimension(Q,B),L=t1.sizeFromDimension(Y,0)/B,O=[{type:12,data:K},{type:12,data:B},{type:12,data:q},...N2(J[1].dims,J[2].dims,$)],z=(F)=>{let V=q0("indices",J[1].dataType,J[1].dims.length),A=q0("updates",J[2].dataType,J[2].dims.length,H),M=Z.reduction!=="none"&&Z.reduction!==""?Sp("output",J[0].dataType,$.length):H2("output",J[0].dataType,$.length,H);return`
      ${F.registerUniform("output_size","u32").registerUniform("last_index_dimension","u32").registerUniform("num_updates_elements","u32").declareVariables(V,A,M)}
      ${F.mainStart()}
        ${F.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
  var hasDuplicates = false;
  if (${Z.reduction==="none"}) {
    for (var i = 0; i < ${L}; i = i + 1) {
      for (var j = i + 1; j < ${L}; j = j + 1) {
        var index_i = i32(indices[i].x);
        var index_j = i32(indices[j].x);
        if (index_i == index_j) {
          hasDuplicates = true;
          break;
        }
      }
      if (hasDuplicates) {
        break;
      }
    }
  }

  if (${Z.reduction==="none"} && hasDuplicates) {
    if (global_idx != 0u) {
      return;
    }
    // Process each index-update pair individually when duplicates exist
    for (var idx = 0u; idx < ${L}u; idx++) {
      var data_offset = 0u;
      for (var i = 0u; i < uniforms.last_index_dimension; i++) {
        var index = i32(indices[idx * uniforms.last_index_dimension + i].x);
        ${lE(Q.length,!1)}
      }
      ${iE(Z,M.type.value,!1)}
    }
    return;
  }

  var data_offset = 0u;
  var indices_start = uniforms.last_index_dimension * global_idx;
  var indices_end = indices_start + uniforms.last_index_dimension;
  for (var i = indices_start; i < indices_end; i++) {
    var index = i32(indices[i].x);
    ${lE(Q.length,!0)}
  }
  ${iE(Z,M.type.value,!0)}
  }`};return{name:"ScatterND",shaderCache:{hint:`${Z.cacheKey}_${Z.reduction}`,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:$,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(K/64)},programUniforms:O}),getShaderSource:z}},$n=(J)=>i5({reduction:J.reduction}),Hn=(J,Z)=>{J.compute(zc(J.inputs,Z),{inputs:[J.inputs[1],J.inputs[2]],outputs:[]})}}),y91=f0(()=>{g2(),n2(),k7(),r2(),Nc=(J,Z)=>{if(J.every((Q)=>Q>0||(()=>{throw Error("Resize requires scales input values to be positive")})),J.length>0){if(Z.mode==="linear"){if(!(J.length===2||J.length===3||J.length===4&&J[0]===1&&J[1]===1||J.length===4&&J[0]===1&&J[3]===1||J.length===5&&J[0]===1&&J[1]===1))throw Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and
            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(Z.mode==="cubic"&&!(J.length===2||J.length===4&&J[0]===1&&J[1]===1||J.length===4&&J[0]===1&&J[3]===1))throw Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},Fc=(J,Z,Q)=>{Z.every(($)=>$>=0&&$<Q||(()=>{throw Error("Resize requires axes input values to be positive and less than rank")}));let Y=Array(Q).fill(1);return Z.forEach(($,H)=>Y[$]=J[H]),Y},Ac=(J,Z,Q,Y,$,H)=>{let[K,B,q]=Q>10?[1,2,3]:[-1,J.length>1?1:-1,-1],L=J[0].dims.length;if(K>0&&J.length>K&&J[K].dims.length>0)J[K].getFloat32Array().forEach((O)=>H.push(O));else if(Z.coordinateTransformMode==="tf_crop_and_resize")throw Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(B>0&&J.length>B&&J[B].dims.length===1&&J[B].dims[0]>0){if(J[B].getFloat32Array().forEach((O)=>Y.push(O)),Y.length!==0&&Y.length!==L&&Q>=18&&Y.length!==Z.axes.length)throw Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");Nc(Y,Z),Z.axes.length>0&&Fc(Y,Z.axes,L).forEach((O,z)=>Y[z]=O)}if(q>0&&J.length>q&&J[q].dims.length===1&&J[q].dims[0]>0&&(J[q].getBigInt64Array().forEach((O)=>$.push(Number(O))),$.length!==0&&$.length!==L&&Q>=18&&$.length!==Z.axes.length))throw Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(Z.axes.length>0){if(Y.length!==0&&Y.length!==Z.axes.length)throw Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if($.length!==0&&$.length!==Z.axes.length)throw Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof Y<"u"&&typeof $<"u"&&Y.length>0&&$.length>L)throw Error("Resize requires only of scales or sizes to be specified")},nE=(J,Z,Q,Y)=>`
  // The whole part and the fractional part are calculated separately due to inaccuracy of floating
  // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an
  // offset-by-one error later in floor().
  let big = (${J}) * (${Z});
  let whole = ${Y}(big / (${Q}));
  let fract = ${Y}(big % (${Q})) / ${Y}(${Q});
  return whole + fract;
`,Mc=(J,Z)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,
     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${Z} { `+(()=>{switch(J){case"asymmetric":return`
          if (xScale < 1.0 || floor(xScale) != xScale) {
            return ${Z}(xResized) / ${Z}(xScale);
          } else {
            ${nE("xResized","lengthOriginal","lengthResized",Z)}
          }
        `;case"pytorch_half_pixel":return`if (lengthResized > 1) {
                    return (${Z}(xResized) + 0.5) / ${Z}(xScale) - 0.5;
                  } else {
                    return 0.0;
                  }`;case"tf_half_pixel_for_nn":return`return (${Z}(xResized) + 0.5) / ${Z}(xScale);`;case"align_corners":return`if (lengthResized == 1) {
                    return 0.0;
                  } else {
                    ${nE("xResized","lengthOriginal - 1","lengthResized - 1",Z)}
                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {
                    return ${Z}(roiStart) * ${Z}(lengthOriginal - 1) +
                        (${Z}(xResized) * ${Z}(roiEnd - roiStart) * ${Z}(lengthOriginal - 1)) /
                        ${Z}(lengthResized - 1);
                  } else {
                    return 0.5 * ${Z}(roiStart + roiEnd) * ${Z}(lengthOriginal - 1);
                  }`;case"half_pixel_symmetric":return`const outputWidth = ${Z}xScale * ${Z}(lengthResized);
                  const adjustment = ${Z}(lengthResized) / outputWidth;
                  const center = ${Z}(lengthOriginal) / 2;
                  const offset = center * (1 - adjustment);
                  return offset + ((${Z}(xResized) + 0.5) / ${Z}(xScale)) - 0.5;`;case"half_pixel":return`return ((${Z}(xResized) + 0.5) / ${Z}(xScale)) - 0.5;`;default:throw Error(`Coordinate transform mode ${J} is not supported`)}})()+"}",_c=(J,Z,Q)=>`fn getNearestPixelFromOriginal(xOriginal: ${Q}, isDownSample: bool) -> ${Q} {`+(()=>{switch(J){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(Z<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw Error(`Nearest mode ${J} is not supported`)}})()+"}",Vc=(J,Z,Q)=>{let Y=Array(Q).fill(0).concat(Array(Q).fill(1)),$=J.length===0?Y:J.slice();return Z.length>0?(Z.forEach((H,K)=>{Y[H]=$[K],Y[K+Q]=$[Z.length+K]}),Y):$},Ic=(J,Z,Q,Y)=>{let $=[];if(Q.length>0)if(Y.length>0){if(J.forEach((H)=>$.push(H)),Math.max(...Y)>J.length)throw Error("axes is out of bound");Y.forEach((H,K)=>$[H]=Q[K])}else Q.forEach((H)=>$.push(H));else{if(Z.length===0)throw Error("Resize requires either scales or sizes.");$=J.map((H,K)=>Math.round(H*Z[K]))}return $},jc=(J,Z,Q)=>{let Y=(()=>{switch(Q.keepAspectRatioPolicy){case"not_larger":return Q.axes.length>0?Math.min(...Q.axes.map((H)=>Z[H]),Number.MAX_VALUE):Math.min(...Z,Number.MAX_VALUE);case"not_smaller":return Q.axes.length>0?Math.max(...Q.axes.map((H)=>Z[H]),Number.MIN_VALUE):Math.max(...Z,Number.MIN_VALUE);default:throw Error(`Keep aspect ratio policy ${Q.keepAspectRatioPolicy} is not supported`)}})();Z.fill(1,0,Z.length);let $=J.slice();return Q.axes.length>0?(Q.axes.forEach((H)=>Z[H]=Y),Q.axes.forEach((H)=>$[H]=Math.round(J[H]*Z[H]))):(Z.fill(Y,0,Z.length),$.forEach((H,K)=>$[K]=Math.round(H*Z[K]))),$},Dc=(J,Z,Q,Y,$)=>`
    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${J.type.indices}) -> array<${J.type.value}, ${Q.length}> {
      var original_indices: array<${J.type.value}, ${Q.length}>;
      for (var i:u32 = 0; i < ${Q.length}; i++) {
        var output_index = ${J.indicesGet("output_indices","i")};
        var scale = ${O2("uniforms.scales","i",Y)};
        var roi_low = ${O2("uniforms.roi","i",$)};
        var roi_hi = ${O2("uniforms.roi",`i + ${Z.length}`,$)};
        if (scale == 1.0) {
          original_indices[i] = ${J.type.value}(output_index);
        } else {
          var input_shape_i = ${O2("uniforms.input_shape","i",Z.length)};
          var output_shape_i = ${O2("uniforms.output_shape","i",Q.length)};
          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                           input_shape_i, roi_low, roi_hi);
        }
      }
      return original_indices;
    }`,wc=(J,Z,Q,Y,$,H,K)=>`
    fn calculateInputIndicesFromOutputIndices(output_indices: ${Z.type.indices}) -> ${J.type.indices} {
      var input_indices: ${J.type.indices};
      for (var i:u32 = 0; i < ${Y.length}; i++) {
        var output_index = ${Z.indicesGet("output_indices","i")};
        var input_index: u32;
        var scale = ${O2("uniforms.scales","i",$)};
        if (scale == 1.0) {
          input_index = output_index;
        } else {
          var roi_low = ${O2("uniforms.roi","i",H)};
          var roi_hi = ${O2("uniforms.roi",`i + ${Q.length}`,H)};
          var input_shape_i = ${O2("uniforms.input_shape","i",Q.length)};
          var output_shape_i = ${O2("uniforms.output_shape","i",Y.length)};
          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                        input_shape_i, roi_low, roi_hi);
          if (!${K} || (original_idx >= 0 && original_idx < ${Z.type.value}(input_shape_i))) {
            if (original_idx < 0) {
              input_index = 0;
            } else if (original_idx > ${Z.type.value}(input_shape_i - 1)) {
              input_index = input_shape_i - 1;
            } else {
              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));
            }
          } else {
            input_index = u32(original_idx);
          }
        }
        ${J.indicesSet("input_indices","i","input_index")}
      }
      return input_indices;
    }`,Ec=(J,Z)=>`
    fn checkInputIndices(input_indices: ${J.type.indices}) -> bool {
      for (var i:u32 = 0; i < ${Z.length}; i++) {
        var input_index = ${J.indicesGet("input_indices","i")};
        if (input_index < 0 || input_index >= ${O2("uniforms.input_shape","i",Z.length)}) {
          return false;
        }
      }
      return true;
    }`,aE=(J,Z,Q,Y)=>J.rank>Y?`
    ${J.indicesSet("input_indices",Z,"channel")};
    ${J.indicesSet("input_indices",Q,"batch")};
`:"",kc=(J,Z,Q,Y,$)=>{let[H,K,B,q]=Q.length===2?[-1,0,1,-1]:[0,2,3,1],L=J.type.value;return`
    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${L} {
      var input_indices: ${J.type.indices};
      ${J.indicesSet("input_indices",K,`max(0, min(row, ${Q[K]} - 1))`)};
      ${J.indicesSet("input_indices",B,`max(0, min(col, ${Q[B]} - 1))`)};
      ${aE(J,q,H,2)}
      return ${J.getByIndices("input_indices")};
    }

    fn bilinearInterpolation(output_indices: ${Z.type.indices}) -> ${L} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var row:${L} = originalIndices[${K}];
      var col:${L} = originalIndices[${B}];
      ${Y?`if (row < 0 || row > (${Q[K]} - 1) || col < 0 || col > (${Q[B]} - 1)) {
        return ${$};
      }`:""};
      row = max(0, min(row, ${Q[K]} - 1));
      col = max(0, min(col, ${Q[B]} - 1));
      var row1: u32 = u32(row);
      var col1: u32 = u32(col);
      var row2: u32 = u32(row + 1);
      var col2: u32 = u32(col + 1);
      var channel: u32 = ${Q.length>2?`u32(originalIndices[${q}])`:"0"};
      var batch: u32 =  ${Q.length>2?`u32(originalIndices[${H}])`:"0"};
      var x11: ${L} = getInputValue(batch, channel, row1, col1);
      var x12: ${L} = getInputValue(batch, channel, row1, col2);
      var x21: ${L} = getInputValue(batch, channel, row2, col1);
      var x22: ${L} = getInputValue(batch, channel, row2, col2);
      var dx1: ${L} = abs(row - ${L}(row1));
      var dx2: ${L} = abs(${L}(row2) - row);
      var dy1: ${L} = abs(col - ${L}(col1));
      var dy2: ${L} = abs(${L}(col2) - col);
      if (row1 == row2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (col1 == col2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);
    }`},xc=(J,Z,Q,Y,$,H,K,B,q,L)=>{let O=Q.length===2,z=!0,[F,V]=O?[0,1]:z?[2,3]:[1,2],A=J.type.value,M=(j)=>{let D=j===F?"row":"col";return`
      fn ${D}CubicInterpolation(input_indices: ${J.type.indices}, output_indices: ${Z.type.indices}) -> ${A} {
        var output_index = ${Z.indicesGet("output_indices",j)};
        var originalIdx: ${A} = getOriginalCoordinateFromResizedCoordinate(output_index, ${$[j]},
        ${Y[j]}, ${Q[j]}, ${H[j]}, ${H[j]} + ${Q.length});
        var fractOriginalIdx: ${A} = originalIdx - floor(originalIdx);
        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);

        if (${B} && (originalIdx < 0 || originalIdx > (${Q[j]} - 1))) {
          return ${q};
        }
        var data: array<${A}, 4> = array<${A}, 4>(0.0, 0.0, 0.0, 0.0);
        for (var i: i32 = -1; i < 3; i++) {
          var ${D}: ${A} = originalIdx + ${A}(i);
          if (${D} < 0 || ${D} >= ${Q[j]}) {
            ${L?`coefs[i + 1] = 0.0;
                        continue;`:B?`return ${q};`:`${D} = max(0, min(${D}, ${Q[j]} - 1));`};
          }
        var input_indices_copy: ${J.type.indices} = input_indices;
          ${J.indicesSet("input_indices_copy",j,`u32(${D})`)};
          data[i + 1] = ${j===F?J.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};
        }
        return cubicInterpolation1D(data, coefs);
      }`};return`
    ${M(F)};
    ${M(V)};
  fn getCubicInterpolationCoefs(s: ${A}) -> array<${A}, 4> {
    var absS = abs(s);
    var coeffs: array<${A}, 4> = array<${A}, 4>(0.0, 0.0, 0.0, 0.0);
    var oneMinusAbsS: ${A} = 1.0 - absS;
    var twoMinusAbsS: ${A} = 2.0 - absS;
    var onePlusAbsS: ${A} = 1.0 + absS;
    coeffs[0] = ((${K} * onePlusAbsS - 5 * ${K}) * onePlusAbsS + 8 * ${K}) * onePlusAbsS - 4 * ${K};
    coeffs[1] = ((${K} + 2) * absS - (${K} + 3)) * absS * absS + 1;
    coeffs[2] = ((${K} + 2) * oneMinusAbsS - (${K} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;
    coeffs[3] = ((${K} * twoMinusAbsS - 5 * ${K}) * twoMinusAbsS + 8 * ${K}) * twoMinusAbsS - 4 * ${K};
    return coeffs;
  }

  fn cubicInterpolation1D(x: array<${A}, 4>, coefs: array<${A}, 4>) -> ${A} {
    var coefsSum: ${A} = coefs[0] + coefs[1] + coefs[2] + coefs[3];
    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;
  }

  fn bicubicInterpolation(output_indices: ${Z.type.indices}) -> ${A} {
    var input_indices: ${J.type.indices} = output_indices;
    return colCubicInterpolation(input_indices, output_indices);
  }
    `},Rc=(J,Z,Q,Y,$)=>{let[H,K,B,q,L]=Q.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],O=J.type.value;return`
    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${O} {
      var input_indices: ${J.type.indices};
      ${J.indicesSet("input_indices",K,`max(0, min(depth, ${Q[K]} - 1))`)};
      ${J.indicesSet("input_indices",B,`max(0, min(height, ${Q[B]} - 1))`)};
      ${J.indicesSet("input_indices",q,`max(0, min(width, ${Q[q]} - 1))`)};
      ${aE(J,L,H,3)}
      return ${J.getByIndices("input_indices")};
    }

    fn trilinearInterpolation(output_indices: ${Z.type.indices}) -> ${O} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var depth:${O} = originalIndices[${K}];
      var height:${O} = originalIndices[${B}];
      var width:${O} = originalIndices[${q}];
      ${Y?`if (depth < 0 || depth > (${Q[K]} - 1) || height < 0 || height > (${Q[B]} - 1) || width < 0 || (width > ${Q[q]} - 1)) {
      return ${$};
        }`:""};

    depth = max(0, min(depth, ${Q[K]} - 1));
      height = max(0, min(height, ${Q[B]} - 1));
      width = max(0, min(width, ${Q[q]} - 1));
      var depth1: u32 = u32(depth);
      var height1: u32 = u32(height);
      var width1: u32 = u32(width);
      var depth2: u32 = u32(depth + 1);
      var height2: u32 = u32(height + 1);
      var width2: u32 = u32(width + 1);
      var channel: u32 = ${Q.length>3?`u32(originalIndices[${L}])`:"0"};
      var batch: u32 =  ${Q.length>3?`u32(originalIndices[${H}])`:"0"};

      var x111: ${O} = getInputValue(batch, channel, depth1, height1, width1);
      var x112: ${O} = getInputValue(batch, channel, depth1, height1, width2);
      var x121: ${O} = getInputValue(batch, channel, depth1, height2, width1);
      var x122: ${O} = getInputValue(batch, channel, depth1, height2, width2);
      var x211: ${O} = getInputValue(batch, channel, depth2, height1, width1);
      var x212: ${O} = getInputValue(batch, channel, depth2, height1, width2);
      var x221: ${O} = getInputValue(batch, channel, depth2, height2, width1);
      var x222: ${O} = getInputValue(batch, channel, depth2, height2, width2);
      var dx1: ${O} = abs(depth - ${O}(depth1));
      var dx2: ${O} = abs(${O}(depth2) - depth);
      var dy1: ${O} = abs(height - ${O}(height1));
      var dy2: ${O} = abs(${O}(height2) - height);
      var dz1: ${O} = abs(width - ${O}(width1));
      var dz2: ${O} = abs(${O}(width2) - width);
      if (depth1 == depth2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (height1 == height2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      if (width1 == width2) {
        dz1 = 0.5;
        dz2 = 0.5;
      }
      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +
              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);
    }`},Cc=(J,Z,Q,Y,$,H)=>{let K=J.dims,B=Vc(H,Z.axes,K.length),q=Ic(K,Y,$,Z.axes),L=Y.slice();Y.length===0&&(L=K.map((w,C)=>w===0?1:q[C]/w),Z.keepAspectRatioPolicy!=="stretch"&&(q=jc(K,L,Z)));let O=H2("output",J.dataType,q.length),z=q0("input",J.dataType,K.length),F=t1.size(q),V=K.length===q.length&&K.every((w,C)=>w===q[C]),A=Z.coordinateTransformMode==="tf_crop_and_resize",M=Z.extrapolationValue,j=z.type.value,D=(w)=>`
      ${V?"":`
      ${Mc(Z.coordinateTransformMode,j)};
      ${(()=>{switch(Z.mode){case"nearest":return`
              ${Ec(z,K)};
              ${_c(Z.nearestMode,Q,j)};
              ${wc(z,O,K,q,L.length,B.length,A)};
              `;case"linear":return`
              ${Dc(O,K,q,L.length,B.length)};
              ${(()=>{if(K.length===2||K.length===4)return`${kc(z,O,K,A,M)}`;if(K.length===3||K.length===5)return`${Rc(z,O,K,A,M)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};
            `;case"cubic":return`
            ${(()=>{if(K.length===2||K.length===4)return`${xc(z,O,K,q,L,B,Z.cubicCoeffA,A,Z.extrapolationValue,Z.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};
            `;default:throw Error("Invalid resize mode")}})()};
      `}
      ${w.registerUniform("output_size","u32").registerUniform("scales","f32",L.length).registerUniform("roi","f32",B.length).declareVariables(z,O)}
      ${w.mainStart()}
        ${w.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
        ${V?"output[global_idx] = input[global_idx];":`
        let output_indices = ${O.offsetToIndices("global_idx")};
        var input_indices: ${z.type.indices};
        ${(()=>{switch(Z.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);
                if (checkInputIndices(input_indices)) {
                  output[global_idx] = ${z.getByIndices("input_indices")};
                } else {
                  output[global_idx] = ${Z.extrapolationValue};
                }`;case"linear":return`output[global_idx] = ${K.length===2||K.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${Z.mode}`)}})()};
`}
      }`;return{name:"Resize",shaderCache:{hint:`${Z.cacheKey}|${Q}|${L.length>0?Z.mode==="cubic"?L:L.length:""}|${$.length>0?$:""}|${B.length>0?B:""}|${V}|${Z.mode==="nearest"?K.length:K}`,inputDependencies:["rank"]},getShaderSource:D,getRunData:()=>({outputs:[{dims:q,dataType:J.dataType}],dispatchGroup:{x:Math.ceil(F/64)},programUniforms:[{type:12,data:F},{type:1,data:L},{type:1,data:B},...N2(K,q)]})}},bc=(J)=>{let Z=J.customDataBuffer;return new Uint32Array(Z,Z.byteOffset,1)[0]},Wn=(J,Z)=>{let Q=[],Y=[],$=[],H=bc(J);if(Z.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");Ac(J.inputs,Z,H,Q,Y,$),J.compute(Cc(J.inputs[0],Z,H,Q,Y,$),{inputs:[0]})},Kn=(J)=>{let{antialias:Z,axes:Q,coordinateTransformMode:Y,cubicCoeffA:$}=J,H=J.excludeOutside!==0,K=J.extrapolationValue,B=J.keepAspectRatioPolicy,q=J.mode,L=J.nearestMode===""?"simple":J.nearestMode;return i5({antialias:Z,axes:Q,coordinateTransformMode:Y,cubicCoeffA:$,excludeOutside:H,extrapolationValue:K,keepAspectRatioPolicy:B,mode:q,nearestMode:L})}}),h91=f0(()=>{g2(),n2(),r2(),vc=(J)=>{if(!J||J.length<3)throw Error("layerNorm requires at least 3 inputs.");let Z=J[0],Q=J[1],Y=J[2];if(Z.dataType!==Q.dataType||Z.dataType!==Y.dataType)throw Error("All inputs must have the same data type");if(Z.dims.length!==3&&Z.dims.length!==2)throw Error("Input must be 2D or 3D");if(Q.dims.length!==3&&Q.dims.length!==2)throw Error("Skip must be 2D or 3D");let $=Z.dims[Z.dims.length-1],H=Z.dims[Z.dims.length-2];if(Q.dims[Q.dims.length-1]!==$)throw Error("Skip must have the same hidden size as input");if(Q.dims[Q.dims.length-2]!==H)throw Error("Skip must have the same sequence length as input");if(Y.dims.length!==1)throw Error("Gamma must be 1D");if(Y.dims[Y.dims.length-1]!==$)throw Error("Gamma must have the same hidden size as input");if(J.length>3){let K=J[3];if(K.dims.length!==1)throw Error("Beta must be 1D");if(K.dims[K.dims.length-1]!==$)throw Error("Beta must have the same hidden size as input")}if(J.length>4){let K=J[4];if(K.dims.length!==1)throw Error("Bias must be 1D");if(K.dims[K.dims.length-1]!==$)throw Error("Bias must have the same hidden size as input")}},fc=(J,Z,Q,Y)=>{let $=Z.simplified,H=J[0].dims,K=t1.size(H),B=H,q=K,L=H.slice(-1)[0],O=Y?H.slice(0,-1).concat(1):[],z=!$&&J.length>3,F=J.length>4,V=Y&&Q>1,A=Y&&Q>2,M=Q>3,j=64,D=U7(L),w=[{type:12,data:q},{type:12,data:D},{type:12,data:L},{type:1,data:Z.epsilon}],C=(b)=>{let E=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],k=[q0("x",J[0].dataType,J[0].dims,D),q0("skip",J[1].dataType,J[1].dims,D),q0("gamma",J[2].dataType,J[2].dims,D)];z&&k.push(q0("beta",J[3].dataType,J[3].dims,D)),F&&k.push(q0("bias",J[4].dataType,J[4].dims,D)),k.push(H2("output",J[0].dataType,B,D)),V&&k.push(H2("mean_output",1,O)),A&&k.push(H2("inv_std_output",1,O)),M&&k.push(H2("input_skip_bias_sum",J[0].dataType,B,D));let T=w6(J[0].dataType),S=w6(1,D);return`

      ${b.registerUniforms(E).declareVariables(...k)}
      var<workgroup> sum_shared : array<${S}, ${j}>;
      var<workgroup> sum_squared_shared : array<${S}, ${j}>;

      ${b.mainStart([j,1,1])}
        let ix = local_id.x;
        let iy = global_id.x / ${j};

        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;
        var stride = hidden_size_vectorized / ${j};
        let offset = ix * stride + iy * hidden_size_vectorized;
        let offset1d = stride * ix;
        if (ix == ${j-1}) {
          stride = hidden_size_vectorized - stride * ix;
        }
        for (var i: u32 = 0; i < stride; i++) {
          let skip_value = skip[offset + i];
          let bias_value = ${F?"bias[offset1d + i]":T+"(0.0)"};
          let input_value = x[offset + i];
          let value = input_value + skip_value + bias_value;
          ${M?"input_skip_bias_sum[offset + i] = value;":""}
          output[offset + i] = value;
          let f32_value = ${LL(T,D,"value")};
          sum_shared[ix] += f32_value;
          sum_squared_shared[ix] += f32_value * f32_value;
        }
        workgroupBarrier();

        var reduce_size : u32 = ${j};
        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {
          reduce_size = curr_size + (reduce_size & 1);
          if (ix < curr_size) {
            sum_shared[ix] += sum_shared[ix + reduce_size];
            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];
          }
          workgroupBarrier();
        }

        let sum = sum_shared[0];
        let square_sum = sum_squared_shared[0];
        let mean = ${mG("sum",D)} / f32(uniforms.hidden_size);
        let inv_std_dev = inverseSqrt(${mG("square_sum",D)} / f32(uniforms.hidden_size) ${$?"":"- mean * mean"} + uniforms.epsilon);
        ${V?"mean_output[global_idx] = mean;":""}
        ${A?"inv_std_output[global_idx] = inv_std_dev;":""}

        for (var i: u32 = 0; i < stride; i++) {
          output[offset + i] = (output[offset + i] ${$?"":`- ${T}(mean)`}) *
            ${T}(inv_std_dev) * gamma[offset1d + i]
            ${z?"+ beta[offset1d + i]":""};
        }
      }`},I=[{dims:B,dataType:J[0].dataType}];return Q>1&&I.push({dims:O,dataType:1}),Q>2&&I.push({dims:O,dataType:1}),Q>3&&I.push({dims:H,dataType:J[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${D};${V};${A};${M}`,inputDependencies:J.map((b,E)=>"type")},getShaderSource:C,getRunData:()=>({outputs:I,dispatchGroup:{x:Math.ceil(q/L)},programUniforms:w})}},Bn=(J,Z)=>{vc(J.inputs);let Q=[0];J.outputCount>1&&Q.push(-3),J.outputCount>2&&Q.push(-3),J.outputCount>3&&Q.push(3),J.compute(fc(J.inputs,Z,J.outputCount,!1),{outputs:Q})}}),u91=f0(()=>{g2(),n2(),k7(),r2(),Sc=(J,Z)=>{if(!J||J.length<1)throw Error("too few inputs");if(Z.axes.length!==0){if(Z.axes.length!==Z.starts.length||Z.axes.length!==Z.ends.length)throw Error("axes, starts and ends must have the same length")}else if(Z.starts.length!==Z.ends.length)throw Error("starts and ends must have the same length");J.slice(1).forEach((Q,Y)=>{if(J[Y+1].dataType!==6&&J[Y+1].dataType!==7)throw Error(`Input ${Y} must be an array of int32 or int64`)})},cN=(J,Z)=>{let Q=[];if(J.length>Z)if(J[Z].dataType===7)J[Z].getBigInt64Array().forEach((Y)=>Q.push(Number(Y)));else if(J[Z].dataType===6)J[Z].getInt32Array().forEach((Y)=>Q.push(Number(Y)));else throw Error(`Input ${Z} must be an array of int32 or int64`);return Q},Tc=(J,Z)=>{if(J.length>1){let Q=cN(J,1),Y=cN(J,2),$=cN(J,3);return $.length===0&&($=[...Array(J[0].dims.length).keys()]),i5({starts:Q,ends:Y,axes:$})}else return Z},sE=(J,Z,Q,Y,$)=>{let H=J;return J<0&&(H+=Q[Y[Z]]),$[Z]<0?Math.max(0,Math.min(H,Q[Y[Z]]-1)):Math.max(0,Math.min(H,Q[Y[Z]]))},Pc=(J,Z,Q)=>`fn calculateInputIndices(output_indices: ${Z.type.indices}) -> ${J.type.indices} {
          var input_indices: ${J.type.indices};
          var carry = 0u;
          for (var i = ${Q.length}; i >= 0; i--) {
            let input_shape_i = ${O2("uniforms.input_shape","i",Q.length)};
            let steps_i = ${O2("uniforms.steps","i",Q.length)};
            let signs_i = ${O2("uniforms.signs","i",Q.length)};
            let starts_i = ${O2("uniforms.starts","i",Q.length)};
            var output_index = ${Z.indicesGet("output_indices","i")};
            var input_index = output_index * steps_i + starts_i + carry;
            carry = input_index / input_shape_i;
            input_index = input_index % input_shape_i;
            if (signs_i < 0) {
              input_index = input_shape_i - input_index - 1u + starts_i;
            }
            ${J.indicesSet("input_indices","i","input_index")};
          }
          return input_indices;
      }`,gc=(J,Z)=>{let Q=J[0].dims,Y=t1.size(Q),$=Z.axes.length>0?t1.normalizeAxes(Z.axes,Q.length):[...Array(Q.length).keys()],H=cN(J,4);H.forEach((D)=>D!==0||(()=>{throw Error("step cannot be 0")})),H.length===0&&(H=Array($.length).fill(1));let K=Z.starts.map((D,w)=>sE(D,w,Q,$,H)),B=Z.ends.map((D,w)=>sE(D,w,Q,$,H));if($.length!==K.length||$.length!==B.length)throw Error("start, ends and axes should have the same number of elements");if($.length!==Q.length)for(let D=0;D<Q.length;++D)$.includes(D)||(K.splice(D,0,0),B.splice(D,0,Q[D]),H.splice(D,0,1));let q=H.map((D)=>Math.sign(D));H.forEach((D,w,C)=>{if(D<0){let I=(B[w]-K[w])/D,b=K[w],E=b+I*H[w];K[w]=E,B[w]=b,C[w]=-D}});let L=Q.slice(0);$.forEach((D,w)=>{L[D]=Math.ceil((B[D]-K[D])/H[D])});let O={dims:L,dataType:J[0].dataType},z=H2("output",J[0].dataType,L.length),F=q0("input",J[0].dataType,J[0].dims.length),V=t1.size(L),A=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:K.length},{name:"signs",type:"i32",length:q.length},{name:"steps",type:"u32",length:H.length}],M=[{type:12,data:V},{type:12,data:K},{type:6,data:q},{type:12,data:H},...N2(J[0].dims,L)],j=(D)=>`
      ${D.registerUniforms(A).declareVariables(F,z)}
        ${Pc(F,z,Q)}
        ${D.mainStart()}
          ${D.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
          let output_indices = ${z.offsetToIndices("global_idx")};
          let input_indices = calculateInputIndices(output_indices);
          ${z.setByOffset("global_idx",F.getByIndices("input_indices"))}
      }`;return{name:"Slice",shaderCache:{hint:`${q.length}_${K.length}_${H.length}`,inputDependencies:["rank"]},getShaderSource:j,getRunData:()=>({outputs:[O],dispatchGroup:{x:Math.ceil(Y/64)},programUniforms:M})}},qn=(J,Z)=>{Sc(J.inputs,Z);let Q=Tc(J.inputs,Z);J.compute(gc(J.inputs,Q),{inputs:[0]})},Un=(J)=>{let{starts:Z,ends:Q,axes:Y}=J;return i5({starts:Z,ends:Q,axes:Y})}}),d91=f0(()=>{g2(),n2(),k7(),cG(),r2(),yc=(J)=>{if(!J||J.length!==1)throw Error("Softmax op requires 1 input.")},hc=(J,Z)=>{let Q=J.inputs[0],Y=Q.dims,$=t1.size(Y),H=Y.length,K=t1.normalizeAxis(Z.axis,H),B=K<Y.length-1,q,L=[];B?(L=Array.from({length:H},(k,T)=>T),L[K]=H-1,L[H-1]=K,q=J.compute(I3(Q,L),{inputs:[Q],outputs:[-1]})[0]):q=Q;let O=q.dims,z=O[H-1],F=$/z,V=U7(z),A=z/V,M=64;F===1&&(M=256);let j=(k,T)=>T===4?`max(max(${k}.x, ${k}.y), max(${k}.z, ${k}.w))`:T===2?`max(${k}.x, ${k}.y)`:T===3?`max(max(${k}.x, ${k}.y), ${k}.z)`:k,D=q0("x",q.dataType,q.dims,V),w=H2("result",q.dataType,q.dims,V),C=D.type.value,I=w6(q.dataType)==="f32"?`var threadMax = ${C}(-3.402823e+38f);`:`var threadMax = ${C}(-65504.0h);`,b=(k)=>`
      var<workgroup> rowMaxShared : ${C};
      var<workgroup> rowSumShared : ${C};
      var<workgroup> threadShared : array<${C}, ${M}>;

      fn getValue(row: i32, col: i32, row_stride: i32) -> ${C} {
        let index = row * row_stride + col;
        return x[index];
      }

      fn setValue(row: i32, col: i32, row_stride: i32, value: ${C}) {
        let index = row * row_stride + col;
        result[index] = value;
      }
      ${k.registerUniform("packedCols","i32").declareVariables(D,w)}
      ${k.mainStart(M)}
        let gindex = i32(global_idx);
        let lindex = i32(local_idx);
        const wg = ${M};
        let row = gindex / wg;
        let cols = uniforms.packedCols;
        let row_stride : i32 = uniforms.packedCols;

        // find the rows max
        ${I}
        for (var col = lindex; col < cols; col += wg) {
          let value = getValue(row, col, row_stride);
          threadMax = max(threadMax, value);
        }
        if (lindex < cols) {
          threadShared[lindex] = threadMax;
        }
        workgroupBarrier();

        var reduceSize = min(cols, wg);
        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
          reduceSize = currSize + (reduceSize & 1);
          if (lindex < currSize) {
            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowMaxShared = ${C}(${j("threadShared[0]",V)});
        }
        workgroupBarrier();

        // find the rows sum
        var threadSum = ${C}(0.0);
        for (var col = lindex; col < cols; col += wg) {
          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);
          threadSum += subExp;
        }
        threadShared[lindex] = threadSum;
        workgroupBarrier();

        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {
          if (lindex < currSize) {
            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowSumShared = ${C}(${mG("threadShared[0]",V)});
        }
        workgroupBarrier();

        // calculate final value for each element in the row
        for (var col = lindex; col < cols; col += wg) {
          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;
          setValue(row, col, row_stride, value);
        }
      }`,E=J.compute({name:"Softmax",shaderCache:{hint:`${V};${M}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:O,dataType:q.dataType}],dispatchGroup:{x:F},programUniforms:[{type:6,data:A}]}),getShaderSource:b},{inputs:[q],outputs:[B?-1:0]})[0];B&&J.compute(I3(E,L),{inputs:[E]})},Ln=(J,Z)=>{yc(J.inputs),hc(J,Z)},On=(J)=>i5({axis:J.axis})}),m91=f0(()=>{g2(),n2(),r2(),oE=(J)=>Array.from(J.getBigInt64Array(),Number),uc=(J)=>{if(!J||J.length!==2)throw Error("Tile requires 2 inputs.");if(J[0].dataType!==1&&J[0].dataType!==10&&J[0].dataType!==6&&J[0].dataType!==12)throw Error("Tile only support float, float16, int32, and uint32 data types");if(J[1].dataType!==7)throw Error("Tile `repeats` input should be of int64 data type");if(J[1].dims.length!==1)throw Error("Tile `repeats` input should be 1-D");if(oE(J[1]).length!==J[0].dims.length)throw Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},dc=(J,Z)=>{let Q=[];for(let Y=0;Y<J.length;++Y)Q.push(J[Y]*Z[Y]);return Q},mc=(J,Z)=>{let Q=J[0].dims,Y=Z??oE(J[1]),$=dc(Q,Y),H=t1.size($),K=J[0].dataType,B=q0("input",K,Q.length),q=H2("output",K,$.length),L=(O)=>`
      const inputShape = ${B.indices(...Q)};
      ${O.registerUniform("output_size","u32").declareVariables(B,q)}
      ${O.mainStart()}
      ${O.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let output_indices = ${q.offsetToIndices("global_idx")};
      var input_indices: ${B.type.indices};
      for (var i = 0; i < ${Q.length}; i++) {
        let input_dim_i = ${B.indicesGet("uniforms.input_shape","i")};
        let input_dim_value = ${q.indicesGet("output_indices","i")}  % input_dim_i;

        ${B.indicesSet("input_indices","i","input_dim_value")}
      }
      ${q.setByOffset("global_idx",B.getByIndices("input_indices"))}
    }`;return{name:"Tile",shaderCache:{hint:`${Y}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:$,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(H/64)},programUniforms:[{type:12,data:H},...N2(J[0].dims,$)]}),getShaderSource:L}},zn=(J)=>{uc(J.inputs),J.compute(mc(J.inputs),{inputs:[0]})}}),c91=f0(()=>{g2(),n2(),r2(),cc=(J,Z,Q,Y,$)=>{let H=H2("output_data",$,Q.length,4),K=q0("a_data",Z[1].dataType,Z[1].dims.length,4),B=q0("b_data",Z[2].dataType,Z[2].dims.length,4),q=q0("c_data",Z[0].dataType,Z[0].dims.length,4),L,O=(z,F,V)=>`select(${F}, ${z}, ${V})`;if(!Y)L=H.setByOffset("global_idx",O(K.getByOffset("global_idx"),B.getByOffset("global_idx"),q.getByOffset("global_idx")));else{let z=(F,V,A="")=>{let M=`a_data[index_a${V}][component_a${V}]`,j=`b_data[index_b${V}][component_b${V}]`,D=`bool(c_data[index_c${V}] & (0xffu << (component_c${V} * 8)))`;return`
            let output_indices${V} = ${H.offsetToIndices(`global_idx * 4u + ${V}u`)};
            let offset_a${V} = ${K.broadcastedIndicesToOffset(`output_indices${V}`,H)};
            let offset_b${V} = ${B.broadcastedIndicesToOffset(`output_indices${V}`,H)};
            let offset_c${V} = ${q.broadcastedIndicesToOffset(`output_indices${V}`,H)};
            let index_a${V} = offset_a${V} / 4u;
            let index_b${V} = offset_b${V} / 4u;
            let index_c${V} = offset_c${V} / 4u;
            let component_a${V} = offset_a${V} % 4u;
            let component_b${V} = offset_b${V} % 4u;
            let component_c${V} = offset_c${V} % 4u;
            ${F}[${V}] = ${A}(${O(M,j,D)});
          `};$===9?L=`
            var data = vec4<u32>(0);
            ${z("data",0,"u32")}
            ${z("data",1,"u32")}
            ${z("data",2,"u32")}
            ${z("data",3,"u32")}
            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:L=`
            ${z("output_data[global_idx]",0)}
            ${z("output_data[global_idx]",1)}
            ${z("output_data[global_idx]",2)}
            ${z("output_data[global_idx]",3)}
          `}return`
        ${J.registerUniform("vec_size","u32").declareVariables(q,K,B,H)}
        ${J.mainStart()}
        ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${L}
      }`},pc=(J)=>{let Z=J[1].dims,Q=J[2].dims,Y=J[0].dims,$=J[1].dataType,H=!(t1.areEqual(Z,Q)&&t1.areEqual(Q,Y)),K=Z,B=t1.size(Z);if(H){let L=OL.calcShape(OL.calcShape(Z,Q,!1),Y,!1);if(!L)throw Error("Can't perform where op on the given tensors");K=L,B=t1.size(K)}let q=Math.ceil(B/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:(L)=>cc(L,J,K,H,$),getRunData:()=>({outputs:[{dims:K,dataType:$}],dispatchGroup:{x:Math.ceil(B/64/4)},programUniforms:[{type:12,data:q},...N2(Y,Z,Q,K)]})}},Nn=(J)=>{J.compute(pc(J.inputs))}}),p91=f0(()=>{Y91(),fk(),G91(),$91(),H91(),W91(),K91(),O91(),N91(),F91(),A91(),M91(),_91(),V91(),I91(),j91(),D91(),w91(),E91(),k91(),x91(),R91(),C91(),b91(),v91(),Pi(),f91(),S91(),T91(),P91(),g91(),vk(),y91(),di(),h91(),u91(),d91(),hi(),m91(),cG(),Sk(),c91(),Fn=new Map([["Abs",[Kl]],["Acos",[Bl]],["Acosh",[ql]],["Add",[ll]],["ArgMax",[Gl,Hk]],["ArgMin",[Yl,Hk]],["Asin",[Ul]],["Asinh",[Ll]],["Atan",[Ol]],["Atanh",[zl]],["Attention",[$l]],["AveragePool",[oi,si]],["BatchNormalization",[Hl]],["BiasAdd",[Wl]],["BiasSplitGelu",[pl]],["Cast",[Fl,Nl]],["Ceil",[Ml]],["Clip",[Al]],["Concat",[Zi,Qi]],["Conv",[Lk,Uk]],["ConvTranspose",[Ui,qi]],["Cos",[_l]],["Cosh",[Vl]],["CumSum",[Li,Oi]],["DepthToSpace",[zi,Ni]],["DequantizeLinear",[Xn,Yn]],["Div",[il]],["Einsum",[Fi,Ai]],["Elu",[Il,nN]],["Equal",[nl]],["Erf",[jl]],["Exp",[Dl]],["Expand",[Mi]],["FastGelu",[_i]],["Floor",[wl]],["FusedConv",[Lk,Uk]],["Gather",[Ii,Vi]],["GatherElements",[xi,ki]],["GatherBlockQuantized",[wi,Ei]],["GatherND",[ji,Di]],["Gelu",[El]],["Gemm",[Ci,Ri]],["GlobalAveragePool",[ti,ri]],["GlobalMaxPool",[Qn,Zn]],["Greater",[rl]],["GreaterOrEqual",[el]],["GridSample",[bi,fi]],["GroupQueryAttention",[mi]],["HardSigmoid",[Sl,fl]],["InstanceNormalization",[ci]],["LayerNormalization",[pi]],["LeakyRelu",[kl,nN]],["Less",[tl]],["LessOrEqual",[Ji]],["Log",[ml]],["MatMul",[li]],["MatMulNBits",[ii,ni]],["MaxPool",[ei,Jn]],["Mul",[al]],["MultiHeadAttention",[Ti,Si]],["Neg",[Rl]],["Not",[xl]],["Pad",[ai]],["Pow",[sl]],["QuickGelu",[cl,nN]],["Range",[Gn]],["Reciprocal",[Cl]],["ReduceMin",[ep]],["ReduceMean",[ap]],["ReduceMax",[tp]],["ReduceSum",[Zl]],["ReduceProd",[Jl]],["ReduceL1",[sp]],["ReduceL2",[op]],["ReduceLogSum",[Xl]],["ReduceLogSumExp",[rp]],["ReduceSumSquare",[Ql]],["Relu",[bl]],["Resize",[Wn,Kn]],["RotaryEmbedding",[ui]],["ScatterND",[Hn,$n]],["Sigmoid",[vl]],["Sin",[Tl]],["Sinh",[Pl]],["Slice",[qn,Un]],["SkipLayerNormalization",[Bn]],["Split",[gi,yi]],["Sqrt",[gl]],["Softmax",[Ln,On]],["Sub",[ol]],["Tan",[yl]],["Tanh",[hl]],["ThresholdedRelu",[dl,nN]],["Tile",[zn]],["Transpose",[Pp,gp]],["Where",[Nn]]])}),l91=f0(()=>{_Z(),PX(),r2(),An=class{constructor(J){this.backend=J,this.repo=new Map,this.attributesBound=!1}getArtifact(J){return this.repo.get(J)}setArtifact(J,Z){this.repo.set(J,Z)}run(J,Z,Q,Y,$){MZ(J.programInfo.name);let H=this.backend.device,K=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);let B=[];for(let L of Z)B.push({binding:B.length,resource:{buffer:L.buffer}});for(let L of Q)B.push({binding:B.length,resource:{buffer:L.buffer}});$&&B.push({binding:B.length,resource:$});let q=H.createBindGroup({layout:J.computePipeline.getBindGroupLayout(0),entries:B,label:J.programInfo.name});if(this.backend.sessionStatus==="capturing"){let L={kernelId:this.backend.currentKernelId,computePipeline:J.computePipeline,bindGroup:q,dispatchGroup:Y};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(L)}K.setPipeline(J.computePipeline),K.setBindGroup(0,q),K.dispatchWorkgroups(...Y),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),IJ(J.programInfo.name)}dispose(){}build(J,Z){MZ(J.name);let Q=this.backend.device,Y=[];[{feature:"shader-f16",extension:"f16"},{feature:"subgroups",extension:"subgroups"}].forEach((L)=>{Q.features.has(L.feature)&&Y.push(`enable ${L.extension};`)});let $=Tp(Z,this.backend.device.limits),H=J.getShaderSource($),K=`${Y.join(`
`)}
${$.additionalImplementations}
${H}`,B=Q.createShaderModule({code:K,label:J.name});R5("verbose",()=>`[WebGPU] ${J.name} shader code: ${K}`);let q=Q.createComputePipeline({compute:{module:B,entryPoint:"main"},layout:"auto",label:J.name});return IJ(J.name),{programInfo:J,computePipeline:q,uniformVariablesInfo:$.variablesInfo}}normalizeDispatchGroupSize(J){let Z=typeof J=="number"?J:J.x,Q=typeof J=="number"?1:J.y||1,Y=typeof J=="number"?1:J.z||1,$=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(Z<=$&&Q<=$&&Y<=$)return[Z,Q,Y];let H=Z*Q*Y,K=Math.ceil(Math.sqrt(H));if(K>$){if(K=Math.ceil(Math.cbrt(H)),K>$)throw Error("Total dispatch size exceeds WebGPU maximum.");return[K,K,K]}else return[K,K,1]}}}),Mn={};NL(Mn,{WebGpuBackend:()=>_n});i91=f0(()=>{_Z(),g2(),PX(),Cp(),Q91(),p91(),l91(),lc=(J,Z)=>{if(Z.length!==J.length)throw Error(`inputDependencies length ${Z.length} is not equal to inputTensors length ${J.length}.`);let Q=[];for(let Y=0;Y<J.length;++Y){let $=J[Y].dataType;switch(Z[Y]){case"none":{Q.push("");break}case"type":{Q.push(`${$}`);break}case"rank":{let H=J[Y].dims.length;Q.push(`${$};${H}`);break}case"dims":{let H=J[Y].dims.join(",");Q.push(`${$};${H}`);break}default:throw Error(`unsupported input dependency: ${Z[Y]}`)}}return Q.join("|")},ic=(J,Z,Q)=>{let Y=J.name;return J.shaderCache?.hint&&(Y+="["+J.shaderCache.hint+"]"),Y+=":"+Q+`:${lc(Z,J.shaderCache?.inputDependencies??Array(Z.length).fill("dims"))}`,Y},nc=class{constructor(J){J&&(this.architecture=J.architecture,this.vendor=J.vendor)}isArchitecture(J){return this.architecture===J}isVendor(J){return this.vendor===J}},_n=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let J=this.kernelCustomData.get(this.currentKernelId);return J||(J={},this.kernelCustomData.set(this.currentKernelId,J)),J}async initialize(J,Z){this.env=J;let Q=[],Y={requiredLimits:{maxComputeWorkgroupStorageSize:Z.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:Z.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:Z.limits.maxStorageBufferBindingSize,maxBufferSize:Z.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:Z.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:Z.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:Z.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:Z.limits.maxComputeWorkgroupSizeZ},requiredFeatures:Q},$=(H)=>Z.features.has(H)&&Q.push(H)&&!0;$("chromium-experimental-timestamp-query-inside-passes")||$("timestamp-query"),$("shader-f16"),$("subgroups"),this.device=await Z.requestDevice(Y),this.adapterInfo=new nc(Z.info||await Z.requestAdapterInfo()),this.gpuDataManager=fp(this),this.programManager=new An(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,xk(J.logLevel,!!J.debug),this.device.onuncapturederror=(H)=>{H.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${H.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:Z,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let J=this.getCommandEncoder(),Z={};this.queryType==="at-passes"&&(Z.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=J.beginComputePass(Z)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;MZ(),this.endComputePass();let J;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),J=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(J,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,J,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&J.mapAsync(GPUMapMode.READ).then(()=>{let Z=new BigUint64Array(J.getMappedRange()),Q=this.pendingQueries.get(J);for(let Y=0;Y<Z.length/2;Y++){let $=Q[Y],H=$.kernelId,K=this.kernels.get(H),B=K.kernelType,q=K.kernelName,L=$.programName,O=$.inputTensorViews,z=$.outputTensorViews,F=Z[Y*2],V=Z[Y*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=F);let A=Number(F-this.queryTimeBase),M=Number(V-this.queryTimeBase);if(!Number.isSafeInteger(A)||!Number.isSafeInteger(M))throw RangeError("incorrect timestamp range");if(this.env.webgpu.profiling?.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:O.map((j)=>({dims:j.dims,dataType:TX(j.dataType)})),outputsMetadata:z.map((j)=>({dims:j.dims,dataType:TX(j.dataType)})),kernelId:H,kernelType:B,kernelName:q,programName:L,startTime:A,endTime:M});else{let j="";O.forEach((w,C)=>{j+=`input[${C}]: [${w.dims}] | ${TX(w.dataType)}, `});let D="";z.forEach((w,C)=>{D+=`output[${C}]: [${w.dims}] | ${TX(w.dataType)}, `}),console.log(`[profiling] kernel "${H}|${B}|${q}|${L}" ${j}${D}execution time: ${M-A} ns`)}rN("GPU",`${L}::${F}::${V}`)}J.unmap(),this.pendingQueries.delete(J)}),IJ()}run(J,Z,Q,Y,$,H){MZ(J.name);let K=[];for(let w=0;w<Z.length;++w){let C=Z[w].data;if(C===0)continue;let I=this.gpuDataManager.get(C);if(!I)throw Error(`no GPU data for input: ${C}`);K.push(I)}let{outputs:B,dispatchGroup:q,programUniforms:L}=J.getRunData(Z),O=Q.length===0?B.map((w,C)=>C):Q;if(O.length!==B.length)throw Error(`Output size ${O.length} must be equal to ${B.length}.`);let z=[],F=[];for(let w=0;w<B.length;++w){if(!Number.isInteger(O[w])||O[w]<-3||O[w]>=H)throw Error(`Invalid output index: ${O[w]}`);if(O[w]===-3)continue;let C=O[w]===-1,I=O[w]===-2,b=C||I?$(B[w].dataType,B[w].dims):Y(O[w],B[w].dataType,B[w].dims);if(z.push(b),b.data===0)continue;let E=this.gpuDataManager.get(b.data);if(!E)throw Error(`no GPU data for output: ${b.data}`);if(C&&this.temporaryData.push(E),I){let k=this.kernelPersistentData.get(this.currentKernelId);k||(k=[],this.kernelPersistentData.set(this.currentKernelId,k)),k.push(E)}F.push(E)}if(K.length!==Z.length||F.length!==z.length){if(F.length===0)return IJ(J.name),z;throw Error(`Program ${J.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let V;if(L){let w=0,C=[];L.forEach((k)=>{let T=typeof k.data=="number"?[k.data]:k.data;if(T.length===0)return;let S=k.type===10?2:4,d,o;k.type===10?(o=T.length>4?16:T.length>2?8:T.length*S,d=T.length>4?16:S*T.length):(o=T.length<=2?T.length*S:16,d=16),w=Math.ceil(w/o)*o,C.push(w);let v=k.type===10?8:4;w+=T.length>4?Math.ceil(T.length/v)*d:T.length*S});let I=16;w=Math.ceil(w/I)*I;let b=new ArrayBuffer(w);L.forEach((k,T)=>{let S=C[T],d=typeof k.data=="number"?[k.data]:k.data;if(k.type===6)new Int32Array(b,S,d.length).set(d);else if(k.type===12)new Uint32Array(b,S,d.length).set(d);else if(k.type===10)new Uint16Array(b,S,d.length).set(d);else if(k.type===1)new Float32Array(b,S,d.length).set(d);else throw Error(`Unsupported uniform type: ${TX(k.type)}`)});let E=this.gpuDataManager.create(w,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(E.buffer,0,b,0,w),this.gpuDataManager.release(E.id),V={offset:0,size:w,buffer:E.buffer}}let A=this.programManager.normalizeDispatchGroupSize(q),M=A[1]===1&&A[2]===1,j=ic(J,Z,M),D=this.programManager.getArtifact(j);if(D||(D=this.programManager.build(J,A),this.programManager.setArtifact(j,D),R5("info",()=>`[artifact] key: ${j}, programName: ${J.name}`)),L&&D.uniformVariablesInfo){if(L.length!==D.uniformVariablesInfo.length)throw Error(`Uniform variables count mismatch: expect ${D.uniformVariablesInfo.length}, got ${L.length} in program "${D.programInfo.name}".`);for(let w=0;w<L.length;w++){let C=L[w],I=C.type,b=typeof C.data=="number"?1:C.data.length,[E,k]=D.uniformVariablesInfo[w];if(I!==E||b!==k)throw Error(`Uniform variable ${w} mismatch: expect type ${E} with size ${k}, got type ${I} with size ${b} in program "${D.programInfo.name}".`)}}if(R5("info",()=>`[ProgramManager] run "${J.name}" (key=${j}) with ${A[0]}x${A[1]}x${A[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let w={kernelId:this.currentKernelId,programName:D.programInfo.name,inputTensorViews:Z,outputTensorViews:z};this.pendingKernels.push(w),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(w)}return this.programManager.run(D,K,F,A,V),IJ(J.name),z}upload(J,Z){this.gpuDataManager.upload(J,Z)}memcpy(J,Z){this.gpuDataManager.memcpy(J,Z)}async download(J,Z){await this.gpuDataManager.download(J,Z)}alloc(J){return this.gpuDataManager.create(J).id}free(J){return this.gpuDataManager.release(J)}createKernel(J,Z,Q,Y){let $=Fn.get(J);if(!$)throw Error(`kernel not implemented: ${J}`);let H={kernelType:J,kernelName:Y,kernelEntry:$[0],attributes:[$[1],Q]};this.kernels.set(Z,H)}releaseKernel(J){let Z=this.kernelPersistentData.get(J);if(Z){for(let Q of Z)this.gpuDataManager.release(Q.id);this.kernelPersistentData.delete(J)}this.kernelCustomData.delete(J),this.kernels.delete(J)}computeKernel(J,Z,Q){let Y=this.kernels.get(J);if(!Y)throw Error(`kernel not created: ${J}`);let{kernelType:$,kernelName:H,kernelEntry:K,attributes:B}=Y;if(this.currentKernelId!==null)throw Error(`kernel "[${$}] ${H}" is not allowed to be called recursively`);this.currentKernelId=J,B[0]&&(B[1]=B[0](B[1]),B[0]=void 0),R5("info",()=>`[WebGPU] Start to run kernel "[${$}] ${H}"...`);let q=this.env.debug;this.temporaryData=[];try{return q&&this.device.pushErrorScope("validation"),K(Z,B[1]),0}catch(L){return Q.push(Promise.resolve(`[WebGPU] Kernel "[${$}] ${H}" failed. ${L}`)),1}finally{q&&Q.push(this.device.popErrorScope().then((L)=>L?`GPU validation error for kernel "[${$}] ${H}": ${L.message}`:null));for(let L of this.temporaryData)this.gpuDataManager.release(L.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(J,Z,Q,Y){let $=this.sessionExternalDataMapping.get(J);$||($=new Map,this.sessionExternalDataMapping.set(J,$));let H=$.get(Z),K=this.gpuDataManager.registerExternalBuffer(Q,Y,H);return $.set(Z,[K,Q]),K}unregisterBuffers(J){let Z=this.sessionExternalDataMapping.get(J);Z&&(Z.forEach((Q)=>this.gpuDataManager.unregisterExternalBuffer(Q[0])),this.sessionExternalDataMapping.delete(J))}getBuffer(J){let Z=this.gpuDataManager.get(J);if(!Z)throw Error(`no GPU data for buffer: ${J}`);return Z.buffer}createDownloader(J,Z,Q){return async()=>{let Y=await Yk(this,J,Z);return Rk(Y.buffer,Q)}}writeTimestamp(J){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,J)}setQueryType(){this.queryType="none",(this.env.webgpu.profiling?.mode==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){R5("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){R5("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){R5("info","replay"),this.sessionStatus="replaying";let J=this.capturedCommandList.get(this.currentSessionId),Z=this.capturedPendingKernels.get(this.currentSessionId),Q=J.length;this.pendingKernels=[];for(let Y=0;Y<Q;Y++){let $=this.getComputePassEncoder(),H=J[Y];this.writeTimestamp(this.pendingDispatchNumber*2),$.setPipeline(H.computePipeline),$.setBindGroup(0,H.bindGroup),$.dispatchWorkgroups(...H.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(Z[Y]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(J){this.unregisterBuffers(J),this.capturedCommandList.has(J)&&this.capturedCommandList.delete(J),this.capturedPendingKernels.has(J)&&this.capturedPendingKernels.delete(J),this.gpuDataManager.onReleaseSession(J)}onRunStart(J){this.currentSessionId=J,this.setQueryType()}}}),Vn={};NL(Vn,{init:()=>In});n91=f0(()=>{g2(),PX(),n2(),Z91(),g_=class J{constructor(Z,Q,Y,$){this.module=Z,this.dataType=Q,this.data=Y,this.dims=$}getFloat32Array(){if(this.dataType!==1)throw Error("Invalid data type");let Z=t1.size(this.dims);return Z===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,Z)}getBigInt64Array(){if(this.dataType!==7)throw Error("Invalid data type");let Z=t1.size(this.dims);return Z===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,Z)}getInt32Array(){if(this.dataType!==6)throw Error("Invalid data type");let Z=t1.size(this.dims);return Z===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,Z)}getUint16Array(){if(this.dataType!==10&&this.dataType!==4)throw Error("Invalid data type");let Z=t1.size(this.dims);return Z===0?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,Z)}reshape(Z){if(t1.size(Z)!==t1.size(this.dims))throw Error("Invalid new shape");return new J(this.module,this.dataType,this.data,Z)}},ac=class{constructor(J,Z,Q){this.module=J,this.backend=Z,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=Z.adapterInfo;let Y=J.PTR_SIZE,$=Q/J.PTR_SIZE,H=Y===4?"i32":"i64";this.opKernelContext=Number(J.getValue(Y*$++,H));let K=Number(J.getValue(Y*$++,H));this.outputCount=Number(J.getValue(Y*$++,H)),this.customDataOffset=Number(J.getValue(Y*$++,"*")),this.customDataSize=Number(J.getValue(Y*$++,H));let B=[];for(let q=0;q<K;q++){let L=Number(J.getValue(Y*$++,H)),O=Number(J.getValue(Y*$++,"*")),z=Number(J.getValue(Y*$++,H)),F=[];for(let V=0;V<z;V++)F.push(Number(J.getValue(Y*$++,H)));B.push(new g_(J,L,O,F))}this.inputs=B}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(J,Z){let Q=Z?.inputs?.map((K)=>typeof K=="number"?this.inputs[K]:K)??this.inputs,Y=Z?.outputs??[],$=(K,B,q)=>new g_(this.module,B,this.output(K,q),q),H=(K,B)=>{let q=$K(K,B);if(!q)throw Error(`Unsupported data type: ${K}`);let L=q>0?this.backend.gpuDataManager.create(q).id:0;return new g_(this.module,K,L,B)};return this.backend.run(J,Q,Y,$,H,this.outputCount)}output(J,Z){let Q=this.module.stackSave();try{let Y=this.module.PTR_SIZE,$=Y===4?"i32":"i64",H=this.module.stackAlloc((1+Z.length)*Y);this.module.setValue(H,Z.length,$);for(let K=0;K<Z.length;K++)this.module.setValue(H+Y*(K+1),Z[K],$);return this.module._JsepOutput(this.opKernelContext,J,H)}catch(Y){throw Error(`Failed to generate kernel's output[${J}] with dims [${Z}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${Y}`)}finally{this.module.stackRestore(Q)}}},In=async(J,Z,Q,Y)=>{let $=Z.jsepInit;if(!$)throw Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(J==="webgpu"){let H=(i91(),oN(Mn)).WebGpuBackend,K=new H;await K.initialize(Q,Y),$("webgpu",[K,(B)=>K.alloc(Number(B)),(B)=>K.free(B),(B,q,L,O=!1)=>{if(O)R5("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${Number(B)}, dst=${Number(q)}, size=${Number(L)}`),K.memcpy(Number(B),Number(q));else{R5("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${Number(B)}, gpuDataId=${Number(q)}, size=${Number(L)}`);let z=Z.HEAPU8.subarray(Number(B>>>0),Number(B>>>0)+Number(L));K.upload(Number(q),z)}},async(B,q,L)=>{R5("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${B}, dataOffset=${q}, size=${L}`),await K.download(Number(B),()=>Z.HEAPU8.subarray(Number(q)>>>0,Number(q+L)>>>0))},(B,q,L)=>K.createKernel(B,Number(q),L,Z.UTF8ToString(Z._JsepGetNodeName(Number(q)))),(B)=>K.releaseKernel(B),(B,q,L,O)=>{R5("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${L}, kernel=${B}, contextDataOffset=${q}`);let z=new ac(Z,K,Number(q));return K.computeKernel(Number(B),z,O)},()=>K.captureBegin(),()=>K.captureEnd(),()=>K.replay()])}else{let H=new vp(Q);$("webnn",[H,()=>H.reserveTensorId(),(K)=>H.releaseTensorId(K),async(K,B,q,L,O)=>H.ensureTensor(K,B,q,L,O),(K,B)=>{H.uploadTensor(K,B)},async(K,B)=>H.downloadTensor(K,B)])}}}),jn=f0(()=>{t61(),e61(),g2(),qK(),jk(),Ep(),sc=(J,Z)=>{w4()._OrtInit(J,Z)!==0&&$4("Can't initialize onnxruntime.")},uk=async(J)=>{sc(J.wasm.numThreads,m_(J.logLevel))},dk=async(J,Z)=>{w4().asyncInit?.();{let Q=(n91(),oN(Vn)).init;if(Z==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw Error("WebGPU is not supported in current environment");let Y=J.webgpu.adapter;if(Y){if(typeof Y.limits!="object"||typeof Y.features!="object"||typeof Y.requestDevice!="function")throw Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let $=J.webgpu.powerPreference;if($!==void 0&&$!=="low-power"&&$!=="high-performance")throw Error(`Invalid powerPreference setting: "${$}"`);let H=J.webgpu.forceFallbackAdapter;if(H!==void 0&&typeof H!="boolean")throw Error(`Invalid forceFallbackAdapter setting: "${H}"`);if(Y=await navigator.gpu.requestAdapter({powerPreference:$,forceFallbackAdapter:H}),!Y)throw Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}await Q("webgpu",w4(),J,Y)}if(Z==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw Error("WebNN is not supported in current environment");await Q("webnn",w4(),J)}}},uG=new Map,oc=(J)=>{let Z=w4(),Q=Z.stackSave();try{let Y=Z.PTR_SIZE,$=Z.stackAlloc(2*Y);Z._OrtGetInputOutputCount(J,$,$+Y)!==0&&$4("Can't get session input/output count.");let H=Y===4?"i32":"i64";return[Number(Z.getValue($,H)),Number(Z.getValue($+Y,H))]}finally{Z.stackRestore(Q)}},rE=(J,Z)=>{let Q=w4(),Y=Q.stackSave(),$=0;try{let H=Q.PTR_SIZE,K=Q.stackAlloc(2*H);Q._OrtGetInputOutputMetadata(J,Z,K,K+H)!==0&&$4("Can't get session input/output metadata.");let B=Number(Q.getValue(K,"*"));$=Number(Q.getValue(K+H,"*"));let q=Q.HEAP32[$/4];if(q===0)return[B,0];let L=Q.HEAPU32[$/4+1],O=[];for(let z=0;z<L;z++){let F=Number(Q.getValue($+8+z*H,"*"));O.push(F!==0?Q.UTF8ToString(F):Number(Q.getValue($+8+(z+L)*H,"*")))}return[B,q,O]}finally{Q.stackRestore(Y),$!==0&&Q._OrtFree($)}},n_=(J)=>{let Z=w4(),Q=Z._malloc(J.byteLength);if(Q===0)throw Error(`Can't create a session. failed to allocate a buffer of size ${J.byteLength}.`);return Z.HEAPU8.set(J,Q),[Q,J.byteLength]},mk=async(J,Z)=>{let Q,Y,$=w4();Array.isArray(J)?[Q,Y]=J:J.buffer===$.HEAPU8.buffer?[Q,Y]=[J.byteOffset,J.byteLength]:[Q,Y]=n_(J);let H=0,K=0,B=0,q=[],L=[],O=[];try{if([K,q]=await wp(Z),Z?.externalData&&$.mountExternalData){let I=[];for(let b of Z.externalData){let E=typeof b=="string"?b:b.path;I.push(kk(typeof b=="string"?b:b.data).then((k)=>{$.mountExternalData(E,k)}))}await Promise.all(I)}for(let I of Z?.executionProviders??[])if((typeof I=="string"?I:I.name)==="webnn"){if($.shouldTransferToMLTensor=!1,typeof I!="string"){let b=I,E=b?.context,k=b?.gpuDevice,T=b?.deviceType,S=b?.powerPreference;E?$.currentContext=E:k?$.currentContext=await $.webnnCreateMLContext(k):$.currentContext=await $.webnnCreateMLContext({deviceType:T,powerPreference:S})}else $.currentContext=await $.webnnCreateMLContext();break}H=await $._OrtCreateSession(Q,Y,K),$.webgpuOnCreateSession?.(H),H===0&&$4("Can't create a session."),$.jsepOnCreateSession?.(),$.currentContext&&($.webnnRegisterMLContext(H,$.currentContext),$.currentContext=void 0,$.shouldTransferToMLTensor=!0);let[z,F]=oc(H),V=!!Z?.enableGraphCapture,A=[],M=[],j=[],D=[],w=[];for(let I=0;I<z;I++){let[b,E,k]=rE(H,I);b===0&&$4("Can't get an input name."),L.push(b);let T=$.UTF8ToString(b);A.push(T),j.push(E===0?{name:T,isTensor:!1}:{name:T,isTensor:!0,type:TX(E),shape:k})}for(let I=0;I<F;I++){let[b,E,k]=rE(H,I+z);b===0&&$4("Can't get an output name."),O.push(b);let T=$.UTF8ToString(b);M.push(T),D.push(E===0?{name:T,isTensor:!1}:{name:T,isTensor:!0,type:TX(E),shape:k});{if(V&&Z?.preferredOutputLocation===void 0){w.push("gpu-buffer");continue}let S=typeof Z?.preferredOutputLocation=="string"?Z.preferredOutputLocation:Z?.preferredOutputLocation?.[T]??"cpu";if(S!=="cpu"&&S!=="cpu-pinned"&&S!=="gpu-buffer"&&S!=="ml-tensor")throw Error(`Not supported preferred output location: ${S}.`);if(V&&S!=="gpu-buffer")throw Error(`Not supported preferred output location: ${S}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);w.push(S)}}let C=null;return w.some((I)=>I==="gpu-buffer"||I==="ml-tensor")&&(B=$._OrtCreateBinding(H),B===0&&$4("Can't create IO binding."),C={handle:B,outputPreferredLocations:w,outputPreferredLocationsEncoded:w.map((I)=>Qk(I))}),uG.set(H,[H,L,O,C,V,!1]),[H,A,M,j,D]}catch(z){throw L.forEach((F)=>$._OrtFree(F)),O.forEach((F)=>$._OrtFree(F)),B!==0&&$._OrtReleaseBinding(B)!==0&&$4("Can't release IO binding."),H!==0&&$._OrtReleaseSession(H)!==0&&$4("Can't release session."),z}finally{$._free(Q),K!==0&&$._OrtReleaseSessionOptions(K)!==0&&$4("Can't release session options."),q.forEach((z)=>$._free(z)),$.unmountExternalData?.()}},ck=(J)=>{let Z=w4(),Q=uG.get(J);if(!Q)throw Error(`cannot release session. invalid session id: ${J}`);let[Y,$,H,K,B]=Q;K&&(B&&Z._OrtClearBoundOutputs(K.handle)!==0&&$4("Can't clear bound outputs."),Z._OrtReleaseBinding(K.handle)!==0&&$4("Can't release IO binding.")),Z.jsepOnReleaseSession?.(J),Z.webnnOnReleaseSession?.(J),Z.webgpuOnReleaseSession?.(J),$.forEach((q)=>Z._OrtFree(q)),H.forEach((q)=>Z._OrtFree(q)),Z._OrtReleaseSession(Y)!==0&&$4("Can't release session."),uG.delete(J)},tE=async(J,Z,Q,Y,$,H,K=!1)=>{if(!J){Z.push(0);return}let B=w4(),q=B.PTR_SIZE,L=J[0],O=J[1],z=J[3],F=z,V,A;if(L==="string"&&(z==="gpu-buffer"||z==="ml-tensor"))throw Error("String tensor is not supported on GPU.");if(K&&z!=="gpu-buffer")throw Error(`External buffer must be provided for input/output index ${H} when enableGraphCapture is true.`);if(z==="gpu-buffer"){let D=J[2].gpuBuffer;A=$K(UL(L),O);{let w=B.jsepRegisterBuffer;if(!w)throw Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');V=w(Y,H,D,A)}}else if(z==="ml-tensor"){let D=J[2].mlTensor;A=$K(UL(L),O);let w=B.webnnRegisterMLTensor;if(!w)throw Error('Tensor location "ml-tensor" is not supported without using WebNN.');V=w(Y,D,UL(L),O)}else{let D=J[2];if(Array.isArray(D)){A=q*D.length,V=B._malloc(A),Q.push(V);for(let w=0;w<D.length;w++){if(typeof D[w]!="string")throw TypeError(`tensor data at index ${w} is not a string`);B.setValue(V+w*q,FZ(D[w],Q),"*")}}else{let w=B.webnnIsGraphInput;if(L!=="string"&&w){let C=B.UTF8ToString($);if(w(Y,C)){let I=UL(L);A=$K(I,O),F="ml-tensor";let{webnnCreateTemporaryTensor:b,webnnUploadTensor:E}=B;if(!b||!E)throw Error('Tensor location "ml-tensor" is not supported without using WebNN.');let k=await b(Y,I,O);E(k,new Uint8Array(D.buffer,D.byteOffset,D.byteLength)),V=k}else A=D.byteLength,V=B._malloc(A),Q.push(V),B.HEAPU8.set(new Uint8Array(D.buffer,D.byteOffset,A),V)}else A=D.byteLength,V=B._malloc(A),Q.push(V),B.HEAPU8.set(new Uint8Array(D.buffer,D.byteOffset,A),V)}}let M=B.stackSave(),j=B.stackAlloc(4*O.length);try{O.forEach((w,C)=>B.setValue(j+C*q,w,q===4?"i32":"i64"));let D=B._OrtCreateTensor(UL(L),V,A,j,O.length,Qk(F));D===0&&$4(`Can't create tensor for input/output. session=${Y}, index=${H}.`),Z.push(D)}finally{B.stackRestore(M)}},pk=async(J,Z,Q,Y,$,H)=>{let K=w4(),B=K.PTR_SIZE,q=uG.get(J);if(!q)throw Error(`cannot run inference. invalid session id: ${J}`);let L=q[0],O=q[1],z=q[2],F=q[3],V=q[4],A=q[5],M=Z.length,j=Y.length,D=0,w=[],C=[],I=[],b=[],E=K.stackSave(),k=K.stackAlloc(M*B),T=K.stackAlloc(M*B),S=K.stackAlloc(j*B),d=K.stackAlloc(j*B);try{[D,w]=Dp(H);for(let y=0;y<M;y++)await tE(Q[y],C,b,J,O[Z[y]],Z[y],V);for(let y=0;y<j;y++)await tE($[y],I,b,J,z[Y[y]],M+Y[y],V);for(let y=0;y<M;y++)K.setValue(k+y*B,C[y],"*"),K.setValue(T+y*B,O[Z[y]],"*");for(let y=0;y<j;y++)K.setValue(S+y*B,I[y],"*"),K.setValue(d+y*B,z[Y[y]],"*");if(F&&!A){let{handle:y,outputPreferredLocations:i,outputPreferredLocationsEncoded:p}=F;if(O.length!==M)throw Error(`input count from feeds (${M}) is expected to be always equal to model's input count (${O.length}).`);for(let l=0;l<M;l++){let t=Z[l];await K._OrtBindInput(y,O[t],C[l])!==0&&$4(`Can't bind input[${l}] for session=${J}.`)}for(let l=0;l<j;l++){let t=Y[l];$[l]?.[3]?K._OrtBindOutput(y,z[t],I[l],0)!==0&&$4(`Can't bind pre-allocated output[${l}] for session=${J}.`):K._OrtBindOutput(y,z[t],0,p[t])!==0&&$4(`Can't bind output[${l}] to ${i[l]} for session=${J}.`)}uG.set(J,[L,O,z,F,V,!0])}K.jsepOnRunStart?.(L),K.webnnOnRunStart?.(L);let o;F?o=await K._OrtRunWithBinding(L,F.handle,j,S,D):o=await K._OrtRun(L,T,k,M,d,j,S,D),o!==0&&$4("failed to call OrtRun().");let v=[];for(let y=0;y<j;y++){let i=Number(K.getValue(S+y*B,"*"));if(i===I[y]){v.push($[y]);continue}let p=K.stackSave(),l=K.stackAlloc(4*B),t=!1,Q1,m=0;try{K._OrtGetTensorData(i,l,l+B,l+2*B,l+3*B)!==0&&$4(`Can't access output tensor data on index ${y}.`);let K1=B===4?"i32":"i64",g=Number(K.getValue(l,K1));m=K.getValue(l+B,"*");let n=K.getValue(l+B*2,"*"),Z1=Number(K.getValue(l+B*3,K1)),J1=[];for(let w1=0;w1<Z1;w1++)J1.push(Number(K.getValue(n+w1*B,K1)));K._OrtFree(n)!==0&&$4("Can't free memory for tensor dims.");let z1=J1.reduce((w1,m1)=>w1*m1,1);Q1=TX(g);let V1=F?.outputPreferredLocations[Y[y]];if(Q1==="string"){if(V1==="gpu-buffer"||V1==="ml-tensor")throw Error("String tensor is not supported on GPU.");let w1=[];for(let m1=0;m1<z1;m1++){let r1=K.getValue(m+m1*B,"*"),h1=K.getValue(m+(m1+1)*B,"*"),G1=m1===z1-1?void 0:h1-r1;w1.push(K.UTF8ToString(r1,G1))}v.push([Q1,J1,w1,"cpu"])}else if(V1==="gpu-buffer"&&z1>0){let w1=K.jsepGetBuffer;if(!w1)throw Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let m1=w1(m),r1=$K(g,z1);if(r1===void 0||!wk(Q1))throw Error(`Unsupported data type: ${Q1}`);t=!0,v.push([Q1,J1,{gpuBuffer:m1,download:K.jsepCreateDownloader(m1,r1,Q1),dispose:()=>{K._OrtReleaseTensor(i)!==0&&$4("Can't release tensor.")}},"gpu-buffer"])}else if(V1==="ml-tensor"&&z1>0){let{webnnEnsureTensor:w1,webnnIsInt64Supported:m1}=K;if(!w1||!m1)throw Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if($K(g,z1)===void 0||!Ek(Q1))throw Error(`Unsupported data type: ${Q1}`);if(Q1==="int64"&&!m1(J))throw Error('preferredLocation "ml-tensor" for int64 output is not supported by current WebNN Context.');let r1=await w1(J,m,g,J1,!1);t=!0,v.push([Q1,J1,{mlTensor:r1,download:K.webnnCreateMLTensorDownloader(m,Q1),dispose:()=>{K.webnnReleaseTensorId(m),K._OrtReleaseTensor(i)}},"ml-tensor"])}else{let w1=Dk(Q1),m1=new w1(z1);new Uint8Array(m1.buffer,m1.byteOffset,m1.byteLength).set(K.HEAPU8.subarray(m,m+m1.byteLength)),v.push([Q1,J1,m1,"cpu"])}}finally{K.stackRestore(p),Q1==="string"&&m&&K._free(m),t||K._OrtReleaseTensor(i),K.webnnOnRunEnd?.(L)}}return F&&!V&&(K._OrtClearBoundOutputs(F.handle)!==0&&$4("Can't clear bound outputs."),uG.set(J,[L,O,z,F,V,!1])),v}finally{K.stackRestore(E),C.forEach((o)=>K._OrtReleaseTensor(o)),I.forEach((o)=>K._OrtReleaseTensor(o)),b.forEach((o)=>K._free(o)),D!==0&&K._OrtReleaseRunOptions(D),w.forEach((o)=>K._free(o))}},lk=(J)=>{let Z=w4(),Q=uG.get(J);if(!Q)throw Error("invalid session id");let Y=Q[0],$=Z._OrtEndProfiling(Y);$===0&&$4("Can't get an profile file name."),Z._OrtFree($)},ik=(J)=>{let Z=[];for(let Q of J){let Y=Q[2];!Array.isArray(Y)&&"buffer"in Y&&Z.push(Y.buffer)}return Z}}),bn=f0(()=>{_Z(),jn(),qK(),Vk(),dG=()=>!!f4.wasm.proxy&&typeof document<"u",qL=!1,pN=!1,lN=!1,h_=new Map,XK=(J,Z)=>{let Q=h_.get(J);Q?Q.push(Z):h_.set(J,[Z])},YK=()=>{if(qL||!pN||lN||!_J)throw Error("worker not ready")},rc=(J)=>{switch(J.data.type){case"init-wasm":qL=!1,J.data.err?(lN=!0,eE[1](J.data.err)):(pN=!0,eE[0]()),y_&&(URL.revokeObjectURL(y_),y_=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let Z=h_.get(J.data.type);J.data.err?Z.shift()[1](J.data.err):Z.shift()[0](J.data.out);break}default:}},Dn=async()=>{if(!pN){if(qL)throw Error("multiple calls to 'initWasm()' detected.");if(lN)throw Error("previous call to 'initWasm()' failed.");if(qL=!0,dG())return new Promise((J,Z)=>{_J?.terminate(),Ip().then(([Q,Y])=>{try{_J=Y,_J.onerror=(H)=>Z(H),_J.onmessage=rc,eE=[J,Z];let $={type:"init-wasm",in:f4};!$.in.wasm.wasmPaths&&(Q||Zk)&&($.in.wasm.wasmPaths={wasm:new URL("ort-wasm-simd-threaded.jsep.wasm",import.meta.url).href}),_J.postMessage($),y_=Q}catch($){Z($)}},Z)});try{await Ik(f4.wasm),await uk(f4),pN=!0}catch(J){throw lN=!0,J}finally{qL=!1}}},wn=async(J)=>{if(dG())return YK(),new Promise((Z,Q)=>{XK("init-ep",[Z,Q]);let Y={type:"init-ep",in:{epName:J,env:f4}};_J.postMessage(Y)});await dk(f4,J)},En=async(J)=>dG()?(YK(),new Promise((Z,Q)=>{XK("copy-from",[Z,Q]);let Y={type:"copy-from",in:{buffer:J}};_J.postMessage(Y,[J.buffer])})):n_(J),kn=async(J,Z)=>{if(dG()){if(Z?.preferredOutputLocation)throw Error('session option "preferredOutputLocation" is not supported for proxy.');return YK(),new Promise((Q,Y)=>{XK("create",[Q,Y]);let $={type:"create",in:{model:J,options:{...Z}}},H=[];J instanceof Uint8Array&&H.push(J.buffer),_J.postMessage($,H)})}else return mk(J,Z)},xn=async(J)=>{if(dG())return YK(),new Promise((Z,Q)=>{XK("release",[Z,Q]);let Y={type:"release",in:J};_J.postMessage(Y)});ck(J)},Rn=async(J,Z,Q,Y,$,H)=>{if(dG()){if(Q.some((K)=>K[3]!=="cpu"))throw Error("input tensor on GPU is not supported for proxy.");if($.some((K)=>K))throw Error("pre-allocated output tensor is not supported for proxy.");return YK(),new Promise((K,B)=>{XK("run",[K,B]);let q=Q,L={type:"run",in:{sessionId:J,inputIndices:Z,inputs:q,outputIndices:Y,options:H}};_J.postMessage(L,ik(q))})}else return pk(J,Z,Q,Y,$,H)},Cn=async(J)=>{if(dG())return YK(),new Promise((Z,Q)=>{XK("end-profiling",[Z,Q]);let Y={type:"end-profiling",in:J};_J.postMessage(Y)});lk(J)}}),a91=f0(()=>{_Z(),bn(),g2(),_k(),Ep(),Jk=(J,Z)=>{switch(J.location){case"cpu":return[J.type,J.dims,J.data,"cpu"];case"gpu-buffer":return[J.type,J.dims,{gpuBuffer:J.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[J.type,J.dims,{mlTensor:J.mlTensor},"ml-tensor"];default:throw Error(`invalid data location: ${J.location} for ${Z()}`)}},tc=(J)=>{switch(J[3]){case"cpu":return new AZ(J[0],J[2],J[1]);case"gpu-buffer":{let Z=J[0];if(!wk(Z))throw Error(`not supported data type: ${Z} for deserializing GPU tensor`);let{gpuBuffer:Q,download:Y,dispose:$}=J[2];return AZ.fromGpuBuffer(Q,{dataType:Z,dims:J[1],download:Y,dispose:$})}case"ml-tensor":{let Z=J[0];if(!Ek(Z))throw Error(`not supported data type: ${Z} for deserializing MLTensor tensor`);let{mlTensor:Q,download:Y,dispose:$}=J[2];return AZ.fromMLTensor(Q,{dataType:Z,dims:J[1],download:Y,dispose:$})}default:throw Error(`invalid data location: ${J[3]}`)}},vn=class{async fetchModelAndCopyToWasmMemory(J){return En(await kk(J))}async loadModel(J,Z){MZ();let Q;typeof J=="string"?Q=await this.fetchModelAndCopyToWasmMemory(J):Q=J,[this.sessionId,this.inputNames,this.outputNames,this.inputMetadata,this.outputMetadata]=await kn(Q,Z),IJ()}async dispose(){return xn(this.sessionId)}async run(J,Z,Q){MZ();let Y=[],$=[];Object.entries(J).forEach((z)=>{let F=z[0],V=z[1],A=this.inputNames.indexOf(F);if(A===-1)throw Error(`invalid input '${F}'`);Y.push(V),$.push(A)});let H=[],K=[];Object.entries(Z).forEach((z)=>{let F=z[0],V=z[1],A=this.outputNames.indexOf(F);if(A===-1)throw Error(`invalid output '${F}'`);H.push(V),K.push(A)});let B=Y.map((z,F)=>Jk(z,()=>`input "${this.inputNames[$[F]]}"`)),q=H.map((z,F)=>z?Jk(z,()=>`output "${this.outputNames[K[F]]}"`):null),L=await Rn(this.sessionId,$,B,K,q,Q),O={};for(let z=0;z<L.length;z++)O[this.outputNames[K[z]]]=H[z]??tc(L[z]);return IJ(),O}startProfiling(){}endProfiling(){Cn(this.sessionId)}}}),fn={};NL(fn,{OnnxruntimeWebAssemblyBackend:()=>Nk,initializeFlags:()=>zk,wasmBackend:()=>Sn});s91=f0(()=>{_Z(),bn(),a91(),zk=()=>{(typeof f4.wasm.initTimeout!="number"||f4.wasm.initTimeout<0)&&(f4.wasm.initTimeout=0);let J=f4.wasm.simd;if(typeof J!="boolean"&&J!==void 0&&J!=="fixed"&&J!=="relaxed"&&(console.warn(`Property "env.wasm.simd" is set to unknown value "${J}". Reset it to \`false\` and ignore SIMD feature checking.`),f4.wasm.simd=!1),typeof f4.wasm.proxy!="boolean"&&(f4.wasm.proxy=!1),typeof f4.wasm.trace!="boolean"&&(f4.wasm.trace=!1),typeof f4.wasm.numThreads!="number"||!Number.isInteger(f4.wasm.numThreads)||f4.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)f4.wasm.numThreads=1;else{let Z=typeof navigator>"u"?T61("node:os").cpus().length:navigator.hardwareConcurrency;f4.wasm.numThreads=Math.min(4,Math.ceil((Z||1)/2))}},Nk=class{async init(J){zk(),await Dn(),await wn(J)}async createInferenceSessionHandler(J,Z){let Q=new vn;return await Q.loadModel(J,Z),Q}},Sn=new Nk});_Z();_Z();_Z();r91=Np;{let J=(s91(),oN(fn)).wasmBackend;HK("webgpu",J,5),HK("webnn",J,5),HK("cpu",J,10),HK("wasm",J,10)}Object.defineProperty(f4.versions,"web",{value:o91,enumerable:!0})});var gn={};FI(gn,{zeros_like:()=>zL1,zeros:()=>OL1,window_function:()=>LL1,topk:()=>UL1,std_mean:()=>qL1,stack:()=>BL1,spectrogram:()=>KL1,softmax:()=>WL1,slice:()=>HL1,round:()=>$L1,rfft:()=>GL1,read_audio:()=>YL1,rand:()=>XL1,quantize_embeddings:()=>QL1,pipeline:()=>ZL1,permute_data:()=>JL1,permute:()=>eU1,ones_like:()=>tU1,ones:()=>rU1,min:()=>oU1,mel_filter_bank:()=>sU1,medianFilter:()=>aU1,mean_pooling:()=>nU1,mean:()=>iU1,max:()=>lU1,matmul:()=>pU1,magnitude:()=>cU1,log_softmax:()=>mU1,load_video:()=>dU1,load_image:()=>uU1,layer_norm:()=>hU1,is_chinese_char:()=>yU1,interpolate_data:()=>gU1,interpolate_4d:()=>PU1,interpolate:()=>TU1,hanning:()=>SU1,hamming:()=>fU1,getCacheShapes:()=>vU1,full_like:()=>bU1,full:()=>CU1,env:()=>RU1,dynamic_time_warping:()=>xU1,dot:()=>kU1,cos_sim:()=>EU1,cat:()=>wU1,bankers_round:()=>DU1,ZeroShotObjectDetectionPipeline:()=>jU1,ZeroShotImageClassificationPipeline:()=>IU1,ZeroShotClassificationPipeline:()=>VU1,ZeroShotAudioClassificationPipeline:()=>_U1,YolosPreTrainedModel:()=>MU1,YolosObjectDetectionOutput:()=>AU1,YolosModel:()=>FU1,YolosImageProcessor:()=>NU1,YolosForObjectDetection:()=>zU1,YolosFeatureExtractor:()=>OU1,XVectorOutput:()=>LU1,XLMWithLMHeadModel:()=>UU1,XLMTokenizer:()=>qU1,XLMRobertaTokenizer:()=>BU1,XLMRobertaPreTrainedModel:()=>KU1,XLMRobertaModel:()=>WU1,XLMRobertaForTokenClassification:()=>HU1,XLMRobertaForSequenceClassification:()=>$U1,XLMRobertaForQuestionAnswering:()=>GU1,XLMRobertaForMaskedLM:()=>YU1,XLMPreTrainedModel:()=>XU1,XLMModel:()=>QU1,XLMForTokenClassification:()=>ZU1,XLMForSequenceClassification:()=>JU1,XLMForQuestionAnswering:()=>eq1,WhisperTokenizer:()=>tq1,WhisperTimeStampLogitsProcessor:()=>rq1,WhisperTextStreamer:()=>oq1,WhisperProcessor:()=>sq1,WhisperPreTrainedModel:()=>aq1,WhisperModel:()=>nq1,WhisperForConditionalGeneration:()=>iq1,WhisperFeatureExtractor:()=>lq1,WeSpeakerResNetPreTrainedModel:()=>pq1,WeSpeakerResNetModel:()=>cq1,WeSpeakerFeatureExtractor:()=>mq1,WavLMPreTrainedModel:()=>dq1,WavLMModel:()=>uq1,WavLMForXVector:()=>hq1,WavLMForSequenceClassification:()=>yq1,WavLMForCTC:()=>gq1,WavLMForAudioFrameClassification:()=>Pq1,Wav2Vec2ProcessorWithLM:()=>Tq1,Wav2Vec2Processor:()=>Sq1,Wav2Vec2PreTrainedModel:()=>fq1,Wav2Vec2Model:()=>vq1,Wav2Vec2ForSequenceClassification:()=>bq1,Wav2Vec2ForCTC:()=>Cq1,Wav2Vec2ForAudioFrameClassification:()=>Rq1,Wav2Vec2FeatureExtractor:()=>xq1,Wav2Vec2CTCTokenizer:()=>kq1,Wav2Vec2BertPreTrainedModel:()=>Eq1,Wav2Vec2BertModel:()=>wq1,Wav2Vec2BertForSequenceClassification:()=>Dq1,Wav2Vec2BertForCTC:()=>jq1,VoxtralProcessor:()=>Iq1,VoxtralForConditionalGeneration:()=>Vq1,VitsTokenizer:()=>_q1,VitsPreTrainedModel:()=>Mq1,VitsModelOutput:()=>Aq1,VitsModel:()=>Fq1,VitPosePreTrainedModel:()=>Nq1,VitPoseImageProcessor:()=>zq1,VitPoseForPoseEstimation:()=>Oq1,VitMattePreTrainedModel:()=>Lq1,VitMatteImageProcessor:()=>Uq1,VitMatteForImageMatting:()=>qq1,VisionEncoderDecoderModel:()=>Bq1,ViTPreTrainedModel:()=>Kq1,ViTModel:()=>Wq1,ViTMSNPreTrainedModel:()=>Hq1,ViTMSNModel:()=>$q1,ViTMSNForImageClassification:()=>Gq1,ViTMAEPreTrainedModel:()=>Yq1,ViTMAEModel:()=>Xq1,ViTImageProcessor:()=>Qq1,ViTForImageClassification:()=>Zq1,ViTFeatureExtractor:()=>Jq1,VaultGemmaPreTrainedModel:()=>eB1,VaultGemmaModel:()=>tB1,VaultGemmaForCausalLM:()=>rB1,VLMImageProcessor:()=>oB1,VLChatProcessor:()=>sB1,UniSpeechSatPreTrainedModel:()=>aB1,UniSpeechSatModel:()=>nB1,UniSpeechSatForSequenceClassification:()=>iB1,UniSpeechSatForCTC:()=>lB1,UniSpeechSatForAudioFrameClassification:()=>pB1,UniSpeechPreTrainedModel:()=>cB1,UniSpeechModel:()=>mB1,UniSpeechForSequenceClassification:()=>dB1,UniSpeechForCTC:()=>uB1,UltravoxProcessor:()=>hB1,UltravoxPreTrainedModel:()=>yB1,UltravoxModel:()=>gB1,TranslationPipeline:()=>PB1,TrOCRPreTrainedModel:()=>TB1,TrOCRForCausalLM:()=>SB1,TopPLogitsWarper:()=>fB1,TopKLogitsWarper:()=>vB1,TokenizerModel:()=>bB1,TokenClassifierOutput:()=>CB1,TokenClassificationPipeline:()=>RB1,TextToAudioPipeline:()=>xB1,TextStreamer:()=>kB1,TextGenerationPipeline:()=>EB1,TextClassificationPipeline:()=>wB1,Text2TextGenerationPipeline:()=>DB1,Tensor:()=>jB1,TemperatureLogitsWarper:()=>IB1,TableTransformerPreTrainedModel:()=>VB1,TableTransformerObjectDetectionOutput:()=>_B1,TableTransformerModel:()=>MB1,TableTransformerForObjectDetection:()=>AB1,T5Tokenizer:()=>FB1,T5PreTrainedModel:()=>NB1,T5Model:()=>zB1,T5ForConditionalGeneration:()=>OB1,SwinPreTrainedModel:()=>LB1,SwinModel:()=>UB1,SwinForSemanticSegmentation:()=>qB1,SwinForImageClassification:()=>BB1,Swin2SRPreTrainedModel:()=>KB1,Swin2SRModel:()=>WB1,Swin2SRImageProcessor:()=>HB1,Swin2SRForImageSuperResolution:()=>$B1,SuppressTokensAtBeginLogitsProcessor:()=>GB1,SummarizationPipeline:()=>YB1,StyleTextToSpeech2PreTrainedModel:()=>XB1,StyleTextToSpeech2Model:()=>QB1,StoppingCriteriaList:()=>ZB1,StoppingCriteria:()=>JB1,Starcoder2PreTrainedModel:()=>eK1,Starcoder2Model:()=>tK1,Starcoder2ForCausalLM:()=>rK1,StableLmPreTrainedModel:()=>oK1,StableLmModel:()=>sK1,StableLmForCausalLM:()=>aK1,SqueezeBertTokenizer:()=>nK1,SqueezeBertPreTrainedModel:()=>iK1,SqueezeBertModel:()=>lK1,SqueezeBertForSequenceClassification:()=>pK1,SqueezeBertForQuestionAnswering:()=>cK1,SqueezeBertForMaskedLM:()=>mK1,SpeechT5Tokenizer:()=>dK1,SpeechT5Processor:()=>uK1,SpeechT5PreTrainedModel:()=>hK1,SpeechT5Model:()=>yK1,SpeechT5HifiGan:()=>gK1,SpeechT5ForTextToSpeech:()=>PK1,SpeechT5ForSpeechToText:()=>TK1,SpeechT5FeatureExtractor:()=>SK1,SnacPreTrainedModel:()=>fK1,SnacModel:()=>vK1,SnacFeatureExtractor:()=>bK1,SnacEncoderModel:()=>CK1,SnacDecoderModel:()=>RK1,SmolVLMProcessor:()=>xK1,SmolVLMImageProcessor:()=>kK1,SmolVLMForConditionalGeneration:()=>EK1,SmolLM3PreTrainedModel:()=>wK1,SmolLM3Model:()=>DK1,SmolLM3ForCausalLM:()=>jK1,SiglipVisionModel:()=>IK1,SiglipTokenizer:()=>VK1,SiglipTextModel:()=>_K1,SiglipPreTrainedModel:()=>MK1,SiglipModel:()=>AK1,SiglipImageProcessor:()=>FK1,SequenceClassifierOutput:()=>NK1,Seq2SeqLMOutput:()=>zK1,SegformerPreTrainedModel:()=>OK1,SegformerModel:()=>LK1,SegformerImageProcessor:()=>UK1,SegformerForSemanticSegmentation:()=>qK1,SegformerForImageClassification:()=>BK1,SegformerFeatureExtractor:()=>KK1,SeamlessM4TFeatureExtractor:()=>WK1,SapiensPreTrainedModel:()=>HK1,SapiensForSemanticSegmentation:()=>$K1,SapiensForNormalEstimation:()=>GK1,SapiensForDepthEstimation:()=>YK1,SamProcessor:()=>XK1,SamPreTrainedModel:()=>QK1,SamModel:()=>ZK1,SamImageSegmentationOutput:()=>JK1,SamImageProcessor:()=>eW1,RobertaTokenizer:()=>tW1,RobertaPreTrainedModel:()=>rW1,RobertaModel:()=>oW1,RobertaForTokenClassification:()=>sW1,RobertaForSequenceClassification:()=>aW1,RobertaForQuestionAnswering:()=>nW1,RobertaForMaskedLM:()=>iW1,RoFormerTokenizer:()=>lW1,RoFormerPreTrainedModel:()=>pW1,RoFormerModel:()=>cW1,RoFormerForTokenClassification:()=>mW1,RoFormerForSequenceClassification:()=>dW1,RoFormerForQuestionAnswering:()=>uW1,RoFormerForMaskedLM:()=>hW1,ResNetPreTrainedModel:()=>yW1,ResNetModel:()=>gW1,ResNetForImageClassification:()=>PW1,RepetitionPenaltyLogitsProcessor:()=>TW1,RawVideoFrame:()=>SW1,RawVideo:()=>fW1,RawImage:()=>vW1,RawAudio:()=>bW1,RTDetrV2PreTrainedModel:()=>CW1,RTDetrV2ObjectDetectionOutput:()=>RW1,RTDetrV2Model:()=>xW1,RTDetrV2ForObjectDetection:()=>kW1,RTDetrPreTrainedModel:()=>EW1,RTDetrObjectDetectionOutput:()=>wW1,RTDetrModel:()=>DW1,RTDetrImageProcessor:()=>jW1,RTDetrForObjectDetection:()=>IW1,RFDetrPreTrainedModel:()=>VW1,RFDetrObjectDetectionOutput:()=>_W1,RFDetrModel:()=>MW1,RFDetrForObjectDetection:()=>AW1,Qwen3PreTrainedModel:()=>FW1,Qwen3Model:()=>NW1,Qwen3ForCausalLM:()=>zW1,Qwen2VLProcessor:()=>OW1,Qwen2VLPreTrainedModel:()=>LW1,Qwen2VLImageProcessor:()=>UW1,Qwen2VLForConditionalGeneration:()=>qW1,Qwen2Tokenizer:()=>BW1,Qwen2PreTrainedModel:()=>KW1,Qwen2Model:()=>WW1,Qwen2ForCausalLM:()=>HW1,QuestionAnsweringPipeline:()=>$W1,QuestionAnsweringModelOutput:()=>GW1,PyAnnoteProcessor:()=>YW1,PyAnnotePreTrainedModel:()=>XW1,PyAnnoteModel:()=>QW1,PyAnnoteForAudioFrameClassification:()=>ZW1,PyAnnoteFeatureExtractor:()=>JW1,PvtPreTrainedModel:()=>eH1,PvtModel:()=>tH1,PvtImageProcessor:()=>rH1,PvtForImageClassification:()=>oH1,Processor:()=>sH1,PretrainedMixin:()=>aH1,PretrainedConfig:()=>nH1,PreTrainedTokenizer:()=>iH1,PreTrainedModel:()=>lH1,Pipeline:()=>pH1,PhiPreTrainedModel:()=>cH1,PhiModel:()=>mH1,PhiForCausalLM:()=>dH1,Phi3VProcessor:()=>uH1,Phi3VPreTrainedModel:()=>hH1,Phi3VImageProcessor:()=>yH1,Phi3VForCausalLM:()=>gH1,Phi3PreTrainedModel:()=>PH1,Phi3Model:()=>TH1,Phi3ForCausalLM:()=>SH1,PatchTSTPreTrainedModel:()=>fH1,PatchTSTModel:()=>vH1,PatchTSTForPrediction:()=>bH1,PatchTSMixerPreTrainedModel:()=>CH1,PatchTSMixerModel:()=>RH1,PatchTSMixerForPrediction:()=>xH1,PaliGemmaProcessor:()=>kH1,PaliGemmaPreTrainedModel:()=>EH1,PaliGemmaForConditionalGeneration:()=>wH1,Owlv2PreTrainedModel:()=>DH1,Owlv2Model:()=>jH1,Owlv2ImageProcessor:()=>IH1,Owlv2ForObjectDetection:()=>VH1,OwlViTProcessor:()=>_H1,OwlViTPreTrainedModel:()=>MH1,OwlViTModel:()=>AH1,OwlViTImageProcessor:()=>FH1,OwlViTForObjectDetection:()=>NH1,OwlViTFeatureExtractor:()=>zH1,OpenELMPreTrainedModel:()=>OH1,OpenELMModel:()=>LH1,OpenELMForCausalLM:()=>UH1,OlmoPreTrainedModel:()=>qH1,OlmoModel:()=>BH1,OlmoForCausalLM:()=>KH1,Olmo2PreTrainedModel:()=>WH1,Olmo2Model:()=>HH1,Olmo2ForCausalLM:()=>$H1,ObjectDetectionPipeline:()=>GH1,OPTPreTrainedModel:()=>YH1,OPTModel:()=>XH1,OPTForCausalLM:()=>QH1,NougatTokenizer:()=>ZH1,NougatImageProcessor:()=>JH1,NomicBertPreTrainedModel:()=>e$1,NomicBertModel:()=>t$1,NoRepeatNGramLogitsProcessor:()=>r$1,NoBadWordsLogitsProcessor:()=>o$1,NllbTokenizer:()=>s$1,NeoBertPreTrainedModel:()=>a$1,NeoBertModel:()=>n$1,NeoBertForTokenClassification:()=>i$1,NeoBertForSequenceClassification:()=>l$1,NeoBertForQuestionAnswering:()=>p$1,NeoBertForMaskedLM:()=>c$1,MusicgenPreTrainedModel:()=>m$1,MusicgenModel:()=>d$1,MusicgenForConditionalGeneration:()=>u$1,MusicgenForCausalLM:()=>h$1,MultiModalityPreTrainedModel:()=>y$1,MultiModalityCausalLM:()=>g$1,MptPreTrainedModel:()=>P$1,MptModel:()=>T$1,MptForCausalLM:()=>S$1,MoonshineProcessor:()=>f$1,MoonshinePreTrainedModel:()=>v$1,MoonshineModel:()=>b$1,MoonshineForConditionalGeneration:()=>C$1,MoonshineFeatureExtractor:()=>R$1,Moondream1ForConditionalGeneration:()=>x$1,ModernBertPreTrainedModel:()=>k$1,ModernBertModel:()=>E$1,ModernBertForTokenClassification:()=>w$1,ModernBertForSequenceClassification:()=>D$1,ModernBertForMaskedLM:()=>j$1,ModernBertDecoderPreTrainedModel:()=>I$1,ModernBertDecoderModel:()=>V$1,ModernBertDecoderForCausalLM:()=>_$1,ModelOutput:()=>M$1,MobileViTV2PreTrainedModel:()=>A$1,MobileViTV2Model:()=>F$1,MobileViTV2ForImageClassification:()=>N$1,MobileViTPreTrainedModel:()=>z$1,MobileViTModel:()=>O$1,MobileViTImageProcessor:()=>L$1,MobileViTForImageClassification:()=>U$1,MobileViTFeatureExtractor:()=>q$1,MobileNetV4PreTrainedModel:()=>B$1,MobileNetV4Model:()=>K$1,MobileNetV4ImageProcessor:()=>W$1,MobileNetV4ForSemanticSegmentation:()=>H$1,MobileNetV4ForImageClassification:()=>$$1,MobileNetV4FeatureExtractor:()=>G$1,MobileNetV3PreTrainedModel:()=>Y$1,MobileNetV3Model:()=>X$1,MobileNetV3ImageProcessor:()=>Q$1,MobileNetV3ForSemanticSegmentation:()=>Z$1,MobileNetV3ForImageClassification:()=>J$1,MobileNetV3FeatureExtractor:()=>eG1,MobileNetV2PreTrainedModel:()=>tG1,MobileNetV2Model:()=>rG1,MobileNetV2ImageProcessor:()=>oG1,MobileNetV2ForSemanticSegmentation:()=>sG1,MobileNetV2ForImageClassification:()=>aG1,MobileNetV2FeatureExtractor:()=>nG1,MobileNetV1PreTrainedModel:()=>iG1,MobileNetV1Model:()=>lG1,MobileNetV1ImageProcessor:()=>pG1,MobileNetV1ForSemanticSegmentation:()=>cG1,MobileNetV1ForImageClassification:()=>mG1,MobileNetV1FeatureExtractor:()=>dG1,MobileLLMPreTrainedModel:()=>uG1,MobileLLMModel:()=>hG1,MobileLLMForCausalLM:()=>yG1,MobileBertTokenizer:()=>gG1,MobileBertPreTrainedModel:()=>PG1,MobileBertModel:()=>TG1,MobileBertForSequenceClassification:()=>SG1,MobileBertForQuestionAnswering:()=>fG1,MobileBertForMaskedLM:()=>vG1,MistralPreTrainedModel:()=>bG1,MistralModel:()=>CG1,MistralForCausalLM:()=>RG1,MinNewTokensLengthLogitsProcessor:()=>xG1,MinLengthLogitsProcessor:()=>kG1,MimiPreTrainedModel:()=>EG1,MimiModel:()=>wG1,MimiEncoderOutput:()=>DG1,MimiEncoderModel:()=>jG1,MimiDecoderOutput:()=>IG1,MimiDecoderModel:()=>VG1,MgpstrTokenizer:()=>_G1,MgpstrProcessor:()=>MG1,MgpstrPreTrainedModel:()=>AG1,MgpstrModelOutput:()=>FG1,MgpstrForSceneTextRecognition:()=>NG1,Metric3Dv2PreTrainedModel:()=>zG1,Metric3Dv2ForDepthEstimation:()=>OG1,Metric3DPreTrainedModel:()=>LG1,Metric3DForDepthEstimation:()=>UG1,MaxLengthCriteria:()=>qG1,MaskedLMOutput:()=>BG1,MaskFormerPreTrainedModel:()=>KG1,MaskFormerModel:()=>WG1,MaskFormerImageProcessor:()=>HG1,MaskFormerForInstanceSegmentation:()=>$G1,MaskFormerFeatureExtractor:()=>GG1,Mask2FormerImageProcessor:()=>YG1,MarianTokenizer:()=>XG1,MarianPreTrainedModel:()=>QG1,MarianModel:()=>ZG1,MarianMTModel:()=>JG1,MT5PreTrainedModel:()=>eY1,MT5Model:()=>tY1,MT5ForConditionalGeneration:()=>rY1,MPNetTokenizer:()=>oY1,MPNetPreTrainedModel:()=>sY1,MPNetModel:()=>aY1,MPNetForTokenClassification:()=>nY1,MPNetForSequenceClassification:()=>iY1,MPNetForQuestionAnswering:()=>lY1,MPNetForMaskedLM:()=>pY1,MBartTokenizer:()=>cY1,MBartPreTrainedModel:()=>mY1,MBartModel:()=>dY1,MBartForSequenceClassification:()=>uY1,MBartForConditionalGeneration:()=>hY1,MBartForCausalLM:()=>yY1,MBart50Tokenizer:()=>gY1,M2M100Tokenizer:()=>PY1,M2M100PreTrainedModel:()=>TY1,M2M100Model:()=>SY1,M2M100ForConditionalGeneration:()=>fY1,LongT5PreTrainedModel:()=>vY1,LongT5Model:()=>bY1,LongT5ForConditionalGeneration:()=>CY1,LogitsWarper:()=>RY1,LogitsProcessorList:()=>xY1,LogitsProcessor:()=>kY1,LlavaQwen2ForCausalLM:()=>EY1,LlavaProcessor:()=>wY1,LlavaPreTrainedModel:()=>DY1,LlavaOnevisionImageProcessor:()=>jY1,LlavaOnevisionForConditionalGeneration:()=>IY1,LlavaForConditionalGeneration:()=>VY1,LlamaTokenizer:()=>_Y1,LlamaPreTrainedModel:()=>MY1,LlamaModel:()=>AY1,LlamaForCausalLM:()=>FY1,Llama4PreTrainedModel:()=>NY1,Llama4ForCausalLM:()=>zY1,LiteWhisperForConditionalGeneration:()=>OY1,Lfm2PreTrainedModel:()=>LY1,Lfm2Model:()=>UY1,Lfm2ForCausalLM:()=>qY1,JinaCLIPVisionModel:()=>BY1,JinaCLIPTextModel:()=>KY1,JinaCLIPProcessor:()=>WY1,JinaCLIPPreTrainedModel:()=>HY1,JinaCLIPModel:()=>$Y1,JinaCLIPImageProcessor:()=>GY1,JAISPreTrainedModel:()=>YY1,JAISModel:()=>XY1,JAISLMHeadModel:()=>QY1,InterruptableStoppingCriteria:()=>ZY1,ImageToTextPipeline:()=>JY1,ImageToImagePipeline:()=>eX1,ImageSegmentationPipeline:()=>tX1,ImageProcessor:()=>rX1,ImageMattingOutput:()=>oX1,ImageFeatureExtractor:()=>sX1,ImageFeatureExtractionPipeline:()=>aX1,ImageClassificationPipeline:()=>nX1,Idefics3Processor:()=>iX1,Idefics3PreTrainedModel:()=>lX1,Idefics3ImageProcessor:()=>pX1,Idefics3ForConditionalGeneration:()=>cX1,IJepaPreTrainedModel:()=>mX1,IJepaModel:()=>dX1,IJepaForImageClassification:()=>uX1,HubertPreTrainedModel:()=>hX1,HubertModel:()=>yX1,HubertForSequenceClassification:()=>gX1,HubertForCTC:()=>PX1,HieraPreTrainedModel:()=>TX1,HieraModel:()=>SX1,HieraForImageClassification:()=>fX1,HerbertTokenizer:()=>vX1,HeliumPreTrainedModel:()=>bX1,HeliumModel:()=>CX1,HeliumForCausalLM:()=>RX1,GroupViTPreTrainedModel:()=>xX1,GroupViTModel:()=>kX1,GroundingDinoProcessor:()=>EX1,GroundingDinoPreTrainedModel:()=>wX1,GroundingDinoImageProcessor:()=>DX1,GroundingDinoForObjectDetection:()=>jX1,Grok1Tokenizer:()=>IX1,GranitePreTrainedModel:()=>VX1,GraniteModel:()=>_X1,GraniteForCausalLM:()=>MX1,GlmPreTrainedModel:()=>AX1,GlmModel:()=>FX1,GlmForCausalLM:()=>NX1,GemmaTokenizer:()=>zX1,GemmaPreTrainedModel:()=>OX1,GemmaModel:()=>LX1,GemmaForCausalLM:()=>UX1,Gemma3nProcessor:()=>qX1,Gemma3nPreTrainedModel:()=>BX1,Gemma3nForConditionalGeneration:()=>KX1,Gemma3nAudioFeatureExtractor:()=>WX1,Gemma3PreTrainedModel:()=>HX1,Gemma3Model:()=>$X1,Gemma3ForCausalLM:()=>GX1,Gemma2PreTrainedModel:()=>YX1,Gemma2Model:()=>XX1,Gemma2ForCausalLM:()=>QX1,GPTNeoXTokenizer:()=>ZX1,GPTNeoXPreTrainedModel:()=>JX1,GPTNeoXModel:()=>eQ1,GPTNeoXForCausalLM:()=>tQ1,GPTNeoPreTrainedModel:()=>rQ1,GPTNeoModel:()=>oQ1,GPTNeoForCausalLM:()=>sQ1,GPTJPreTrainedModel:()=>aQ1,GPTJModel:()=>nQ1,GPTJForCausalLM:()=>iQ1,GPTBigCodePreTrainedModel:()=>lQ1,GPTBigCodeModel:()=>pQ1,GPTBigCodeForCausalLM:()=>cQ1,GPT2Tokenizer:()=>mQ1,GPT2PreTrainedModel:()=>dQ1,GPT2Model:()=>uQ1,GPT2LMHeadModel:()=>hQ1,GLPNPreTrainedModel:()=>yQ1,GLPNModel:()=>gQ1,GLPNForDepthEstimation:()=>PQ1,GLPNFeatureExtractor:()=>TQ1,ForcedEOSTokenLogitsProcessor:()=>SQ1,ForcedBOSTokenLogitsProcessor:()=>fQ1,Florence2Processor:()=>vQ1,Florence2PreTrainedModel:()=>bQ1,Florence2ForConditionalGeneration:()=>CQ1,FillMaskPipeline:()=>RQ1,FeatureExtractor:()=>xQ1,FeatureExtractionPipeline:()=>kQ1,FastViTPreTrainedModel:()=>EQ1,FastViTModel:()=>wQ1,FastViTForImageClassification:()=>DQ1,FalconTokenizer:()=>jQ1,FalconPreTrainedModel:()=>IQ1,FalconModel:()=>VQ1,FalconForCausalLM:()=>_Q1,FFT:()=>MQ1,ExaonePreTrainedModel:()=>AQ1,ExaoneModel:()=>FQ1,ExaoneForCausalLM:()=>NQ1,EsmTokenizer:()=>zQ1,EsmPreTrainedModel:()=>OQ1,EsmModel:()=>LQ1,EsmForTokenClassification:()=>UQ1,EsmForSequenceClassification:()=>qQ1,EsmForMaskedLM:()=>BQ1,Ernie4_5_Tokenizer:()=>KQ1,Ernie4_5_PretrainedModel:()=>WQ1,Ernie4_5_Model:()=>HQ1,Ernie4_5_ForCausalLM:()=>$Q1,EosTokenCriteria:()=>GQ1,EncodecFeatureExtractor:()=>YQ1,ElectraTokenizer:()=>XQ1,ElectraPreTrainedModel:()=>QQ1,ElectraModel:()=>ZQ1,ElectraForTokenClassification:()=>JQ1,ElectraForSequenceClassification:()=>eZ1,ElectraForQuestionAnswering:()=>tZ1,ElectraForMaskedLM:()=>rZ1,EfficientNetPreTrainedModel:()=>oZ1,EfficientNetModel:()=>sZ1,EfficientNetImageProcessor:()=>aZ1,EfficientNetForImageClassification:()=>nZ1,DonutSwinPreTrainedModel:()=>iZ1,DonutSwinModel:()=>lZ1,DonutImageProcessor:()=>pZ1,DonutFeatureExtractor:()=>cZ1,DocumentQuestionAnsweringPipeline:()=>mZ1,DistilBertTokenizer:()=>dZ1,DistilBertPreTrainedModel:()=>uZ1,DistilBertModel:()=>hZ1,DistilBertForTokenClassification:()=>yZ1,DistilBertForSequenceClassification:()=>gZ1,DistilBertForQuestionAnswering:()=>PZ1,DistilBertForMaskedLM:()=>TZ1,Dinov2WithRegistersPreTrainedModel:()=>SZ1,Dinov2WithRegistersModel:()=>fZ1,Dinov2WithRegistersForImageClassification:()=>vZ1,Dinov2PreTrainedModel:()=>bZ1,Dinov2Model:()=>CZ1,Dinov2ForImageClassification:()=>RZ1,DetrSegmentationOutput:()=>xZ1,DetrPreTrainedModel:()=>kZ1,DetrObjectDetectionOutput:()=>EZ1,DetrModel:()=>wZ1,DetrImageProcessor:()=>DZ1,DetrForSegmentation:()=>jZ1,DetrForObjectDetection:()=>IZ1,DetrFeatureExtractor:()=>VZ1,DepthProPreTrainedModel:()=>_Z1,DepthProForDepthEstimation:()=>MZ1,DepthEstimationPipeline:()=>AZ1,DepthAnythingPreTrainedModel:()=>FZ1,DepthAnythingForDepthEstimation:()=>NZ1,DeiTPreTrainedModel:()=>zZ1,DeiTModel:()=>OZ1,DeiTImageProcessor:()=>LZ1,DeiTForImageClassification:()=>UZ1,DeiTFeatureExtractor:()=>qZ1,DecisionTransformerPreTrainedModel:()=>BZ1,DecisionTransformerModel:()=>KZ1,DebertaV2Tokenizer:()=>WZ1,DebertaV2PreTrainedModel:()=>HZ1,DebertaV2Model:()=>$Z1,DebertaV2ForTokenClassification:()=>GZ1,DebertaV2ForSequenceClassification:()=>YZ1,DebertaV2ForQuestionAnswering:()=>XZ1,DebertaV2ForMaskedLM:()=>QZ1,DebertaTokenizer:()=>ZZ1,DebertaPreTrainedModel:()=>JZ1,DebertaModel:()=>eJ1,DebertaForTokenClassification:()=>tJ1,DebertaForSequenceClassification:()=>rJ1,DebertaForQuestionAnswering:()=>oJ1,DebertaForMaskedLM:()=>sJ1,DataTypeMap:()=>aJ1,DacPreTrainedModel:()=>nJ1,DacModel:()=>iJ1,DacFeatureExtractor:()=>lJ1,DacEncoderOutput:()=>pJ1,DacEncoderModel:()=>cJ1,DacDecoderOutput:()=>mJ1,DacDecoderModel:()=>dJ1,DPTPreTrainedModel:()=>uJ1,DPTModel:()=>hJ1,DPTImageProcessor:()=>yJ1,DPTForDepthEstimation:()=>gJ1,DPTFeatureExtractor:()=>PJ1,DINOv3ViTPreTrainedModel:()=>TJ1,DINOv3ViTModel:()=>SJ1,DINOv3ViTImageProcessor:()=>fJ1,DINOv3ConvNextPreTrainedModel:()=>vJ1,DINOv3ConvNextModel:()=>bJ1,DFinePreTrainedModel:()=>CJ1,DFineModel:()=>RJ1,DFineForObjectDetection:()=>xJ1,ConvNextV2PreTrainedModel:()=>kJ1,ConvNextV2Model:()=>EJ1,ConvNextV2ForImageClassification:()=>wJ1,ConvNextPreTrainedModel:()=>DJ1,ConvNextModel:()=>jJ1,ConvNextImageProcessor:()=>IJ1,ConvNextForImageClassification:()=>VJ1,ConvNextFeatureExtractor:()=>_J1,ConvBertTokenizer:()=>MJ1,ConvBertPreTrainedModel:()=>AJ1,ConvBertModel:()=>FJ1,ConvBertForTokenClassification:()=>NJ1,ConvBertForSequenceClassification:()=>zJ1,ConvBertForQuestionAnswering:()=>OJ1,ConvBertForMaskedLM:()=>LJ1,CohereTokenizer:()=>UJ1,CoherePreTrainedModel:()=>qJ1,CohereModel:()=>BJ1,CohereForCausalLM:()=>KJ1,CodeLlamaTokenizer:()=>WJ1,CodeGenTokenizer:()=>HJ1,CodeGenPreTrainedModel:()=>$J1,CodeGenModel:()=>GJ1,CodeGenForCausalLM:()=>YJ1,ClassifierFreeGuidanceLogitsProcessor:()=>XJ1,ClapTextModelWithProjection:()=>QJ1,ClapPreTrainedModel:()=>ZJ1,ClapModel:()=>JJ1,ClapFeatureExtractor:()=>e31,ClapAudioModelWithProjection:()=>t31,ChineseCLIPPreTrainedModel:()=>r31,ChineseCLIPModel:()=>o31,ChineseCLIPFeatureExtractor:()=>s31,CausalLMOutputWithPast:()=>a31,CausalLMOutput:()=>n31,CamembertTokenizer:()=>i31,CamembertPreTrainedModel:()=>l31,CamembertModel:()=>p31,CamembertForTokenClassification:()=>c31,CamembertForSequenceClassification:()=>m31,CamembertForQuestionAnswering:()=>d31,CamembertForMaskedLM:()=>u31,CLIPVisionModelWithProjection:()=>h31,CLIPVisionModel:()=>y31,CLIPTokenizer:()=>g31,CLIPTextModelWithProjection:()=>P31,CLIPTextModel:()=>T31,CLIPSegPreTrainedModel:()=>S31,CLIPSegModel:()=>f31,CLIPSegForImageSegmentation:()=>v31,CLIPPreTrainedModel:()=>b31,CLIPModel:()=>C31,CLIPImageProcessor:()=>R31,CLIPFeatureExtractor:()=>x31,BloomTokenizer:()=>k31,BloomPreTrainedModel:()=>E31,BloomModel:()=>w31,BloomForCausalLM:()=>D31,BlenderbotTokenizer:()=>j31,BlenderbotSmallTokenizer:()=>I31,BlenderbotSmallPreTrainedModel:()=>V31,BlenderbotSmallModel:()=>_31,BlenderbotSmallForConditionalGeneration:()=>M31,BlenderbotPreTrainedModel:()=>A31,BlenderbotModel:()=>F31,BlenderbotForConditionalGeneration:()=>N31,BitImageProcessor:()=>z31,BertTokenizer:()=>O31,BertPreTrainedModel:()=>L31,BertModel:()=>U31,BertForTokenClassification:()=>q31,BertForSequenceClassification:()=>B31,BertForQuestionAnswering:()=>K31,BertForMaskedLM:()=>W31,BeitPreTrainedModel:()=>H31,BeitModel:()=>$31,BeitForImageClassification:()=>G31,BeitFeatureExtractor:()=>Y31,BaseStreamer:()=>X31,BaseModelOutput:()=>Q31,BartTokenizer:()=>Z31,BartPretrainedModel:()=>J31,BartModel:()=>e81,BartForSequenceClassification:()=>t81,BartForConditionalGeneration:()=>r81,BackgroundRemovalPipeline:()=>o81,AutomaticSpeechRecognitionPipeline:()=>s81,AutoTokenizer:()=>a81,AutoProcessor:()=>n81,AutoModelForZeroShotObjectDetection:()=>i81,AutoModelForXVector:()=>l81,AutoModelForVision2Seq:()=>p81,AutoModelForUniversalSegmentation:()=>c81,AutoModelForTokenClassification:()=>m81,AutoModelForTextToWaveform:()=>d81,AutoModelForTextToSpectrogram:()=>u81,AutoModelForSpeechSeq2Seq:()=>h81,AutoModelForSequenceClassification:()=>y81,AutoModelForSeq2SeqLM:()=>g81,AutoModelForSemanticSegmentation:()=>P81,AutoModelForQuestionAnswering:()=>T81,AutoModelForPoseEstimation:()=>S81,AutoModelForObjectDetection:()=>f81,AutoModelForNormalEstimation:()=>v81,AutoModelForMaskedLM:()=>b81,AutoModelForMaskGeneration:()=>C81,AutoModelForImageToImage:()=>R81,AutoModelForImageTextToText:()=>x81,AutoModelForImageSegmentation:()=>k81,AutoModelForImageMatting:()=>E81,AutoModelForImageFeatureExtraction:()=>w81,AutoModelForImageClassification:()=>D81,AutoModelForDocumentQuestionAnswering:()=>j81,AutoModelForDepthEstimation:()=>I81,AutoModelForCausalLM:()=>V81,AutoModelForCTC:()=>_81,AutoModelForAudioTextToText:()=>M81,AutoModelForAudioFrameClassification:()=>A81,AutoModelForAudioClassification:()=>F81,AutoModel:()=>N81,AutoImageProcessor:()=>z81,AutoFeatureExtractor:()=>O81,AutoConfig:()=>L81,AudioClassificationPipeline:()=>U81,ArceePreTrainedModel:()=>q81,ArceeModel:()=>B81,ArceeForCausalLM:()=>K81,AlbertTokenizer:()=>W81,AlbertPreTrainedModel:()=>H81,AlbertModel:()=>$81,AlbertForSequenceClassification:()=>G81,AlbertForQuestionAnswering:()=>Y81,AlbertForMaskedLM:()=>X81,ASTPreTrainedModel:()=>Q81,ASTModel:()=>Z81,ASTForAudioClassification:()=>J81,ASTFeatureExtractor:()=>e91});function n5(J){var Z=Pn[J];if(Z!==void 0)return Z.exports;var Q=Pn[J]={exports:{}};return t91[J](Q,Q.exports,n5),Q.exports}var __dirname="/home/runner/work/playground/playground/node_modules/@huggingface/transformers/dist",t91,Pn,R,e91,J81,Z81,Q81,X81,Y81,G81,$81,H81,W81,K81,B81,q81,U81,L81,O81,z81,N81,F81,A81,M81,_81,V81,I81,j81,D81,w81,E81,k81,x81,R81,C81,b81,v81,f81,S81,T81,P81,g81,y81,h81,u81,d81,m81,c81,p81,l81,i81,n81,a81,s81,o81,r81,t81,e81,J31,Z31,Q31,X31,Y31,G31,$31,H31,W31,K31,B31,q31,U31,L31,O31,z31,N31,F31,A31,M31,_31,V31,I31,j31,D31,w31,E31,k31,x31,R31,C31,b31,v31,f31,S31,T31,P31,g31,y31,h31,u31,d31,m31,c31,p31,l31,i31,n31,a31,s31,o31,r31,t31,e31,JJ1,ZJ1,QJ1,XJ1,YJ1,GJ1,$J1,HJ1,WJ1,KJ1,BJ1,qJ1,UJ1,LJ1,OJ1,zJ1,NJ1,FJ1,AJ1,MJ1,_J1,VJ1,IJ1,jJ1,DJ1,wJ1,EJ1,kJ1,xJ1,RJ1,CJ1,bJ1,vJ1,fJ1,SJ1,TJ1,PJ1,gJ1,yJ1,hJ1,uJ1,dJ1,mJ1,cJ1,pJ1,lJ1,iJ1,nJ1,aJ1,sJ1,oJ1,rJ1,tJ1,eJ1,JZ1,ZZ1,QZ1,XZ1,YZ1,GZ1,$Z1,HZ1,WZ1,KZ1,BZ1,qZ1,UZ1,LZ1,OZ1,zZ1,NZ1,FZ1,AZ1,MZ1,_Z1,VZ1,IZ1,jZ1,DZ1,wZ1,EZ1,kZ1,xZ1,RZ1,CZ1,bZ1,vZ1,fZ1,SZ1,TZ1,PZ1,gZ1,yZ1,hZ1,uZ1,dZ1,mZ1,cZ1,pZ1,lZ1,iZ1,nZ1,aZ1,sZ1,oZ1,rZ1,tZ1,eZ1,JQ1,ZQ1,QQ1,XQ1,YQ1,GQ1,$Q1,HQ1,WQ1,KQ1,BQ1,qQ1,UQ1,LQ1,OQ1,zQ1,NQ1,FQ1,AQ1,MQ1,_Q1,VQ1,IQ1,jQ1,DQ1,wQ1,EQ1,kQ1,xQ1,RQ1,CQ1,bQ1,vQ1,fQ1,SQ1,TQ1,PQ1,gQ1,yQ1,hQ1,uQ1,dQ1,mQ1,cQ1,pQ1,lQ1,iQ1,nQ1,aQ1,sQ1,oQ1,rQ1,tQ1,eQ1,JX1,ZX1,QX1,XX1,YX1,GX1,$X1,HX1,WX1,KX1,BX1,qX1,UX1,LX1,OX1,zX1,NX1,FX1,AX1,MX1,_X1,VX1,IX1,jX1,DX1,wX1,EX1,kX1,xX1,RX1,CX1,bX1,vX1,fX1,SX1,TX1,PX1,gX1,yX1,hX1,uX1,dX1,mX1,cX1,pX1,lX1,iX1,nX1,aX1,sX1,oX1,rX1,tX1,eX1,JY1,ZY1,QY1,XY1,YY1,GY1,$Y1,HY1,WY1,KY1,BY1,qY1,UY1,LY1,OY1,zY1,NY1,FY1,AY1,MY1,_Y1,VY1,IY1,jY1,DY1,wY1,EY1,kY1,xY1,RY1,CY1,bY1,vY1,fY1,SY1,TY1,PY1,gY1,yY1,hY1,uY1,dY1,mY1,cY1,pY1,lY1,iY1,nY1,aY1,sY1,oY1,rY1,tY1,eY1,JG1,ZG1,QG1,XG1,YG1,GG1,$G1,HG1,WG1,KG1,BG1,qG1,UG1,LG1,OG1,zG1,NG1,FG1,AG1,MG1,_G1,VG1,IG1,jG1,DG1,wG1,EG1,kG1,xG1,RG1,CG1,bG1,vG1,fG1,SG1,TG1,PG1,gG1,yG1,hG1,uG1,dG1,mG1,cG1,pG1,lG1,iG1,nG1,aG1,sG1,oG1,rG1,tG1,eG1,J$1,Z$1,Q$1,X$1,Y$1,G$1,$$1,H$1,W$1,K$1,B$1,q$1,U$1,L$1,O$1,z$1,N$1,F$1,A$1,M$1,_$1,V$1,I$1,j$1,D$1,w$1,E$1,k$1,x$1,R$1,C$1,b$1,v$1,f$1,S$1,T$1,P$1,g$1,y$1,h$1,u$1,d$1,m$1,c$1,p$1,l$1,i$1,n$1,a$1,s$1,o$1,r$1,t$1,e$1,JH1,ZH1,QH1,XH1,YH1,GH1,$H1,HH1,WH1,KH1,BH1,qH1,UH1,LH1,OH1,zH1,NH1,FH1,AH1,MH1,_H1,VH1,IH1,jH1,DH1,wH1,EH1,kH1,xH1,RH1,CH1,bH1,vH1,fH1,SH1,TH1,PH1,gH1,yH1,hH1,uH1,dH1,mH1,cH1,pH1,lH1,iH1,nH1,aH1,sH1,oH1,rH1,tH1,eH1,JW1,ZW1,QW1,XW1,YW1,GW1,$W1,HW1,WW1,KW1,BW1,qW1,UW1,LW1,OW1,zW1,NW1,FW1,AW1,MW1,_W1,VW1,IW1,jW1,DW1,wW1,EW1,kW1,xW1,RW1,CW1,bW1,vW1,fW1,SW1,TW1,PW1,gW1,yW1,hW1,uW1,dW1,mW1,cW1,pW1,lW1,iW1,nW1,aW1,sW1,oW1,rW1,tW1,eW1,JK1,ZK1,QK1,XK1,YK1,GK1,$K1,HK1,WK1,KK1,BK1,qK1,UK1,LK1,OK1,zK1,NK1,FK1,AK1,MK1,_K1,VK1,IK1,jK1,DK1,wK1,EK1,kK1,xK1,RK1,CK1,bK1,vK1,fK1,SK1,TK1,PK1,gK1,yK1,hK1,uK1,dK1,mK1,cK1,pK1,lK1,iK1,nK1,aK1,sK1,oK1,rK1,tK1,eK1,JB1,ZB1,QB1,XB1,YB1,GB1,$B1,HB1,WB1,KB1,BB1,qB1,UB1,LB1,OB1,zB1,NB1,FB1,AB1,MB1,_B1,VB1,IB1,jB1,DB1,wB1,EB1,kB1,xB1,RB1,CB1,bB1,vB1,fB1,SB1,TB1,PB1,gB1,yB1,hB1,uB1,dB1,mB1,cB1,pB1,lB1,iB1,nB1,aB1,sB1,oB1,rB1,tB1,eB1,Jq1,Zq1,Qq1,Xq1,Yq1,Gq1,$q1,Hq1,Wq1,Kq1,Bq1,qq1,Uq1,Lq1,Oq1,zq1,Nq1,Fq1,Aq1,Mq1,_q1,Vq1,Iq1,jq1,Dq1,wq1,Eq1,kq1,xq1,Rq1,Cq1,bq1,vq1,fq1,Sq1,Tq1,Pq1,gq1,yq1,hq1,uq1,dq1,mq1,cq1,pq1,lq1,iq1,nq1,aq1,sq1,oq1,rq1,tq1,eq1,JU1,ZU1,QU1,XU1,YU1,GU1,$U1,HU1,WU1,KU1,BU1,qU1,UU1,LU1,OU1,zU1,NU1,FU1,AU1,MU1,_U1,VU1,IU1,jU1,DU1,wU1,EU1,kU1,xU1,RU1,CU1,bU1,vU1,fU1,SU1,TU1,PU1,gU1,yU1,hU1,uU1,dU1,mU1,cU1,pU1,lU1,iU1,nU1,aU1,sU1,oU1,rU1,tU1,eU1,JL1,ZL1,QL1,XL1,YL1,GL1,$L1,HL1,WL1,KL1,BL1,qL1,UL1,LL1,OL1,zL1;var yn=V6(()=>{_u();Tn();t91={"onnxruntime-common":(J)=>{/*!*************************************!*\
  !*** external "onnxruntime-common" ***!
  \*************************************/J.exports=ZE},"onnxruntime-web":(J)=>{/*!**********************************!*\
  !*** external "onnxruntime-web" ***!
  \**********************************/J.exports=nk},"?2ce3":()=>{/*!**********************************!*\
  !*** onnxruntime-node (ignored) ***!
  \**********************************/},"?7992":()=>{/*!*************************!*\
  !*** node:fs (ignored) ***!
  \*************************/},"?5af5":()=>{/*!***************************!*\
  !*** node:path (ignored) ***!
  \***************************/},"?2b25":()=>{/*!***********************!*\
  !*** sharp (ignored) ***!
  \***********************/},"?db59":()=>{/*!*************************!*\
  !*** node:fs (ignored) ***!
  \*************************/},"?383f":()=>{/*!***************************!*\
  !*** node:path (ignored) ***!
  \***************************/},"?fa4b":()=>{/*!**************************!*\
  !*** node:url (ignored) ***!
  \**************************/},"./node_modules/@huggingface/jinja/dist/index.js":(J,Z,Q)=>{/*!*******************************************************!*\
  !*** ./node_modules/@huggingface/jinja/dist/index.js ***!
  \*******************************************************/Q.r(Z),Q.d(Z,{Environment:()=>A0,Interpreter:()=>D0,Template:()=>L7,parse:()=>V1,tokenize:()=>O});var Y=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Comment:"Comment"}),$=class{constructor(c,L1){this.value=c,this.type=L1}};function H(c){return/\w/.test(c)}function K(c){return/[0-9]/.test(c)}var B=[["{%",Y.OpenStatement],["%}",Y.CloseStatement],["{{",Y.OpenExpression],["}}",Y.CloseExpression],["(",Y.OpenParen],[")",Y.CloseParen],["{",Y.OpenCurlyBracket],["}",Y.CloseCurlyBracket],["[",Y.OpenSquareBracket],["]",Y.CloseSquareBracket],[",",Y.Comma],[".",Y.Dot],[":",Y.Colon],["|",Y.Pipe],["<=",Y.ComparisonBinaryOperator],[">=",Y.ComparisonBinaryOperator],["==",Y.ComparisonBinaryOperator],["!=",Y.ComparisonBinaryOperator],["<",Y.ComparisonBinaryOperator],[">",Y.ComparisonBinaryOperator],["+",Y.AdditiveBinaryOperator],["-",Y.AdditiveBinaryOperator],["~",Y.AdditiveBinaryOperator],["*",Y.MultiplicativeBinaryOperator],["/",Y.MultiplicativeBinaryOperator],["%",Y.MultiplicativeBinaryOperator],["=",Y.Equals]],q=new Map([["n",`
`],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function L(c,L1={}){if(c.endsWith(`
`))c=c.slice(0,-1);if(L1.lstrip_blocks)c=c.replace(/^[ \t]*({[#%-])/gm,"$1");if(L1.trim_blocks)c=c.replace(/([#%-]})\n/g,"$1");return c.replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{").replace(/-#}\s*/g,"#}").replace(/\s*{#-/g,"{#").replace(/{%\s*(end)?generation\s*%}/gs,"")}function O(c,L1={}){let $1=[],O1=L(c,L1),I1=0,d1=0,B0=(n0)=>{let Y2="";while(n0(O1[I1])){if(O1[I1]==="\\"){if(++I1,I1>=O1.length)throw SyntaxError("Unexpected end of input");let s1=O1[I1++],d2=q.get(s1);if(d2===void 0)throw SyntaxError(`Unexpected escaped character: ${s1}`);Y2+=d2;continue}if(Y2+=O1[I1++],I1>=O1.length)throw SyntaxError("Unexpected end of input")}return Y2};J:while(I1<O1.length){let n0=$1.at(-1)?.type;if(n0===void 0||n0===Y.CloseStatement||n0===Y.CloseExpression||n0===Y.Comment){let s1="";while(I1<O1.length&&!(O1[I1]==="{"&&(O1[I1+1]==="%"||O1[I1+1]==="{"||O1[I1+1]==="#")))s1+=O1[I1++];if(s1.length>0){$1.push(new $(s1,Y.Text));continue}}if(O1[I1]==="{"&&O1[I1+1]==="#"){I1+=2;let s1="";while(O1[I1]!=="#"||O1[I1+1]!=="}"){if(I1+2>=O1.length)throw SyntaxError("Missing end of comment tag");s1+=O1[I1++]}$1.push(new $(s1,Y.Comment)),I1+=2;continue}B0((s1)=>/\s/.test(s1));let Y2=O1[I1];if(Y2==="-"||Y2==="+"){let s1=$1.at(-1)?.type;if(s1===Y.Text||s1===void 0)throw SyntaxError(`Unexpected character: ${Y2}`);switch(s1){case Y.Identifier:case Y.NumericLiteral:case Y.StringLiteral:case Y.CloseParen:case Y.CloseSquareBracket:break;default:{++I1;let d2=B0(K);$1.push(new $(`${Y2}${d2}`,d2.length>0?Y.NumericLiteral:Y.UnaryOperator));continue}}}for(let[s1,d2]of B){if(s1==="}}"&&d1>0)continue;if(O1.slice(I1,I1+s1.length)===s1){if($1.push(new $(s1,d2)),d2===Y.OpenExpression)d1=0;else if(d2===Y.OpenCurlyBracket)++d1;else if(d2===Y.CloseCurlyBracket)--d1;I1+=s1.length;continue J}}if(Y2==="'"||Y2==='"'){++I1;let s1=B0((d2)=>d2!==Y2);$1.push(new $(s1,Y.StringLiteral)),++I1;continue}if(K(Y2)){let s1=B0(K);if(O1[I1]==="."&&K(O1[I1+1])){++I1;let d2=B0(K);s1=`${s1}.${d2}`}$1.push(new $(s1,Y.NumericLiteral));continue}if(H(Y2)){let s1=B0(H);$1.push(new $(s1,Y.Identifier));continue}throw SyntaxError(`Unexpected character: ${Y2}`)}return $1}var z=class{type="Statement"},F=class extends z{constructor(c){super();this.body=c}type="Program"},V=class extends z{constructor(c,L1,$1){super();this.test=c,this.body=L1,this.alternate=$1}type="If"},A=class extends z{constructor(c,L1,$1,O1){super();this.loopvar=c,this.iterable=L1,this.body=$1,this.defaultBlock=O1}type="For"},M=class extends z{type="Break"},j=class extends z{type="Continue"},D=class extends z{constructor(c,L1,$1){super();this.assignee=c,this.value=L1,this.body=$1}type="Set"},w=class extends z{constructor(c,L1,$1){super();this.name=c,this.args=L1,this.body=$1}type="Macro"},C=class extends z{constructor(c){super();this.value=c}type="Comment"},I=class extends z{type="Expression"},b=class extends I{constructor(c,L1,$1){super();this.object=c,this.property=L1,this.computed=$1}type="MemberExpression"},E=class extends I{constructor(c,L1){super();this.callee=c,this.args=L1}type="CallExpression"},k=class extends I{constructor(c){super();this.value=c}type="Identifier"},T=class extends I{constructor(c){super();this.value=c}type="Literal"},S=class extends T{type="IntegerLiteral"},d=class extends T{type="FloatLiteral"},o=class extends T{type="StringLiteral"},v=class extends T{type="ArrayLiteral"},y=class extends T{type="TupleLiteral"},i=class extends T{type="ObjectLiteral"},p=class extends I{constructor(c,L1,$1){super();this.operator=c,this.left=L1,this.right=$1}type="BinaryExpression"},l=class extends I{constructor(c,L1){super();this.operand=c,this.filter=L1}type="FilterExpression"},t=class extends z{constructor(c,L1){super();this.filter=c,this.body=L1}type="FilterStatement"},Q1=class extends I{constructor(c,L1){super();this.lhs=c,this.test=L1}type="SelectExpression"},m=class extends I{constructor(c,L1,$1){super();this.operand=c,this.negate=L1,this.test=$1}type="TestExpression"},K1=class extends I{constructor(c,L1){super();this.operator=c,this.argument=L1}type="UnaryExpression"},g=class extends I{constructor(c=void 0,L1=void 0,$1=void 0){super();this.start=c,this.stop=L1,this.step=$1}type="SliceExpression"},n=class extends I{constructor(c,L1){super();this.key=c,this.value=L1}type="KeywordArgumentExpression"},Z1=class extends I{constructor(c){super();this.argument=c}type="SpreadExpression"},J1=class extends z{constructor(c,L1,$1){super();this.call=c,this.callerArgs=L1,this.body=$1}type="CallStatement"},z1=class extends I{constructor(c,L1,$1){super();this.condition=c,this.trueExpr=L1,this.falseExpr=$1}type="Ternary"};function V1(c){let L1=new F([]),$1=0;function O1(M0,w0){let a0=c[$1++];if(!a0||a0.type!==M0)throw Error(`Parser Error: ${w0}. ${a0.type} !== ${M0}.`);return a0}function I1(M0){if(!Y2(M0))throw SyntaxError(`Expected ${M0}`);++$1}function d1(){switch(c[$1].type){case Y.Comment:return new C(c[$1++].value);case Y.Text:return s1();case Y.OpenStatement:return d2();case Y.OpenExpression:return j2();default:throw SyntaxError(`Unexpected token type: ${c[$1].type}`)}}function B0(...M0){return $1+M0.length<=c.length&&M0.every((w0,a0)=>w0===c[$1+a0].type)}function n0(...M0){return c[$1]?.type===Y.OpenStatement&&c[$1+1]?.type===Y.Identifier&&M0.includes(c[$1+1]?.value)}function Y2(...M0){return $1+M0.length<=c.length&&M0.every((w0,a0)=>c[$1+a0].type==="Identifier"&&w0===c[$1+a0].value)}function s1(){return new o(O1(Y.Text,"Expected text token").value)}function d2(){if(O1(Y.OpenStatement,"Expected opening statement token"),c[$1].type!==Y.Identifier)throw SyntaxError(`Unknown statement, got ${c[$1].type}`);let M0=c[$1].value,w0;switch(M0){case"set":++$1,w0=H4();break;case"if":++$1,w0=a5(),O1(Y.OpenStatement,"Expected {% token"),I1("endif"),O1(Y.CloseStatement,"Expected %} token");break;case"macro":++$1,w0=O7(),O1(Y.OpenStatement,"Expected {% token"),I1("endmacro"),O1(Y.CloseStatement,"Expected %} token");break;case"for":++$1,w0=X7(),O1(Y.OpenStatement,"Expected {% token"),I1("endfor"),O1(Y.CloseStatement,"Expected %} token");break;case"call":{++$1;let a0=null;if(B0(Y.OpenParen))a0=U6();let P5=n7();if(P5.type!=="Identifier")throw SyntaxError("Expected identifier following call statement");let x6=U6();O1(Y.CloseStatement,"Expected closing statement token");let c6=[];while(!n0("endcall"))c6.push(d1());O1(Y.OpenStatement,"Expected '{%'"),I1("endcall"),O1(Y.CloseStatement,"Expected closing statement token");let p6=new E(P5,x6);w0=new J1(p6,a0,c6);break}case"break":++$1,O1(Y.CloseStatement,"Expected closing statement token"),w0=new M;break;case"continue":++$1,O1(Y.CloseStatement,"Expected closing statement token"),w0=new j;break;case"filter":{++$1;let a0=n7();if(a0 instanceof k&&B0(Y.OpenParen))a0=m6(a0);O1(Y.CloseStatement,"Expected closing statement token");let P5=[];while(!n0("endfilter"))P5.push(d1());O1(Y.OpenStatement,"Expected '{%'"),I1("endfilter"),O1(Y.CloseStatement,"Expected '%}'"),w0=new t(a0,P5);break}default:throw SyntaxError(`Unknown statement type: ${M0}`)}return w0}function j2(){O1(Y.OpenExpression,"Expected opening expression token");let M0=X5();return O1(Y.CloseExpression,"Expected closing expression token"),M0}function H4(){let M0=P4(),w0=null,a0=[];if(B0(Y.Equals))++$1,w0=P4();else{O1(Y.CloseStatement,"Expected %} token");while(!n0("endset"))a0.push(d1());O1(Y.OpenStatement,"Expected {% token"),I1("endset")}return O1(Y.CloseStatement,"Expected closing statement token"),new D(M0,w0,a0)}function a5(){let M0=X5();O1(Y.CloseStatement,"Expected closing statement token");let w0=[],a0=[];while(!n0("elif","else","endif"))w0.push(d1());if(n0("elif")){++$1,++$1;let P5=a5();a0.push(P5)}else if(n0("else")){++$1,++$1,O1(Y.CloseStatement,"Expected closing statement token");while(!n0("endif"))a0.push(d1())}return new V(M0,w0,a0)}function O7(){let M0=n7();if(M0.type!=="Identifier")throw SyntaxError("Expected identifier following macro statement");let w0=U6();O1(Y.CloseStatement,"Expected closing statement token");let a0=[];while(!n0("endmacro"))a0.push(d1());return new w(M0,w0,a0)}function P4(M0=!1){let w0=M0?n7:X5,a0=[w0()],P5=B0(Y.Comma);while(P5)if(++$1,a0.push(w0()),!B0(Y.Comma))break;return P5?new y(a0):a0[0]}function X7(){let M0=P4(!0);if(!(M0 instanceof k||M0 instanceof y))throw SyntaxError(`Expected identifier/tuple for the loop variable, got ${M0.type} instead`);if(!Y2("in"))throw SyntaxError("Expected `in` keyword following loop variable");++$1;let w0=X5();O1(Y.CloseStatement,"Expected closing statement token");let a0=[];while(!n0("endfor","else"))a0.push(d1());let P5=[];if(n0("else")){++$1,++$1,O1(Y.CloseStatement,"Expected closing statement token");while(!n0("endfor"))P5.push(d1())}return new A(M0,w0,a0,P5)}function X5(){return l7()}function l7(){let M0=k6();if(Y2("if")){++$1;let w0=k6();if(Y2("else")){++$1;let a0=l7();return new z1(w0,M0,a0)}else return new Q1(M0,w0)}return M0}function k6(){let M0=C9();while(Y2("or")){let w0=c[$1];++$1;let a0=C9();M0=new p(w0,M0,a0)}return M0}function C9(){let M0=i4();while(Y2("and")){let w0=c[$1];++$1;let a0=i4();M0=new p(w0,M0,a0)}return M0}function i4(){let M0;while(Y2("not")){let w0=c[$1];++$1;let a0=i4();M0=new K1(w0,a0)}return M0??b9()}function b9(){let M0=v9();while(!0){let w0;if(Y2("not","in"))w0=new $("not in",Y.Identifier),$1+=2;else if(Y2("in"))w0=c[$1++];else if(B0(Y.ComparisonBinaryOperator))w0=c[$1++];else break;let a0=v9();M0=new p(w0,M0,a0)}return M0}function v9(){let M0=N5();while(B0(Y.AdditiveBinaryOperator)){let w0=c[$1];++$1;let a0=N5();M0=new p(w0,M0,a0)}return M0}function O4(){let M0=E4(n7());if(B0(Y.OpenParen))return m6(M0);return M0}function m6(M0){let w0=new E(M0,U6());if(w0=E4(w0),B0(Y.OpenParen))w0=m6(w0);return w0}function U6(){O1(Y.OpenParen,"Expected opening parenthesis for arguments list");let M0=R7();return O1(Y.CloseParen,"Expected closing parenthesis for arguments list"),M0}function R7(){let M0=[];while(!B0(Y.CloseParen)){let w0;if(c[$1].type===Y.MultiplicativeBinaryOperator&&c[$1].value==="*"){++$1;let a0=X5();w0=new Z1(a0)}else if(w0=X5(),B0(Y.Equals)){if(++$1,!(w0 instanceof k))throw SyntaxError("Expected identifier for keyword argument");let a0=X5();w0=new n(w0,a0)}if(M0.push(w0),B0(Y.Comma))++$1}return M0}function O9(){let M0=[],w0=!1;while(!B0(Y.CloseSquareBracket))if(B0(Y.Colon))M0.push(void 0),++$1,w0=!0;else if(M0.push(X5()),B0(Y.Colon))++$1,w0=!0;if(M0.length===0)throw SyntaxError("Expected at least one argument for member/slice expression");if(w0){if(M0.length>3)throw SyntaxError("Expected 0-3 arguments for slice expression");return new g(...M0)}return M0[0]}function E4(M0){while(B0(Y.Dot)||B0(Y.OpenSquareBracket)){let w0=c[$1];++$1;let a0,P5=w0.type===Y.OpenSquareBracket;if(P5)a0=O9(),O1(Y.CloseSquareBracket,"Expected closing square bracket");else if(a0=n7(),a0.type!=="Identifier")throw SyntaxError("Expected identifier following dot operator");M0=new b(M0,a0,P5)}return M0}function N5(){let M0=i7();while(B0(Y.MultiplicativeBinaryOperator)){let w0=c[$1++],a0=i7();M0=new p(w0,M0,a0)}return M0}function i7(){let M0=L6();while(Y2("is")){++$1;let w0=Y2("not");if(w0)++$1;let a0=n7();if(!(a0 instanceof k))throw SyntaxError("Expected identifier for the test");M0=new m(M0,w0,a0)}return M0}function L6(){let M0=O4();while(B0(Y.Pipe)){++$1;let w0=n7();if(!(w0 instanceof k))throw SyntaxError("Expected identifier for the filter");if(B0(Y.OpenParen))w0=m6(w0);M0=new l(M0,w0)}return M0}function n7(){let M0=c[$1++];switch(M0.type){case Y.NumericLiteral:{let w0=M0.value;return w0.includes(".")?new d(Number(w0)):new S(Number(w0))}case Y.StringLiteral:{let w0=M0.value;while(B0(Y.StringLiteral))w0+=c[$1++].value;return new o(w0)}case Y.Identifier:return new k(M0.value);case Y.OpenParen:{let w0=P4();return O1(Y.CloseParen,"Expected closing parenthesis, got ${tokens[current].type} instead."),w0}case Y.OpenSquareBracket:{let w0=[];while(!B0(Y.CloseSquareBracket))if(w0.push(X5()),B0(Y.Comma))++$1;return++$1,new v(w0)}case Y.OpenCurlyBracket:{let w0=new Map;while(!B0(Y.CloseCurlyBracket)){let a0=X5();O1(Y.Colon,"Expected colon between key and value in object literal");let P5=X5();if(w0.set(a0,P5),B0(Y.Comma))++$1}return++$1,new i(w0)}default:throw SyntaxError(`Unexpected token: ${M0.type}`)}}while($1<c.length)L1.body.push(d1());return L1}function w1(c,L1,$1=1){if(L1===void 0)L1=c,c=0;let O1=[];for(let I1=c;I1<L1;I1+=$1)O1.push(I1);return O1}function m1(c,L1,$1,O1=1){let I1=Math.sign(O1);if(I1>=0)L1=(L1??=0)<0?Math.max(c.length+L1,0):Math.min(L1,c.length),$1=($1??=c.length)<0?Math.max(c.length+$1,0):Math.min($1,c.length);else L1=(L1??=c.length-1)<0?Math.max(c.length+L1,-1):Math.min(L1,c.length-1),$1=($1??=-1)<-1?Math.max(c.length+$1,-1):Math.min($1,c.length-1);let d1=[];for(let B0=L1;I1*B0<I1*$1;B0+=O1)d1.push(c[B0]);return d1}function r1(c){return c.replace(/\b\w/g,(L1)=>L1.toUpperCase())}function h1(c){return G1(new Date,c)}function G1(c,L1){let $1=new Intl.DateTimeFormat(void 0,{month:"long"}),O1=new Intl.DateTimeFormat(void 0,{month:"short"}),I1=(d1)=>d1<10?"0"+d1:d1.toString();return L1.replace(/%[YmdbBHM%]/g,(d1)=>{switch(d1){case"%Y":return c.getFullYear().toString();case"%m":return I1(c.getMonth()+1);case"%d":return I1(c.getDate());case"%b":return O1.format(c);case"%B":return $1.format(c);case"%H":return I1(c.getHours());case"%M":return I1(c.getMinutes());case"%%":return"%";default:return d1}})}function a(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M1(c,L1,$1,O1){if(O1===0)return c;let I1=O1==null||O1<0?1/0:O1,d1=L1.length===0?new RegExp("(?=)","gu"):new RegExp(a(L1),"gu");return c.replaceAll(d1,(B0)=>{if(I1>0)return--I1,$1;return B0})}var D1=class extends Error{},g1=class extends Error{},u1=class{type="RuntimeValue";value;builtins=new Map;constructor(c=void 0){this.value=c}__bool__(){return new p1(!!this.value)}toString(){return String(this.value)}},C1=class extends u1{type="IntegerValue"},x1=class extends u1{type="FloatValue";toString(){return this.value%1===0?this.value.toFixed(1):this.value.toString()}},v1=class extends u1{type="StringValue";builtins=new Map([["upper",new N0(()=>{return new v1(this.value.toUpperCase())})],["lower",new N0(()=>{return new v1(this.value.toLowerCase())})],["strip",new N0(()=>{return new v1(this.value.trim())})],["title",new N0(()=>{return new v1(r1(this.value))})],["capitalize",new N0(()=>{return new v1(this.value.charAt(0).toUpperCase()+this.value.slice(1))})],["length",new C1(this.value.length)],["rstrip",new N0(()=>{return new v1(this.value.trimEnd())})],["lstrip",new N0(()=>{return new v1(this.value.trimStart())})],["startswith",new N0((c)=>{if(c.length===0)throw Error("startswith() requires at least one argument");let L1=c[0];if(L1 instanceof v1)return new p1(this.value.startsWith(L1.value));else if(L1 instanceof T1){for(let $1 of L1.value){if(!($1 instanceof v1))throw Error("startswith() tuple elements must be strings");if(this.value.startsWith($1.value))return new p1(!0)}return new p1(!1)}throw Error("startswith() argument must be a string or tuple of strings")})],["endswith",new N0((c)=>{if(c.length===0)throw Error("endswith() requires at least one argument");let L1=c[0];if(L1 instanceof v1)return new p1(this.value.endsWith(L1.value));else if(L1 instanceof T1){for(let $1 of L1.value){if(!($1 instanceof v1))throw Error("endswith() tuple elements must be strings");if(this.value.endsWith($1.value))return new p1(!0)}return new p1(!1)}throw Error("endswith() argument must be a string or tuple of strings")})],["split",new N0((c)=>{let L1=c[0]??new E0;if(!(L1 instanceof v1||L1 instanceof E0))throw Error("sep argument must be a string or null");let $1=c[1]??new C1(-1);if(!($1 instanceof C1))throw Error("maxsplit argument must be a number");let O1=[];if(L1 instanceof E0){let I1=this.value.trimStart();for(let{0:d1,index:B0}of I1.matchAll(/\S+/g)){if($1.value!==-1&&O1.length>=$1.value&&B0!==void 0){O1.push(d1+I1.slice(B0+d1.length));break}O1.push(d1)}}else{if(L1.value==="")throw Error("empty separator");if(O1=this.value.split(L1.value),$1.value!==-1&&O1.length>$1.value)O1.push(O1.splice($1.value).join(L1.value))}return new T1(O1.map((I1)=>new v1(I1)))})],["replace",new N0((c)=>{if(c.length<2)throw Error("replace() requires at least two arguments");let L1=c[0],$1=c[1];if(!(L1 instanceof v1&&$1 instanceof v1))throw Error("replace() arguments must be strings");let O1;if(c.length>2)if(c[2].type==="KeywordArgumentsValue")O1=c[2].value.get("count")??new E0;else O1=c[2];else O1=new E0;if(!(O1 instanceof C1||O1 instanceof E0))throw Error("replace() count argument must be a number or null");return new v1(M1(this.value,L1.value,$1.value,O1.value))})]])},p1=class extends u1{type="BooleanValue"},y1=class extends u1{type="ObjectValue";__bool__(){return new p1(this.value.size>0)}builtins=new Map([["get",new N0(([c,L1])=>{if(!(c instanceof v1))throw Error(`Object key must be a string: got ${c.type}`);return this.value.get(c.value)??L1??new E0})],["items",new N0(()=>this.items())],["keys",new N0(()=>this.keys())],["values",new N0(()=>this.values())]]);items(){return new T1(Array.from(this.value.entries()).map(([c,L1])=>new T1([new v1(c),L1])))}keys(){return new T1(Array.from(this.value.keys()).map((c)=>new v1(c)))}values(){return new T1(Array.from(this.value.values()))}},P1=class extends y1{type="KeywordArgumentsValue"},T1=class extends u1{type="ArrayValue";builtins=new Map([["length",new C1(this.value.length)]]);__bool__(){return new p1(this.value.length>0)}},j0=class extends T1{type="TupleValue"},N0=class extends u1{type="FunctionValue"},E0=class extends u1{type="NullValue"},H0=class extends u1{type="UndefinedValue"},A0=class{constructor(c){this.parent=c}variables=new Map([["namespace",new N0((c)=>{if(c.length===0)return new y1(new Map);if(c.length!==1||!(c[0]instanceof y1))throw Error("`namespace` expects either zero arguments or a single object argument");return c[0]})]]);tests=new Map([["boolean",(c)=>c.type==="BooleanValue"],["callable",(c)=>c instanceof N0],["odd",(c)=>{if(!(c instanceof C1))throw Error(`cannot odd on ${c.type}`);return c.value%2!==0}],["even",(c)=>{if(!(c instanceof C1))throw Error(`cannot even on ${c.type}`);return c.value%2===0}],["false",(c)=>c.type==="BooleanValue"&&!c.value],["true",(c)=>c.type==="BooleanValue"&&c.value],["none",(c)=>c.type==="NullValue"],["string",(c)=>c.type==="StringValue"],["number",(c)=>c instanceof C1||c instanceof x1],["integer",(c)=>c instanceof C1],["iterable",(c)=>c.type==="ArrayValue"||c.type==="StringValue"],["mapping",(c)=>c.type==="ObjectValue"],["lower",(c)=>{let L1=c.value;return c.type==="StringValue"&&L1===L1.toLowerCase()}],["upper",(c)=>{let L1=c.value;return c.type==="StringValue"&&L1===L1.toUpperCase()}],["none",(c)=>c.type==="NullValue"],["defined",(c)=>c.type!=="UndefinedValue"],["undefined",(c)=>c.type==="UndefinedValue"],["equalto",(c,L1)=>c.value===L1.value],["eq",(c,L1)=>c.value===L1.value]]);set(c,L1){return this.declareVariable(c,_0(L1))}declareVariable(c,L1){if(this.variables.has(c))throw SyntaxError(`Variable already declared: ${c}`);return this.variables.set(c,L1),L1}setVariable(c,L1){return this.variables.set(c,L1),L1}resolve(c){if(this.variables.has(c))return this;if(this.parent)return this.parent.resolve(c);throw Error(`Unknown variable: ${c}`)}lookupVariable(c){try{return this.resolve(c).variables.get(c)??new H0}catch{return new H0}}};function i0(c){c.set("false",!1),c.set("true",!0),c.set("none",null),c.set("raise_exception",(L1)=>{throw Error(L1)}),c.set("range",w1),c.set("strftime_now",h1),c.set("True",!0),c.set("False",!1),c.set("None",null)}var D0=class{global;constructor(c){this.global=c??new A0}run(c){return this.evaluate(c,this.global)}evaluateBinaryExpression(c,L1){let $1=this.evaluate(c.left,L1);switch(c.operator.value){case"and":return $1.__bool__().value?this.evaluate(c.right,L1):$1;case"or":return $1.__bool__().value?$1:this.evaluate(c.right,L1)}let O1=this.evaluate(c.right,L1);switch(c.operator.value){case"==":return new p1($1.value==O1.value);case"!=":return new p1($1.value!=O1.value)}if($1 instanceof H0||O1 instanceof H0){if(O1 instanceof H0&&["in","not in"].includes(c.operator.value))return new p1(c.operator.value==="not in");throw Error(`Cannot perform operation ${c.operator.value} on undefined values`)}else if($1 instanceof E0||O1 instanceof E0)throw Error("Cannot perform operation on null values");else if(c.operator.value==="~")return new v1($1.value.toString()+O1.value.toString());else if(($1 instanceof C1||$1 instanceof x1)&&(O1 instanceof C1||O1 instanceof x1)){let I1=$1.value,d1=O1.value;switch(c.operator.value){case"+":case"-":case"*":{let B0=c.operator.value==="+"?I1+d1:c.operator.value==="-"?I1-d1:I1*d1;return $1 instanceof x1||O1 instanceof x1?new x1(B0):new C1(B0)}case"/":return new x1(I1/d1);case"%":{let B0=I1%d1;return $1 instanceof x1||O1 instanceof x1?new x1(B0):new C1(B0)}case"<":return new p1(I1<d1);case">":return new p1(I1>d1);case">=":return new p1(I1>=d1);case"<=":return new p1(I1<=d1)}}else if($1 instanceof T1&&O1 instanceof T1)switch(c.operator.value){case"+":return new T1($1.value.concat(O1.value))}else if(O1 instanceof T1){let I1=O1.value.find((d1)=>d1.value===$1.value)!==void 0;switch(c.operator.value){case"in":return new p1(I1);case"not in":return new p1(!I1)}}if($1 instanceof v1||O1 instanceof v1)switch(c.operator.value){case"+":return new v1($1.value.toString()+O1.value.toString())}if($1 instanceof v1&&O1 instanceof v1)switch(c.operator.value){case"in":return new p1(O1.value.includes($1.value));case"not in":return new p1(!O1.value.includes($1.value))}if($1 instanceof v1&&O1 instanceof y1)switch(c.operator.value){case"in":return new p1(O1.value.has($1.value));case"not in":return new p1(!O1.value.has($1.value))}throw SyntaxError(`Unknown operator "${c.operator.value}" between ${$1.type} and ${O1.type}`)}evaluateArguments(c,L1){let $1=[],O1=new Map;for(let I1 of c)if(I1.type==="SpreadExpression"){let d1=I1,B0=this.evaluate(d1.argument,L1);if(!(B0 instanceof T1))throw Error(`Cannot unpack non-iterable type: ${B0.type}`);for(let n0 of B0.value)$1.push(n0)}else if(I1.type==="KeywordArgumentExpression"){let d1=I1;O1.set(d1.key.value,this.evaluate(d1.value,L1))}else{if(O1.size>0)throw Error("Positional arguments must come before keyword arguments");$1.push(this.evaluate(I1,L1))}return[$1,O1]}applyFilter(c,L1,$1){if(L1.type==="Identifier"){let O1=L1;if(O1.value==="tojson")return new v1(W2(c));if(c instanceof T1)switch(O1.value){case"list":return c;case"first":return c.value[0];case"last":return c.value[c.value.length-1];case"length":return new C1(c.value.length);case"reverse":return new T1(c.value.reverse());case"sort":return new T1(c.value.sort((I1,d1)=>{if(I1.type!==d1.type)throw Error(`Cannot compare different types: ${I1.type} and ${d1.type}`);switch(I1.type){case"IntegerValue":case"FloatValue":return I1.value-d1.value;case"StringValue":return I1.value.localeCompare(d1.value);default:throw Error(`Cannot compare type: ${I1.type}`)}}));case"join":return new v1(c.value.map((I1)=>I1.value).join(""));case"string":return new v1(W2(c));case"unique":{let I1=new Set,d1=[];for(let B0 of c.value)if(!I1.has(B0.value))I1.add(B0.value),d1.push(B0);return new T1(d1)}default:throw Error(`Unknown ArrayValue filter: ${O1.value}`)}else if(c instanceof v1)switch(O1.value){case"length":case"upper":case"lower":case"title":case"capitalize":{let I1=c.builtins.get(O1.value);if(I1 instanceof N0)return I1.value([],$1);else if(I1 instanceof C1)return I1;else throw Error(`Unknown StringValue filter: ${O1.value}`)}case"trim":return new v1(c.value.trim());case"indent":return new v1(c.value.split(`
`).map((I1,d1)=>d1===0||I1.length===0?I1:"    "+I1).join(`
`));case"join":case"string":return c;case"int":{let I1=parseInt(c.value,10);return new C1(isNaN(I1)?0:I1)}case"float":{let I1=parseFloat(c.value);return new x1(isNaN(I1)?0:I1)}default:throw Error(`Unknown StringValue filter: ${O1.value}`)}else if(c instanceof C1||c instanceof x1)switch(O1.value){case"abs":return c instanceof C1?new C1(Math.abs(c.value)):new x1(Math.abs(c.value));case"int":return new C1(Math.floor(c.value));case"float":return new x1(c.value);default:throw Error(`Unknown NumericValue filter: ${O1.value}`)}else if(c instanceof y1)switch(O1.value){case"items":return new T1(Array.from(c.value.entries()).map(([I1,d1])=>new T1([new v1(I1),d1])));case"length":return new C1(c.value.size);default:throw Error(`Unknown ObjectValue filter: ${O1.value}`)}else if(c instanceof p1)switch(O1.value){case"bool":return new p1(c.value);case"int":return new C1(c.value?1:0);case"float":return new x1(c.value?1:0);case"string":return new v1(c.value?"true":"false");default:throw Error(`Unknown BooleanValue filter: ${O1.value}`)}throw Error(`Cannot apply filter "${O1.value}" to type: ${c.type}`)}else if(L1.type==="CallExpression"){let O1=L1;if(O1.callee.type!=="Identifier")throw Error(`Unknown filter: ${O1.callee.type}`);let I1=O1.callee.value;if(I1==="tojson"){let[,d1]=this.evaluateArguments(O1.args,$1),B0=d1.get("indent")??new E0;if(!(B0 instanceof C1||B0 instanceof E0))throw Error("If set, indent must be a number");return new v1(W2(c,B0.value))}else if(I1==="join"){let d1;if(c instanceof v1)d1=Array.from(c.value);else if(c instanceof T1)d1=c.value.map((s1)=>s1.value);else throw Error(`Cannot apply filter "${I1}" to type: ${c.type}`);let[B0,n0]=this.evaluateArguments(O1.args,$1),Y2=B0.at(0)??n0.get("separator")??new v1("");if(!(Y2 instanceof v1))throw Error("separator must be a string");return new v1(d1.join(Y2.value))}else if(I1==="int"||I1==="float"){let[d1,B0]=this.evaluateArguments(O1.args,$1),n0=d1.at(0)??B0.get("default")??(I1==="int"?new C1(0):new x1(0));if(c instanceof v1){let Y2=I1==="int"?parseInt(c.value,10):parseFloat(c.value);return isNaN(Y2)?n0:I1==="int"?new C1(Y2):new x1(Y2)}else if(c instanceof C1||c instanceof x1)return c;else if(c instanceof p1)return I1==="int"?new C1(c.value?1:0):new x1(c.value?1:0);else throw Error(`Cannot apply filter "${I1}" to type: ${c.type}`)}else if(I1==="default"){let[d1,B0]=this.evaluateArguments(O1.args,$1),n0=d1[0]??new v1(""),Y2=d1[1]??B0.get("boolean")??new p1(!1);if(!(Y2 instanceof p1))throw Error("`default` filter flag must be a boolean");if(c instanceof H0||Y2.value&&!c.__bool__().value)return n0;return c}if(c instanceof T1){switch(I1){case"selectattr":case"rejectattr":{let d1=I1==="selectattr";if(c.value.some((j2)=>!(j2 instanceof y1)))throw Error(`\`${I1}\` can only be applied to array of objects`);if(O1.args.some((j2)=>j2.type!=="StringLiteral"))throw Error(`arguments of \`${I1}\` must be strings`);let[B0,n0,Y2]=O1.args.map((j2)=>this.evaluate(j2,$1)),s1;if(n0){let j2=$1.tests.get(n0.value);if(!j2)throw Error(`Unknown test: ${n0.value}`);s1=j2}else s1=(...j2)=>j2[0].__bool__().value;let d2=c.value.filter((j2)=>{let H4=j2.value.get(B0.value),a5=H4?s1(H4,Y2):!1;return d1?a5:!a5});return new T1(d2)}case"map":{let[,d1]=this.evaluateArguments(O1.args,$1);if(d1.has("attribute")){let B0=d1.get("attribute");if(!(B0 instanceof v1))throw Error("attribute must be a string");let n0=d1.get("default"),Y2=c.value.map((s1)=>{if(!(s1 instanceof y1))throw Error("items in map must be an object");return s1.value.get(B0.value)??n0??new H0});return new T1(Y2)}else throw Error("`map` expressions without `attribute` set are not currently supported.")}}throw Error(`Unknown ArrayValue filter: ${I1}`)}else if(c instanceof v1){switch(I1){case"indent":{let[d1,B0]=this.evaluateArguments(O1.args,$1),n0=d1.at(0)??B0.get("width")??new C1(4);if(!(n0 instanceof C1))throw Error("width must be a number");let Y2=d1.at(1)??B0.get("first")??new p1(!1),s1=d1.at(2)??B0.get("blank")??new p1(!1),d2=c.value.split(`
`),j2=" ".repeat(n0.value),H4=d2.map((a5,O7)=>!Y2.value&&O7===0||!s1.value&&a5.length===0?a5:j2+a5);return new v1(H4.join(`
`))}case"replace":{let d1=c.builtins.get("replace");if(!(d1 instanceof N0))throw Error("replace filter not available");let[B0,n0]=this.evaluateArguments(O1.args,$1);return d1.value([...B0,new P1(n0)],$1)}}throw Error(`Unknown StringValue filter: ${I1}`)}else throw Error(`Cannot apply filter "${I1}" to type: ${c.type}`)}throw Error(`Unknown filter: ${L1.type}`)}evaluateFilterExpression(c,L1){let $1=this.evaluate(c.operand,L1);return this.applyFilter($1,c.filter,L1)}evaluateTestExpression(c,L1){let $1=this.evaluate(c.operand,L1),O1=L1.tests.get(c.test.value);if(!O1)throw Error(`Unknown test: ${c.test.value}`);let I1=O1($1);return new p1(c.negate?!I1:I1)}evaluateSelectExpression(c,L1){if(!this.evaluate(c.test,L1).__bool__().value)return new H0;return this.evaluate(c.lhs,L1)}evaluateUnaryExpression(c,L1){let $1=this.evaluate(c.argument,L1);switch(c.operator.value){case"not":return new p1(!$1.value);default:throw SyntaxError(`Unknown operator: ${c.operator.value}`)}}evaluateTernaryExpression(c,L1){return this.evaluate(c.condition,L1).__bool__().value?this.evaluate(c.trueExpr,L1):this.evaluate(c.falseExpr,L1)}evalProgram(c,L1){return this.evaluateBlock(c.body,L1)}evaluateBlock(c,L1){let $1="";for(let O1 of c){let I1=this.evaluate(O1,L1);if(I1.type!=="NullValue"&&I1.type!=="UndefinedValue")$1+=I1.toString()}return new v1($1)}evaluateIdentifier(c,L1){return L1.lookupVariable(c.value)}evaluateCallExpression(c,L1){let[$1,O1]=this.evaluateArguments(c.args,L1);if(O1.size>0)$1.push(new P1(O1));let I1=this.evaluate(c.callee,L1);if(I1.type!=="FunctionValue")throw Error(`Cannot call something that is not a function: got ${I1.type}`);return I1.value($1,L1)}evaluateSliceExpression(c,L1,$1){if(!(c instanceof T1||c instanceof v1))throw Error("Slice object must be an array or string");let O1=this.evaluate(L1.start,$1),I1=this.evaluate(L1.stop,$1),d1=this.evaluate(L1.step,$1);if(!(O1 instanceof C1||O1 instanceof H0))throw Error("Slice start must be numeric or undefined");if(!(I1 instanceof C1||I1 instanceof H0))throw Error("Slice stop must be numeric or undefined");if(!(d1 instanceof C1||d1 instanceof H0))throw Error("Slice step must be numeric or undefined");if(c instanceof T1)return new T1(m1(c.value,O1.value,I1.value,d1.value));else return new v1(m1(Array.from(c.value),O1.value,I1.value,d1.value).join(""))}evaluateMemberExpression(c,L1){let $1=this.evaluate(c.object,L1),O1;if(c.computed)if(c.property.type==="SliceExpression")return this.evaluateSliceExpression($1,c.property,L1);else O1=this.evaluate(c.property,L1);else O1=new v1(c.property.value);let I1;if($1 instanceof y1){if(!(O1 instanceof v1))throw Error(`Cannot access property with non-string: got ${O1.type}`);I1=$1.value.get(O1.value)??$1.builtins.get(O1.value)}else if($1 instanceof T1||$1 instanceof v1)if(O1 instanceof C1){if(I1=$1.value.at(O1.value),$1 instanceof v1)I1=new v1($1.value.at(O1.value))}else if(O1 instanceof v1)I1=$1.builtins.get(O1.value);else throw Error(`Cannot access property with non-string/non-number: got ${O1.type}`);else{if(!(O1 instanceof v1))throw Error(`Cannot access property with non-string: got ${O1.type}`);I1=$1.builtins.get(O1.value)}return I1 instanceof u1?I1:new H0}evaluateSet(c,L1){let $1=c.value?this.evaluate(c.value,L1):this.evaluateBlock(c.body,L1);if(c.assignee.type==="Identifier"){let O1=c.assignee.value;L1.setVariable(O1,$1)}else if(c.assignee.type==="TupleLiteral"){let O1=c.assignee;if(!($1 instanceof T1))throw Error(`Cannot unpack non-iterable type in set: ${$1.type}`);let I1=$1.value;if(I1.length!==O1.value.length)throw Error(`Too ${O1.value.length>I1.length?"few":"many"} items to unpack in set`);for(let d1=0;d1<O1.value.length;++d1){let B0=O1.value[d1];if(B0.type!=="Identifier")throw Error(`Cannot unpack to non-identifier in set: ${B0.type}`);L1.setVariable(B0.value,I1[d1])}}else if(c.assignee.type==="MemberExpression"){let O1=c.assignee,I1=this.evaluate(O1.object,L1);if(!(I1 instanceof y1))throw Error("Cannot assign to member of non-object");if(O1.property.type!=="Identifier")throw Error("Cannot assign to member with non-identifier property");I1.value.set(O1.property.value,$1)}else throw Error(`Invalid LHS inside assignment expression: ${JSON.stringify(c.assignee)}`);return new E0}evaluateIf(c,L1){let $1=this.evaluate(c.test,L1);return this.evaluateBlock($1.__bool__().value?c.body:c.alternate,L1)}evaluateFor(c,L1){let $1=new A0(L1),O1,I1;if(c.iterable.type==="SelectExpression"){let s1=c.iterable;I1=this.evaluate(s1.lhs,$1),O1=s1.test}else I1=this.evaluate(c.iterable,$1);if(!(I1 instanceof T1||I1 instanceof y1))throw Error(`Expected iterable or object type in for loop: got ${I1.type}`);if(I1 instanceof y1)I1=I1.keys();let d1=[],B0=[];for(let s1=0;s1<I1.value.length;++s1){let d2=new A0($1),j2=I1.value[s1],H4;if(c.loopvar.type==="Identifier")H4=(a5)=>a5.setVariable(c.loopvar.value,j2);else if(c.loopvar.type==="TupleLiteral"){let a5=c.loopvar;if(j2.type!=="ArrayValue")throw Error(`Cannot unpack non-iterable type: ${j2.type}`);let O7=j2;if(a5.value.length!==O7.value.length)throw Error(`Too ${a5.value.length>O7.value.length?"few":"many"} items to unpack`);H4=(P4)=>{for(let X7=0;X7<a5.value.length;++X7){if(a5.value[X7].type!=="Identifier")throw Error(`Cannot unpack non-identifier type: ${a5.value[X7].type}`);P4.setVariable(a5.value[X7].value,O7.value[X7])}}}else throw Error(`Invalid loop variable(s): ${c.loopvar.type}`);if(O1){if(H4(d2),!this.evaluate(O1,d2).__bool__().value)continue}d1.push(j2),B0.push(H4)}let n0="",Y2=!0;for(let s1=0;s1<d1.length;++s1){let d2=new Map([["index",new C1(s1+1)],["index0",new C1(s1)],["revindex",new C1(d1.length-s1)],["revindex0",new C1(d1.length-s1-1)],["first",new p1(s1===0)],["last",new p1(s1===d1.length-1)],["length",new C1(d1.length)],["previtem",s1>0?d1[s1-1]:new H0],["nextitem",s1<d1.length-1?d1[s1+1]:new H0]]);$1.setVariable("loop",new y1(d2)),B0[s1]($1);try{let j2=this.evaluateBlock(c.body,$1);n0+=j2.value}catch(j2){if(j2 instanceof g1)continue;if(j2 instanceof D1)break;throw j2}Y2=!1}if(Y2){let s1=this.evaluateBlock(c.defaultBlock,$1);n0+=s1.value}return new v1(n0)}evaluateMacro(c,L1){return L1.setVariable(c.name.value,new N0(($1,O1)=>{let I1=new A0(O1);$1=$1.slice();let d1;if($1.at(-1)?.type==="KeywordArgumentsValue")d1=$1.pop();for(let B0=0;B0<c.args.length;++B0){let n0=c.args[B0],Y2=$1[B0];if(n0.type==="Identifier"){let s1=n0;if(!Y2)throw Error(`Missing positional argument: ${s1.value}`);I1.setVariable(s1.value,Y2)}else if(n0.type==="KeywordArgumentExpression"){let s1=n0,d2=Y2??d1?.value.get(s1.key.value)??this.evaluate(s1.value,I1);I1.setVariable(s1.key.value,d2)}else throw Error(`Unknown argument type: ${n0.type}`)}return this.evaluateBlock(c.body,I1)})),new E0}evaluateCallStatement(c,L1){let $1=new N0((n0,Y2)=>{let s1=new A0(Y2);if(c.callerArgs)for(let d2=0;d2<c.callerArgs.length;++d2){let j2=c.callerArgs[d2];if(j2.type!=="Identifier")throw Error(`Caller parameter must be an identifier, got ${j2.type}`);s1.setVariable(j2.value,n0[d2]??new H0)}return this.evaluateBlock(c.body,s1)}),[O1,I1]=this.evaluateArguments(c.call.args,L1);O1.push(new P1(I1));let d1=this.evaluate(c.call.callee,L1);if(d1.type!=="FunctionValue")throw Error(`Cannot call something that is not a function: got ${d1.type}`);let B0=new A0(L1);return B0.setVariable("caller",$1),d1.value(O1,B0)}evaluateFilterStatement(c,L1){let $1=this.evaluateBlock(c.body,L1);return this.applyFilter($1,c.filter,L1)}evaluate(c,L1){if(!c)return new H0;switch(c.type){case"Program":return this.evalProgram(c,L1);case"Set":return this.evaluateSet(c,L1);case"If":return this.evaluateIf(c,L1);case"For":return this.evaluateFor(c,L1);case"Macro":return this.evaluateMacro(c,L1);case"CallStatement":return this.evaluateCallStatement(c,L1);case"Break":throw new D1;case"Continue":throw new g1;case"IntegerLiteral":return new C1(c.value);case"FloatLiteral":return new x1(c.value);case"StringLiteral":return new v1(c.value);case"ArrayLiteral":return new T1(c.value.map(($1)=>this.evaluate($1,L1)));case"TupleLiteral":return new j0(c.value.map(($1)=>this.evaluate($1,L1)));case"ObjectLiteral":{let $1=new Map;for(let[O1,I1]of c.value){let d1=this.evaluate(O1,L1);if(!(d1 instanceof v1))throw Error(`Object keys must be strings: got ${d1.type}`);$1.set(d1.value,this.evaluate(I1,L1))}return new y1($1)}case"Identifier":return this.evaluateIdentifier(c,L1);case"CallExpression":return this.evaluateCallExpression(c,L1);case"MemberExpression":return this.evaluateMemberExpression(c,L1);case"UnaryExpression":return this.evaluateUnaryExpression(c,L1);case"BinaryExpression":return this.evaluateBinaryExpression(c,L1);case"FilterExpression":return this.evaluateFilterExpression(c,L1);case"FilterStatement":return this.evaluateFilterStatement(c,L1);case"TestExpression":return this.evaluateTestExpression(c,L1);case"SelectExpression":return this.evaluateSelectExpression(c,L1);case"Ternary":return this.evaluateTernaryExpression(c,L1);case"Comment":return new E0;default:throw SyntaxError(`Unknown node type: ${c.type}`)}}};function _0(c){switch(typeof c){case"number":return Number.isInteger(c)?new C1(c):new x1(c);case"string":return new v1(c);case"boolean":return new p1(c);case"undefined":return new H0;case"object":if(c===null)return new E0;else if(Array.isArray(c))return new T1(c.map(_0));else return new y1(new Map(Object.entries(c).map(([L1,$1])=>[L1,_0($1)])));case"function":return new N0((L1,$1)=>{let O1=c(...L1.map((I1)=>I1.value))??null;return _0(O1)});default:throw Error(`Cannot convert to runtime value: ${c}`)}}function W2(c,L1,$1){let O1=$1??0;switch(c.type){case"NullValue":case"UndefinedValue":return"null";case"IntegerValue":case"FloatValue":case"StringValue":case"BooleanValue":return JSON.stringify(c.value);case"ArrayValue":case"ObjectValue":{let I1=L1?" ".repeat(L1):"",d1=`
`+I1.repeat(O1),B0=d1+I1;if(c.type==="ArrayValue"){let n0=c.value.map((Y2)=>W2(Y2,L1,O1+1));return L1?`[${B0}${n0.join(`,${B0}`)}${d1}]`:`[${n0.join(", ")}]`}else{let n0=Array.from(c.value.entries()).map(([Y2,s1])=>{let d2=`"${Y2}": ${W2(s1,L1,O1+1)}`;return L1?`${B0}${d2}`:d2});return L1?`{${n0.join(",")}${d1}}`:`{${n0.join(", ")}}`}}default:throw Error(`Cannot convert to JSON: ${c.type}`)}}var Z2=`
`,t2="{%- ",Y1=" -%}";function N1(c){switch(c.operator.type){case"MultiplicativeBinaryOperator":return 4;case"AdditiveBinaryOperator":return 3;case"ComparisonBinaryOperator":return 2;case"Identifier":if(c.operator.value==="and")return 1;if(c.operator.value==="in"||c.operator.value==="not in")return 2;return 0}return 0}function Q0(c,L1="\t"){let $1=typeof L1==="number"?" ".repeat(L1):L1;return g0(c.body,0,$1).replace(/\n$/,"")}function Z0(...c){return t2+c.join(" ")+Y1}function g0(c,L1,$1){return c.map((O1)=>M2(O1,L1,$1)).join(Z2)}function M2(c,L1,$1){let O1=$1.repeat(L1);switch(c.type){case"Program":return g0(c.body,L1,$1);case"If":return _2(c,L1,$1);case"For":return e2(c,L1,$1);case"Set":return I2(c,L1,$1);case"Macro":return t0(c,L1,$1);case"Break":return O1+Z0("break");case"Continue":return O1+Z0("continue");case"CallStatement":return S4(c,L1,$1);case"FilterStatement":return T4(c,L1,$1);case"Comment":return O1+"{# "+c.value+" #}";default:return O1+"{{- "+z0(c)+" -}}"}}function _2(c,L1,$1){let O1=$1.repeat(L1),I1=[],d1=c;while(d1)if(I1.push({test:d1.test,body:d1.body}),d1.alternate.length===1&&d1.alternate[0].type==="If")d1=d1.alternate[0];else break;let B0=O1+Z0("if",z0(I1[0].test))+Z2+g0(I1[0].body,L1+1,$1);for(let n0=1;n0<I1.length;++n0)B0+=Z2+O1+Z0("elif",z0(I1[n0].test))+Z2+g0(I1[n0].body,L1+1,$1);if(d1&&d1.alternate.length>0)B0+=Z2+O1+Z0("else")+Z2+g0(d1.alternate,L1+1,$1);return B0+=Z2+O1+Z0("endif"),B0}function e2(c,L1,$1){let O1=$1.repeat(L1),I1="";if(c.iterable.type==="SelectExpression"){let B0=c.iterable;I1=`${z0(B0.lhs)} if ${z0(B0.test)}`}else I1=z0(c.iterable);let d1=O1+Z0("for",z0(c.loopvar),"in",I1)+Z2+g0(c.body,L1+1,$1);if(c.defaultBlock.length>0)d1+=Z2+O1+Z0("else")+Z2+g0(c.defaultBlock,L1+1,$1);return d1+=Z2+O1+Z0("endfor"),d1}function I2(c,L1,$1){let O1=$1.repeat(L1),I1=z0(c.assignee),d1=c.value?z0(c.value):"",B0=O1+Z0("set",`${I1}${c.value?" = "+d1:""}`);if(c.body.length===0)return B0;return B0+Z2+g0(c.body,L1+1,$1)+Z2+O1+Z0("endset")}function t0(c,L1,$1){let O1=$1.repeat(L1),I1=c.args.map(z0).join(", ");return O1+Z0("macro",`${c.name.value}(${I1})`)+Z2+g0(c.body,L1+1,$1)+Z2+O1+Z0("endmacro")}function S4(c,L1,$1){let O1=$1.repeat(L1),I1=c.callerArgs&&c.callerArgs.length>0?`(${c.callerArgs.map(z0).join(", ")})`:"",d1=z0(c.call),B0=O1+Z0(`call${I1}`,d1)+Z2;return B0+=g0(c.body,L1+1,$1)+Z2,B0+=O1+Z0("endcall"),B0}function T4(c,L1,$1){let O1=$1.repeat(L1),I1=c.filter.type==="Identifier"?c.filter.value:z0(c.filter),d1=O1+Z0("filter",I1)+Z2;return d1+=g0(c.body,L1+1,$1)+Z2,d1+=O1+Z0("endfilter"),d1}function z0(c,L1=-1){switch(c.type){case"SpreadExpression":return`*${z0(c.argument)}`;case"Identifier":return c.value;case"IntegerLiteral":return`${c.value}`;case"FloatLiteral":return`${c.value}`;case"StringLiteral":return JSON.stringify(c.value);case"BinaryExpression":{let $1=c,O1=N1($1),I1=z0($1.left,O1),d1=z0($1.right,O1+1),B0=`${I1} ${$1.operator.value} ${d1}`;return O1<L1?`(${B0})`:B0}case"UnaryExpression":{let $1=c;return $1.operator.value+($1.operator.value==="not"?" ":"")+z0($1.argument,1/0)}case"CallExpression":{let $1=c,O1=$1.args.map(z0).join(", ");return`${z0($1.callee)}(${O1})`}case"MemberExpression":{let $1=c,O1=z0($1.object);if(!["Identifier","MemberExpression","CallExpression","StringLiteral","IntegerLiteral","FloatLiteral","ArrayLiteral","TupleLiteral","ObjectLiteral"].includes($1.object.type))O1=`(${O1})`;let I1=z0($1.property);if(!$1.computed&&$1.property.type!=="Identifier")I1=`(${I1})`;return $1.computed?`${O1}[${I1}]`:`${O1}.${I1}`}case"FilterExpression":{let $1=c,O1=z0($1.operand,1/0);if($1.filter.type==="CallExpression")return`${O1} | ${z0($1.filter)}`;return`${O1} | ${$1.filter.value}`}case"SelectExpression":{let $1=c;return`${z0($1.lhs)} if ${z0($1.test)}`}case"TestExpression":{let $1=c;return`${z0($1.operand)} is${$1.negate?" not":""} ${$1.test.value}`}case"ArrayLiteral":case"TupleLiteral":{let $1=c.value.map(z0),O1=c.type==="ArrayLiteral"?"[]":"()";return`${O1[0]}${$1.join(", ")}${O1[1]}`}case"ObjectLiteral":return`{${Array.from(c.value.entries()).map(([O1,I1])=>`${z0(O1)}: ${z0(I1)}`).join(", ")}}`;case"SliceExpression":{let $1=c,O1=$1.start?z0($1.start):"",I1=$1.stop?z0($1.stop):"",d1=$1.step?`:${z0($1.step)}`:"";return`${O1}:${I1}${d1}`}case"KeywordArgumentExpression":{let $1=c;return`${$1.key.value}=${z0($1.value)}`}case"Ternary":{let $1=c,O1=`${z0($1.trueExpr)} if ${z0($1.condition,0)} else ${z0($1.falseExpr)}`;return L1>-1?`(${O1})`:O1}default:throw Error(`Unknown expression type: ${c.type}`)}}var L7=class{parsed;constructor(c){let L1=O(c,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=V1(L1)}render(c){let L1=new A0;if(i0(L1),c)for(let[I1,d1]of Object.entries(c))L1.set(I1,d1);return new D0(L1).run(this.parsed).value}format(c){return Q0(this.parsed,c?.indent||"\t")}}},"./src/backends/onnx.js":(J,Z,Q)=>{/*!******************************!*\
  !*** ./src/backends/onnx.js ***!
  \******************************/var Y;Q.r(Z),Q.d(Z,{Tensor:()=>B.Tensor,createInferenceSession:()=>j,deviceToExecutionProviders:()=>A,isONNXProxy:()=>E,isONNXTensor:()=>I,runInferenceSession:()=>C});var $=Q("./src/env.js");/*! ../env.js */var H=Q("?2ce3");/*! onnxruntime-node */var K=Q("onnxruntime-web");/*! onnxruntime-web */var B=Q("onnxruntime-common");/*! onnxruntime-common */let q=Object.freeze({auto:null,gpu:null,cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:{name:"webnn",deviceType:"cpu"},"webnn-npu":{name:"webnn",deviceType:"npu"},"webnn-gpu":{name:"webnn",deviceType:"gpu"},"webnn-cpu":{name:"webnn",deviceType:"cpu"}}),L=[],O,z,F=Symbol.for("onnxruntime");if(F in globalThis)z=globalThis[F];else if($.apis.IS_NODE_ENV){switch(z=H??(Y||(Y=Q.t(H,2))),process.platform){case"win32":L.push("dml");break;case"linux":if(process.arch==="x64")L.push("cuda");break;case"darwin":break}L.push("cpu"),O=["cpu"]}else{if(z=K,$.apis.IS_WEBNN_AVAILABLE)L.push("webnn-npu","webnn-gpu","webnn-cpu","webnn");if($.apis.IS_WEBGPU_AVAILABLE)L.push("webgpu");L.push("wasm"),O=["wasm"]}let V=z.InferenceSession;function A(k=null){if(!k)return O;switch(k){case"auto":return L;case"gpu":return L.filter((T)=>["webgpu","cuda","dml","webnn-gpu"].includes(T))}if(L.includes(k))return[q[k]??k];throw Error(`Unsupported device: "${k}". Should be one of: ${L.join(", ")}.`)}let M=null;async function j(k,T,S){if(M)await M;let d=V.create(k,T);M??=d;let o=await d;return o.config=S,o}let D=Promise.resolve(),w=$.apis.IS_BROWSER_ENV||$.apis.IS_WEBWORKER_ENV;async function C(k,T){let S=()=>k.run(T);return await(w?D=D.then(S):S())}function I(k){return k instanceof z.Tensor}let b=z?.env;if(b?.wasm){if(!(typeof ServiceWorkerGlobalScope<"u"&&self instanceof ServiceWorkerGlobalScope)&&!b.wasm.wasmPaths)b.wasm.wasmPaths=`https://cdn.jsdelivr.net/npm/@huggingface/transformers@${$.env.version}/dist/`;b.wasm.proxy=!1}if(b?.webgpu)b.webgpu.powerPreference="high-performance";function E(){return b?.wasm?.proxy}$.env.backends.onnx=b},"./src/base/feature_extraction_utils.js":(J,Z,Q)=>{/*!**********************************************!*\
  !*** ./src/base/feature_extraction_utils.js ***!
  \**********************************************/Q.r(Z),Q.d(Z,{FeatureExtractor:()=>K,validate_audio_inputs:()=>B});var Y=Q("./src/utils/constants.js");/*! ../utils/constants.js */var $=Q("./src/utils/generic.js");/*! ../utils/generic.js */var H=Q("./src/utils/hub.js");/*! ../utils/hub.js */class K extends $.Callable{constructor(q){super();this.config=q}static async from_pretrained(q,L={}){let O=await(0,H.getModelJSON)(q,Y.FEATURE_EXTRACTOR_NAME,!0,L);return new this(O)}}function B(q,L){if(!(q instanceof Float32Array||q instanceof Float64Array))throw Error(`${L} expects input to be a Float32Array or a Float64Array, but got ${q?.constructor?.name??typeof q} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}},"./src/base/image_processors_utils.js":(J,Z,Q)=>{/*!********************************************!*\
  !*** ./src/base/image_processors_utils.js ***!
  \********************************************/Q.r(Z),Q.d(Z,{ImageProcessor:()=>b,center_to_corners_format:()=>F,post_process_instance_segmentation:()=>I,post_process_object_detection:()=>V,post_process_panoptic_segmentation:()=>C,post_process_semantic_segmentation:()=>A});var Y=Q("./src/utils/generic.js");/*! ../utils/generic.js */var $=Q("./src/utils/tensor.js");/*! ../utils/tensor.js */var H=Q("./src/utils/maths.js");/*! ../utils/maths.js */var K=Q("./src/utils/image.js");/*! ../utils/image.js */var B=Q("./src/utils/core.js");/*! ../utils/core.js */var q=Q("./src/utils/hub.js");/*! ../utils/hub.js */var L=Q("./src/utils/constants.js");/*! ../utils/constants.js */function O(E,k,T=0,S=null){let d=E/k,o=(0,H.bankers_round)(d)*k;if(S!==null&&o>S)o=Math.floor(d)*k;if(o<T)o=Math.ceil(d)*k;return o}function z([E,k],T){return[Math.max(Math.floor(E/T),1)*T,Math.max(Math.floor(k/T),1)*T]}function F([E,k,T,S]){return[E-T/2,k-S/2,E+T/2,k+S/2]}function V(E,k=0.5,T=null,S=!1){let{logits:d,pred_boxes:o}=E,[v,y,i]=d.dims;if(T!==null&&T.length!==v)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let p=[];for(let l=0;l<v;++l){let t=T!==null?T[l]:null,Q1={boxes:[],classes:[],scores:[]},m=d[l],K1=o[l];for(let g=0;g<y;++g){let n=m[g],Z1=[],J1;if(S){J1=n.sigmoid().data;for(let z1=0;z1<J1.length;++z1)if(J1[z1]>k)Z1.push(z1)}else{let z1=(0,H.max)(n.data)[1];if(z1===i-1)continue;if(J1=(0,H.softmax)(n.data),J1[z1]<k)continue;Z1.push(z1)}for(let z1 of Z1){let V1=K1[g].data;if(V1=F(V1),t!==null)V1=V1.map((w1,m1)=>w1*t[(m1+1)%2]);Q1.boxes.push(V1),Q1.classes.push(z1),Q1.scores.push(J1[z1])}}p.push(Q1)}return p}function A(E,k=null){let T=E.logits,S=T.dims[0];if(k!==null&&k.length!==S)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let o=0;o<S;++o){let v=k!==null?k[o]:null,y=T[o];if(v!==null)y=(0,$.interpolate)(y,v,"bilinear",!1);let[i,p]=v??y.dims.slice(-2),l=new $.Tensor("int32",new Int32Array(i*p),[i,p]),t=y[0].data,Q1=l.data;for(let g=1;g<y.dims[0];++g){let n=y[g].data;for(let Z1=0;Z1<n.length;++Z1)if(n[Z1]>t[Z1])t[Z1]=n[Z1],Q1[Z1]=g}let m=Array(y.dims[0]);for(let g=0;g<Q1.length;++g){let n=Q1[g];m[n]=n}let K1=m.filter((g)=>g!==void 0);d.push({segmentation:l,labels:K1})}return d}function M(E,k,T,S){let d=[],o=[],v=[];for(let y=0;y<E.dims[0];++y){let i=E[y],p=k[y],l=(0,H.max)(i.data)[1];if(l===S)continue;let Q1=(0,H.softmax)(i.data)[l];if(Q1>T)d.push(p),o.push(Q1),v.push(l)}return[d,o,v]}function j(E,k,T,S=0.5,d=0.8){let o=[],v=0,y=0,i=k[T].data;for(let l=0;l<E.length;++l){if(E[l]===T)o.push(l),++v;if(i[l]>=S)++y}let p=v>0&&y>0;if(p)p=v/y>d;return[p,o]}function D(E,k,T,S,d,o=null,v=null){let[y,i]=v??E[0].dims,p=new $.Tensor("int32",new Int32Array(y*i),[y,i]),l=[];if(v!==null)for(let g=0;g<E.length;++g)E[g]=(0,$.interpolate)(E[g],v,"bilinear",!1);let t=new Int32Array(E[0].data.length),Q1=new Float32Array(E[0].data.length);for(let g=0;g<E.length;++g){let n=k[g],Z1=E[g].data;for(let J1=0;J1<Z1.length;++J1)if(Z1[J1]*=n,Z1[J1]>Q1[J1])t[J1]=g,Q1[J1]=Z1[J1]}let m=0,K1=p.data;for(let g=0;g<T.length;++g){let n=T[g],[Z1,J1]=j(t,E,g,S,d);if(!Z1)continue;++m;for(let z1 of J1)K1[z1]=m;l.push({id:m,label_id:n,score:k[g]})}return[p,l]}function w(E,k,T=28,S=3136,d=1003520){if(E<T||k<T)throw Error(`height:${E} or width:${k} must be larger than factor:${T}`);else if(Math.max(E,k)/Math.min(E,k)>200)throw Error(`absolute aspect ratio must be smaller than 200, got ${Math.max(E,k)/Math.min(E,k)}`);let o=Math.round(E/T)*T,v=Math.round(k/T)*T;if(o*v>d){let y=Math.sqrt(E*k/d);o=Math.floor(E/y/T)*T,v=Math.floor(k/y/T)*T}else if(o*v<S){let y=Math.sqrt(S/(E*k));o=Math.ceil(E*y/T)*T,v=Math.ceil(k*y/T)*T}return[o,v]}function C(E,k=0.5,T=0.5,S=0.8,d=null,o=null){if(d===null)console.warn("`label_ids_to_fuse` unset. No instance will be fused."),d=new Set;let v=E.class_queries_logits??E.logits,i=(E.masks_queries_logits??E.pred_masks).sigmoid(),[p,l,t]=v.dims;if(t-=1,o!==null&&o.length!==p)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let Q1=[];for(let m=0;m<p;++m){let K1=o!==null?o[m]:null,g=v[m],n=i[m],[Z1,J1,z1]=M(g,n,k,t);if(z1.length===0){let[m1,r1]=K1??n.dims.slice(-2),h1=new $.Tensor("int32",new Int32Array(m1*r1).fill(-1),[m1,r1]);Q1.push({segmentation:h1,segments_info:[]});continue}let[V1,w1]=D(Z1,J1,z1,T,S,d,K1);Q1.push({segmentation:V1,segments_info:w1})}return Q1}function I(E,k=0.5,T=null){throw Error("`post_process_instance_segmentation` is not yet implemented.")}class b extends Y.Callable{constructor(E){super();if(this.image_mean=E.image_mean??E.mean,this.image_std=E.image_std??E.std,this.resample=E.resample??2,this.do_rescale=E.do_rescale??!0,this.rescale_factor=E.rescale_factor??0.00392156862745098,this.do_normalize=E.do_normalize,this.do_thumbnail=E.do_thumbnail,this.size=E.size??E.image_size,this.do_resize=E.do_resize??this.size!==void 0,this.size_divisibility=E.size_divisibility??E.size_divisor,this.do_center_crop=E.do_center_crop,this.crop_size=E.crop_size,this.do_convert_rgb=E.do_convert_rgb??!0,this.do_crop_margin=E.do_crop_margin,this.pad_size=E.pad_size,this.do_pad=E.do_pad,this.min_pixels=E.min_pixels,this.max_pixels=E.max_pixels,this.do_pad&&!this.pad_size&&this.size&&this.size.width!==void 0&&this.size.height!==void 0)this.pad_size=this.size;this.do_flip_channel_order=E.do_flip_channel_order??!1,this.config=E}async thumbnail(E,k,T=2){let{height:S,width:d}=E,o=k.height,v=k.width,y=Math.min(S,o),i=Math.min(d,v);if(y===S&&i===d)return E;if(S>d)i=Math.floor(d*y/S);else if(d>S)y=Math.floor(S*i/d);return await E.resize(i,y,{resample:T})}async crop_margin(E,k=200){let T=E.clone().grayscale(),S=(0,H.min)(T.data)[0],o=(0,H.max)(T.data)[0]-S;if(o===0)return E;let v=k/255,y=T.width,i=T.height,p=0,l=0,t=T.data;for(let Q1=0;Q1<T.height;++Q1){let m=Q1*T.width;for(let K1=0;K1<T.width;++K1)if((t[m+K1]-S)/o<v)y=Math.min(y,K1),i=Math.min(i,Q1),p=Math.max(p,K1),l=Math.max(l,Q1)}return E=await E.crop([y,i,p,l]),E}pad_image(E,k,T,{mode:S="constant",center:d=!1,constant_values:o=0}={}){let[v,y,i]=k,p,l;if(typeof T==="number")p=T,l=T;else if(T==="square")p=l=Math.max(v,y);else p=T.width,l=T.height;if(p!==y||l!==v){let t=new Float32Array(p*l*i);if(Array.isArray(o))for(let K1=0;K1<t.length;++K1)t[K1]=o[K1%i];else if(o!==0)t.fill(o);let[Q1,m]=d?[Math.floor((p-y)/2),Math.floor((l-v)/2)]:[0,0];for(let K1=0;K1<v;++K1){let g=(K1+m)*p,n=K1*y;for(let Z1=0;Z1<y;++Z1){let J1=(g+Z1+Q1)*i,z1=(n+Z1)*i;for(let V1=0;V1<i;++V1)t[J1+V1]=E[z1+V1]}}if(S==="symmetric"){if(d)throw Error("`center` padding is not supported when `mode` is set to `symmetric`.");let K1=v-1,g=y-1;for(let n=0;n<l;++n){let Z1=n*p,J1=(0,B.calculateReflectOffset)(n,K1)*y;for(let z1=0;z1<p;++z1){if(n<v&&z1<y)continue;let V1=(Z1+z1)*i,w1=(J1+(0,B.calculateReflectOffset)(z1,g))*i;for(let m1=0;m1<i;++m1)t[V1+m1]=E[w1+m1]}}}E=t,k=[l,p,i]}return[E,k]}rescale(E){for(let k=0;k<E.length;++k)E[k]=this.rescale_factor*E[k]}get_resize_output_image_size(E,k){let[T,S]=E.size,d,o;if(this.do_thumbnail){let{height:v,width:y}=k;d=Math.min(v,y)}else if(Number.isInteger(k))d=k,o=this.config.max_size??d;else if(k!==void 0)d=k.shortest_edge,o=k.longest_edge;if(d!==void 0||o!==void 0){let v=d===void 0?1:Math.max(d/T,d/S),y=T*v,i=S*v,p=o===void 0?1:Math.min(o/y,o/i),l=Math.floor(Number((y*p).toFixed(2))),t=Math.floor(Number((i*p).toFixed(2)));if(this.size_divisibility!==void 0)[l,t]=z([l,t],this.size_divisibility);return[l,t]}else if(k!==void 0&&k.width!==void 0&&k.height!==void 0){let{width:v,height:y}=k;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let i=y/S,p=v/T;if(Math.abs(1-p)<Math.abs(1-i))i=p;else p=i;y=O(i*S,this.config.ensure_multiple_of),v=O(p*T,this.config.ensure_multiple_of)}return[v,y]}else if(this.size_divisibility!==void 0)return z([T,S],this.size_divisibility);else if(this.min_pixels!==void 0&&this.max_pixels!==void 0){let v=this.config.patch_size*this.config.merge_size;return w(S,T,v,this.min_pixels,this.max_pixels)}else throw Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(k)}`)}async resize(E){let[k,T]=this.get_resize_output_image_size(E,this.size);return await E.resize(k,T,{resample:this.resample})}async preprocess(E,{do_normalize:k=null,do_pad:T=null,do_convert_rgb:S=null,do_convert_grayscale:d=null,do_flip_channel_order:o=null}={}){if(this.do_crop_margin)E=await this.crop_margin(E);let[v,y]=E.size;if(S??this.do_convert_rgb)E=E.rgb();else if(d)E=E.grayscale();if(this.do_resize)E=await this.resize(E);if(this.do_thumbnail)E=await this.thumbnail(E,this.size,this.resample);if(this.do_center_crop){let Q1,m;if(Number.isInteger(this.crop_size))Q1=this.crop_size,m=this.crop_size;else Q1=this.crop_size.width,m=this.crop_size.height;E=await E.center_crop(Q1,m)}let i=[E.height,E.width],p=Float32Array.from(E.data),l=[E.height,E.width,E.channels];if(this.do_rescale)this.rescale(p);if(k??this.do_normalize){let Q1=this.image_mean;if(!Array.isArray(this.image_mean))Q1=Array(E.channels).fill(Q1);let m=this.image_std;if(!Array.isArray(this.image_std))m=Array(E.channels).fill(Q1);if(Q1.length!==E.channels||m.length!==E.channels)throw Error(`When set to arrays, the length of \`image_mean\` (${Q1.length}) and \`image_std\` (${m.length}) must match the number of channels in the image (${E.channels}).`);for(let K1=0;K1<p.length;K1+=E.channels)for(let g=0;g<E.channels;++g)p[K1+g]=(p[K1+g]-Q1[g])/m[g]}if(T??this.do_pad){if(this.pad_size)[p,l]=this.pad_image(p,[E.height,E.width,E.channels],this.pad_size);else if(this.size_divisibility){let[Q1,m]=z([l[1],l[0]],this.size_divisibility);[p,l]=this.pad_image(p,l,{width:Q1,height:m})}}if(o??this.do_flip_channel_order){if(l[2]!==3)throw Error("Flipping channel order is only supported for RGB images.");for(let Q1=0;Q1<p.length;Q1+=3){let m=p[Q1];p[Q1]=p[Q1+2],p[Q1+2]=m}}let t=new $.Tensor("float32",p,l).permute(2,0,1);return{original_size:[y,v],reshaped_input_size:i,pixel_values:t}}async _call(E,...k){if(!Array.isArray(E))E=[E];let T=await Promise.all(E.map((d)=>this.preprocess(d)));return{pixel_values:(0,$.stack)(T.map((d)=>d.pixel_values),0),original_sizes:T.map((d)=>d.original_size),reshaped_input_sizes:T.map((d)=>d.reshaped_input_size)}}static async from_pretrained(E,k={}){let T=await(0,q.getModelJSON)(E,L.IMAGE_PROCESSOR_NAME,!0,k);return new this(T)}}},"./src/base/processing_utils.js":(J,Z,Q)=>{/*!**************************************!*\
  !*** ./src/base/processing_utils.js ***!
  \**************************************/Q.r(Z),Q.d(Z,{Processor:()=>K});var Y=Q("./src/utils/constants.js");/*! ../utils/constants.js */var $=Q("./src/utils/generic.js");/*! ../utils/generic.js */var H=Q("./src/utils/hub.js");/*! ../utils/hub.js */class K extends $.Callable{static classes=["image_processor_class","tokenizer_class","feature_extractor_class"];static uses_processor_config=!1;static uses_chat_template_file=!1;constructor(B,q,L){super();this.config=B,this.components=q,this.chat_template=L}get image_processor(){return this.components.image_processor}get tokenizer(){return this.components.tokenizer}get feature_extractor(){return this.components.feature_extractor}apply_chat_template(B,q={}){if(!this.tokenizer)throw Error("Unable to apply chat template without a tokenizer.");return this.tokenizer.apply_chat_template(B,{tokenize:!1,chat_template:this.chat_template??void 0,...q})}batch_decode(...B){if(!this.tokenizer)throw Error("Unable to decode without a tokenizer.");return this.tokenizer.batch_decode(...B)}decode(...B){if(!this.tokenizer)throw Error("Unable to decode without a tokenizer.");return this.tokenizer.decode(...B)}async _call(B,...q){for(let L of[this.image_processor,this.feature_extractor,this.tokenizer])if(L)return L(B,...q);throw Error("No image processor, feature extractor, or tokenizer found.")}static async from_pretrained(B,q={}){let[L,O,z]=await Promise.all([this.uses_processor_config?(0,H.getModelJSON)(B,Y.PROCESSOR_NAME,!0,q):{},Promise.all(this.classes.filter((F)=>(F in this)).map(async(F)=>{let V=await this[F].from_pretrained(B,q);return[F.replace(/_class$/,""),V]})).then(Object.fromEntries),this.uses_chat_template_file?(0,H.getModelText)(B,Y.CHAT_TEMPLATE_NAME,!0,q):null]);return new this(L,O,z)}}},"./src/configs.js":(J,Z,Q)=>{/*!************************!*\
  !*** ./src/configs.js ***!
  \************************/Q.r(Z),Q.d(Z,{AutoConfig:()=>O,PretrainedConfig:()=>L,getCacheShapes:()=>B});var Y=Q("./src/utils/core.js");/*! ./utils/core.js */var $=Q("./src/utils/hub.js");/*! ./utils/hub.js */async function H(z,F){return await(0,$.getModelJSON)(z,"config.json",!0,F)}function K(z){let F={},V={};switch(z.model_type){case"llava":case"paligemma":case"gemma3":case"florence2":case"llava_onevision":case"idefics3":case"ultravox":case"voxtral":case"smolvlm":case"gemma3n":V=K(z.text_config);break;case"moondream1":V=K(z.phi_config);break;case"musicgen":V=K(z.decoder);break;case"multi_modality":V=K(z.language_config);break;case"gpt2":case"gptj":case"jais":case"codegen":case"gpt_bigcode":F.num_heads="n_head",F.num_layers="n_layer",F.hidden_size="n_embd";break;case"gpt_neox":case"stablelm":case"opt":case"falcon":case"modernbert-decoder":F.num_heads="num_attention_heads",F.num_layers="num_hidden_layers",F.hidden_size="hidden_size";break;case"llama":case"llama4_text":case"arcee":case"lfm2":case"smollm3":case"olmo":case"olmo2":case"mobilellm":case"granite":case"cohere":case"mistral":case"starcoder2":case"qwen2":case"qwen2_vl":case"phi":case"phi3":case"phi3_v":case"llava_qwen2":F.num_heads="num_key_value_heads",F.num_layers="num_hidden_layers",F.hidden_size="hidden_size",F.num_attention_heads="num_attention_heads",F.dim_kv="head_dim";break;case"qwen3":case"gemma":case"gemma2":case"vaultgemma":case"gemma3_text":case"gemma3n_text":case"glm":case"helium":case"ernie4_5":F.num_heads="num_key_value_heads",F.num_layers="num_hidden_layers",F.dim_kv="head_dim";break;case"openelm":F.num_heads="num_kv_heads",F.num_layers="num_transformer_layers",F.dim_kv="head_dim";break;case"gpt_neo":case"donut-swin":F.num_heads="num_heads",F.num_layers="num_layers",F.hidden_size="hidden_size";break;case"bloom":F.num_heads="n_head",F.num_layers="n_layer",F.hidden_size="hidden_size";break;case"mpt":F.num_heads="n_heads",F.num_layers="n_layers",F.hidden_size="d_model";break;case"exaone":F.num_heads="num_key_value_heads",F.num_layers="num_layers",F.dim_kv="head_dim",F.num_attention_heads="num_attention_heads";break;case"t5":case"mt5":case"longt5":F.num_decoder_layers="num_decoder_layers",F.num_decoder_heads="num_heads",F.decoder_dim_kv="d_kv",F.num_encoder_layers="num_layers",F.num_encoder_heads="num_heads",F.encoder_dim_kv="d_kv";break;case"bart":case"mbart":case"marian":case"whisper":case"lite-whisper":case"m2m_100":case"blenderbot":case"blenderbot-small":case"florence2_language":F.num_decoder_layers="decoder_layers",F.num_decoder_heads="decoder_attention_heads",F.decoder_hidden_size="d_model",F.num_encoder_layers="encoder_layers",F.num_encoder_heads="encoder_attention_heads",F.encoder_hidden_size="d_model";break;case"speecht5":F.num_decoder_layers="decoder_layers",F.num_decoder_heads="decoder_attention_heads",F.decoder_hidden_size="hidden_size",F.num_encoder_layers="encoder_layers",F.num_encoder_heads="encoder_attention_heads",F.encoder_hidden_size="hidden_size";break;case"trocr":F.num_encoder_layers=F.num_decoder_layers="decoder_layers",F.num_encoder_heads=F.num_decoder_heads="decoder_attention_heads",F.encoder_hidden_size=F.decoder_hidden_size="d_model";break;case"musicgen_decoder":F.num_encoder_layers=F.num_decoder_layers="num_hidden_layers",F.num_encoder_heads=F.num_decoder_heads="num_attention_heads",F.encoder_hidden_size=F.decoder_hidden_size="hidden_size";break;case"moonshine":F.num_decoder_layers="decoder_num_hidden_layers",F.num_decoder_heads="decoder_num_key_value_heads",F.num_encoder_layers="encoder_num_hidden_layers",F.num_encoder_heads="encoder_num_key_value_heads",F.encoder_hidden_size=F.decoder_hidden_size="hidden_size";break;case"vision-encoder-decoder":let M=K(z.decoder),j="num_decoder_layers"in M,D=(0,Y.pick)(z,["model_type","is_encoder_decoder"]);if(j)D.num_decoder_layers=M.num_decoder_layers,D.num_decoder_heads=M.num_decoder_heads,D.decoder_hidden_size=M.decoder_hidden_size,D.num_encoder_layers=M.num_encoder_layers,D.num_encoder_heads=M.num_encoder_heads,D.encoder_hidden_size=M.encoder_hidden_size;else D.num_layers=M.num_layers,D.num_heads=M.num_heads,D.hidden_size=M.hidden_size;return D}let A={...V,...(0,Y.pick)(z,["model_type","multi_query","is_encoder_decoder"])};for(let M in F)A[M]=z[F[M]];return A}function B(z,F){if(z.model_type==="lfm2"){let V=F?.prefix??"past_key_values",A=V==="present"?"present":"past",M={},{layer_types:j,num_attention_heads:D,num_key_value_heads:w,hidden_size:C,conv_L_cache:I}=z,b=C/D,E=F?.batch_size??1;for(let k=0;k<j.length;++k)if(j[k]==="full_attention")for(let T of["key","value"])M[`${V}.${k}.${T}`]=[E,w,0,b];else if(j[k]==="conv")M[`${A}_conv.${k}`]=[E,C,I];else throw Error(`Unsupported layer type: ${j[k]}`);return M}return q(z,F)}function q(z,{prefix:F="past_key_values",batch_size:V=1}={}){let A={},M=z.normalized_config;if(M.is_encoder_decoder&&(("num_encoder_heads"in M)&&("num_decoder_heads"in M))){let j=M.encoder_dim_kv??M.encoder_hidden_size/M.num_encoder_heads,D=M.decoder_dim_kv??M.decoder_hidden_size/M.num_decoder_heads,w=[V,M.num_encoder_heads,0,j],C=[V,M.num_decoder_heads,0,D];for(let I=0;I<M.num_decoder_layers;++I)A[`${F}.${I}.encoder.key`]=w,A[`${F}.${I}.encoder.value`]=w,A[`${F}.${I}.decoder.key`]=C,A[`${F}.${I}.decoder.value`]=C}else{let{num_heads:j,num_layers:D}=M,w=M.dim_kv??M.hidden_size/(M.num_attention_heads??j);if(M.model_type==="falcon"){let C=[V*j,0,w];for(let I=0;I<D;++I)A[`${F}.${I}.key`]=C,A[`${F}.${I}.value`]=C}else if(M.multi_query){let C=[V*j,0,2*w];for(let I=0;I<D;++I)A[`${F}.${I}.key_value`]=C}else if(M.model_type==="bloom"){let C=[V*j,w,0],I=[V*j,0,w];for(let b=0;b<D;++b)A[`${F}.${b}.key`]=C,A[`${F}.${b}.value`]=I}else if(M.model_type==="openelm")for(let C=0;C<D;++C){let I=[V,j[C],0,w];A[`${F}.${C}.key`]=I,A[`${F}.${C}.value`]=I}else{let C=[V,j,0,w];for(let I=0;I<D;++I)A[`${F}.${I}.key`]=C,A[`${F}.${I}.value`]=C}}return A}class L{model_type=null;is_encoder_decoder=!1;max_position_embeddings;"transformers.js_config";constructor(z){Object.assign(this,z),this.normalized_config=K(this)}static async from_pretrained(z,{progress_callback:F=null,config:V=null,cache_dir:A=null,local_files_only:M=!1,revision:j="main"}={}){if(V&&!(V instanceof L))V=new L(V);let D=V??await H(z,{progress_callback:F,config:V,cache_dir:A,local_files_only:M,revision:j});return new this(D)}}class O{static async from_pretrained(...z){return L.from_pretrained(...z)}}},"./src/env.js":(J,Z,Q)=>{/*!********************!*\
  !*** ./src/env.js ***!
  \********************/Q.r(Z),Q.d(Z,{apis:()=>w,env:()=>T});var Y=Q("?db59");/*! node:fs */var $=Q("?383f");/*! node:path */var H=Q("?fa4b");/*! node:url */let K="3.7.3",B=typeof window<"u"&&typeof window.document<"u",q=typeof self<"u"&&["DedicatedWorkerGlobalScope","ServiceWorkerGlobalScope","SharedWorkerGlobalScope"].includes(self.constructor?.name),L=typeof self<"u"&&"caches"in self,O=typeof navigator<"u"&&"gpu"in navigator,z=typeof navigator<"u"&&"ml"in navigator,F=typeof process<"u",V=F&&process?.release?.name==="node",A=!S(Y),M=!S($),j=typeof globalThis.Deno<"u",D=typeof globalThis.Bun<"u",w=Object.freeze({IS_BROWSER_ENV:B,IS_WEBWORKER_ENV:q,IS_WEB_CACHE_AVAILABLE:L,IS_WEBGPU_AVAILABLE:O,IS_WEBNN_AVAILABLE:z,IS_PROCESS_AVAILABLE:F,IS_NODE_ENV:V,IS_FS_AVAILABLE:A,IS_PATH_AVAILABLE:M}),C=A&&M,I="./";if(C){let d=Object(import.meta).url;if(d)I=$.dirname($.dirname(H.fileURLToPath(d)));else if(typeof __dirname<"u")I=$.dirname(__dirname)}let b=C?$.join(I,"/.cache/"):null,E="/models/",k=C?$.join(I,E):E,T={version:K,backends:{onnx:{}},allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!(B||q),localModelPath:k,useFS:A,useBrowserCache:L&&!j,useFSCache:A,cacheDir:b,useCustomCache:!1,customCache:null};function S(d){return Object.keys(d).length===0}},"./src/generation/configuration_utils.js":(J,Z,Q)=>{/*!***********************************************!*\
  !*** ./src/generation/configuration_utils.js ***!
  \***********************************************/Q.r(Z),Q.d(Z,{GenerationConfig:()=>$});var Y=Q("./src/utils/core.js");/*! ../utils/core.js */class ${max_length=20;max_new_tokens=null;min_length=0;min_new_tokens=null;early_stopping=!1;max_time=null;do_sample=!1;num_beams=1;num_beam_groups=1;penalty_alpha=null;use_cache=!0;temperature=1;top_k=50;top_p=1;typical_p=1;epsilon_cutoff=0;eta_cutoff=0;diversity_penalty=0;repetition_penalty=1;encoder_repetition_penalty=1;length_penalty=1;no_repeat_ngram_size=0;bad_words_ids=null;force_words_ids=null;renormalize_logits=!1;constraints=null;forced_bos_token_id=null;forced_eos_token_id=null;remove_invalid_values=!1;exponential_decay_length_penalty=null;suppress_tokens=null;streamer=null;begin_suppress_tokens=null;forced_decoder_ids=null;guidance_scale=null;num_return_sequences=1;output_attentions=!1;output_hidden_states=!1;output_scores=!1;return_dict_in_generate=!1;pad_token_id=null;bos_token_id=null;eos_token_id=null;encoder_no_repeat_ngram_size=0;decoder_start_token_id=null;generation_kwargs={};constructor(H){Object.assign(this,(0,Y.pick)(H,Object.getOwnPropertyNames(this)))}}},"./src/generation/logits_process.js":(J,Z,Q)=>{/*!******************************************!*\
  !*** ./src/generation/logits_process.js ***!
  \******************************************/Q.r(Z),Q.d(Z,{ClassifierFreeGuidanceLogitsProcessor:()=>w,ForcedBOSTokenLogitsProcessor:()=>L,ForcedEOSTokenLogitsProcessor:()=>O,LogitsProcessor:()=>K,LogitsProcessorList:()=>q,LogitsWarper:()=>B,MinLengthLogitsProcessor:()=>M,MinNewTokensLengthLogitsProcessor:()=>j,NoBadWordsLogitsProcessor:()=>D,NoRepeatNGramLogitsProcessor:()=>V,RepetitionPenaltyLogitsProcessor:()=>A,SuppressTokensAtBeginLogitsProcessor:()=>z,TemperatureLogitsWarper:()=>C,TopKLogitsWarper:()=>b,TopPLogitsWarper:()=>I,WhisperTimeStampLogitsProcessor:()=>F});var Y=Q("./src/utils/generic.js");/*! ../utils/generic.js */var $=Q("./src/utils/tensor.js");/*! ../utils/tensor.js */var H=Q("./src/utils/maths.js");/*! ../utils/maths.js */class K extends Y.Callable{_call(E,k){throw Error("`_call` should be implemented in a subclass")}}class B extends Y.Callable{_call(E,k){throw Error("`_call` should be implemented in a subclass")}}class q extends Y.Callable{constructor(){super();this.processors=[]}push(E){this.processors.push(E)}extend(E){this.processors.push(...E)}_call(E,k){let T=k;for(let S of this.processors)T=S(E,T);return T}[Symbol.iterator](){return this.processors.values()}}class L extends K{constructor(E){super();this.bos_token_id=E}_call(E,k){for(let T=0;T<E.length;++T)if(E[T].length===1){let S=k[T].data;S.fill(-1/0),S[this.bos_token_id]=0}return k}}class O extends K{constructor(E,k){super();this.max_length=E,this.eos_token_id=Array.isArray(k)?k:[k]}_call(E,k){for(let T=0;T<E.length;++T)if(E[T].length===this.max_length-1){let S=k[T].data;S.fill(-1/0);for(let d of this.eos_token_id)S[d]=0}return k}}class z extends K{constructor(E,k){super();this.begin_suppress_tokens=E,this.begin_index=k}_call(E,k){for(let T=0;T<E.length;++T)if(E[T].length===this.begin_index){let S=k[T].data;for(let d of this.begin_suppress_tokens)S[d]=-1/0}return k}}class F extends K{constructor(E,k){super();if(this.eos_token_id=Array.isArray(E.eos_token_id)?E.eos_token_id[0]:E.eos_token_id,this.no_timestamps_token_id=E.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=k.length,k.at(-1)===this.no_timestamps_token_id)this.begin_index-=1;this.max_initial_timestamp_index=E.max_initial_timestamp_index}_call(E,k){for(let T=0;T<E.length;++T){let S=k[T].data;if(S[this.no_timestamps_token_id]=-1/0,E[T].length===this.begin_index-1){S.fill(-1/0),S[this.timestamp_begin]=0;continue}let d=E[T].slice(this.begin_index),o=d.length>=1&&d[d.length-1]>=this.timestamp_begin,v=d.length<2||d[d.length-2]>=this.timestamp_begin;if(o)if(v)S.subarray(this.timestamp_begin).fill(-1/0);else S.subarray(0,this.eos_token_id).fill(-1/0);if(E[T].length===this.begin_index&&this.max_initial_timestamp_index!==null){let l=this.timestamp_begin+this.max_initial_timestamp_index;S.subarray(l+1).fill(-1/0)}let y=(0,H.log_softmax)(S),i=Math.log(y.subarray(this.timestamp_begin).map(Math.exp).reduce((l,t)=>l+t)),p=(0,H.max)(y.subarray(0,this.timestamp_begin))[0];if(i>p)S.subarray(0,this.timestamp_begin).fill(-1/0)}return k}}class V extends K{constructor(E){super();this.no_repeat_ngram_size=E}getNgrams(E){let k=E.length,T=[];for(let d=0;d<k+1-this.no_repeat_ngram_size;++d){let o=[];for(let v=0;v<this.no_repeat_ngram_size;++v)o.push(E[d+v]);T.push(o.map(Number))}let S=new Map;for(let d of T){let o=d.slice(0,d.length-1),v=JSON.stringify(o),y=S.get(v)??[];y.push(d[d.length-1]),S.set(v,y)}return S}getGeneratedNgrams(E,k){let T=k.slice(k.length+1-this.no_repeat_ngram_size,k.length);return E.get(JSON.stringify(T.map(Number)))??[]}calcBannedNgramTokens(E){let k=[];if(E.length+1<this.no_repeat_ngram_size)return k;else{let T=this.getNgrams(E);return this.getGeneratedNgrams(T,E)}}_call(E,k){for(let T=0;T<E.length;++T){let S=k[T].data,d=this.calcBannedNgramTokens(E[T]);for(let o of d)S[o]=-1/0}return k}}class A extends K{constructor(E){super();this.penalty=E}_call(E,k){for(let T=0;T<E.length;++T){let S=k[T].data;for(let d of new Set(E[T])){let o=Number(d);if(S[o]<0)S[o]*=this.penalty;else S[o]/=this.penalty}}return k}}class M extends K{constructor(E,k){super();this.min_length=E,this.eos_token_id=Array.isArray(k)?k:[k]}_call(E,k){for(let T=0;T<E.length;++T)if(E[T].length<this.min_length){let S=k[T].data;for(let d of this.eos_token_id)S[d]=-1/0}return k}}class j extends K{constructor(E,k,T){super();this.prompt_length_to_skip=E,this.min_new_tokens=k,this.eos_token_id=Array.isArray(T)?T:[T]}_call(E,k){for(let T=0;T<E.length;++T)if(E[T].length-this.prompt_length_to_skip<this.min_new_tokens){let d=k[T].data;for(let o of this.eos_token_id)d[o]=-1/0}return k}}class D extends K{constructor(E,k){super();this.bad_words_ids=E,this.eos_token_id=Array.isArray(k)?k:[k]}_call(E,k){for(let T=0;T<E.length;++T){let S=k[T].data,d=E[T];for(let o of this.bad_words_ids){if(d.length<o.length-1)continue;let v=!0;for(let y=1;y<=o.length-1;++y)if(o.at(-y-1)!=d.at(-y)){v=!1;break}if(v)S[o.at(-1)]=-1/0}}return k}}class w extends K{constructor(E){super();if(E<=1)throw Error(`Require guidance scale >1 to use the classifier free guidance processor, got guidance scale ${E}.`);this.guidance_scale=E}_call(E,k){if(k.dims[0]!==2*E.length)throw Error(`Logits should have twice the batch size of the input ids, the first half of batches corresponding to the conditional inputs, and the second half of batches corresponding to the unconditional inputs. Got batch size ${k.dims[0]} for the logits and ${E.length} for the input ids.`);let T=E.length,S=k.slice([0,T],null),d=k.slice([T,k.dims[0]],null);for(let o=0;o<d.data.length;++o)d.data[o]+=(S.data[o]-d.data[o])*this.guidance_scale;return d}}class C extends B{constructor(E){super();if(typeof E!=="number"||E<=0){let k=`\`temperature\` (=${E}) must be a strictly positive float, otherwise your next token scores will be invalid.`;if(E===0)k+=" If you're looking for greedy decoding strategies, set `do_sample=false`."}this.temperature=E}_call(E,k){let T=k.data;for(let S=0;S<T.length;++S)T[S]/=this.temperature;return k}}class I extends B{constructor(E,{filter_value:k=-1/0,min_tokens_to_keep:T=1}={}){super();if(E<0||E>1)throw Error(`\`top_p\` must be a float > 0 and < 1, but is ${E}`);if(!Number.isInteger(T)||T<1)throw Error(`\`min_tokens_to_keep\` must be a positive integer, but is ${T}`);this.top_p=E,this.filter_value=k,this.min_tokens_to_keep=T}}class b extends B{constructor(E,{filter_value:k=-1/0,min_tokens_to_keep:T=1}={}){super();if(!Number.isInteger(E)||E<0)throw Error(`\`top_k\` must be a positive integer, but is ${E}`);this.top_k=Math.max(E,T),this.filter_value=k}}},"./src/generation/logits_sampler.js":(J,Z,Q)=>{/*!******************************************!*\
  !*** ./src/generation/logits_sampler.js ***!
  \******************************************/Q.r(Z),Q.d(Z,{LogitsSampler:()=>B});var Y=Q("./src/utils/generic.js");/*! ../utils/generic.js */var $=Q("./src/utils/tensor.js");/*! ../utils/tensor.js */var H=Q("./src/utils/maths.js");/*! ../utils/maths.js */var K=Q("./src/generation/configuration_utils.js");/*! ../generation/configuration_utils.js */class B extends Y.Callable{constructor(z){super();this.generation_config=z}async _call(z){return this.sample(z)}async sample(z){throw Error("sample should be implemented in subclasses.")}getLogits(z,F){let V=z.dims.at(-1),A=z.data;if(F===-1)A=A.slice(-V);else{let M=F*V;A=A.slice(M,M+V)}return A}randomSelect(z){let F=0;for(let A=0;A<z.length;++A)F+=z[A];let V=Math.random()*F;for(let A=0;A<z.length;++A)if(V-=z[A],V<=0)return A;return 0}static getSampler(z){if(z.do_sample)return new L(z);else if(z.num_beams>1)return new O(z);else{if(z.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${z.num_return_sequences}.`);return new q(z)}}}class q extends B{async sample(z){let F=(0,H.max)(z.data)[1];return[[BigInt(F),0]]}}class L extends B{async sample(z){let F=z.dims.at(-1);if(this.generation_config.top_k>0)F=Math.min(this.generation_config.top_k,F);let[V,A]=await(0,$.topk)(z,F),M=(0,H.softmax)(V.data);return Array.from({length:this.generation_config.num_beams},()=>{let j=this.randomSelect(M);return[A.data[j],Math.log(M[j])]})}}class O extends B{async sample(z){let F=z.dims.at(-1);if(this.generation_config.top_k>0)F=Math.min(this.generation_config.top_k,F);let[V,A]=await(0,$.topk)(z,F),M=(0,H.softmax)(V.data);return Array.from({length:this.generation_config.num_beams},(j,D)=>{return[A.data[D],Math.log(M[D])]})}}},"./src/generation/stopping_criteria.js":(J,Z,Q)=>{/*!*********************************************!*\
  !*** ./src/generation/stopping_criteria.js ***!
  \*********************************************/Q.r(Z),Q.d(Z,{EosTokenCriteria:()=>B,InterruptableStoppingCriteria:()=>q,MaxLengthCriteria:()=>K,StoppingCriteria:()=>$,StoppingCriteriaList:()=>H});var Y=Q("./src/utils/generic.js");/*! ../utils/generic.js */class $ extends Y.Callable{_call(L,O){throw Error("StoppingCriteria needs to be subclassed")}}class H extends Y.Callable{constructor(){super();this.criteria=[]}push(L){this.criteria.push(L)}extend(L){if(L instanceof H)L=L.criteria;else if(L instanceof $)L=[L];this.criteria.push(...L)}_call(L,O){let z=Array(L.length).fill(!1);for(let F of this.criteria){let V=F(L,O);for(let A=0;A<z.length;++A)z[A]||=V[A]}return z}[Symbol.iterator](){return this.criteria.values()}}class K extends ${constructor(L,O=null){super();this.max_length=L,this.max_position_embeddings=O}_call(L){return L.map((O)=>O.length>=this.max_length)}}class B extends ${constructor(L){super();if(!Array.isArray(L))L=[L];this.eos_token_id=L}_call(L,O){return L.map((z)=>{let F=z.at(-1);return this.eos_token_id.some((V)=>F==V)})}}class q extends ${constructor(){super();this.interrupted=!1}interrupt(){this.interrupted=!0}reset(){this.interrupted=!1}_call(L,O){return Array(L.length).fill(this.interrupted)}}},"./src/generation/streamers.js":(J,Z,Q)=>{/*!*************************************!*\
  !*** ./src/generation/streamers.js ***!
  \*************************************/Q.r(Z),Q.d(Z,{BaseStreamer:()=>K,TextStreamer:()=>q,WhisperTextStreamer:()=>L});var Y=Q("./src/utils/core.js");/*! ../utils/core.js */var $=Q("./src/tokenizers.js");/*! ../tokenizers.js */var H=Q("./src/env.js");/*! ../env.js */class K{put(O){throw Error("Not implemented")}end(){throw Error("Not implemented")}}let B=H.apis.IS_PROCESS_AVAILABLE?(O)=>process.stdout.write(O):(O)=>console.log(O);class q extends K{constructor(O,{skip_prompt:z=!1,callback_function:F=null,token_callback_function:V=null,skip_special_tokens:A=!0,decode_kwargs:M={},...j}={}){super();this.tokenizer=O,this.skip_prompt=z,this.callback_function=F??B,this.token_callback_function=V,this.decode_kwargs={skip_special_tokens:A,...M,...j},this.token_cache=[],this.print_len=0,this.next_tokens_are_prompt=!0}put(O){if(O.length>1)throw Error("TextStreamer only supports batch size of 1");let z=this.next_tokens_are_prompt;if(z){if(this.next_tokens_are_prompt=!1,this.skip_prompt)return}let F=O[0];this.token_callback_function?.(F),this.token_cache=(0,Y.mergeArrays)(this.token_cache,F);let V=this.tokenizer.decode(this.token_cache,this.decode_kwargs),A;if(z||V.endsWith(`
`))A=V.slice(this.print_len),this.token_cache=[],this.print_len=0;else if(V.length>0&&(0,$.is_chinese_char)(V.charCodeAt(V.length-1)))A=V.slice(this.print_len),this.print_len+=A.length;else A=V.slice(this.print_len,V.lastIndexOf(" ")+1),this.print_len+=A.length;this.on_finalized_text(A,!1)}end(){let O;if(this.token_cache.length>0)O=this.tokenizer.decode(this.token_cache,this.decode_kwargs).slice(this.print_len),this.token_cache=[],this.print_len=0;else O="";this.next_tokens_are_prompt=!0,this.on_finalized_text(O,!0)}on_finalized_text(O,z){if(O.length>0)this.callback_function?.(O);if(z&&this.callback_function===B&&H.apis.IS_PROCESS_AVAILABLE)this.callback_function?.(`
`)}}class L extends q{constructor(O,{skip_prompt:z=!1,callback_function:F=null,token_callback_function:V=null,on_chunk_start:A=null,on_chunk_end:M=null,on_finalize:j=null,time_precision:D=0.02,skip_special_tokens:w=!0,decode_kwargs:C={}}={}){super(O,{skip_prompt:z,skip_special_tokens:w,callback_function:F,token_callback_function:V,decode_kwargs:C});this.timestamp_begin=O.timestamp_begin,this.on_chunk_start=A,this.on_chunk_end=M,this.on_finalize=j,this.time_precision=D,this.waiting_for_timestamp=!1}put(O){if(O.length>1)throw Error("WhisperTextStreamer only supports batch size of 1");let z=O[0];if(z.length===1){let F=Number(z[0])-this.timestamp_begin;if(F>=0){let V=F*this.time_precision;if(this.waiting_for_timestamp)this.on_chunk_end?.(V);else this.on_chunk_start?.(V);this.waiting_for_timestamp=!this.waiting_for_timestamp,this.token_callback_function?.(z);return}}return super.put(O)}end(){super.end(),this.on_finalize?.()}}},"./src/models.js":(J,Z,Q)=>{/*!***********************!*\
  !*** ./src/models.js ***!
  \***********************/Q.r(Z),Q.d(Z,{ASTForAudioClassification:()=>n6,ASTModel:()=>b8,ASTPreTrainedModel:()=>f9,AlbertForMaskedLM:()=>J5,AlbertForQuestionAnswering:()=>T0,AlbertForSequenceClassification:()=>m0,AlbertModel:()=>y0,AlbertPreTrainedModel:()=>v0,ArceeForCausalLM:()=>H5,ArceeModel:()=>y2,ArceePreTrainedModel:()=>Q2,AutoModel:()=>UF,AutoModelForAudioClassification:()=>AO,AutoModelForAudioFrameClassification:()=>MF,AutoModelForAudioTextToText:()=>xH,AutoModelForCTC:()=>FO,AutoModelForCausalLM:()=>rB,AutoModelForDepthEstimation:()=>_F,AutoModelForDocumentQuestionAnswering:()=>MO,AutoModelForImageClassification:()=>zF,AutoModelForImageFeatureExtraction:()=>iY,AutoModelForImageMatting:()=>EH,AutoModelForImageSegmentation:()=>NF,AutoModelForImageTextToText:()=>Qq,AutoModelForImageToImage:()=>_O,AutoModelForMaskGeneration:()=>Zq,AutoModelForMaskedLM:()=>zO,AutoModelForNormalEstimation:()=>kH,AutoModelForObjectDetection:()=>eB,AutoModelForPoseEstimation:()=>VO,AutoModelForQuestionAnswering:()=>tB,AutoModelForSemanticSegmentation:()=>FF,AutoModelForSeq2SeqLM:()=>LF,AutoModelForSequenceClassification:()=>wH,AutoModelForSpeechSeq2Seq:()=>OF,AutoModelForTextToSpectrogram:()=>LO,AutoModelForTextToWaveform:()=>OO,AutoModelForTokenClassification:()=>oB,AutoModelForUniversalSegmentation:()=>AF,AutoModelForVision2Seq:()=>NO,AutoModelForXVector:()=>lY,AutoModelForZeroShotObjectDetection:()=>Jq,BartForConditionalGeneration:()=>n4,BartForSequenceClassification:()=>N7,BartModel:()=>C5,BartPretrainedModel:()=>l6,BaseModelOutput:()=>D1,BeitForImageClassification:()=>NY,BeitModel:()=>zY,BeitPreTrainedModel:()=>hQ,BertForMaskedLM:()=>C1,BertForQuestionAnswering:()=>p1,BertForSequenceClassification:()=>x1,BertForTokenClassification:()=>v1,BertModel:()=>u1,BertPreTrainedModel:()=>g1,BlenderbotForConditionalGeneration:()=>s4,BlenderbotModel:()=>y4,BlenderbotPreTrainedModel:()=>Q4,BlenderbotSmallForConditionalGeneration:()=>DZ,BlenderbotSmallModel:()=>k3,BlenderbotSmallPreTrainedModel:()=>C7,BloomForCausalLM:()=>$Y,BloomModel:()=>jL,BloomPreTrainedModel:()=>A$,CLIPModel:()=>P9,CLIPPreTrainedModel:()=>B8,CLIPSegForImageSegmentation:()=>z6,CLIPSegModel:()=>U8,CLIPSegPreTrainedModel:()=>kJ,CLIPTextModel:()=>q8,CLIPTextModelWithProjection:()=>bZ,CLIPVisionModel:()=>v8,CLIPVisionModelWithProjection:()=>vQ,CamembertForMaskedLM:()=>Y2,CamembertForQuestionAnswering:()=>j2,CamembertForSequenceClassification:()=>s1,CamembertForTokenClassification:()=>d2,CamembertModel:()=>n0,CamembertPreTrainedModel:()=>B0,CausalLMOutput:()=>d8,CausalLMOutputWithPast:()=>Xq,ChineseCLIPModel:()=>fQ,ChineseCLIPPreTrainedModel:()=>f3,ClapAudioModelWithProjection:()=>xB,ClapModel:()=>cL,ClapPreTrainedModel:()=>qH,ClapTextModelWithProjection:()=>UH,CodeGenForCausalLM:()=>X1,CodeGenModel:()=>r,CodeGenPreTrainedModel:()=>h,CohereForCausalLM:()=>TQ,CohereModel:()=>H$,CoherePreTrainedModel:()=>y5,ConvBertForMaskedLM:()=>S4,ConvBertForQuestionAnswering:()=>L7,ConvBertForSequenceClassification:()=>T4,ConvBertForTokenClassification:()=>z0,ConvBertModel:()=>t0,ConvBertPreTrainedModel:()=>I2,ConvNextForImageClassification:()=>pQ,ConvNextModel:()=>bL,ConvNextPreTrainedModel:()=>o$,ConvNextV2ForImageClassification:()=>vL,ConvNextV2Model:()=>JB,ConvNextV2PreTrainedModel:()=>c9,DFineForObjectDetection:()=>e7,DFineModel:()=>wL,DFinePreTrainedModel:()=>_Y,DINOv3ConvNextModel:()=>XB,DINOv3ConvNextPreTrainedModel:()=>SL,DINOv3ViTModel:()=>QB,DINOv3ViTPreTrainedModel:()=>fL,DPTForDepthEstimation:()=>i$,DPTModel:()=>P8,DPTPreTrainedModel:()=>l$,DacDecoderModel:()=>pB,DacDecoderOutput:()=>tL,DacEncoderModel:()=>JO,DacEncoderOutput:()=>rL,DacModel:()=>eL,DacPreTrainedModel:()=>rQ,DebertaForMaskedLM:()=>O7,DebertaForQuestionAnswering:()=>X5,DebertaForSequenceClassification:()=>P4,DebertaForTokenClassification:()=>X7,DebertaModel:()=>a5,DebertaPreTrainedModel:()=>H4,DebertaV2ForMaskedLM:()=>C9,DebertaV2ForQuestionAnswering:()=>v9,DebertaV2ForSequenceClassification:()=>i4,DebertaV2ForTokenClassification:()=>b9,DebertaV2Model:()=>k6,DebertaV2PreTrainedModel:()=>l7,DecisionTransformerModel:()=>TB,DecisionTransformerPreTrainedModel:()=>F8,DeiTForImageClassification:()=>g$,DeiTModel:()=>VY,DeiTPreTrainedModel:()=>P$,DepthAnythingForDepthEstimation:()=>n$,DepthAnythingPreTrainedModel:()=>EL,DepthProForDepthEstimation:()=>kL,DepthProPreTrainedModel:()=>M4,DetrForObjectDetection:()=>yK,DetrForSegmentation:()=>T8,DetrModel:()=>g3,DetrObjectDetectionOutput:()=>L8,DetrPreTrainedModel:()=>FY,DetrSegmentationOutput:()=>AY,Dinov2ForImageClassification:()=>ZB,Dinov2Model:()=>t$,Dinov2PreTrainedModel:()=>r$,Dinov2WithRegistersForImageClassification:()=>xY,Dinov2WithRegistersModel:()=>e$,Dinov2WithRegistersPreTrainedModel:()=>kY,DistilBertForMaskedLM:()=>E4,DistilBertForQuestionAnswering:()=>O9,DistilBertForSequenceClassification:()=>U6,DistilBertForTokenClassification:()=>R7,DistilBertModel:()=>m6,DistilBertPreTrainedModel:()=>O4,DonutSwinModel:()=>CL,DonutSwinPreTrainedModel:()=>RL,EfficientNetForImageClassification:()=>bB,EfficientNetModel:()=>CB,EfficientNetPreTrainedModel:()=>zH,ElectraForMaskedLM:()=>$1,ElectraForQuestionAnswering:()=>d1,ElectraForSequenceClassification:()=>O1,ElectraForTokenClassification:()=>I1,ElectraModel:()=>L1,ElectraPreTrainedModel:()=>c,Ernie4_5_ForCausalLM:()=>nQ,Ernie4_5_Model:()=>wB,Ernie4_5_PretrainedModel:()=>DB,EsmForMaskedLM:()=>L6,EsmForSequenceClassification:()=>n7,EsmForTokenClassification:()=>M0,EsmModel:()=>i7,EsmPreTrainedModel:()=>N5,ExaoneForCausalLM:()=>C0,ExaoneModel:()=>W5,ExaonePreTrainedModel:()=>rX,FalconForCausalLM:()=>kB,FalconModel:()=>mL,FalconPreTrainedModel:()=>vY,FastViTForImageClassification:()=>TJ,FastViTModel:()=>SK,FastViTPreTrainedModel:()=>k$,Florence2ForConditionalGeneration:()=>xQ,Florence2PreTrainedModel:()=>Z$,GLPNForDepthEstimation:()=>eK,GLPNModel:()=>s$,GLPNPreTrainedModel:()=>a$,GPT2LMHeadModel:()=>xJ,GPT2Model:()=>s5,GPT2PreTrainedModel:()=>a6,GPTBigCodeForCausalLM:()=>x,GPTBigCodeModel:()=>sX,GPTBigCodePreTrainedModel:()=>S3,GPTJForCausalLM:()=>o6,GPTJModel:()=>s6,GPTJPreTrainedModel:()=>PZ,GPTNeoForCausalLM:()=>RJ,GPTNeoModel:()=>N9,GPTNeoPreTrainedModel:()=>f8,GPTNeoXForCausalLM:()=>bJ,GPTNeoXModel:()=>CJ,GPTNeoXPreTrainedModel:()=>u9,Gemma2ForCausalLM:()=>W$,Gemma2Model:()=>yZ,Gemma2PreTrainedModel:()=>QY,Gemma3ForCausalLM:()=>VK,Gemma3Model:()=>_K,Gemma3PreTrainedModel:()=>B$,Gemma3nForConditionalGeneration:()=>W8,Gemma3nPreTrainedModel:()=>RZ,GemmaForCausalLM:()=>d9,GemmaModel:()=>fJ,GemmaPreTrainedModel:()=>S8,GlmForCausalLM:()=>X$,GlmModel:()=>AK,GlmPreTrainedModel:()=>Q$,GraniteForCausalLM:()=>R6,GraniteModel:()=>$$,GranitePreTrainedModel:()=>ZY,GroundingDinoForObjectDetection:()=>g8,GroundingDinoPreTrainedModel:()=>YB,GroupViTModel:()=>E$,GroupViTPreTrainedModel:()=>fK,HeliumForCausalLM:()=>_L,HeliumModel:()=>FK,HeliumPreTrainedModel:()=>gZ,HieraForImageClassification:()=>aK,HieraModel:()=>nK,HieraPreTrainedModel:()=>y$,HubertForCTC:()=>GH,HubertForSequenceClassification:()=>iZ,HubertModel:()=>lZ,HubertPreTrainedModel:()=>gJ,IJepaForImageClassification:()=>BY,IJepaModel:()=>V$,IJepaPreTrainedModel:()=>PQ,Idefics3ForConditionalGeneration:()=>K8,Idefics3PreTrainedModel:()=>CQ,ImageMattingOutput:()=>DO,JAISLMHeadModel:()=>h9,JAISModel:()=>TZ,JAISPreTrainedModel:()=>SZ,JinaCLIPModel:()=>X2,JinaCLIPPreTrainedModel:()=>g9,JinaCLIPTextModel:()=>y9,JinaCLIPVisionModel:()=>fZ,Lfm2ForCausalLM:()=>N6,Lfm2Model:()=>K4,Lfm2PreTrainedModel:()=>_5,LiteWhisperForConditionalGeneration:()=>wQ,Llama4ForCausalLM:()=>d0,Llama4PreTrainedModel:()=>V0,LlamaForCausalLM:()=>$0,LlamaModel:()=>R1,LlamaPreTrainedModel:()=>B1,LlavaForConditionalGeneration:()=>C3,LlavaOnevisionForConditionalGeneration:()=>EQ,LlavaPreTrainedModel:()=>xZ,LlavaQwen2ForCausalLM:()=>RQ,LongT5ForConditionalGeneration:()=>z7,LongT5Model:()=>a7,LongT5PreTrainedModel:()=>N4,M2M100ForConditionalGeneration:()=>h8,M2M100Model:()=>WB,M2M100PreTrainedModel:()=>h3,MBartForCausalLM:()=>a4,MBartForConditionalGeneration:()=>g5,MBartForSequenceClassification:()=>z9,MBartModel:()=>i6,MBartPreTrainedModel:()=>o7,MPNetForMaskedLM:()=>w3,MPNetForQuestionAnswering:()=>u,MPNetForSequenceClassification:()=>C8,MPNetForTokenClassification:()=>E3,MPNetModel:()=>jJ,MPNetPreTrainedModel:()=>p6,MT5ForConditionalGeneration:()=>W4,MT5Model:()=>s7,MT5PreTrainedModel:()=>Y7,MarianMTModel:()=>HB,MarianModel:()=>y8,MarianPreTrainedModel:()=>QH,MaskFormerForInstanceSegmentation:()=>mZ,MaskFormerModel:()=>cQ,MaskFormerPreTrainedModel:()=>EY,MaskedLMOutput:()=>x4,Metric3DForDepthEstimation:()=>rK,Metric3DPreTrainedModel:()=>xL,Metric3Dv2ForDepthEstimation:()=>tK,Metric3Dv2PreTrainedModel:()=>O8,MgpstrForSceneTextRecognition:()=>_H,MgpstrModelOutput:()=>yY,MgpstrPreTrainedModel:()=>r5,MimiDecoderModel:()=>cB,MimiDecoderOutput:()=>oL,MimiEncoderModel:()=>mB,MimiEncoderOutput:()=>dB,MimiModel:()=>dY,MimiPreTrainedModel:()=>oQ,MistralForCausalLM:()=>jB,MistralModel:()=>IB,MistralPreTrainedModel:()=>KH,MobileBertForMaskedLM:()=>P5,MobileBertForQuestionAnswering:()=>c6,MobileBertForSequenceClassification:()=>x6,MobileBertModel:()=>a0,MobileBertPreTrainedModel:()=>w0,MobileLLMForCausalLM:()=>o4,MobileLLMModel:()=>tX,MobileLLMPreTrainedModel:()=>vJ,MobileNetV1ForImageClassification:()=>TY,MobileNetV1ForSemanticSegmentation:()=>fB,MobileNetV1Model:()=>nL,MobileNetV1PreTrainedModel:()=>SY,MobileNetV2ForImageClassification:()=>AH,MobileNetV2ForSemanticSegmentation:()=>SB,MobileNetV2Model:()=>FH,MobileNetV2PreTrainedModel:()=>Y5,MobileNetV3ForImageClassification:()=>PY,MobileNetV3ForSemanticSegmentation:()=>oZ,MobileNetV3Model:()=>sQ,MobileNetV3PreTrainedModel:()=>aQ,MobileNetV4ForImageClassification:()=>v7,MobileNetV4ForSemanticSegmentation:()=>aL,MobileNetV4Model:()=>MH,MobileNetV4PreTrainedModel:()=>gY,MobileViTForImageClassification:()=>PK,MobileViTModel:()=>DL,MobileViTPreTrainedModel:()=>TK,MobileViTV2ForImageClassification:()=>LY,MobileViTV2Model:()=>C$,MobileViTV2PreTrainedModel:()=>dZ,ModelOutput:()=>M1,ModernBertDecoderForCausalLM:()=>t2,ModernBertDecoderModel:()=>Z2,ModernBertDecoderPreTrainedModel:()=>W2,ModernBertForMaskedLM:()=>i0,ModernBertForSequenceClassification:()=>D0,ModernBertForTokenClassification:()=>_0,ModernBertModel:()=>A0,ModernBertPreTrainedModel:()=>H0,Moondream1ForConditionalGeneration:()=>kQ,MoonshineForConditionalGeneration:()=>kZ,MoonshineModel:()=>J$,MoonshinePreTrainedModel:()=>b7,MptForCausalLM:()=>M$,MptModel:()=>HY,MptPreTrainedModel:()=>SJ,MultiModalityCausalLM:()=>PB,MultiModalityPreTrainedModel:()=>u3,MusicgenForCausalLM:()=>vB,MusicgenForConditionalGeneration:()=>NH,MusicgenModel:()=>iL,MusicgenPreTrainedModel:()=>fY,NeoBertForMaskedLM:()=>T1,NeoBertForQuestionAnswering:()=>E0,NeoBertForSequenceClassification:()=>j0,NeoBertForTokenClassification:()=>N0,NeoBertModel:()=>P1,NeoBertPreTrainedModel:()=>y1,NomicBertModel:()=>N1,NomicBertPreTrainedModel:()=>Y1,OPTForCausalLM:()=>WY,OPTModel:()=>C6,OPTPreTrainedModel:()=>P3,Olmo2ForCausalLM:()=>G$,Olmo2Model:()=>VL,Olmo2PreTrainedModel:()=>JY,OlmoForCausalLM:()=>MK,OlmoModel:()=>Y$,OlmoPreTrainedModel:()=>eX,OpenELMForCausalLM:()=>U$,OpenELMModel:()=>IK,OpenELMPreTrainedModel:()=>q$,OwlViTForObjectDetection:()=>t7,OwlViTModel:()=>gK,OwlViTPreTrainedModel:()=>b$,Owlv2ForObjectDetection:()=>yQ,Owlv2Model:()=>OY,Owlv2PreTrainedModel:()=>gQ,PaliGemmaForConditionalGeneration:()=>nX,PaliGemmaPreTrainedModel:()=>T9,PatchTSMixerForPrediction:()=>F9,PatchTSMixerModel:()=>yB,PatchTSMixerPreTrainedModel:()=>hY,PatchTSTForPrediction:()=>gB,PatchTSTModel:()=>sL,PatchTSTPreTrainedModel:()=>f7,Phi3ForCausalLM:()=>GY,Phi3Model:()=>uZ,Phi3PreTrainedModel:()=>F$,Phi3VForCausalLM:()=>CZ,Phi3VPreTrainedModel:()=>bQ,PhiForCausalLM:()=>kK,PhiModel:()=>N$,PhiPreTrainedModel:()=>z$,PreTrainedModel:()=>a,PretrainedMixin:()=>b5,PvtForImageClassification:()=>CK,PvtModel:()=>RK,PvtPreTrainedModel:()=>UY,PyAnnoteForAudioFrameClassification:()=>pZ,PyAnnoteModel:()=>lQ,PyAnnotePreTrainedModel:()=>YH,QuestionAnsweringModelOutput:()=>r4,Qwen2ForCausalLM:()=>jK,Qwen2Model:()=>L$,Qwen2PreTrainedModel:()=>YY,Qwen2VLForConditionalGeneration:()=>EK,Qwen2VLPreTrainedModel:()=>wK,Qwen3ForCausalLM:()=>IL,Qwen3Model:()=>DK,Qwen3PreTrainedModel:()=>O$,RFDetrForObjectDetection:()=>f$,RFDetrModel:()=>cK,RFDetrObjectDetectionOutput:()=>S$,RFDetrPreTrainedModel:()=>dQ,RTDetrForObjectDetection:()=>hK,RTDetrModel:()=>v$,RTDetrObjectDetectionOutput:()=>uQ,RTDetrPreTrainedModel:()=>MY,RTDetrV2ForObjectDetection:()=>dK,RTDetrV2Model:()=>uK,RTDetrV2ObjectDetectionOutput:()=>mK,RTDetrV2PreTrainedModel:()=>y3,ResNetForImageClassification:()=>u$,ResNetModel:()=>h$,ResNetPreTrainedModel:()=>IY,RoFormerForMaskedLM:()=>g0,RoFormerForQuestionAnswering:()=>e2,RoFormerForSequenceClassification:()=>M2,RoFormerForTokenClassification:()=>_2,RoFormerModel:()=>Z0,RoFormerPreTrainedModel:()=>Q0,RobertaForMaskedLM:()=>wZ,RobertaForQuestionAnswering:()=>cX,RobertaForSequenceClassification:()=>jQ,RobertaForTokenClassification:()=>mX,RobertaModel:()=>sG,RobertaPreTrainedModel:()=>x3,SamImageSegmentationOutput:()=>t6,SamModel:()=>$B,SamPreTrainedModel:()=>r6,SapiensForDepthEstimation:()=>wY,SapiensForNormalEstimation:()=>mQ,SapiensForSemanticSegmentation:()=>oK,SapiensPreTrainedModel:()=>m9,SegformerForImageClassification:()=>pL,SegformerForSemanticSegmentation:()=>N8,SegformerModel:()=>XF,SegformerPreTrainedModel:()=>yJ,Seq2SeqLMOutput:()=>IO,SequenceClassifierOutput:()=>h0,SiglipModel:()=>b3,SiglipPreTrainedModel:()=>vZ,SiglipTextModel:()=>v3,SiglipVisionModel:()=>aX,SmolLM3ForCausalLM:()=>SQ,SmolLM3Model:()=>oX,SmolLM3PreTrainedModel:()=>T3,SmolVLMForConditionalGeneration:()=>O6,SnacDecoderModel:()=>QO,SnacEncoderModel:()=>ZO,SnacModel:()=>d3,SnacPreTrainedModel:()=>VH,SpeechT5ForSpeechToText:()=>dL,SpeechT5ForTextToSpeech:()=>aZ,SpeechT5HifiGan:()=>bY,SpeechT5Model:()=>uL,SpeechT5PreTrainedModel:()=>CY,SqueezeBertForMaskedLM:()=>E1,SqueezeBertForQuestionAnswering:()=>e1,SqueezeBertForSequenceClassification:()=>f1,SqueezeBertModel:()=>F1,SqueezeBertPreTrainedModel:()=>q1,StableLmForCausalLM:()=>OH,StableLmModel:()=>lL,StableLmPreTrainedModel:()=>sZ,Starcoder2ForCausalLM:()=>o5,Starcoder2Model:()=>EB,Starcoder2PreTrainedModel:()=>BH,StyleTextToSpeech2Model:()=>hL,StyleTextToSpeech2PreTrainedModel:()=>yL,Swin2SRForImageSuperResolution:()=>p$,Swin2SRModel:()=>sK,Swin2SRPreTrainedModel:()=>c$,SwinForImageClassification:()=>DY,SwinForSemanticSegmentation:()=>m$,SwinModel:()=>d$,SwinPreTrainedModel:()=>jY,T5ForConditionalGeneration:()=>g4,T5Model:()=>z4,T5PreTrainedModel:()=>D2,TableTransformerForObjectDetection:()=>lK,TableTransformerModel:()=>pK,TableTransformerObjectDetectionOutput:()=>iK,TableTransformerPreTrainedModel:()=>T$,TokenClassifierOutput:()=>B4,TrOCRForCausalLM:()=>WH,TrOCRPreTrainedModel:()=>VB,UltravoxModel:()=>uY,UltravoxPreTrainedModel:()=>hB,UniSpeechForCTC:()=>RY,UniSpeechForSequenceClassification:()=>LB,UniSpeechModel:()=>UB,UniSpeechPreTrainedModel:()=>PJ,UniSpeechSatForAudioFrameClassification:()=>zB,UniSpeechSatForCTC:()=>OB,UniSpeechSatForSequenceClassification:()=>e6,UniSpeechSatModel:()=>PL,UniSpeechSatPreTrainedModel:()=>iQ,VaultGemmaForCausalLM:()=>XY,VaultGemmaModel:()=>K$,VaultGemmaPreTrainedModel:()=>hZ,ViTForImageClassification:()=>_$,ViTMAEModel:()=>bK,ViTMAEPreTrainedModel:()=>j$,ViTMSNForImageClassification:()=>vK,ViTMSNModel:()=>w$,ViTMSNPreTrainedModel:()=>D$,ViTModel:()=>xK,ViTPreTrainedModel:()=>KY,VisionEncoderDecoderModel:()=>H8,VitMatteForImageMatting:()=>R$,VitMattePreTrainedModel:()=>x$,VitPoseForPoseEstimation:()=>qY,VitPosePreTrainedModel:()=>I$,VitsModel:()=>LH,VitsModelOutput:()=>RH,VitsPreTrainedModel:()=>RB,VoxtralForConditionalGeneration:()=>uB,Wav2Vec2BertForCTC:()=>FB,Wav2Vec2BertForSequenceClassification:()=>gL,Wav2Vec2BertModel:()=>NB,Wav2Vec2BertPreTrainedModel:()=>k4,Wav2Vec2ForAudioFrameClassification:()=>cZ,Wav2Vec2ForCTC:()=>z8,Wav2Vec2ForSequenceClassification:()=>KB,Wav2Vec2Model:()=>XH,Wav2Vec2PreTrainedModel:()=>u8,WavLMForAudioFrameClassification:()=>_B,WavLMForCTC:()=>MB,WavLMForSequenceClassification:()=>$H,WavLMForXVector:()=>HH,WavLMModel:()=>AB,WavLMPreTrainedModel:()=>nZ,WeSpeakerResNetModel:()=>qB,WeSpeakerResNetPreTrainedModel:()=>BB,WhisperForConditionalGeneration:()=>S9,WhisperModel:()=>EJ,WhisperPreTrainedModel:()=>r7,XLMForQuestionAnswering:()=>wJ,XLMForSequenceClassification:()=>tG,XLMForTokenClassification:()=>eG,XLMModel:()=>oG,XLMPreTrainedModel:()=>DJ,XLMRobertaForMaskedLM:()=>lX,XLMRobertaForQuestionAnswering:()=>DQ,XLMRobertaForSequenceClassification:()=>iX,XLMRobertaForTokenClassification:()=>EZ,XLMRobertaModel:()=>pX,XLMRobertaPreTrainedModel:()=>R3,XLMWithLMHeadModel:()=>rG,XVectorOutput:()=>jO,YolosForObjectDetection:()=>TL,YolosModel:()=>GB,YolosObjectDetectionOutput:()=>ZH,YolosPreTrainedModel:()=>JH});var Y=Q("./src/configs.js");/*! ./configs.js */var $=Q("./src/backends/onnx.js");/*! ./backends/onnx.js */var H=Q("./src/utils/dtypes.js");/*! ./utils/dtypes.js */var K=Q("./src/utils/generic.js");/*! ./utils/generic.js */var B=Q("./src/utils/core.js");/*! ./utils/core.js */var q=Q("./src/utils/hub.js");/*! ./utils/hub.js */var L=Q("./src/utils/constants.js");/*! ./utils/constants.js */var O=Q("./src/generation/logits_process.js");/*! ./generation/logits_process.js */var z=Q("./src/generation/configuration_utils.js");/*! ./generation/configuration_utils.js */var F=Q("./src/utils/tensor.js");/*! ./utils/tensor.js */var V=Q("./src/utils/image.js");/*! ./utils/image.js */var A=Q("./src/utils/maths.js");/*! ./utils/maths.js */var M=Q("./src/generation/stopping_criteria.js");/*! ./generation/stopping_criteria.js */var j=Q("./src/generation/logits_sampler.js");/*! ./generation/logits_sampler.js */var D=Q("./src/env.js");/*! ./env.js */var w=Q("./src/models/whisper/generation_whisper.js");/*! ./models/whisper/generation_whisper.js */var C=Q("./src/models/whisper/common_whisper.js");/*! ./models/whisper/common_whisper.js */let I={EncoderOnly:0,EncoderDecoder:1,Seq2Seq:2,Vision2Seq:3,DecoderOnly:4,MaskGeneration:5,ImageTextToText:6,Musicgen:7,MultiModality:8,Phi3V:9,AudioTextToText:10,AutoEncoder:11,ImageAudioTextToText:12},b=new Map,E=new Map,k=new Map;async function T(f,H1,j1){let S1=j1.config?.["transformers.js_config"]??{},n1=j1.device??S1.device;if(n1&&typeof n1!=="string")if(n1.hasOwnProperty(H1))n1=n1[H1];else console.warn(`device not specified for "${H1}". Using the default device.`),n1=null;let i1=n1??(D.apis.IS_NODE_ENV?"cpu":"wasm"),O0=(0,$.deviceToExecutionProviders)(i1),S0=S1.device_config??{};if(S0.hasOwnProperty(i1))S1={...S1,...S0[i1]};let o0=j1.dtype??S1.dtype;if(typeof o0!=="string")if(o0&&o0.hasOwnProperty(H1))o0=o0[H1];else o0=H.DEFAULT_DEVICE_DTYPE_MAPPING[i1]??H.DATA_TYPES.fp32,console.warn(`dtype not specified for "${H1}". Using the default dtype (${o0}) for this device (${i1}).`);if(o0===H.DATA_TYPES.auto){let L5=S1.dtype;if(typeof L5!=="string")L5=L5?.[H1];if(L5&&L5!==H.DATA_TYPES.auto&&H.DATA_TYPES.hasOwnProperty(L5))o0=L5;else o0=H.DEFAULT_DEVICE_DTYPE_MAPPING[i1]??H.DATA_TYPES.fp32}let R2=o0;if(!H.DEFAULT_DTYPE_SUFFIX_MAPPING.hasOwnProperty(R2))throw Error(`Invalid dtype: ${R2}. Should be one of: ${Object.keys(H.DATA_TYPES).join(", ")}`);else if(R2===H.DATA_TYPES.fp16&&i1==="webgpu"&&!await(0,H.isWebGpuFp16Supported)())throw Error(`The device (${i1}) does not support fp16.`);let J2=S1.kv_cache_dtype,b1=J2?typeof J2==="string"?J2:J2[R2]??"float32":void 0;if(b1&&!["float32","float16"].includes(b1))throw Error(`Invalid kv_cache_dtype: ${b1}. Should be one of: float32, float16`);let P0={dtype:R2,kv_cache_dtype:b1,device:i1},h5=H.DEFAULT_DTYPE_SUFFIX_MAPPING[R2],v2=`${H1}${h5}.onnx`,w2=`${j1.subfolder??""}/${v2}`,C2={...j1.session_options};C2.executionProviders??=O0;let E5=S1.free_dimension_overrides;if(E5)C2.freeDimensionOverrides??=E5;else if(i1.startsWith("webnn")&&!C2.freeDimensionOverrides)console.warn(`WebNN does not currently support dynamic shapes and requires 'free_dimension_overrides' to be set in config.json, preferably as a field within config["transformers.js_config"]["device_config"]["${i1}"]. When 'free_dimension_overrides' is not set, you may experience significant performance degradation.`);let X4=D.apis.IS_NODE_ENV&&D.env.useFSCache,G7=(0,q.getModelFile)(f,w2,!0,j1,X4),F4=j1.use_external_data_format??S1.use_external_data_format,v5=[];if(F4){let L5;if(typeof F4==="object")if(F4.hasOwnProperty(v2))L5=F4[v2];else if(F4.hasOwnProperty(H1))L5=F4[H1];else L5=!1;else L5=F4;let A7=+L5;if(A7>q.MAX_EXTERNAL_DATA_CHUNKS)throw Error(`The number of external data chunks (${A7}) exceeds the maximum allowed value (${q.MAX_EXTERNAL_DATA_CHUNKS}).`);for(let m3=0;m3<A7;++m3){let _4=`${v2}_data${m3===0?"":"_"+m3}`,m8=`${j1.subfolder??""}/${_4}`;v5.push(new Promise(async(hJ,nY)=>{let A8=await(0,q.getModelFile)(f,m8,!0,j1,X4);hJ(A8 instanceof Uint8Array?{path:_4,data:A8}:_4)}))}}else if(C2.externalData!==void 0)v5=C2.externalData.map(async(L5)=>{if(typeof L5.data==="string"){let A7=await(0,q.getModelFile)(f,L5.data,!0,j1);return{...L5,data:A7}}return L5});if(v5.length>0){let L5=await Promise.all(v5);if(!D.apis.IS_NODE_ENV)C2.externalData=L5}if(i1==="webgpu"){let L5=(0,Y.getCacheShapes)(j1.config,{prefix:"present"});if(Object.keys(L5).length>0&&!(0,$.isONNXProxy)()){let A7={};for(let m3 in L5)A7[m3]="gpu-buffer";C2.preferredOutputLocation=A7}}return{buffer_or_path:await G7,session_options:C2,session_config:P0}}async function S(f,H1,j1){return Object.fromEntries(await Promise.all(Object.keys(H1).map(async(S1)=>{let{buffer_or_path:n1,session_options:i1,session_config:O0}=await T(f,H1[S1],j1),S0=await(0,$.createInferenceSession)(n1,i1,O0);return[S1,S0]})))}async function d(f,H1,j1){return Object.fromEntries(await Promise.all(Object.keys(H1).map(async(S1)=>{let n1=await(0,q.getModelJSON)(f,H1[S1],!1,j1);return[S1,n1]})))}function o(f,H1){let j1=Object.create(null),S1=[];for(let O0 of f.inputNames){let S0=H1[O0];if(!(S0 instanceof F.Tensor)){S1.push(O0);continue}j1[O0]=(0,$.isONNXProxy)()?S0.clone():S0}if(S1.length>0)throw Error(`An error occurred during model execution: "Missing the following inputs: ${S1.join(", ")}.`);let n1=Object.keys(H1).length,i1=f.inputNames.length;if(n1>i1){let O0=Object.keys(H1).filter((S0)=>!f.inputNames.includes(S0));console.warn(`WARNING: Too many inputs were provided (${n1} > ${i1}). The following inputs will be ignored: "${O0.join(", ")}".`)}return j1}async function v(f,H1){let j1=o(f,H1);try{let S1=Object.fromEntries(Object.entries(j1).map(([i1,O0])=>[i1,O0.ort_tensor])),n1=await(0,$.runInferenceSession)(f,S1);return y(n1)}catch(S1){let n1=Object.fromEntries(Object.entries(j1).map(([i1,O0])=>{let S0={type:O0.type,dims:O0.dims,location:O0.location};if(S0.location!=="gpu-buffer")S0.data=O0.data;return[i1,S0]}));throw console.error(`An error occurred during model execution: "${S1}".`),console.error("Inputs given to model:",n1),S1}}function y(f){for(let H1 in f)if((0,$.isONNXTensor)(f[H1]))f[H1]=new F.Tensor(f[H1]);else if(typeof f[H1]==="object")y(f[H1]);return f}function i(f){if(f instanceof F.Tensor)return f;if(f.length===0)throw Error("items must be non-empty");if(Array.isArray(f[0])){if(f.some((H1)=>H1.length!==f[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new F.Tensor("int64",BigInt64Array.from(f.flat().map((H1)=>BigInt(H1))),[f.length,f[0].length])}else return new F.Tensor("int64",BigInt64Array.from(f.map((H1)=>BigInt(H1))),[1,f.length])}function p(f){return new F.Tensor("bool",[f],[1])}async function l(f,H1){let{encoder_outputs:j1,input_ids:S1,decoder_input_ids:n1,...i1}=H1;if(!j1){let S0=(0,B.pick)(H1,f.sessions.model.inputNames);j1=(await t(f,S0)).last_hidden_state}if(i1.input_ids=n1,i1.encoder_hidden_states=j1,f.sessions.decoder_model_merged.inputNames.includes("encoder_attention_mask"))i1.encoder_attention_mask=H1.attention_mask;return await m(f,i1,!0)}async function t(f,H1){let j1=f.sessions.model,S1=(0,B.pick)(H1,j1.inputNames);if(j1.inputNames.includes("inputs_embeds")&&!S1.inputs_embeds){if(!H1.input_ids)throw Error("Both `input_ids` and `inputs_embeds` are missing in the model inputs.");S1.inputs_embeds=await f.encode_text({input_ids:H1.input_ids})}if(j1.inputNames.includes("token_type_ids")&&!S1.token_type_ids){if(!S1.input_ids)throw Error("Both `input_ids` and `token_type_ids` are missing in the model inputs.");S1.token_type_ids=(0,F.zeros_like)(S1.input_ids)}if(j1.inputNames.includes("pixel_mask")&&!S1.pixel_mask){if(!S1.pixel_values)throw Error("Both `pixel_values` and `pixel_mask` are missing in the model inputs.");let n1=S1.pixel_values.dims;S1.pixel_mask=(0,F.ones)([n1[0],n1[2],n1[3]])}return await v(j1,S1)}async function Q1(f,H1){let j1=await f.encode(H1);return await f.decode(j1)}async function m(f,H1,j1=!1){let S1=f.sessions[j1?"decoder_model_merged":"model"],{past_key_values:n1,...i1}=H1;if(S1.inputNames.includes("use_cache_branch"))i1.use_cache_branch=p(!!n1);if(S1.inputNames.includes("position_ids")&&i1.attention_mask&&!i1.position_ids){let S0=["paligemma","gemma3_text","gemma3"].includes(f.config.model_type)?1:0;i1.position_ids=w1(i1,n1,S0)}f.addPastKeyValues(i1,n1);let O0=(0,B.pick)(i1,S1.inputNames);return await v(S1,O0)}function K1({modality_token_id:f,inputs_embeds:H1,modality_features:j1,input_ids:S1,attention_mask:n1}){let i1=S1.tolist().map((R2)=>R2.reduce((J2,b1,P0)=>{if(b1==f)J2.push(P0);return J2},[])),O0=i1.reduce((R2,J2)=>R2+J2.length,0),S0=j1.dims[0];if(O0!==S0)throw Error(`Number of tokens and features do not match: tokens: ${O0}, features ${S0}`);let o0=0;for(let R2=0;R2<i1.length;++R2){let J2=i1[R2],b1=H1[R2];for(let P0=0;P0<J2.length;++P0)b1[J2[P0]].data.set(j1[o0++].data)}return{inputs_embeds:H1,attention_mask:n1}}function g({image_token_id:f,inputs_embeds:H1,image_features:j1,input_ids:S1,attention_mask:n1}){return K1({modality_token_id:f,inputs_embeds:H1,modality_features:j1,input_ids:S1,attention_mask:n1})}function n({audio_token_id:f,inputs_embeds:H1,audio_features:j1,input_ids:S1,attention_mask:n1}){return K1({modality_token_id:f,inputs_embeds:H1,modality_features:j1,input_ids:S1,attention_mask:n1})}async function Z1(f,{encode_function:H1,merge_function:j1,modality_input_name:S1,modality_output_name:n1,input_ids:i1=null,attention_mask:O0=null,position_ids:S0=null,inputs_embeds:o0=null,past_key_values:R2=null,generation_config:J2=null,logits_processor:b1=null,...P0}){let h5=P0[S1];if(!o0){if(o0=await f.encode_text({input_ids:i1,...P0}),h5&&i1.dims[1]!==1){let w2=await H1({[S1]:h5,...P0});({inputs_embeds:o0,attention_mask:O0}=j1({[n1]:w2,inputs_embeds:o0,input_ids:i1,attention_mask:O0}))}else if(R2&&h5&&i1.dims[1]===1){let w2=i1.dims[1],C2=Object.values(R2)[0].dims.at(-2);O0=(0,F.cat)([(0,F.ones)([i1.dims[0],C2]),O0.slice(null,[O0.dims[1]-w2,O0.dims[1]])],1)}}if(!S0){if(f.config.model_type==="qwen2_vl"){let{image_grid_thw:w2,video_grid_thw:C2}=P0;[S0]=f.get_rope_index(i1,w2,C2,O0)}}return await m(f,{inputs_embeds:o0,past_key_values:R2,attention_mask:O0,position_ids:S0,generation_config:J2,logits_processor:b1},!0)}async function J1(f,H1){return await Z1(f,{...H1,modality_input_name:"audio_values",modality_output_name:"audio_features",encode_function:f.encode_audio.bind(f),merge_function:f._merge_input_ids_with_audio_features.bind(f)})}async function z1(f,H1){return await Z1(f,{...H1,modality_input_name:"pixel_values",modality_output_name:"image_features",encode_function:f.encode_image.bind(f),merge_function:f._merge_input_ids_with_image_features.bind(f)})}function V1(f,H1=0){let[j1,S1]=f.dims,n1=f.data,i1=new BigInt64Array(n1.length);for(let O0=0;O0<j1;++O0){let S0=O0*S1,o0=BigInt(H1);for(let R2=0;R2<S1;++R2){let J2=S0+R2;if(n1[J2]===0n)i1[J2]=BigInt(1);else i1[J2]=o0,o0+=n1[J2]}}return{data:i1,dims:f.dims}}function w1(f,H1=null,j1=0){let{input_ids:S1,inputs_embeds:n1,attention_mask:i1}=f,{data:O0,dims:S0}=V1(i1,j1),o0=new F.Tensor("int64",O0,S0);if(H1){let R2=-(S1??n1).dims.at(1);o0=o0.slice(null,[R2,null])}return o0}function m1(f,H1,j1,S1){let n1=j1.past_key_values?Object.values(j1.past_key_values)[0].dims.at(-2):0;if(!j1.attention_mask){let i1;for(let O0 of["input_ids","inputs_embeds","position_ids"])if(j1[O0]){i1=j1[O0].dims;break}if(!i1)throw Error("attention_mask is not provided, and unable to infer its shape from model inputs.");j1.attention_mask=(0,F.ones)([i1[0],n1+i1[1]])}if(j1.past_key_values){let{input_ids:i1,attention_mask:O0}=j1;if(O0&&O0.dims[1]>i1.dims[1]);else if(n1<i1.dims[1])j1.input_ids=i1.slice(null,[n1,null])}return j1}function r1(f,H1,j1,S1){if(j1.past_key_values)H1=H1.map((n1)=>[n1.at(-1)]);return{...j1,decoder_input_ids:i(H1)}}function h1(f,...H1){if(f.config.is_encoder_decoder)return r1(f,...H1);else return m1(f,...H1)}function G1(f,H1,j1,S1){let n1=!!j1.past_key_values;if(S1.guidance_scale!==null&&S1.guidance_scale>1)if(n1)j1.input_ids=(0,F.cat)([j1.input_ids,j1.input_ids],0);else j1.input_ids=(0,F.cat)([j1.input_ids,(0,F.full_like)(j1.input_ids,BigInt(S1.pad_token_id))],0),j1.attention_mask=(0,F.cat)([j1.attention_mask,(0,F.full_like)(j1.attention_mask,0n)],0);if(n1||!j1.pixel_values)j1.pixel_values=(0,F.full)([0,0,3,384,384],1);if(n1)j1.images_seq_mask=new F.Tensor("bool",[,].fill(!0).fill(!1,0,1),[1,1]),j1.images_emb_mask=new F.Tensor("bool",[].fill(!1),[1,1,0]);return j1}class a extends K.Callable{main_input_name="input_ids";forward_params=["input_ids","attention_mask"];constructor(f,H1,j1){super();this.config=f,this.sessions=H1,this.configs=j1;let S1=k.get(this.constructor),n1=b.get(S1);switch(this.can_generate=!1,this._forward=null,this._prepare_inputs_for_generation=null,n1){case I.DecoderOnly:this.can_generate=!0,this._forward=m,this._prepare_inputs_for_generation=m1;break;case I.Seq2Seq:case I.Vision2Seq:case I.Musicgen:this.can_generate=!0,this._forward=l,this._prepare_inputs_for_generation=r1;break;case I.EncoderDecoder:this._forward=l;break;case I.ImageTextToText:this.can_generate=!0,this._forward=z1,this._prepare_inputs_for_generation=h1;break;case I.AudioTextToText:this.can_generate=!0,this._forward=J1,this._prepare_inputs_for_generation=h1;break;case I.Phi3V:case I.ImageAudioTextToText:this.can_generate=!0,this._prepare_inputs_for_generation=h1;break;case I.MultiModality:this.can_generate=!0,this._prepare_inputs_for_generation=G1;break;case I.AutoEncoder:this._forward=Q1;break;default:this._forward=t;break}if(this.can_generate)this.forward_params.push("past_key_values");this.custom_config=this.config["transformers.js_config"]??{}}async dispose(){let f=[];for(let H1 of Object.values(this.sessions))if(H1?.handler?.dispose)f.push(H1.handler.dispose());return await Promise.all(f)}static async from_pretrained(f,{progress_callback:H1=null,config:j1=null,cache_dir:S1=null,local_files_only:n1=!1,revision:i1="main",model_file_name:O0=null,subfolder:S0="onnx",device:o0=null,dtype:R2=null,use_external_data_format:J2=null,session_options:b1={}}={}){let P0={progress_callback:H1,config:j1,cache_dir:S1,local_files_only:n1,revision:i1,model_file_name:O0,subfolder:S0,device:o0,dtype:R2,use_external_data_format:J2,session_options:b1},h5=k.get(this),v2=b.get(h5);j1=P0.config=await Y.AutoConfig.from_pretrained(f,P0);let w2;if(v2===I.DecoderOnly)w2=await Promise.all([S(f,{model:P0.model_file_name??"model"},P0),d(f,{generation_config:"generation_config.json"},P0)]);else if(v2===I.Seq2Seq||v2===I.Vision2Seq)w2=await Promise.all([S(f,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},P0),d(f,{generation_config:"generation_config.json"},P0)]);else if(v2===I.MaskGeneration)w2=await Promise.all([S(f,{model:"vision_encoder",prompt_encoder_mask_decoder:"prompt_encoder_mask_decoder"},P0)]);else if(v2===I.EncoderDecoder)w2=await Promise.all([S(f,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},P0)]);else if(v2===I.ImageTextToText){let C2={embed_tokens:"embed_tokens",vision_encoder:"vision_encoder",decoder_model_merged:"decoder_model_merged"};if(j1.is_encoder_decoder)C2.model="encoder_model";w2=await Promise.all([S(f,C2,P0),d(f,{generation_config:"generation_config.json"},P0)])}else if(v2===I.AudioTextToText){let C2={embed_tokens:"embed_tokens",audio_encoder:"audio_encoder",decoder_model_merged:"decoder_model_merged"};w2=await Promise.all([S(f,C2,P0),d(f,{generation_config:"generation_config.json"},P0)])}else if(v2===I.ImageAudioTextToText){let C2={embed_tokens:"embed_tokens",audio_encoder:"audio_encoder",vision_encoder:"vision_encoder",decoder_model_merged:"decoder_model_merged"};w2=await Promise.all([S(f,C2,P0),d(f,{generation_config:"generation_config.json"},P0)])}else if(v2===I.Musicgen)w2=await Promise.all([S(f,{model:"text_encoder",decoder_model_merged:"decoder_model_merged",encodec_decode:"encodec_decode"},P0),d(f,{generation_config:"generation_config.json"},P0)]);else if(v2===I.MultiModality)w2=await Promise.all([S(f,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"language_model",lm_head:"lm_head",gen_head:"gen_head",gen_img_embeds:"gen_img_embeds",image_decode:"image_decode"},P0),d(f,{generation_config:"generation_config.json"},P0)]);else if(v2===I.Phi3V)w2=await Promise.all([S(f,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"model",vision_encoder:"vision_encoder"},P0),d(f,{generation_config:"generation_config.json"},P0)]);else if(v2===I.AutoEncoder)w2=await Promise.all([S(f,{encoder_model:"encoder_model",decoder_model:"decoder_model"},P0)]);else{if(v2!==I.EncoderOnly){let C2=h5??j1?.model_type;if(C2!=="custom")console.warn(`Model type for '${C2}' not found, assuming encoder-only architecture. Please report this at ${L.GITHUB_ISSUE_URL}.`)}w2=await Promise.all([S(f,{model:P0.model_file_name??"model"},P0)])}return new this(j1,...w2)}async _call(f){return await this.forward(f)}async forward(f){return await this._forward(this,f)}get generation_config(){return this.configs?.generation_config??null}_get_logits_warper(f){let H1=new O.LogitsProcessorList;if(f.temperature!==null&&f.temperature!==1)H1.push(new O.TemperatureLogitsWarper(f.temperature));if(f.top_k!==null&&f.top_k!==0)H1.push(new O.TopKLogitsWarper(f.top_k));if(f.top_p!==null&&f.top_p<1)H1.push(new O.TopPLogitsWarper(f.top_p));return H1}_get_logits_processor(f,H1,j1=null){let S1=new O.LogitsProcessorList;if(f.repetition_penalty!==null&&f.repetition_penalty!==1)S1.push(new O.RepetitionPenaltyLogitsProcessor(f.repetition_penalty));if(f.no_repeat_ngram_size!==null&&f.no_repeat_ngram_size>0)S1.push(new O.NoRepeatNGramLogitsProcessor(f.no_repeat_ngram_size));if(f.bad_words_ids!==null)S1.push(new O.NoBadWordsLogitsProcessor(f.bad_words_ids,f.eos_token_id));if(f.min_length!==null&&f.eos_token_id!==null&&f.min_length>0)S1.push(new O.MinLengthLogitsProcessor(f.min_length,f.eos_token_id));if(f.min_new_tokens!==null&&f.eos_token_id!==null&&f.min_new_tokens>0)S1.push(new O.MinNewTokensLengthLogitsProcessor(H1,f.min_new_tokens,f.eos_token_id));if(f.forced_bos_token_id!==null)S1.push(new O.ForcedBOSTokenLogitsProcessor(f.forced_bos_token_id));if(f.forced_eos_token_id!==null)S1.push(new O.ForcedEOSTokenLogitsProcessor(f.max_length,f.forced_eos_token_id));if(f.begin_suppress_tokens!==null){let n1=H1>1||f.forced_bos_token_id===null?H1:H1+1;S1.push(new O.SuppressTokensAtBeginLogitsProcessor(f.begin_suppress_tokens,n1))}if(f.guidance_scale!==null&&f.guidance_scale>1)S1.push(new O.ClassifierFreeGuidanceLogitsProcessor(f.guidance_scale));if(j1!==null)S1.extend(j1);return S1}_prepare_generation_config(f,H1,j1=z.GenerationConfig){let S1={...this.config};for(let i1 of["decoder","generator","text_config"])if(i1 in S1)Object.assign(S1,S1[i1]);let n1=new j1(S1);if(Object.assign(n1,this.generation_config??{}),f)Object.assign(n1,f);if(H1)Object.assign(n1,(0,B.pick)(H1,Object.getOwnPropertyNames(n1)));return n1}_get_stopping_criteria(f,H1=null){let j1=new M.StoppingCriteriaList;if(f.max_length!==null)j1.push(new M.MaxLengthCriteria(f.max_length,this.config.max_position_embeddings??null));if(f.eos_token_id!==null)j1.push(new M.EosTokenCriteria(f.eos_token_id));if(H1)j1.extend(H1);return j1}_validate_model_class(){if(!this.can_generate){let f=[iB,GO,A9,IH],H1=k.get(this.constructor),j1=new Set,S1=this.config.model_type;for(let i1 of f){let O0=i1.get(S1);if(O0)j1.add(O0[0])}let n1=`The current model class (${H1}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;if(j1.size>0)n1+=` Please use the following class instead: ${[...j1].join(", ")}`;throw Error(n1)}}prepare_inputs_for_generation(...f){return this._prepare_inputs_for_generation(this,...f)}_update_model_kwargs_for_generation({generated_input_ids:f,outputs:H1,model_inputs:j1,is_encoder_decoder:S1}){if(j1.past_key_values=this.getPastKeyValues(H1,j1.past_key_values),j1.input_ids=new F.Tensor("int64",f.flat(),[f.length,1]),!S1)j1.attention_mask=(0,F.cat)([j1.attention_mask,(0,F.ones)([j1.attention_mask.dims[0],1])],1);else if("decoder_attention_mask"in j1);return j1.position_ids=null,j1}_prepare_model_inputs({inputs:f,bos_token_id:H1,model_kwargs:j1}){let S1=(0,B.pick)(j1,this.forward_params),n1=this.main_input_name;if(n1 in S1){if(f)throw Error("`inputs`: {inputs}` were passed alongside {input_name} which is not allowed. Make sure to either pass {inputs} or {input_name}=...")}else S1[n1]=f;return{inputs_tensor:S1[n1],model_inputs:S1,model_input_name:n1}}async _prepare_encoder_decoder_kwargs_for_generation({inputs_tensor:f,model_inputs:H1,model_input_name:j1,generation_config:S1}){if(this.sessions.model.inputNames.includes("inputs_embeds")&&!H1.inputs_embeds&&"_prepare_inputs_embeds"in this){let{input_ids:i1,pixel_values:O0,attention_mask:S0,...o0}=H1,R2=await this._prepare_inputs_embeds(H1);H1={...o0,...(0,B.pick)(R2,["inputs_embeds","attention_mask"])}}let{last_hidden_state:n1}=await t(this,H1);if(S1.guidance_scale!==null&&S1.guidance_scale>1){if(n1=(0,F.cat)([n1,(0,F.full_like)(n1,0)],0),"attention_mask"in H1)H1.attention_mask=(0,F.cat)([H1.attention_mask,(0,F.zeros_like)(H1.attention_mask)],0)}else if(H1.decoder_input_ids){let i1=i(H1.decoder_input_ids).dims[0];if(i1!==n1.dims[0]){if(n1.dims[0]!==1)throw Error(`The encoder outputs have a different batch size (${n1.dims[0]}) than the decoder inputs (${i1}).`);n1=(0,F.cat)(Array.from({length:i1},()=>n1),0)}}return H1.encoder_outputs=n1,H1}_prepare_decoder_input_ids_for_generation({batch_size:f,model_input_name:H1,model_kwargs:j1,decoder_start_token_id:S1,bos_token_id:n1,generation_config:i1}){let{decoder_input_ids:O0,...S0}=j1;if(!(O0 instanceof F.Tensor)){if(!O0)if(S1??=n1,this.config.model_type==="musicgen")O0=Array.from({length:f*this.config.decoder.num_codebooks},()=>[S1]);else if(Array.isArray(S1)){if(S1.length!==f)throw Error(`\`decoder_start_token_id\` expcted to have length ${f} but got ${S1.length}`);O0=S1}else O0=Array.from({length:f},()=>[S1]);else if(!Array.isArray(O0[0]))O0=Array.from({length:f},()=>O0);O0=i(O0)}return j1.decoder_attention_mask=(0,F.ones_like)(O0),{input_ids:O0,model_inputs:S0}}async generate({inputs:f=null,generation_config:H1=null,logits_processor:j1=null,stopping_criteria:S1=null,streamer:n1=null,...i1}){this._validate_model_class(),H1=this._prepare_generation_config(H1,i1);let{inputs_tensor:O0,model_inputs:S0,model_input_name:o0}=this._prepare_model_inputs({inputs:f,model_kwargs:i1}),R2=this.config.is_encoder_decoder;if(!R2);else if(!("encoder_outputs"in S0))S0=await this._prepare_encoder_decoder_kwargs_for_generation({inputs_tensor:O0,model_inputs:S0,model_input_name:o0,generation_config:H1});let J2;if(R2)({input_ids:J2,model_inputs:S0}=this._prepare_decoder_input_ids_for_generation({batch_size:S0[o0].dims.at(0),model_input_name:o0,model_kwargs:S0,decoder_start_token_id:H1.decoder_start_token_id,bos_token_id:H1.bos_token_id,generation_config:H1}));else J2=S0[o0];let b1=J2.dims.at(-1);if(H1.max_new_tokens!==null)H1.max_length=b1+H1.max_new_tokens;let P0=this._get_logits_processor(H1,b1,j1),h5=this._get_stopping_criteria(H1,S1),v2=S0[o0].dims.at(0),w2=j.LogitsSampler.getSampler(H1),C2=Array(v2).fill(0),E5=J2.tolist();if(n1)n1.put(E5);let X4,G7={};while(!0){if(S0=this.prepare_inputs_for_generation(E5,S0,H1),X4=await this.forward(S0),H1.output_attentions&&H1.return_dict_in_generate){let _4=this.getAttentions(X4);for(let m8 in _4){if(!(m8 in G7))G7[m8]=[];G7[m8].push(_4[m8])}}let F7=X4.logits.slice(null,-1,null),L5=P0(E5,F7),A7=[];for(let _4=0;_4<L5.dims.at(0);++_4){let m8=L5[_4],hJ=await w2(m8);for(let[nY,A8]of hJ){let CH=BigInt(nY);C2[_4]+=A8,E5[_4].push(CH),A7.push([CH]);break}}if(n1)n1.put(A7);if(h5(E5).every((_4)=>_4))break;S0=this._update_model_kwargs_for_generation({generated_input_ids:A7,outputs:X4,model_inputs:S0,is_encoder_decoder:R2})}if(n1)n1.end();let F4=this.getPastKeyValues(X4,S0.past_key_values,!0),v5=new F.Tensor("int64",E5.flat(),[E5.length,E5[0].length]);if(H1.return_dict_in_generate)return{sequences:v5,past_key_values:F4,...G7};else{for(let F7 of Object.values(X4))if(F7.location==="gpu-buffer")F7.dispose();return v5}}getPastKeyValues(f,H1,j1=!1){let S1=Object.create(null);for(let n1 in f)if(n1.startsWith("present")){let i1=n1.replace("present_conv","past_conv").replace("present","past_key_values"),O0=n1.includes("encoder");if(O0&&H1)S1[i1]=H1[i1];else S1[i1]=f[n1];if(H1&&(!O0||j1)){let S0=H1[i1];if(S0.location==="gpu-buffer")S0.dispose()}}return S1}getAttentions(f){let H1={};for(let j1 of["cross_attentions","encoder_attentions","decoder_attentions"])for(let S1 in f)if(S1.startsWith(j1)){if(!(j1 in H1))H1[j1]=[];H1[j1].push(f[S1])}return H1}addPastKeyValues(f,H1){if(H1)Object.assign(f,H1);else{let j1=this.sessions.decoder_model_merged??this.sessions.model,S1=(f[this.main_input_name]??f.attention_mask)?.dims?.[0]??1,n1=j1?.config?.kv_cache_dtype??"float32",i1=n1==="float16"?F.DataTypeMap.float16:F.DataTypeMap.float32,O0=(0,Y.getCacheShapes)(this.config,{batch_size:S1});for(let S0 in O0){let o0=O0[S0].reduce((R2,J2)=>R2*J2,1);f[S0]=new F.Tensor(n1,new i1(o0),O0[S0])}}}async encode_image({pixel_values:f}){return(await v(this.sessions.vision_encoder,{pixel_values:f})).image_features}async encode_text({input_ids:f}){return(await v(this.sessions.embed_tokens,{input_ids:f})).inputs_embeds}async encode_audio({audio_values:f}){return(await v(this.sessions.audio_encoder,{audio_values:f})).audio_features}}class M1{}class D1 extends M1{constructor({last_hidden_state:f,hidden_states:H1=null,attentions:j1=null}){super();this.last_hidden_state=f,this.hidden_states=H1,this.attentions=j1}}class g1 extends a{}class u1 extends g1{}class C1 extends g1{async _call(f){return new x4(await super._call(f))}}class x1 extends g1{async _call(f){return new h0(await super._call(f))}}class v1 extends g1{async _call(f){return new B4(await super._call(f))}}class p1 extends g1{async _call(f){return new r4(await super._call(f))}}class y1 extends a{}class P1 extends y1{}class T1 extends y1{async _call(f){return new x4(await super._call(f))}}class j0 extends y1{async _call(f){return new h0(await super._call(f))}}class N0 extends y1{async _call(f){return new B4(await super._call(f))}}class E0 extends y1{async _call(f){return new r4(await super._call(f))}}class H0 extends a{}class A0 extends H0{}class i0 extends H0{async _call(f){return new x4(await super._call(f))}}class D0 extends H0{async _call(f){return new h0(await super._call(f))}}class _0 extends H0{async _call(f){return new B4(await super._call(f))}}class W2 extends a{}class Z2 extends W2{}class t2 extends W2{}class Y1 extends a{}class N1 extends Y1{}class Q0 extends a{}class Z0 extends Q0{}class g0 extends Q0{async _call(f){return new x4(await super._call(f))}}class M2 extends Q0{async _call(f){return new h0(await super._call(f))}}class _2 extends Q0{async _call(f){return new B4(await super._call(f))}}class e2 extends Q0{async _call(f){return new r4(await super._call(f))}}class I2 extends a{}class t0 extends I2{}class S4 extends I2{async _call(f){return new x4(await super._call(f))}}class T4 extends I2{async _call(f){return new h0(await super._call(f))}}class z0 extends I2{async _call(f){return new B4(await super._call(f))}}class L7 extends I2{async _call(f){return new r4(await super._call(f))}}class c extends a{}class L1 extends c{}class $1 extends c{async _call(f){return new x4(await super._call(f))}}class O1 extends c{async _call(f){return new h0(await super._call(f))}}class I1 extends c{async _call(f){return new B4(await super._call(f))}}class d1 extends c{async _call(f){return new r4(await super._call(f))}}class B0 extends a{}class n0 extends B0{}class Y2 extends B0{async _call(f){return new x4(await super._call(f))}}class s1 extends B0{async _call(f){return new h0(await super._call(f))}}class d2 extends B0{async _call(f){return new B4(await super._call(f))}}class j2 extends B0{async _call(f){return new r4(await super._call(f))}}class H4 extends a{}class a5 extends H4{}class O7 extends H4{async _call(f){return new x4(await super._call(f))}}class P4 extends H4{async _call(f){return new h0(await super._call(f))}}class X7 extends H4{async _call(f){return new B4(await super._call(f))}}class X5 extends H4{async _call(f){return new r4(await super._call(f))}}class l7 extends a{}class k6 extends l7{}class C9 extends l7{async _call(f){return new x4(await super._call(f))}}class i4 extends l7{async _call(f){return new h0(await super._call(f))}}class b9 extends l7{async _call(f){return new B4(await super._call(f))}}class v9 extends l7{async _call(f){return new r4(await super._call(f))}}class O4 extends a{}class m6 extends O4{}class U6 extends O4{async _call(f){return new h0(await super._call(f))}}class R7 extends O4{async _call(f){return new B4(await super._call(f))}}class O9 extends O4{async _call(f){return new r4(await super._call(f))}}class E4 extends O4{async _call(f){return new x4(await super._call(f))}}class N5 extends a{}class i7 extends N5{}class L6 extends N5{async _call(f){return new x4(await super._call(f))}}class n7 extends N5{async _call(f){return new h0(await super._call(f))}}class M0 extends N5{async _call(f){return new B4(await super._call(f))}}class w0 extends a{}class a0 extends w0{}class P5 extends w0{async _call(f){return new x4(await super._call(f))}}class x6 extends w0{async _call(f){return new h0(await super._call(f))}}class c6 extends w0{async _call(f){return new r4(await super._call(f))}}class p6 extends a{}class jJ extends p6{}class w3 extends p6{async _call(f){return new x4(await super._call(f))}}class C8 extends p6{async _call(f){return new h0(await super._call(f))}}class E3 extends p6{async _call(f){return new B4(await super._call(f))}}class u extends p6{async _call(f){return new r4(await super._call(f))}}class q1 extends a{}class F1 extends q1{}class E1 extends q1{async _call(f){return new x4(await super._call(f))}}class f1 extends q1{async _call(f){return new h0(await super._call(f))}}class e1 extends q1{async _call(f){return new r4(await super._call(f))}}class v0 extends a{}class y0 extends v0{}class m0 extends v0{async _call(f){return new h0(await super._call(f))}}class T0 extends v0{async _call(f){return new r4(await super._call(f))}}class J5 extends v0{async _call(f){return new x4(await super._call(f))}}class D2 extends a{forward_params=["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"]}class z4 extends D2{}class g4 extends D2{}class N4 extends a{}class a7 extends N4{}class z7 extends N4{}class Y7 extends a{}class s7 extends Y7{}class W4 extends Y7{}class l6 extends a{}class C5 extends l6{}class n4 extends l6{}class N7 extends l6{async _call(f){return new h0(await super._call(f))}}class o7 extends a{}class i6 extends o7{}class g5 extends o7{}class z9 extends o7{async _call(f){return new h0(await super._call(f))}}class a4 extends o7{}class Q4 extends a{}class y4 extends Q4{}class s4 extends Q4{}class C7 extends a{}class k3 extends C7{}class DZ extends C7{}class x3 extends a{}class sG extends x3{}class wZ extends x3{async _call(f){return new x4(await super._call(f))}}class jQ extends x3{async _call(f){return new h0(await super._call(f))}}class mX extends x3{async _call(f){return new B4(await super._call(f))}}class cX extends x3{async _call(f){return new r4(await super._call(f))}}class DJ extends a{}class oG extends DJ{}class rG extends DJ{async _call(f){return new x4(await super._call(f))}}class tG extends DJ{async _call(f){return new h0(await super._call(f))}}class eG extends DJ{async _call(f){return new B4(await super._call(f))}}class wJ extends DJ{async _call(f){return new r4(await super._call(f))}}class R3 extends a{}class pX extends R3{}class lX extends R3{async _call(f){return new x4(await super._call(f))}}class iX extends R3{async _call(f){return new h0(await super._call(f))}}class EZ extends R3{async _call(f){return new B4(await super._call(f))}}class DQ extends R3{async _call(f){return new r4(await super._call(f))}}class f9 extends a{}class b8 extends f9{}class n6 extends f9{}class r7 extends a{requires_attention_mask=!1;main_input_name="input_features";forward_params=["input_features","attention_mask","decoder_input_ids","decoder_attention_mask","past_key_values"]}class EJ extends r7{}class S9 extends r7{_prepare_generation_config(f,H1){return super._prepare_generation_config(f,H1,w.WhisperGenerationConfig)}_retrieve_init_tokens(f){let H1=[f.decoder_start_token_id],j1=f.language,S1=f.task;if(f.is_multilingual){if(!j1)console.warn("No language specified - defaulting to English (en)."),j1="en";let i1=`<|${(0,C.whisper_language_to_code)(j1)}|>`;H1.push(f.lang_to_id[i1]),H1.push(f.task_to_id[S1??"transcribe"])}else if(j1||S1)throw Error("Cannot specify `task` or `language` for an English-only model. If the model is intended to be multilingual, pass `is_multilingual=true` to generate, or update the generation config.");if(!f.return_timestamps&&f.no_timestamps_token_id&&H1.at(-1)!==f.no_timestamps_token_id)H1.push(f.no_timestamps_token_id);else if(f.return_timestamps&&H1.at(-1)===f.no_timestamps_token_id)console.warn("<|notimestamps|> prompt token is removed from generation_config since `return_timestamps` is set to `true`."),H1.pop();return H1.filter((n1)=>n1!=null)}async generate({inputs:f=null,generation_config:H1=null,logits_processor:j1=null,stopping_criteria:S1=null,...n1}){H1=this._prepare_generation_config(H1,n1);let i1=n1.decoder_input_ids??this._retrieve_init_tokens(H1);if(H1.return_timestamps)j1??=new O.LogitsProcessorList,j1.push(new O.WhisperTimeStampLogitsProcessor(H1,i1));if(H1.begin_suppress_tokens)j1??=new O.LogitsProcessorList,j1.push(new O.SuppressTokensAtBeginLogitsProcessor(H1.begin_suppress_tokens,i1.length));if(H1.return_token_timestamps){if(!H1.alignment_heads)throw Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");if(H1.task==="translate")console.warn("Token-level timestamps may not be reliable for task 'translate'.");H1.output_attentions=!0,H1.return_dict_in_generate=!0}let O0=await super.generate({inputs:f,generation_config:H1,logits_processor:j1,decoder_input_ids:i1,...n1});if(H1.return_token_timestamps)O0.token_timestamps=this._extract_token_timestamps(O0,H1.alignment_heads,H1.num_frames);return O0}_extract_token_timestamps(f,H1,j1=null,S1=0.02){if(!f.cross_attentions)throw Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");if(j1==null)console.warn("`num_frames` has not been set, meaning the entire audio will be analyzed. This may lead to inaccurate token-level timestamps for short audios (< 30 seconds).");let n1=this.config.median_filter_width;if(n1===void 0)console.warn("Model config has no `median_filter_width`, using default value of 7."),n1=7;let i1=f.cross_attentions,O0=Array.from({length:this.config.decoder_layers},(v2,w2)=>(0,F.cat)(i1.map((C2)=>C2[w2]),2)),S0=(0,F.stack)(H1.map(([v2,w2])=>{if(v2>=O0.length)throw Error(`Layer index ${v2} is out of bounds for cross attentions (length ${O0.length}).`);return j1?O0[v2].slice(null,w2,null,[0,j1]):O0[v2].slice(null,w2)})).transpose(1,0,2,3),[o0,R2]=(0,F.std_mean)(S0,-2,0,!0),J2=S0.clone();for(let v2=0;v2<J2.dims[0];++v2){let w2=J2[v2];for(let C2=0;C2<w2.dims[0];++C2){let E5=w2[C2],X4=o0[v2][C2][0].data,G7=R2[v2][C2][0].data;for(let F4=0;F4<E5.dims[0];++F4){let v5=E5[F4].data;for(let F7=0;F7<v5.length;++F7)v5[F7]=(v5[F7]-G7[F7])/X4[F7];v5.set((0,A.medianFilter)(v5,n1))}}}let b1=[(0,F.mean)(J2,1)],P0=f.sequences.dims,h5=new F.Tensor("float32",new Float32Array(P0[0]*P0[1]),P0);for(let v2=0;v2<P0[0];++v2){let w2=b1[v2].neg().squeeze_(0),[C2,E5]=(0,A.dynamic_time_warping)(w2.tolist()),X4=Array.from({length:C2.length-1},(v5,F7)=>C2[F7+1]-C2[F7]),G7=(0,B.mergeArrays)([1],X4).map((v5)=>!!v5),F4=[];for(let v5=0;v5<G7.length;++v5)if(G7[v5])F4.push(E5[v5]*S1);h5[v2].data.set(F4,1)}return h5}}class wQ extends S9{}class b7 extends a{requires_attention_mask=!1;main_input_name="input_values";forward_params=["input_values","decoder_input_ids","past_key_values"]}class J$ extends b7{}class kZ extends b7{}class H8 extends a{main_input_name="pixel_values";forward_params=["pixel_values","decoder_input_ids","encoder_hidden_states","past_key_values"]}class xZ extends a{forward_params=["input_ids","attention_mask","pixel_values","position_ids","past_key_values"]}class C3 extends xZ{_merge_input_ids_with_image_features(f){let H1=f.image_features.dims.at(-1),j1=f.image_features.view(-1,H1);return g({image_token_id:this.config.image_token_index,...f,image_features:j1})}}class EQ extends C3{}class kQ extends C3{}class Z$ extends a{forward_params=["input_ids","inputs_embeds","attention_mask","pixel_values","encoder_outputs","decoder_input_ids","decoder_inputs_embeds","decoder_attention_mask","past_key_values"];main_input_name="inputs_embeds"}class xQ extends Z${_merge_input_ids_with_image_features({inputs_embeds:f,image_features:H1,input_ids:j1,attention_mask:S1}){return{inputs_embeds:(0,F.cat)([H1,f],1),attention_mask:(0,F.cat)([(0,F.ones)(H1.dims.slice(0,2)),S1],1)}}async _prepare_inputs_embeds({input_ids:f,pixel_values:H1,inputs_embeds:j1,attention_mask:S1}){if(!f&&!H1)throw Error("Either `input_ids` or `pixel_values` should be provided.");let n1,i1;if(f)n1=await this.encode_text({input_ids:f});if(H1)i1=await this.encode_image({pixel_values:H1});if(n1&&i1)({inputs_embeds:j1,attention_mask:S1}=this._merge_input_ids_with_image_features({inputs_embeds:n1,image_features:i1,input_ids:f,attention_mask:S1}));else j1=n1||i1;return{inputs_embeds:j1,attention_mask:S1}}async forward({input_ids:f,pixel_values:H1,attention_mask:j1,decoder_input_ids:S1,decoder_attention_mask:n1,encoder_outputs:i1,past_key_values:O0,inputs_embeds:S0,decoder_inputs_embeds:o0}){if(!S0)({inputs_embeds:S0,attention_mask:j1}=await this._prepare_inputs_embeds({input_ids:f,pixel_values:H1,inputs_embeds:S0,attention_mask:j1}));if(!i1){let{last_hidden_state:b1}=await t(this,{inputs_embeds:S0,attention_mask:j1});i1=b1}if(!o0){if(!S1)throw Error("Either `decoder_input_ids` or `decoder_inputs_embeds` should be provided.");o0=await this.encode_text({input_ids:S1})}return await m(this,{inputs_embeds:o0,attention_mask:n1,encoder_attention_mask:j1,encoder_hidden_states:i1,past_key_values:O0},!0)}}class T9 extends a{forward_params=["input_ids","attention_mask","pixel_values","position_ids","past_key_values"]}class nX extends T9{_merge_input_ids_with_image_features(f){let H1=f.image_features.dims.at(-1),j1=f.image_features.view(-1,H1);return g({image_token_id:this.config.image_token_index,...f,image_features:j1})}}class RQ extends xZ{_merge_input_ids_with_image_features(f){let H1=f.image_features.dims.at(-1),j1=f.image_features.view(-1,H1);return g({image_token_id:this.config.image_token_index,...f,image_features:j1})}}class RZ extends a{forward_params=["input_ids","attention_mask","inputs_embeds","per_layer_inputs","position_ids","pixel_values","input_features","input_features_mask","past_key_values"]}class W8 extends RZ{async forward({input_ids:f=null,attention_mask:H1=null,pixel_values:j1=null,input_features:S1=null,input_features_mask:n1=null,position_ids:i1=null,inputs_embeds:O0=null,per_layer_inputs:S0=null,past_key_values:o0=null,generation_config:R2=null,logits_processor:J2=null,...b1}){if(!O0||!S0){if({inputs_embeds:O0,per_layer_inputs:S0}=await v(this.sessions.embed_tokens,{input_ids:f}),f.dims[1]!==1){if(j1){let{image_features:h5}=await v(this.sessions.vision_encoder,{pixel_values:j1});({inputs_embeds:O0,attention_mask:H1}=this._merge_input_ids_with_image_features({image_features:h5,inputs_embeds:O0,input_ids:f,attention_mask:H1}))}if(S1){let{audio_features:h5}=await v(this.sessions.audio_encoder,{input_features:S1,input_features_mask:n1});({inputs_embeds:O0,attention_mask:H1}=this._merge_input_ids_with_audio_features({audio_features:h5,inputs_embeds:O0,input_ids:f,attention_mask:H1}))}}}return await m(this,{inputs_embeds:O0,per_layer_inputs:S0,past_key_values:o0,attention_mask:H1,position_ids:i1,generation_config:R2,logits_processor:J2},!0)}_merge_input_ids_with_image_features(f){let H1=f.image_features.dims.at(-1),j1=f.image_features.view(-1,H1);return g({image_token_id:this.config.image_token_id,...f,image_features:j1})}_merge_input_ids_with_audio_features(f){let H1=f.audio_features.dims.at(-1),j1=f.audio_features.view(-1,H1);return n({audio_token_id:this.config.audio_token_id,...f,audio_features:j1})}}class CQ extends a{forward_params=["input_ids","attention_mask","pixel_values","pixel_attention_mask","position_ids","past_key_values"]}class K8 extends CQ{async encode_image({pixel_values:f,pixel_attention_mask:H1}){return(await v(this.sessions.vision_encoder,{pixel_values:f,pixel_attention_mask:H1})).image_features}_merge_input_ids_with_image_features(f){let H1=f.image_features.dims.at(-1),j1=f.image_features.view(-1,H1);return g({image_token_id:this.config.image_token_id,...f,image_features:j1})}}class O6 extends K8{}class bQ extends a{forward_params=["input_ids","inputs_embeds","attention_mask","position_ids","pixel_values","image_sizes","past_key_values"]}class CZ extends bQ{async forward({input_ids:f=null,attention_mask:H1=null,pixel_values:j1=null,image_sizes:S1=null,position_ids:n1=null,inputs_embeds:i1=null,past_key_values:O0=null,generation_config:S0=null,logits_processor:o0=null,...R2}){if(!i1){let b1;if(j1&&f.dims[1]!==1){if(!S1)throw Error("`image_sizes` must be provided when `pixel_values` is provided.");({image_features:b1}=await v(this.sessions.vision_encoder,{pixel_values:j1,image_sizes:S1}))}else{let P0=this.config.normalized_config.hidden_size;b1=new F.Tensor("float32",[],[0,P0])}({inputs_embeds:i1}=await v(this.sessions.prepare_inputs_embeds,{input_ids:f,image_features:b1}))}return await m(this,{inputs_embeds:i1,past_key_values:O0,attention_mask:H1,position_ids:n1,generation_config:S0,logits_processor:o0},!1)}}class B8 extends a{}class P9 extends B8{}class q8 extends B8{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"text_model"})}}class bZ extends B8{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"text_model"})}}class v8 extends B8{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"vision_model"})}}class vQ extends B8{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"vision_model"})}}class vZ extends a{}class b3 extends vZ{}class v3 extends vZ{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"text_model"})}}class aX extends B8{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"vision_model"})}}class f3 extends a{}class fQ extends f3{}class g9 extends a{}class X2 extends g9{async forward(f){let H1=!f.input_ids,j1=!f.pixel_values;if(H1&&j1)throw Error("Either `input_ids` or `pixel_values` should be provided.");if(H1)f.input_ids=(0,F.ones)([f.pixel_values.dims[0],1]);if(j1){let{image_size:o0}=this.config.vision_config;f.pixel_values=(0,F.full)([0,3,o0,o0],0)}let{text_embeddings:S1,image_embeddings:n1,l2norm_text_embeddings:i1,l2norm_image_embeddings:O0}=await super.forward(f),S0={};if(!H1)S0.text_embeddings=S1,S0.l2norm_text_embeddings=i1;if(!j1)S0.image_embeddings=n1,S0.l2norm_image_embeddings=O0;return S0}}class y9 extends g9{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"text_model"})}}class fZ extends g9{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"vision_model"})}}class kJ extends a{}class U8 extends kJ{}class z6 extends kJ{}class a6 extends a{}class s5 extends a6{}class xJ extends a6{}class SZ extends a{}class TZ extends SZ{}class h9 extends SZ{}class f8 extends a{}class N9 extends f8{}class RJ extends f8{}class u9 extends a{}class CJ extends u9{}class bJ extends u9{}class PZ extends a{}class s6 extends PZ{}class o6 extends PZ{}class S3 extends a{}class sX extends S3{}class x extends S3{}class h extends a{}class r extends h{}class X1 extends h{}class B1 extends a{}class R1 extends B1{}class $0 extends B1{}class V0 extends a{}class d0 extends V0{}class Q2 extends a{}class y2 extends Q2{}class H5 extends Q2{}class _5 extends a{}class K4 extends _5{}class N6 extends _5{}class T3 extends a{}class oX extends T3{}class SQ extends T3{}class gZ extends a{}class FK extends gZ{}class _L extends gZ{}class Q$ extends a{}class AK extends Q${}class X$ extends Q${}class rX extends a{}class W5 extends rX{}class C0 extends rX{}class vJ extends a{}class tX extends vJ{}class o4 extends vJ{}class eX extends a{}class Y$ extends eX{}class MK extends eX{}class JY extends a{}class VL extends JY{}class G$ extends JY{}class ZY extends a{}class $$ extends ZY{}class R6 extends ZY{}class y5 extends a{}class H$ extends y5{}class TQ extends y5{}class S8 extends a{}class fJ extends S8{}class d9 extends S8{}class QY extends a{}class yZ extends QY{}class W$ extends QY{}class hZ extends a{}class K$ extends hZ{}class XY extends hZ{}class B$ extends a{}class _K extends B${}class VK extends B${}class q$ extends a{}class IK extends q${}class U$ extends q${}class YY extends a{}class L$ extends YY{}class jK extends YY{}class O$ extends a{}class DK extends O${}class IL extends O${}class wK extends a{forward_params=["input_ids","attention_mask","position_ids","past_key_values","pixel_values","image_grid_thw"]}class EK extends wK{get_rope_index(f,H1,j1,S1){let{vision_config:n1,image_token_id:i1,video_token_id:O0,vision_start_token_id:S0}=this.config,o0=n1.spatial_merge_size??2,R2=[];if(H1||j1){let J2=f.tolist();if(!S1)S1=(0,F.ones_like)(f);let b1=S1.tolist(),P0=Array.from({length:3},(E5)=>Array.from({length:f.dims[0]},(X4)=>Array.from({length:f.dims[1]},(G7)=>1))),h5=H1?H1.tolist():[],v2=j1?j1.tolist():[],w2=0,C2=0;for(let E5=0;E5<J2.length;++E5){let X4=J2[E5].filter((V4,S7)=>b1[E5][S7]==1),F4=X4.reduce((V4,S7,p9)=>{if(S7==S0)V4.push(p9);return V4},[]).map((V4)=>X4[V4+1]),v5=F4.filter((V4)=>V4==i1).length,F7=F4.filter((V4)=>V4==O0).length,L5=[],A7=0,m3=v5,_4=F7;for(let V4=0;V4<F4.length;++V4){let S7=X4.findIndex((_9,n9)=>n9>A7&&_9==i1),p9=X4.findIndex((_9,n9)=>n9>A7&&_9==O0),$7=m3>0&&S7!==-1?S7:X4.length+1,p0=_4>0&&p9!==-1?p9:X4.length+1,l9,i9,F6,EO;if($7<p0)[i9,F6,EO]=h5[w2],++w2,--m3,l9=$7;else[i9,F6,EO]=v2[C2],++C2,--_4,l9=p0;let[$V,aY,ZX]=[Number(i9),Math.floor(Number(F6)/o0),Math.floor(Number(EO)/o0)],J9=l9-A7,M8=L5.length>0?(0,A.max)(L5.at(-1))[0]+1:0;L5.push(Array.from({length:3*J9},(_9,n9)=>M8+n9%J9));let _8=J9+M8,QX=$V*aY*ZX,rZ=Array.from({length:QX},(_9,n9)=>_8+Math.floor(n9/(aY*ZX))),b6=Array.from({length:QX},(_9,n9)=>_8+Math.floor(n9/ZX)%aY),M9=Array.from({length:QX},(_9,n9)=>_8+n9%ZX);L5.push([rZ,b6,M9].flat()),A7=l9+QX}if(A7<X4.length){let V4=L5.length>0?(0,A.max)(L5.at(-1))[0]+1:0,S7=X4.length-A7;L5.push(Array.from({length:3*S7},(p9,$7)=>V4+$7%S7))}let m8=L5.reduce((V4,S7)=>V4+S7.length,0),hJ=Array(m8),nY=0;for(let V4=0;V4<3;++V4)for(let S7=0;S7<L5.length;++S7){let p9=L5[S7],$7=p9.length/3;for(let p0=V4*$7;p0<(V4+1)*$7;++p0)hJ[nY++]=p9[p0]}let A8=0,CH=b1[E5];for(let V4=0;V4<CH.length;++V4)if(CH[V4]==1){for(let S7=0;S7<3;++S7)P0[S7][E5][V4]=hJ[S7*m8/3+A8];++A8}let wO=(0,A.max)(hJ)[0];R2.push(wO+1-J2[E5].length)}return[new F.Tensor("int64",P0.flat(1/0),[3,f.dims[0],f.dims[1]]),new F.Tensor("int64",R2,[R2.length,1])]}else if(S1){let{data:J2,dims:b1}=V1(S1),P0=BigInt64Array.from({length:3*J2.length},(v2,w2)=>J2[w2%J2.length]),h5=Array.from({length:b1[0]},(v2,w2)=>(0,A.max)(J2.subarray(b1[1]*w2,b1[1]*(w2+1)))[0]+1n+BigInt(b1[1]));return[new F.Tensor("int64",P0,[3,...b1]),new F.Tensor("int64",h5,[h5.length,1])]}else{let[J2,b1]=f.dims,P0=BigInt64Array.from({length:3*J2*b1},(h5,v2)=>BigInt(Math.floor(v2%b1/J2)));return[new F.Tensor("int64",P0,[3,...f.dims]),(0,F.zeros)([J2,1])]}}async encode_image({pixel_values:f,image_grid_thw:H1}){return(await v(this.sessions.vision_encoder,{pixel_values:f,grid_thw:H1})).image_features}_merge_input_ids_with_image_features(f){return g({image_token_id:this.config.image_token_id,...f})}prepare_inputs_for_generation(f,H1,j1){if(H1.attention_mask&&!H1.position_ids)if(!H1.past_key_values)[H1.position_ids,H1.rope_deltas]=this.get_rope_index(H1.input_ids,H1.image_grid_thw,H1.video_grid_thw,H1.attention_mask);else{H1.pixel_values=null;let S1=BigInt(Object.values(H1.past_key_values)[0].dims.at(-2)),n1=H1.rope_deltas.map((i1)=>S1+i1);H1.position_ids=(0,F.stack)([n1,n1,n1],0)}return H1}}class z$ extends a{}class N$ extends z${}class kK extends z${}class F$ extends a{}class uZ extends F${}class GY extends F${}class A$ extends a{}class jL extends A${}class $Y extends A${}class SJ extends a{}class HY extends SJ{}class M$ extends SJ{}class P3 extends a{}class C6 extends P3{}class WY extends P3{}class KY extends a{}class xK extends KY{}class _$ extends KY{async _call(f){return new h0(await super._call(f))}}class PQ extends a{}class V$ extends PQ{}class BY extends PQ{async _call(f){return new h0(await super._call(f))}}class I$ extends a{}class qY extends I${}class UY extends a{}class RK extends UY{}class CK extends UY{async _call(f){return new h0(await super._call(f))}}class j$ extends a{}class bK extends j${}class D$ extends a{}class w$ extends D${}class vK extends D${async _call(f){return new h0(await super._call(f))}}class fK extends a{}class E$ extends fK{}class k$ extends a{}class SK extends k${}class TJ extends k${async _call(f){return new h0(await super._call(f))}}class x$ extends a{}class R$ extends x${async _call(f){return new DO(await super._call(f))}}class TK extends a{}class DL extends TK{}class PK extends TK{async _call(f){return new h0(await super._call(f))}}class dZ extends a{}class C$ extends dZ{}class LY extends dZ{async _call(f){return new h0(await super._call(f))}}class b$ extends a{}class gK extends b${}class t7 extends b${}class gQ extends a{}class OY extends gQ{}class yQ extends gQ{}class hQ extends a{}class zY extends hQ{}class NY extends hQ{async _call(f){return new h0(await super._call(f))}}class FY extends a{}class g3 extends FY{}class yK extends FY{async _call(f){return new L8(await super._call(f))}}class T8 extends FY{async _call(f){return new AY(await super._call(f))}}class L8 extends M1{constructor({logits:f,pred_boxes:H1}){super();this.logits=f,this.pred_boxes=H1}}class AY extends M1{constructor({logits:f,pred_boxes:H1,pred_masks:j1}){super();this.logits=f,this.pred_boxes=H1,this.pred_masks=j1}}class MY extends a{}class v$ extends MY{}class hK extends MY{async _call(f){return new uQ(await super._call(f))}}class uQ extends M1{constructor({logits:f,pred_boxes:H1}){super();this.logits=f,this.pred_boxes=H1}}class y3 extends a{}class uK extends y3{}class dK extends y3{async _call(f){return new mK(await super._call(f))}}class mK extends uQ{}class dQ extends a{}class cK extends dQ{}class f$ extends dQ{async _call(f){return new S$(await super._call(f))}}class S$ extends uQ{}class _Y extends a{}class wL extends _Y{}class e7 extends _Y{async _call(f){return new uQ(await super._call(f))}}class T$ extends a{}class pK extends T${}class lK extends T${async _call(f){return new iK(await super._call(f))}}class iK extends L8{}class P$ extends a{}class VY extends P${}class g$ extends P${async _call(f){return new h0(await super._call(f))}}class y$ extends a{}class nK extends y${}class aK extends y${async _call(f){return new h0(await super._call(f))}}class IY extends a{}class h$ extends IY{}class u$ extends IY{async _call(f){return new h0(await super._call(f))}}class jY extends a{}class d$ extends jY{}class DY extends jY{async _call(f){return new h0(await super._call(f))}}class m$ extends jY{}class c$ extends a{}class sK extends c${}class p$ extends c${}class l$ extends a{}class P8 extends l${}class i$ extends l${}class EL extends a{}class n$ extends EL{}class m9 extends a{}class oK extends m9{}class wY extends m9{}class mQ extends m9{}class M4 extends a{}class kL extends M4{}class xL extends a{}class rK extends xL{}class O8 extends a{}class tK extends O8{}class EY extends a{}class cQ extends EY{}class mZ extends EY{}class a$ extends a{}class s$ extends a${}class eK extends a${}class RL extends a{}class CL extends RL{}class o$ extends a{}class bL extends o${}class pQ extends o${async _call(f){return new h0(await super._call(f))}}class c9 extends a{}class JB extends c9{}class vL extends c9{async _call(f){return new h0(await super._call(f))}}class r$ extends a{}class t$ extends r${}class ZB extends r${async _call(f){return new h0(await super._call(f))}}class kY extends a{}class e$ extends kY{}class xY extends kY{async _call(f){return new h0(await super._call(f))}}class fL extends a{}class QB extends fL{}class SL extends a{}class XB extends SL{}class YB extends a{}class g8 extends YB{}class JH extends a{}class GB extends JH{}class TL extends JH{async _call(f){return new ZH(await super._call(f))}}class ZH extends M1{constructor({logits:f,pred_boxes:H1}){super();this.logits=f,this.pred_boxes=H1}}class r6 extends a{}class $B extends r6{async get_image_embeddings({pixel_values:f}){return await t(this,{pixel_values:f})}async forward(f){if(!f.image_embeddings||!f.image_positional_embeddings)f={...f,...await this.get_image_embeddings(f)};if(!f.input_labels&&f.input_points){let j1=f.input_points.dims.slice(0,-1),S1=j1.reduce((n1,i1)=>n1*i1,1);f.input_labels=new F.Tensor("int64",new BigInt64Array(S1).fill(1n),j1)}let H1={image_embeddings:f.image_embeddings,image_positional_embeddings:f.image_positional_embeddings};if(f.input_points)H1.input_points=f.input_points;if(f.input_labels)H1.input_labels=f.input_labels;if(f.input_boxes)H1.input_boxes=f.input_boxes;return await v(this.sessions.prompt_encoder_mask_decoder,H1)}async _call(f){return new t6(await super._call(f))}}class t6 extends M1{constructor({iou_scores:f,pred_masks:H1}){super();this.iou_scores=f,this.pred_masks=H1}}class QH extends a{}class y8 extends QH{}class HB extends QH{}class h3 extends a{}class WB extends h3{}class h8 extends h3{}class u8 extends a{}class XH extends u8{}class z8 extends u8{async _call(f){return new d8(await super._call(f))}}class KB extends u8{async _call(f){return new h0(await super._call(f))}}class cZ extends u8{async _call(f){return new B4(await super._call(f))}}class YH extends a{}class lQ extends YH{}class pZ extends YH{async _call(f){return new B4(await super._call(f))}}class BB extends a{}class qB extends BB{}class PJ extends a{}class UB extends PJ{}class RY extends PJ{async _call(f){return new d8(await super._call(f))}}class LB extends PJ{async _call(f){return new h0(await super._call(f))}}class iQ extends a{}class PL extends iQ{}class OB extends iQ{async _call(f){return new d8(await super._call(f))}}class e6 extends iQ{async _call(f){return new h0(await super._call(f))}}class zB extends iQ{async _call(f){return new B4(await super._call(f))}}class k4 extends a{}class NB extends k4{}class FB extends k4{async _call(f){return new d8(await super._call(f))}}class gL extends k4{async _call(f){return new h0(await super._call(f))}}class gJ extends a{}class lZ extends u8{}class GH extends u8{async _call(f){return new d8(await super._call(f))}}class iZ extends u8{async _call(f){return new h0(await super._call(f))}}class nZ extends a{}class AB extends nZ{}class MB extends nZ{async _call(f){return new d8(await super._call(f))}}class $H extends nZ{async _call(f){return new h0(await super._call(f))}}class HH extends nZ{async _call(f){return new jO(await super._call(f))}}class _B extends nZ{async _call(f){return new B4(await super._call(f))}}class yL extends a{}class hL extends yL{}class CY extends a{}class uL extends CY{}class dL extends CY{}class aZ extends CY{async generate_speech(f,H1,{threshold:j1=0.5,minlenratio:S1=0,maxlenratio:n1=20,vocoder:i1=null}={}){let O0={input_ids:f},{encoder_outputs:S0,encoder_attention_mask:o0}=await t(this,O0),R2=S0.dims[1]/this.config.reduction_factor,J2=Math.floor(R2*n1),b1=Math.floor(R2*S1),P0=this.config.num_mel_bins,h5=[],v2=null,w2=null,C2=0;while(!0){++C2;let G7=p(!!w2),F4;if(w2)F4=w2.output_sequence_out;else F4=new F.Tensor("float32",new Float32Array(P0),[1,1,P0]);let v5={use_cache_branch:G7,output_sequence:F4,encoder_attention_mask:o0,speaker_embeddings:H1,encoder_hidden_states:S0};this.addPastKeyValues(v5,v2),w2=await v(this.sessions.decoder_model_merged,v5),v2=this.getPastKeyValues(w2,v2);let{prob:F7,spectrum:L5}=w2;if(h5.push(L5),C2>=b1&&(Array.from(F7.data).filter((A7)=>A7>=j1).length>0||C2>=J2))break}let E5=(0,F.cat)(h5),{waveform:X4}=await v(i1.sessions.model,{spectrogram:E5});return{spectrogram:E5,waveform:X4}}}class bY extends a{main_input_name="spectrogram"}class VB extends a{}class WH extends VB{}class KH extends a{}class IB extends KH{}class jB extends KH{}class DB extends a{}class wB extends DB{}class nQ extends DB{}class BH extends a{}class EB extends BH{}class o5 extends BH{}class vY extends a{}class mL extends vY{}class kB extends vY{}class qH extends a{}class cL extends qH{}class UH extends qH{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"text_model"})}}class xB extends qH{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"audio_model"})}}class RB extends a{}class LH extends RB{async _call(f){return new RH(await super._call(f))}}class yJ extends a{}class XF extends yJ{}class pL extends yJ{}class N8 extends yJ{}class sZ extends a{}class lL extends sZ{}class OH extends sZ{}class zH extends a{}class CB extends zH{}class bB extends zH{async _call(f){return new h0(await super._call(f))}}class fY extends a{}class iL extends fY{}class vB extends fY{}class NH extends a{forward_params=["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"];_apply_and_filter_by_delay_pattern_mask(f){let[H1,j1]=f.dims,S1=this.config.decoder.num_codebooks,n1=j1-S1,i1=0;for(let o0=0;o0<f.size;++o0){if(f.data[o0]===this.config.decoder.pad_token_id)continue;let R2=o0%j1,J2=Math.floor(o0/j1)%S1,b1=R2-J2;if(b1>0&&b1<=n1)f.data[i1++]=f.data[o0]}let O0=Math.floor(H1/S1),S0=i1/(O0*S1);return new F.Tensor(f.type,f.data.slice(0,i1),[O0,S1,S0])}prepare_inputs_for_generation(f,H1,j1){let S1=structuredClone(f);for(let i1=0;i1<S1.length;++i1)for(let O0=0;O0<S1[i1].length;++O0)if(i1%this.config.decoder.num_codebooks>=O0)S1[i1][O0]=BigInt(this.config.decoder.pad_token_id);if(j1.guidance_scale!==null&&j1.guidance_scale>1)S1=S1.concat(S1);return super.prepare_inputs_for_generation(S1,H1,j1)}async generate(f){let H1=await super.generate(f),j1=this._apply_and_filter_by_delay_pattern_mask(H1).unsqueeze_(0),{audio_values:S1}=await v(this.sessions.encodec_decode,{audio_codes:j1});return S1}}class SY extends a{}class nL extends SY{}class TY extends SY{async _call(f){return new h0(await super._call(f))}}class fB extends SY{}class Y5 extends a{}class FH extends Y5{}class AH extends Y5{async _call(f){return new h0(await super._call(f))}}class SB extends Y5{}class aQ extends a{}class sQ extends aQ{}class PY extends aQ{async _call(f){return new h0(await super._call(f))}}class oZ extends aQ{}class gY extends a{}class MH extends gY{}class v7 extends gY{async _call(f){return new h0(await super._call(f))}}class aL extends gY{}class F8 extends a{}class TB extends F8{}class u3 extends a{}class PB extends u3{forward_params=["input_ids","pixel_values","images_seq_mask","images_emb_mask","attention_mask","position_ids","past_key_values"];constructor(...f){super(...f);this._generation_mode="text"}async forward(f){let H1=this._generation_mode??"text",j1;if(H1==="text"||!f.past_key_values){let S0=this.sessions.prepare_inputs_embeds,o0=(0,B.pick)(f,S0.inputNames);j1=await v(S0,o0)}else{let S0=this.sessions.gen_img_embeds,o0=(0,B.pick)({image_ids:f.input_ids},S0.inputNames);j1=await v(S0,o0)}let S1={...f,...j1},n1=await m(this,S1),i1=this.sessions[H1==="text"?"lm_head":"gen_head"];if(!i1)throw Error(`Unable to find "${i1}" generation head`);let O0=await v(i1,(0,B.pick)(n1,i1.inputNames));return{...j1,...n1,...O0}}async generate(f){return this._generation_mode="text",super.generate(f)}async generate_images(f){this._generation_mode="image";let H1=(f.inputs??f[this.main_input_name]).dims[1],S1=(await super.generate(f)).slice(null,[H1,null]),n1=this.sessions.image_decode,{decoded_image:i1}=await v(n1,{generated_tokens:S1}),O0=i1.add_(1).mul_(127.5).clamp_(0,255).to("uint8"),S0=[];for(let o0 of O0){let R2=V.RawImage.fromTensor(o0);S0.push(R2)}return S0}}class yY extends M1{constructor({char_logits:f,bpe_logits:H1,wp_logits:j1}){super();this.char_logits=f,this.bpe_logits=H1,this.wp_logits=j1}get logits(){return[this.char_logits,this.bpe_logits,this.wp_logits]}}class r5 extends a{}class _H extends r5{async _call(f){return new yY(await super._call(f))}}class f7 extends a{}class sL extends f7{}class gB extends f7{}class hY extends a{}class yB extends hY{}class F9 extends hY{}class hB extends a{forward_params=["input_ids","attention_mask","position_ids","audio_values","past_key_values"]}class uY extends hB{_merge_input_ids_with_audio_features(f){let H1=f.audio_features.dims.at(-1),j1=f.audio_features.view(-1,H1);return n({audio_token_id:this.config.ignore_index??this.config.audio_token_id,...f,audio_features:j1})}}class uB extends uY{}class oQ extends a{main_input_name="input_values";forward_params=["input_values"]}class dB extends M1{constructor({audio_codes:f}){super();this.audio_codes=f}}class oL extends M1{constructor({audio_values:f}){super();this.audio_values=f}}class dY extends oQ{async encode(f){return new dB(await v(this.sessions.encoder_model,f))}async decode(f){return new oL(await v(this.sessions.decoder_model,f))}}class mB extends oQ{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"encoder_model"})}}class cB extends oQ{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"decoder_model"})}}class rQ extends a{main_input_name="input_values";forward_params=["input_values"]}class rL extends M1{constructor({audio_codes:f}){super();this.audio_codes=f}}class tL extends M1{constructor({audio_values:f}){super();this.audio_values=f}}class eL extends rQ{async encode(f){return new rL(await v(this.sessions.encoder_model,f))}async decode(f){return new tL(await v(this.sessions.decoder_model,f))}}class JO extends rQ{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"encoder_model"})}}class pB extends rQ{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"decoder_model"})}}class VH extends a{main_input_name="input_values";forward_params=["input_values"]}class d3 extends VH{async encode(f){return await v(this.sessions.encoder_model,f)}async decode(f){return await v(this.sessions.decoder_model,f)}}class ZO extends VH{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"encoder_model"})}}class QO extends VH{static async from_pretrained(f,H1={}){return super.from_pretrained(f,{...H1,model_file_name:H1.model_file_name??"decoder_model"})}}class b5{static MODEL_CLASS_MAPPINGS=null;static BASE_IF_FAIL=!1;static async from_pretrained(f,{progress_callback:H1=null,config:j1=null,cache_dir:S1=null,local_files_only:n1=!1,revision:i1="main",model_file_name:O0=null,subfolder:S0="onnx",device:o0=null,dtype:R2=null,use_external_data_format:J2=null,session_options:b1={}}={}){let P0={progress_callback:H1,config:j1,cache_dir:S1,local_files_only:n1,revision:i1,model_file_name:O0,subfolder:S0,device:o0,dtype:R2,use_external_data_format:J2,session_options:b1};if(P0.config=await Y.AutoConfig.from_pretrained(f,P0),!this.MODEL_CLASS_MAPPINGS)throw Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);let h5=P0.config.model_type;for(let v2 of this.MODEL_CLASS_MAPPINGS){let w2=v2.get(h5);if(!w2){for(let C2 of v2.values())if(C2[0]===h5){w2=C2;break}if(!w2)continue}return await w2[1].from_pretrained(f,P0)}if(this.BASE_IF_FAIL){if(!qF.has(h5))console.warn(`Unknown model class "${h5}", attempting to construct from base class.`);return await a.from_pretrained(f,P0)}else throw Error(`Unsupported model type: ${h5}`)}}let JV=new Map([["bert",["BertModel",u1]],["neobert",["NeoBertModel",P1]],["modernbert",["ModernBertModel",A0]],["nomic_bert",["NomicBertModel",N1]],["roformer",["RoFormerModel",Z0]],["electra",["ElectraModel",L1]],["esm",["EsmModel",i7]],["convbert",["ConvBertModel",t0]],["camembert",["CamembertModel",n0]],["deberta",["DebertaModel",a5]],["deberta-v2",["DebertaV2Model",k6]],["mpnet",["MPNetModel",jJ]],["albert",["AlbertModel",y0]],["distilbert",["DistilBertModel",m6]],["roberta",["RobertaModel",sG]],["xlm",["XLMModel",oG]],["xlm-roberta",["XLMRobertaModel",pX]],["clap",["ClapModel",cL]],["clip",["CLIPModel",P9]],["clipseg",["CLIPSegModel",U8]],["chinese_clip",["ChineseCLIPModel",fQ]],["siglip",["SiglipModel",b3]],["jina_clip",["JinaCLIPModel",X2]],["mobilebert",["MobileBertModel",a0]],["squeezebert",["SqueezeBertModel",F1]],["wav2vec2",["Wav2Vec2Model",XH]],["wav2vec2-bert",["Wav2Vec2BertModel",NB]],["unispeech",["UniSpeechModel",UB]],["unispeech-sat",["UniSpeechSatModel",PL]],["hubert",["HubertModel",lZ]],["wavlm",["WavLMModel",AB]],["audio-spectrogram-transformer",["ASTModel",b8]],["vits",["VitsModel",LH]],["pyannote",["PyAnnoteModel",lQ]],["wespeaker-resnet",["WeSpeakerResNetModel",qB]],["detr",["DetrModel",g3]],["rt_detr",["RTDetrModel",v$]],["rt_detr_v2",["RTDetrV2Model",uK]],["rf_detr",["RFDetrModel",cK]],["d_fine",["DFineModel",wL]],["table-transformer",["TableTransformerModel",pK]],["vit",["ViTModel",xK]],["ijepa",["IJepaModel",V$]],["pvt",["PvtModel",RK]],["vit_msn",["ViTMSNModel",w$]],["vit_mae",["ViTMAEModel",bK]],["groupvit",["GroupViTModel",E$]],["fastvit",["FastViTModel",SK]],["mobilevit",["MobileViTModel",DL]],["mobilevitv2",["MobileViTV2Model",C$]],["owlvit",["OwlViTModel",gK]],["owlv2",["Owlv2Model",OY]],["beit",["BeitModel",zY]],["deit",["DeiTModel",VY]],["hiera",["HieraModel",nK]],["convnext",["ConvNextModel",bL]],["convnextv2",["ConvNextV2Model",JB]],["dinov2",["Dinov2Model",t$]],["dinov2_with_registers",["Dinov2WithRegistersModel",e$]],["dinov3_vit",["DINOv3ViTModel",QB]],["dinov3_convnext",["DINOv3ConvNextModel",XB]],["resnet",["ResNetModel",h$]],["swin",["SwinModel",d$]],["swin2sr",["Swin2SRModel",sK]],["donut-swin",["DonutSwinModel",CL]],["yolos",["YolosModel",GB]],["dpt",["DPTModel",P8]],["glpn",["GLPNModel",s$]],["hifigan",["SpeechT5HifiGan",bY]],["efficientnet",["EfficientNetModel",CB]],["decision_transformer",["DecisionTransformerModel",TB]],["patchtst",["PatchTSTForPrediction",sL]],["patchtsmixer",["PatchTSMixerForPrediction",yB]],["mobilenet_v1",["MobileNetV1Model",nL]],["mobilenet_v2",["MobileNetV2Model",FH]],["mobilenet_v3",["MobileNetV3Model",sQ]],["mobilenet_v4",["MobileNetV4Model",MH]],["maskformer",["MaskFormerModel",cQ]],["mgp-str",["MgpstrForSceneTextRecognition",_H]],["style_text_to_speech_2",["StyleTextToSpeech2Model",hL]]]),ZV=new Map([["t5",["T5Model",z4]],["longt5",["LongT5Model",a7]],["mt5",["MT5Model",s7]],["bart",["BartModel",C5]],["mbart",["MBartModel",i6]],["marian",["MarianModel",y8]],["whisper",["WhisperModel",EJ]],["m2m_100",["M2M100Model",WB]],["blenderbot",["BlenderbotModel",y4]],["blenderbot-small",["BlenderbotSmallModel",k3]]]),QV=new Map([["mimi",["MimiModel",dY]],["dac",["DacModel",eL]],["snac",["SnacModel",d3]]]),XV=new Map([["bloom",["BloomModel",jL]],["jais",["JAISModel",TZ]],["gpt2",["GPT2Model",s5]],["gptj",["GPTJModel",s6]],["gpt_bigcode",["GPTBigCodeModel",sX]],["gpt_neo",["GPTNeoModel",N9]],["gpt_neox",["GPTNeoXModel",CJ]],["codegen",["CodeGenModel",r]],["llama",["LlamaModel",R1]],["arcee",["ArceeModel",y2]],["lfm2",["Lfm2Model",K4]],["smollm3",["SmolLM3Model",oX]],["exaone",["ExaoneModel",W5]],["olmo",["OlmoModel",Y$]],["olmo2",["Olmo2Model",VL]],["mobilellm",["MobileLLMModel",tX]],["granite",["GraniteModel",$$]],["cohere",["CohereModel",H$]],["gemma",["GemmaModel",fJ]],["gemma2",["Gemma2Model",yZ]],["vaultgemma",["VaultGemmaModel",K$]],["gemma3_text",["Gemma3Model",_K]],["helium",["HeliumModel",FK]],["glm",["GlmModel",AK]],["openelm",["OpenELMModel",IK]],["qwen2",["Qwen2Model",L$]],["qwen3",["Qwen3Model",DK]],["phi",["PhiModel",N$]],["phi3",["Phi3Model",uZ]],["mpt",["MptModel",HY]],["opt",["OPTModel",C6]],["mistral",["MistralModel",IB]],["ernie4_5",["Ernie4_5_Model",wB]],["starcoder2",["Starcoder2Model",EB]],["falcon",["FalconModel",mL]],["stablelm",["StableLmModel",lL]],["modernbert-decoder",["ModernBertDecoderModel",Z2]]]),IH=new Map([["speecht5",["SpeechT5ForSpeechToText",dL]],["whisper",["WhisperForConditionalGeneration",S9]],["lite-whisper",["LiteWhisperForConditionalGeneration",wQ]],["moonshine",["MoonshineForConditionalGeneration",kZ]]]),YF=new Map([["speecht5",["SpeechT5ForTextToSpeech",aZ]]]),GF=new Map([["vits",["VitsModel",LH]],["musicgen",["MusicgenForConditionalGeneration",NH]]]),lB=new Map([["bert",["BertForSequenceClassification",x1]],["neobert",["NeoBertForSequenceClassification",j0]],["modernbert",["ModernBertForSequenceClassification",D0]],["roformer",["RoFormerForSequenceClassification",M2]],["electra",["ElectraForSequenceClassification",O1]],["esm",["EsmForSequenceClassification",n7]],["convbert",["ConvBertForSequenceClassification",T4]],["camembert",["CamembertForSequenceClassification",s1]],["deberta",["DebertaForSequenceClassification",P4]],["deberta-v2",["DebertaV2ForSequenceClassification",i4]],["mpnet",["MPNetForSequenceClassification",C8]],["albert",["AlbertForSequenceClassification",m0]],["distilbert",["DistilBertForSequenceClassification",U6]],["roberta",["RobertaForSequenceClassification",jQ]],["xlm",["XLMForSequenceClassification",tG]],["xlm-roberta",["XLMRobertaForSequenceClassification",iX]],["bart",["BartForSequenceClassification",N7]],["mbart",["MBartForSequenceClassification",z9]],["mobilebert",["MobileBertForSequenceClassification",x6]],["squeezebert",["SqueezeBertForSequenceClassification",f1]]]),$F=new Map([["bert",["BertForTokenClassification",v1]],["neobert",["NeoBertForTokenClassification",N0]],["modernbert",["ModernBertForTokenClassification",_0]],["roformer",["RoFormerForTokenClassification",_2]],["electra",["ElectraForTokenClassification",I1]],["esm",["EsmForTokenClassification",M0]],["convbert",["ConvBertForTokenClassification",z0]],["camembert",["CamembertForTokenClassification",d2]],["deberta",["DebertaForTokenClassification",X7]],["deberta-v2",["DebertaV2ForTokenClassification",b9]],["mpnet",["MPNetForTokenClassification",E3]],["distilbert",["DistilBertForTokenClassification",R7]],["roberta",["RobertaForTokenClassification",mX]],["xlm",["XLMForTokenClassification",eG]],["xlm-roberta",["XLMRobertaForTokenClassification",EZ]]]),A9=new Map([["t5",["T5ForConditionalGeneration",g4]],["longt5",["LongT5ForConditionalGeneration",z7]],["mt5",["MT5ForConditionalGeneration",W4]],["bart",["BartForConditionalGeneration",n4]],["mbart",["MBartForConditionalGeneration",g5]],["marian",["MarianMTModel",HB]],["m2m_100",["M2M100ForConditionalGeneration",h8]],["blenderbot",["BlenderbotForConditionalGeneration",s4]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",DZ]]]),iB=new Map([["bloom",["BloomForCausalLM",$Y]],["gpt2",["GPT2LMHeadModel",xJ]],["jais",["JAISLMHeadModel",h9]],["gptj",["GPTJForCausalLM",o6]],["gpt_bigcode",["GPTBigCodeForCausalLM",x]],["gpt_neo",["GPTNeoForCausalLM",RJ]],["gpt_neox",["GPTNeoXForCausalLM",bJ]],["codegen",["CodeGenForCausalLM",X1]],["llama",["LlamaForCausalLM",$0]],["llama4_text",["Llama4ForCausalLM",d0]],["arcee",["ArceeForCausalLM",H5]],["lfm2",["Lfm2ForCausalLM",N6]],["smollm3",["SmolLM3ForCausalLM",SQ]],["exaone",["ExaoneForCausalLM",C0]],["olmo",["OlmoForCausalLM",MK]],["olmo2",["Olmo2ForCausalLM",G$]],["mobilellm",["MobileLLMForCausalLM",o4]],["granite",["GraniteForCausalLM",R6]],["cohere",["CohereForCausalLM",TQ]],["gemma",["GemmaForCausalLM",d9]],["gemma2",["Gemma2ForCausalLM",W$]],["vaultgemma",["VaultGemmaForCausalLM",XY]],["gemma3_text",["Gemma3ForCausalLM",VK]],["helium",["HeliumForCausalLM",_L]],["glm",["GlmForCausalLM",X$]],["openelm",["OpenELMForCausalLM",U$]],["qwen2",["Qwen2ForCausalLM",jK]],["qwen3",["Qwen3ForCausalLM",IL]],["phi",["PhiForCausalLM",kK]],["phi3",["Phi3ForCausalLM",GY]],["mpt",["MptForCausalLM",M$]],["opt",["OPTForCausalLM",WY]],["mbart",["MBartForCausalLM",a4]],["mistral",["MistralForCausalLM",jB]],["ernie4_5",["Ernie4_5_ForCausalLM",nQ]],["starcoder2",["Starcoder2ForCausalLM",o5]],["falcon",["FalconForCausalLM",kB]],["trocr",["TrOCRForCausalLM",WH]],["stablelm",["StableLmForCausalLM",OH]],["modernbert-decoder",["ModernBertDecoderForCausalLM",t2]],["phi3_v",["Phi3VForCausalLM",CZ]]]),HF=new Map([["multi_modality",["MultiModalityCausalLM",PB]]]),XO=new Map([["bert",["BertForMaskedLM",C1]],["neobert",["NeoBertForMaskedLM",T1]],["modernbert",["ModernBertForMaskedLM",i0]],["roformer",["RoFormerForMaskedLM",g0]],["electra",["ElectraForMaskedLM",$1]],["esm",["EsmForMaskedLM",L6]],["convbert",["ConvBertForMaskedLM",S4]],["camembert",["CamembertForMaskedLM",Y2]],["deberta",["DebertaForMaskedLM",O7]],["deberta-v2",["DebertaV2ForMaskedLM",C9]],["mpnet",["MPNetForMaskedLM",w3]],["albert",["AlbertForMaskedLM",J5]],["distilbert",["DistilBertForMaskedLM",E4]],["roberta",["RobertaForMaskedLM",wZ]],["xlm",["XLMWithLMHeadModel",rG]],["xlm-roberta",["XLMRobertaForMaskedLM",lX]],["mobilebert",["MobileBertForMaskedLM",P5]],["squeezebert",["SqueezeBertForMaskedLM",E1]]]),YO=new Map([["bert",["BertForQuestionAnswering",p1]],["neobert",["NeoBertForQuestionAnswering",E0]],["roformer",["RoFormerForQuestionAnswering",e2]],["electra",["ElectraForQuestionAnswering",d1]],["convbert",["ConvBertForQuestionAnswering",L7]],["camembert",["CamembertForQuestionAnswering",j2]],["deberta",["DebertaForQuestionAnswering",X5]],["deberta-v2",["DebertaV2ForQuestionAnswering",v9]],["mpnet",["MPNetForQuestionAnswering",u]],["albert",["AlbertForQuestionAnswering",T0]],["distilbert",["DistilBertForQuestionAnswering",O9]],["roberta",["RobertaForQuestionAnswering",cX]],["xlm",["XLMForQuestionAnswering",wJ]],["xlm-roberta",["XLMRobertaForQuestionAnswering",DQ]],["mobilebert",["MobileBertForQuestionAnswering",c6]],["squeezebert",["SqueezeBertForQuestionAnswering",e1]]]),GO=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",H8]],["idefics3",["Idefics3ForConditionalGeneration",K8]],["smolvlm",["SmolVLMForConditionalGeneration",O6]]]),WF=new Map([["llava",["LlavaForConditionalGeneration",C3]],["llava_onevision",["LlavaOnevisionForConditionalGeneration",EQ]],["moondream1",["Moondream1ForConditionalGeneration",kQ]],["florence2",["Florence2ForConditionalGeneration",xQ]],["qwen2-vl",["Qwen2VLForConditionalGeneration",EK]],["idefics3",["Idefics3ForConditionalGeneration",K8]],["smolvlm",["SmolVLMForConditionalGeneration",O6]],["paligemma",["PaliGemmaForConditionalGeneration",nX]],["llava_qwen2",["LlavaQwen2ForCausalLM",RQ]],["gemma3n",["Gemma3nForConditionalGeneration",W8]]]),$O=new Map([["ultravox",["UltravoxModel",uY]],["voxtral",["VoxtralForConditionalGeneration",uB]]]),YV=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",H8]]]),mY=new Map([["vit",["ViTForImageClassification",_$]],["ijepa",["IJepaForImageClassification",BY]],["pvt",["PvtForImageClassification",CK]],["vit_msn",["ViTMSNForImageClassification",vK]],["fastvit",["FastViTForImageClassification",TJ]],["mobilevit",["MobileViTForImageClassification",PK]],["mobilevitv2",["MobileViTV2ForImageClassification",LY]],["beit",["BeitForImageClassification",NY]],["deit",["DeiTForImageClassification",g$]],["hiera",["HieraForImageClassification",aK]],["convnext",["ConvNextForImageClassification",pQ]],["convnextv2",["ConvNextV2ForImageClassification",vL]],["dinov2",["Dinov2ForImageClassification",ZB]],["dinov2_with_registers",["Dinov2WithRegistersForImageClassification",xY]],["resnet",["ResNetForImageClassification",u$]],["swin",["SwinForImageClassification",DY]],["segformer",["SegformerForImageClassification",pL]],["efficientnet",["EfficientNetForImageClassification",bB]],["mobilenet_v1",["MobileNetV1ForImageClassification",TY]],["mobilenet_v2",["MobileNetV2ForImageClassification",AH]],["mobilenet_v3",["MobileNetV3ForImageClassification",PY]],["mobilenet_v4",["MobileNetV4ForImageClassification",v7]]]),jH=new Map([["detr",["DetrForObjectDetection",yK]],["rt_detr",["RTDetrForObjectDetection",hK]],["rt_detr_v2",["RTDetrV2ForObjectDetection",dK]],["rf_detr",["RFDetrForObjectDetection",f$]],["d_fine",["DFineForObjectDetection",e7]],["table-transformer",["TableTransformerForObjectDetection",lK]],["yolos",["YolosForObjectDetection",TL]]]),HO=new Map([["owlvit",["OwlViTForObjectDetection",t7]],["owlv2",["Owlv2ForObjectDetection",yQ]],["grounding-dino",["GroundingDinoForObjectDetection",g8]]]),tQ=new Map([["detr",["DetrForSegmentation",T8]],["clipseg",["CLIPSegForImageSegmentation",z6]]]),DH=new Map([["segformer",["SegformerForSemanticSegmentation",N8]],["sapiens",["SapiensForSemanticSegmentation",oK]],["swin",["SwinForSemanticSegmentation",m$]],["mobilenet_v1",["MobileNetV1ForSemanticSegmentation",fB]],["mobilenet_v2",["MobileNetV2ForSemanticSegmentation",SB]],["mobilenet_v3",["MobileNetV3ForSemanticSegmentation",oZ]],["mobilenet_v4",["MobileNetV4ForSemanticSegmentation",aL]]]),eQ=new Map([["detr",["DetrForSegmentation",T8]],["maskformer",["MaskFormerForInstanceSegmentation",mZ]]]),cY=new Map([["sam",["SamModel",$B]]]),WO=new Map([["wav2vec2",["Wav2Vec2ForCTC",z8]],["wav2vec2-bert",["Wav2Vec2BertForCTC",FB]],["unispeech",["UniSpeechForCTC",RY]],["unispeech-sat",["UniSpeechSatForCTC",OB]],["wavlm",["WavLMForCTC",MB]],["hubert",["HubertForCTC",GH]]]),KF=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",KB]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",gL]],["unispeech",["UniSpeechForSequenceClassification",LB]],["unispeech-sat",["UniSpeechSatForSequenceClassification",e6]],["wavlm",["WavLMForSequenceClassification",$H]],["hubert",["HubertForSequenceClassification",iZ]],["audio-spectrogram-transformer",["ASTForAudioClassification",n6]]]),JX=new Map([["wavlm",["WavLMForXVector",HH]]]),pY=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",zB]],["wavlm",["WavLMForAudioFrameClassification",_B]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",cZ]],["pyannote",["PyAnnoteForAudioFrameClassification",pZ]]]),KO=new Map([["vitmatte",["VitMatteForImageMatting",R$]]]),nB=new Map([["patchtst",["PatchTSTForPrediction",gB]],["patchtsmixer",["PatchTSMixerForPrediction",F9]]]),aB=new Map([["swin2sr",["Swin2SRForImageSuperResolution",p$]]]),sB=new Map([["dpt",["DPTForDepthEstimation",i$]],["depth_anything",["DepthAnythingForDepthEstimation",n$]],["glpn",["GLPNForDepthEstimation",eK]],["sapiens",["SapiensForDepthEstimation",wY]],["depth_pro",["DepthProForDepthEstimation",kL]],["metric3d",["Metric3DForDepthEstimation",rK]],["metric3dv2",["Metric3Dv2ForDepthEstimation",tK]]]),BO=new Map([["sapiens",["SapiensForNormalEstimation",mQ]]]),qO=new Map([["vitpose",["VitPoseForPoseEstimation",qY]]]),BF=new Map([["clip",["CLIPVisionModelWithProjection",vQ]],["siglip",["SiglipVisionModel",aX]],["jina_clip",["JinaCLIPVisionModel",fZ]]]),UO=[[JV,I.EncoderOnly],[ZV,I.EncoderDecoder],[XV,I.DecoderOnly],[QV,I.AutoEncoder],[lB,I.EncoderOnly],[$F,I.EncoderOnly],[A9,I.Seq2Seq],[IH,I.Seq2Seq],[iB,I.DecoderOnly],[HF,I.MultiModality],[XO,I.EncoderOnly],[YO,I.EncoderOnly],[GO,I.Vision2Seq],[WF,I.ImageTextToText],[$O,I.AudioTextToText],[mY,I.EncoderOnly],[tQ,I.EncoderOnly],[eQ,I.EncoderOnly],[DH,I.EncoderOnly],[KO,I.EncoderOnly],[nB,I.EncoderOnly],[aB,I.EncoderOnly],[sB,I.EncoderOnly],[BO,I.EncoderOnly],[qO,I.EncoderOnly],[jH,I.EncoderOnly],[HO,I.EncoderOnly],[cY,I.MaskGeneration],[WO,I.EncoderOnly],[KF,I.EncoderOnly],[YF,I.Seq2Seq],[GF,I.EncoderOnly],[JX,I.EncoderOnly],[pY,I.EncoderOnly],[BF,I.EncoderOnly]];for(let[f,H1]of UO)for(let[j1,S1]of f.values())b.set(j1,H1),k.set(S1,j1),E.set(j1,S1);let GV=[["MusicgenForConditionalGeneration",NH,I.Musicgen],["Phi3VForCausalLM",CZ,I.Phi3V],["CLIPTextModelWithProjection",bZ,I.EncoderOnly],["SiglipTextModel",v3,I.EncoderOnly],["JinaCLIPTextModel",y9,I.EncoderOnly],["ClapTextModelWithProjection",UH,I.EncoderOnly],["ClapAudioModelWithProjection",xB,I.EncoderOnly],["DacEncoderModel",JO,I.EncoderOnly],["DacDecoderModel",pB,I.EncoderOnly],["MimiEncoderModel",mB,I.EncoderOnly],["MimiDecoderModel",cB,I.EncoderOnly],["SnacEncoderModel",ZO,I.EncoderOnly],["SnacDecoderModel",QO,I.EncoderOnly],["Gemma3nForConditionalGeneration",W8,I.ImageAudioTextToText]];for(let[f,H1,j1]of GV)b.set(f,j1),k.set(H1,f),E.set(f,H1);let qF=new Map([["modnet",tQ],["birefnet",tQ],["isnet",tQ],["ben",tQ]]);for(let[f,H1]of qF.entries())H1.set(f,["PreTrainedModel",a]),b.set(f,I.EncoderOnly),k.set(a,f),E.set(f,a);class UF extends b5{static MODEL_CLASS_MAPPINGS=UO.map((f)=>f[0]);static BASE_IF_FAIL=!0}class wH extends b5{static MODEL_CLASS_MAPPINGS=[lB]}class oB extends b5{static MODEL_CLASS_MAPPINGS=[$F]}class LF extends b5{static MODEL_CLASS_MAPPINGS=[A9]}class OF extends b5{static MODEL_CLASS_MAPPINGS=[IH]}class LO extends b5{static MODEL_CLASS_MAPPINGS=[YF]}class OO extends b5{static MODEL_CLASS_MAPPINGS=[GF]}class rB extends b5{static MODEL_CLASS_MAPPINGS=[iB]}class zO extends b5{static MODEL_CLASS_MAPPINGS=[XO]}class tB extends b5{static MODEL_CLASS_MAPPINGS=[YO]}class NO extends b5{static MODEL_CLASS_MAPPINGS=[GO]}class zF extends b5{static MODEL_CLASS_MAPPINGS=[mY]}class NF extends b5{static MODEL_CLASS_MAPPINGS=[tQ]}class FF extends b5{static MODEL_CLASS_MAPPINGS=[DH]}class AF extends b5{static MODEL_CLASS_MAPPINGS=[eQ]}class eB extends b5{static MODEL_CLASS_MAPPINGS=[jH]}class Jq extends b5{static MODEL_CLASS_MAPPINGS=[HO]}class Zq extends b5{static MODEL_CLASS_MAPPINGS=[cY]}class FO extends b5{static MODEL_CLASS_MAPPINGS=[WO]}class AO extends b5{static MODEL_CLASS_MAPPINGS=[KF]}class lY extends b5{static MODEL_CLASS_MAPPINGS=[JX]}class MF extends b5{static MODEL_CLASS_MAPPINGS=[pY]}class MO extends b5{static MODEL_CLASS_MAPPINGS=[YV]}class EH extends b5{static MODEL_CLASS_MAPPINGS=[KO]}class _O extends b5{static MODEL_CLASS_MAPPINGS=[aB]}class _F extends b5{static MODEL_CLASS_MAPPINGS=[sB]}class kH extends b5{static MODEL_CLASS_MAPPINGS=[BO]}class VO extends b5{static MODEL_CLASS_MAPPINGS=[qO]}class iY extends b5{static MODEL_CLASS_MAPPINGS=[BF]}class Qq extends b5{static MODEL_CLASS_MAPPINGS=[WF]}class xH extends b5{static MODEL_CLASS_MAPPINGS=[$O]}class IO extends M1{constructor({logits:f,past_key_values:H1,encoder_outputs:j1,decoder_attentions:S1=null,cross_attentions:n1=null}){super();this.logits=f,this.past_key_values=H1,this.encoder_outputs=j1,this.decoder_attentions=S1,this.cross_attentions=n1}}class h0 extends M1{constructor({logits:f,...H1}){super();this.logits=f;let j1=Object.values(H1);if(j1.length>0)this.attentions=j1}}class jO extends M1{constructor({logits:f,embeddings:H1}){super();this.logits=f,this.embeddings=H1}}class B4 extends M1{constructor({logits:f}){super();this.logits=f}}class x4 extends M1{constructor({logits:f}){super();this.logits=f}}class r4 extends M1{constructor({start_logits:f,end_logits:H1}){super();this.start_logits=f,this.end_logits=H1}}class d8 extends M1{constructor({logits:f}){super();this.logits=f}}class Xq extends M1{constructor({logits:f,past_key_values:H1}){super();this.logits=f,this.past_key_values=H1}}class DO extends M1{constructor({alphas:f}){super();this.alphas=f}}class RH extends M1{constructor({waveform:f,spectrogram:H1}){super();this.waveform=f,this.spectrogram=H1}}},"./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js":(J,Z,Q)=>{/*!******************************************************************************************************!*\
  !*** ./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js ***!
  \******************************************************************************************************/Q.r(Z),Q.d(Z,{ASTFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class K extends Y.FeatureExtractor{constructor(B){super(B);let q=this.config.sampling_rate,L=(0,H.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(q/2),q,null,"kaldi",!0);this.mel_filters=L,this.window=(0,H.window_function)(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}async _extract_fbank_features(B,q){return(0,H.spectrogram)(B,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:0.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:0.0000001192092955078125,remove_dc_offset:!0,max_num_frames:q,transpose:!0})}async _call(B){(0,Y.validate_audio_inputs)(B,"ASTFeatureExtractor");let q=await this._extract_fbank_features(B,this.config.max_length);if(this.config.do_normalize){let L=this.std*2,O=q.data;for(let z=0;z<O.length;++z)O[z]=(O[z]-this.mean)/L}return{input_values:q.unsqueeze_(0)}}}},"./src/models/auto/feature_extraction_auto.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/auto/feature_extraction_auto.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{AutoFeatureExtractor:()=>B});var Y=Q("./src/utils/constants.js");/*! ../../utils/constants.js */var $=Q("./src/utils/hub.js");/*! ../../utils/hub.js */var H=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var K=Q("./src/models/feature_extractors.js");/*! ../feature_extractors.js */class B{static async from_pretrained(q,L={}){let O=await(0,$.getModelJSON)(q,Y.FEATURE_EXTRACTOR_NAME,!0,L),z=O.feature_extractor_type,F=K[z];if(!F)throw Error(`Unknown feature_extractor_type: '${z}'. Please report this at ${Y.GITHUB_ISSUE_URL}.`);return new F(O)}}},"./src/models/auto/image_processing_auto.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/auto/image_processing_auto.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{AutoImageProcessor:()=>B});var Y=Q("./src/utils/constants.js");/*! ../../utils/constants.js */var $=Q("./src/utils/hub.js");/*! ../../utils/hub.js */var H=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var K=Q("./src/models/image_processors.js");/*! ../image_processors.js */class B{static async from_pretrained(q,L={}){let O=await(0,$.getModelJSON)(q,Y.IMAGE_PROCESSOR_NAME,!0,L),z=O.image_processor_type??O.feature_extractor_type,F=K[z?.replace(/Fast$/,"")];if(!F){if(z!==void 0)console.warn(`Image processor type '${z}' not found, assuming base ImageProcessor. Please report this at ${Y.GITHUB_ISSUE_URL}.`);F=H.ImageProcessor}return new F(O)}}},"./src/models/auto/processing_auto.js":(J,Z,Q)=>{/*!********************************************!*\
  !*** ./src/models/auto/processing_auto.js ***!
  \********************************************/Q.r(Z),Q.d(Z,{AutoProcessor:()=>L});var Y=Q("./src/utils/constants.js");/*! ../../utils/constants.js */var $=Q("./src/utils/hub.js");/*! ../../utils/hub.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var K=Q("./src/models/processors.js");/*! ../processors.js */var B=Q("./src/models/image_processors.js");/*! ../image_processors.js */var q=Q("./src/models/feature_extractors.js");/*! ../feature_extractors.js */class L{static async from_pretrained(O,z={}){let F=await(0,$.getModelJSON)(O,Y.IMAGE_PROCESSOR_NAME,!0,z),{image_processor_type:V,feature_extractor_type:A,processor_class:M}=F;if(M&&K[M])return K[M].from_pretrained(O,z);if(!V&&!A)throw Error("No `image_processor_type` or `feature_extractor_type` found in the config.");let j={};if(V){let w=B[V.replace(/Fast$/,"")];if(!w)throw Error(`Unknown image_processor_type: '${V}'.`);j.image_processor=new w(F)}if(A){let w=B[A];if(w)j.image_processor=new w(F);else{let C=q[A];if(!C)throw Error(`Unknown feature_extractor_type: '${A}'.`);j.feature_extractor=new C(F)}}let D={};return new H.Processor(D,j,null)}}},"./src/models/beit/image_processing_beit.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/beit/image_processing_beit.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{BeitFeatureExtractor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/bit/image_processing_bit.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/bit/image_processing_bit.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{BitImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/chinese_clip/image_processing_chinese_clip.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/chinese_clip/image_processing_chinese_clip.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{ChineseCLIPFeatureExtractor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/clap/feature_extraction_clap.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/clap/feature_extraction_clap.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{ClapFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class K extends Y.FeatureExtractor{constructor(B){super(B);this.mel_filters=(0,H.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=(0,H.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=(0,H.window_function)(this.config.fft_window_size,"hann")}async _get_input_mel(B,q,L,O){let z,F=!1,V=B.length-q;if(V>0)if(L==="rand_trunc"){F=!0;let A=Math.floor(Math.random()*(V+1));B=B.subarray(A,A+q),z=await this._extract_fbank_features(B,this.mel_filters_slaney,this.config.nb_max_samples)}else throw Error(`Truncation strategy "${L}" not implemented`);else{if(V<0){let A=new Float64Array(q);if(A.set(B),O==="repeat")for(let M=B.length;M<q;M+=B.length)A.set(B.subarray(0,Math.min(B.length,q-M)),M);else if(O==="repeatpad")for(let M=B.length;M<-V;M+=B.length)A.set(B,M);B=A}if(L==="fusion")throw Error(`Truncation strategy "${L}" not implemented`);z=await this._extract_fbank_features(B,this.mel_filters_slaney,this.config.nb_max_samples)}return z.unsqueeze_(0)}async _extract_fbank_features(B,q,L=null){return(0,H.spectrogram)(B,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:q,log_mel:"dB",max_num_frames:L,do_pad:!1,transpose:!0})}async _call(B,{max_length:q=null}={}){return(0,Y.validate_audio_inputs)(B,"ClapFeatureExtractor"),{input_features:(await this._get_input_mel(B,q??this.config.nb_max_samples,this.config.truncation,this.config.padding)).unsqueeze_(0)}}}},"./src/models/clip/image_processing_clip.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/clip/image_processing_clip.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{CLIPFeatureExtractor:()=>H,CLIPImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/convnext/image_processing_convnext.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/convnext/image_processing_convnext.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{ConvNextFeatureExtractor:()=>H,ConvNextImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{constructor(K){super(K);this.crop_pct=this.config.crop_pct??0.875}async resize(K){let B=this.size?.shortest_edge;if(B===void 0)throw Error("Size dictionary must contain 'shortest_edge' key.");if(B<384){let q=Math.floor(B/this.crop_pct),[L,O]=this.get_resize_output_image_size(K,{shortest_edge:q});K=await K.resize(L,O,{resample:this.resample}),K=await K.center_crop(B,B)}else K=await K.resize(B,B,{resample:this.resample});return K}}class H extends ${}},"./src/models/dac/feature_extraction_dac.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/dac/feature_extraction_dac.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{DacFeatureExtractor:()=>$});var Y=Q("./src/models/encodec/feature_extraction_encodec.js");/*! ../encodec/feature_extraction_encodec.js */class $ extends Y.EncodecFeatureExtractor{}},"./src/models/deit/image_processing_deit.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/deit/image_processing_deit.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{DeiTFeatureExtractor:()=>H,DeiTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/detr/image_processing_detr.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/detr/image_processing_detr.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{DetrFeatureExtractor:()=>K,DetrImageProcessor:()=>H});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.ImageProcessor{async _call(B){let q=await super._call(B),L=[q.pixel_values.dims[0],64,64],O=(0,$.full)(L,1n);return{...q,pixel_mask:O}}post_process_object_detection(...B){return(0,Y.post_process_object_detection)(...B)}post_process_panoptic_segmentation(...B){return(0,Y.post_process_panoptic_segmentation)(...B)}post_process_instance_segmentation(...B){return(0,Y.post_process_instance_segmentation)(...B)}}class K extends H{}},"./src/models/dinov3_vit/image_processing_dinov3_vit.js":(J,Z,Q)=>{/*!**************************************************************!*\
  !*** ./src/models/dinov3_vit/image_processing_dinov3_vit.js ***!
  \**************************************************************/Q.r(Z),Q.d(Z,{DINOv3ViTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/donut/image_processing_donut.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/donut/image_processing_donut.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{DonutFeatureExtractor:()=>H,DonutImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{pad_image(K,B,q,L={}){let[O,z,F]=B,V=this.image_mean;if(!Array.isArray(this.image_mean))V=Array(F).fill(V);let A=this.image_std;if(!Array.isArray(A))A=Array(F).fill(V);let M=V.map((j,D)=>-j/A[D]);return super.pad_image(K,B,q,{center:!0,constant_values:M,...L})}}class H extends ${}},"./src/models/dpt/image_processing_dpt.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/dpt/image_processing_dpt.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{DPTFeatureExtractor:()=>H,DPTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/efficientnet/image_processing_efficientnet.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/efficientnet/image_processing_efficientnet.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{EfficientNetImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{constructor(H){super(H);if(this.include_top=this.config.include_top??!0,this.include_top)this.image_std=this.image_std.map((K)=>K*K)}}},"./src/models/encodec/feature_extraction_encodec.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/encodec/feature_extraction_encodec.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{EncodecFeatureExtractor:()=>H});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.FeatureExtractor{async _call(K){if((0,Y.validate_audio_inputs)(K,"EncodecFeatureExtractor"),K instanceof Float64Array)K=new Float32Array(K);let B=this.config.feature_size;if(K.length%B!==0)throw Error(`The length of the audio data must be a multiple of the number of channels (${B}).`);let q=[1,B,K.length/B];return{input_values:new $.Tensor("float32",K,q)}}}},"./src/models/feature_extractors.js":(J,Z,Q)=>{/*!******************************************!*\
  !*** ./src/models/feature_extractors.js ***!
  \******************************************/Q.r(Z),Q.d(Z,{ASTFeatureExtractor:()=>Y.ASTFeatureExtractor,ClapFeatureExtractor:()=>H.ClapFeatureExtractor,DacFeatureExtractor:()=>K.DacFeatureExtractor,EncodecFeatureExtractor:()=>$.EncodecFeatureExtractor,Gemma3nAudioFeatureExtractor:()=>B.Gemma3nAudioFeatureExtractor,ImageFeatureExtractor:()=>j.ImageProcessor,MoonshineFeatureExtractor:()=>q.MoonshineFeatureExtractor,PyAnnoteFeatureExtractor:()=>L.PyAnnoteFeatureExtractor,SeamlessM4TFeatureExtractor:()=>O.SeamlessM4TFeatureExtractor,SnacFeatureExtractor:()=>z.SnacFeatureExtractor,SpeechT5FeatureExtractor:()=>F.SpeechT5FeatureExtractor,Wav2Vec2FeatureExtractor:()=>V.Wav2Vec2FeatureExtractor,WeSpeakerFeatureExtractor:()=>A.WeSpeakerFeatureExtractor,WhisperFeatureExtractor:()=>M.WhisperFeatureExtractor});var Y=Q("./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js");/*! ./audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js */var $=Q("./src/models/encodec/feature_extraction_encodec.js");/*! ./encodec/feature_extraction_encodec.js */var H=Q("./src/models/clap/feature_extraction_clap.js");/*! ./clap/feature_extraction_clap.js */var K=Q("./src/models/dac/feature_extraction_dac.js");/*! ./dac/feature_extraction_dac.js */var B=Q("./src/models/gemma3n/feature_extraction_gemma3n.js");/*! ./gemma3n/feature_extraction_gemma3n.js */var q=Q("./src/models/moonshine/feature_extraction_moonshine.js");/*! ./moonshine/feature_extraction_moonshine.js */var L=Q("./src/models/pyannote/feature_extraction_pyannote.js");/*! ./pyannote/feature_extraction_pyannote.js */var O=Q("./src/models/seamless_m4t/feature_extraction_seamless_m4t.js");/*! ./seamless_m4t/feature_extraction_seamless_m4t.js */var z=Q("./src/models/snac/feature_extraction_snac.js");/*! ./snac/feature_extraction_snac.js */var F=Q("./src/models/speecht5/feature_extraction_speecht5.js");/*! ./speecht5/feature_extraction_speecht5.js */var V=Q("./src/models/wav2vec2/feature_extraction_wav2vec2.js");/*! ./wav2vec2/feature_extraction_wav2vec2.js */var A=Q("./src/models/wespeaker/feature_extraction_wespeaker.js");/*! ./wespeaker/feature_extraction_wespeaker.js */var M=Q("./src/models/whisper/feature_extraction_whisper.js");/*! ./whisper/feature_extraction_whisper.js */var j=Q("./src/base/image_processors_utils.js");/*! ../base/image_processors_utils.js */},"./src/models/florence2/processing_florence2.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/florence2/processing_florence2.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{Florence2Processor:()=>K});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */class K extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;constructor(B,q,L){super(B,q,L);let{tasks_answer_post_processing_type:O,task_prompts_without_inputs:z,task_prompts_with_input:F}=this.image_processor.config;this.tasks_answer_post_processing_type=new Map(Object.entries(O??{})),this.task_prompts_without_inputs=new Map(Object.entries(z??{})),this.task_prompts_with_input=new Map(Object.entries(F??{})),this.regexes={quad_boxes:/(.+?)<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm,bboxes:/([^<]+)?<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm},this.size_per_bin=1000}construct_prompts(B){if(typeof B==="string")B=[B];let q=[];for(let L of B)if(this.task_prompts_without_inputs.has(L))q.push(this.task_prompts_without_inputs.get(L));else{for(let[O,z]of this.task_prompts_with_input)if(L.includes(O)){q.push(z.replaceAll("{input}",L).replaceAll(O,""));break}if(q.length!==B.length)q.push(L)}return q}post_process_generation(B,q,L){let O=this.tasks_answer_post_processing_type.get(q)??"pure_text";B=B.replaceAll("<s>","").replaceAll("</s>","");let z;switch(O){case"pure_text":z=B;break;case"description_with_bboxes":case"bboxes":case"phrase_grounding":case"ocr":let F=O==="ocr"?"quad_boxes":"bboxes",V=B.matchAll(this.regexes[F]),A=[],M=[];for(let[j,D,...w]of V)A.push(D?D.trim():A.at(-1)??""),M.push(w.map((C,I)=>(Number(C)+0.5)/this.size_per_bin*L[I%2]));z={labels:A,[F]:M};break;default:throw Error(`Task "${q}" (of type "${O}") not yet implemented.`)}return{[q]:z}}async _call(B,q=null,L={}){if(!B&&!q)throw Error("Either text or images must be provided");let O=await this.image_processor(B,L),z=q?this.tokenizer(this.construct_prompts(q),L):{};return{...O,...z}}}},"./src/models/gemma3n/feature_extraction_gemma3n.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/gemma3n/feature_extraction_gemma3n.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{Gemma3nAudioFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class K extends Y.FeatureExtractor{constructor(B){super(B);let{fft_length:q,feature_size:L,min_frequency:O,max_frequency:z,sampling_rate:F,frame_length:V}=this.config,A=(0,H.mel_filter_bank)(Math.floor(1+q/2),L,O,z,F,null,"htk",!1);this.mel_filters=A,this.window=(0,H.window_function)(V,"hann")}async _extract_fbank_features(B,q){return(0,H.spectrogram)(B,this.window,this.config.frame_length,this.config.hop_length,{fft_length:this.config.fft_length,center:!1,onesided:!0,preemphasis:this.config.preemphasis,preemphasis_htk_flavor:this.config.preemphasis_htk_flavor,mel_filters:this.mel_filters,log_mel:"log",mel_floor:this.config.mel_floor,remove_dc_offset:!1,transpose:!0})}async _call(B,{max_length:q=480000,truncation:L=!0,padding:O=!0,pad_to_multiple_of:z=128}={}){if((0,Y.validate_audio_inputs)(B,"Gemma3nAudioFeatureExtractor"),L&&B.length>q)B=B.slice(0,q);if(O&&B.length%z!==0){let A=z-B.length%z,M=new Float64Array(B.length+A);if(M.set(B),this.config.padding_value!==0)M.fill(this.config.padding_value,B.length);B=M}let F=await this._extract_fbank_features(B,this.config.max_length),V=(0,$.full)([1,F.dims[0]],!0);return{input_features:F.unsqueeze_(0),input_features_mask:V}}}},"./src/models/gemma3n/processing_gemma3n.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/gemma3n/processing_gemma3n.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{Gemma3nProcessor:()=>L});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var K=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var B=Q("./src/utils/image.js");/*! ../../utils/image.js */var q=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class L extends Y.Processor{static image_processor_class=$.AutoImageProcessor;static feature_extractor_class=H.AutoFeatureExtractor;static tokenizer_class=K.AutoTokenizer;static uses_processor_config=!0;static uses_chat_template_file=!0;constructor(O,z,F){super(O,z,F);this.audio_seq_length=this.config.audio_seq_length,this.image_seq_length=this.config.image_seq_length;let{audio_token_id:V,boa_token:A,audio_token:M,eoa_token:j,image_token_id:D,boi_token:w,image_token:C,eoi_token:I}=this.tokenizer.config;this.audio_token_id=V,this.boa_token=A,this.audio_token=M;let b=M.repeat(this.audio_seq_length);this.full_audio_sequence=`

${A}${b}${j}

`,this.image_token_id=D,this.boi_token=w,this.image_token=C;let E=C.repeat(this.image_seq_length);this.full_image_sequence=`

${w}${E}${I}

`}async _call(O,z=null,F=null,V={}){if(typeof O==="string")O=[O];let A;if(F)A=await this.feature_extractor(F,V),O=O.map((D)=>D.replaceAll(this.audio_token,this.full_audio_sequence));let M;if(z)M=await this.image_processor(z,V),O=O.map((D)=>D.replaceAll(this.image_token,this.full_image_sequence));return{...this.tokenizer(O,V),...M,...A}}}},"./src/models/glpn/image_processing_glpn.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/glpn/image_processing_glpn.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{GLPNFeatureExtractor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/grounding_dino/image_processing_grounding_dino.js":(J,Z,Q)=>{/*!**********************************************************************!*\
  !*** ./src/models/grounding_dino/image_processing_grounding_dino.js ***!
  \**********************************************************************/Q.r(Z),Q.d(Z,{GroundingDinoImageProcessor:()=>H});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.ImageProcessor{async _call(K){let B=await super._call(K),q=B.pixel_values.dims,L=(0,$.ones)([q[0],q[2],q[3]]);return{...B,pixel_mask:L}}}},"./src/models/grounding_dino/processing_grounding_dino.js":(J,Z,Q)=>{/*!****************************************************************!*\
  !*** ./src/models/grounding_dino/processing_grounding_dino.js ***!
  \****************************************************************/Q.r(Z),Q.d(Z,{GroundingDinoProcessor:()=>q});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */function B(L,O){let F=L.dims.at(-1)-1,V=L.tolist();V.fill(!1,0,1),V.fill(!1,F);let A=O.tolist();return V.map((M,j)=>M?j:null).filter((M)=>M!==null).map((M)=>A[M])}class q extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;async _call(L,O,z={}){let F=L?await this.image_processor(L,z):{};return{...O?this.tokenizer(O,z):{},...F}}post_process_grounded_object_detection(L,O,{box_threshold:z=0.25,text_threshold:F=0.25,target_sizes:V=null}={}){let{logits:A,pred_boxes:M}=L,j=A.dims[0];if(V!==null&&V.length!==j)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let D=A.dims.at(1),w=A.sigmoid(),C=w.max(-1).tolist(),I=M.tolist().map((E)=>E.map((k)=>(0,K.center_to_corners_format)(k))),b=[];for(let E=0;E<j;++E){let k=V!==null?V[E]:null;if(k!==null)I[E]=I[E].map((v)=>v.map((y,i)=>y*k[(i+1)%2]));let T=C[E],S=[],d=[],o=[];for(let v=0;v<D;++v){let y=T[v];if(y<=z)continue;let i=I[E][v],p=w[E][v];S.push(y),o.push(i);let l=B(p.gt(F),O[E]);d.push(l)}b.push({scores:S,boxes:o,labels:this.batch_decode(d)})}return b}}},"./src/models/idefics3/image_processing_idefics3.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/idefics3/image_processing_idefics3.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{Idefics3ImageProcessor:()=>H});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.ImageProcessor{constructor(K){super(K);this.do_image_splitting=K.do_image_splitting??!0,this.max_image_size=K.max_image_size}get_resize_for_vision_encoder(K,B){let[q,L]=K.dims.slice(-2),O=L/q;if(L>=q)L=Math.ceil(L/B)*B,q=Math.floor(L/O),q=Math.ceil(q/B)*B;else q=Math.ceil(q/B)*B,L=Math.floor(q*O),L=Math.ceil(L/B)*B;return{height:q,width:L}}async _call(K,{do_image_splitting:B=null,return_row_col_info:q=!1}={}){let L;if(!Array.isArray(K))L=[[K]];else{if(K.length===0||!K[0])throw Error("No images provided.");if(!Array.isArray(K[0]))L=[K];else L=K}let O=[],z=[],F=[],V=[],A=[];for(let E of L){let k=await Promise.all(E.map((d)=>this.preprocess(d)));V.push(...k.map((d)=>d.original_size)),A.push(...k.map((d)=>d.reshaped_input_size)),k.forEach((d)=>d.pixel_values.unsqueeze_(0));let{longest_edge:T}=this.max_image_size,S;if(B??this.do_image_splitting){let d=Array(k.length),o=Array(k.length);S=await Promise.all(k.map(async(v,y)=>{let i=this.get_resize_for_vision_encoder(v.pixel_values,T),p=await(0,$.interpolate_4d)(v.pixel_values,{size:[i.height,i.width]}),{frames:l,num_splits_h:t,num_splits_w:Q1}=await this.split_image(p,this.max_image_size);return d[y]=t,o[y]=Q1,(0,$.cat)(l,0)})),z.push(d),F.push(o)}else{let d=[T,T];S=await Promise.all(k.map((o)=>(0,$.interpolate_4d)(o.pixel_values,{size:d}))),z.push(Array(k.length).fill(0)),F.push(Array(k.length).fill(0))}O.push((0,$.cat)(S,0))}let M=O.length,[j,D,w,C]=O[0].dims,I,b;if(M===1)I=O[0].unsqueeze_(0),b=(0,$.full)([M,j,w,C],!0);else{let E=Math.max(...O.map((S)=>S.dims.at(0)));b=(0,$.full)([M,E,w,C],!0);let k=b.data,T=E*w*C;for(let S=0;S<M;++S){let d=O[S].dims[0];if(d<E){O[S]=(0,$.cat)([O[S],(0,$.full)([E-d,D,w,C],0)],0);let o=S*T+d*w*C,v=(S+1)*T;k.fill(!1,o,v)}}I=(0,$.stack)(O,0)}return{pixel_values:I,pixel_attention_mask:b,original_sizes:V,reshaped_input_sizes:A,...q?{rows:z,cols:F}:{}}}async split_image(K,{longest_edge:B}){let q=B,L=B,O=[],[z,F]=K.dims.slice(-2),V=0,A=0;if(z>q||F>L){V=Math.ceil(z/q),A=Math.ceil(F/L);let M=Math.ceil(z/V),j=Math.ceil(F/A);for(let C=0;C<V;++C)for(let I=0;I<A;++I){let b,E,k,T;if(C===V-1)E=z-M,T=z;else E=C*M,T=(C+1)*M;if(I===A-1)b=F-j,k=F;else b=I*j,k=(I+1)*j;let S=[E,b],d=[T,k],o=await(0,$.slice)(K,S,d,[2,3]);O.push(o)}let D=q,w=L;if(z!==D||F!==w)K=await(0,$.interpolate_4d)(K,{size:[D,w]})}return O.push(K),{frames:O,num_splits_h:V,num_splits_w:A}}}},"./src/models/idefics3/processing_idefics3.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/idefics3/processing_idefics3.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{Idefics3Processor:()=>z});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/utils/image.js");/*! ../../utils/image.js */var B=Q("./src/utils/core.js");/*! ../../utils/core.js */function q(F,V,A,M,j,D){let w="";for(let C=0;C<V;++C){for(let I=0;I<A;++I)w+=M+`<row_${C+1}_col_${I+1}>`+j.repeat(F);w+=`
`}return w+=`
${M}${D}`+j.repeat(F)+`${M}`,w}function L(F,V,A,M){return`${V}${M}`+A.repeat(F)+`${V}`}function O(F,V,A,M,j,D){if(F===0&&V===0)return L(A,M,j,D);return q(A,F,V,M,j,D)}class z extends Y.Processor{static image_processor_class=$.AutoImageProcessor;static tokenizer_class=H.AutoTokenizer;static uses_processor_config=!0;fake_image_token="<fake_token_around_image>";image_token="<image>";global_img_token="<global-img>";async _call(F,V=null,A={}){A.return_row_col_info??=!0;let M;if(V)M=await this.image_processor(V,A);if(!Array.isArray(F))F=[F];let j=M.rows??[Array(F.length).fill(0)],D=M.cols??[Array(F.length).fill(0)],w=this.config.image_seq_len,C=[],I=[];for(let E=0;E<F.length;++E){let k=F[E],T=j[E],S=D[E];C.push((0,B.count)(k,this.image_token));let d=T.map((y,i)=>O(y,S[i],w,this.fake_image_token,this.image_token,this.global_img_token)),o=k.split(this.image_token);if(o.length===0)throw Error("The image token should be present in the text.");let v=o[0];for(let y=0;y<d.length;++y)v+=d[y]+o[y+1];I.push(v)}return{...this.tokenizer(I),...M}}}},"./src/models/image_processors.js":(J,Z,Q)=>{/*!****************************************!*\
  !*** ./src/models/image_processors.js ***!
  \****************************************/Q.r(Z),Q.d(Z,{BeitFeatureExtractor:()=>Y.BeitFeatureExtractor,BitImageProcessor:()=>$.BitImageProcessor,CLIPFeatureExtractor:()=>K.CLIPFeatureExtractor,CLIPImageProcessor:()=>K.CLIPImageProcessor,ChineseCLIPFeatureExtractor:()=>H.ChineseCLIPFeatureExtractor,ConvNextFeatureExtractor:()=>B.ConvNextFeatureExtractor,ConvNextImageProcessor:()=>B.ConvNextImageProcessor,DINOv3ViTImageProcessor:()=>O.DINOv3ViTImageProcessor,DPTFeatureExtractor:()=>F.DPTFeatureExtractor,DPTImageProcessor:()=>F.DPTImageProcessor,DeiTFeatureExtractor:()=>q.DeiTFeatureExtractor,DeiTImageProcessor:()=>q.DeiTImageProcessor,DetrFeatureExtractor:()=>L.DetrFeatureExtractor,DetrImageProcessor:()=>L.DetrImageProcessor,DonutFeatureExtractor:()=>z.DonutFeatureExtractor,DonutImageProcessor:()=>z.DonutImageProcessor,EfficientNetImageProcessor:()=>V.EfficientNetImageProcessor,GLPNFeatureExtractor:()=>A.GLPNFeatureExtractor,GroundingDinoImageProcessor:()=>M.GroundingDinoImageProcessor,Idefics3ImageProcessor:()=>j.Idefics3ImageProcessor,JinaCLIPImageProcessor:()=>w.JinaCLIPImageProcessor,LlavaOnevisionImageProcessor:()=>C.LlavaOnevisionImageProcessor,Mask2FormerImageProcessor:()=>I.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>b.MaskFormerFeatureExtractor,MaskFormerImageProcessor:()=>b.MaskFormerImageProcessor,MobileNetV1FeatureExtractor:()=>E.MobileNetV1FeatureExtractor,MobileNetV1ImageProcessor:()=>E.MobileNetV1ImageProcessor,MobileNetV2FeatureExtractor:()=>k.MobileNetV2FeatureExtractor,MobileNetV2ImageProcessor:()=>k.MobileNetV2ImageProcessor,MobileNetV3FeatureExtractor:()=>T.MobileNetV3FeatureExtractor,MobileNetV3ImageProcessor:()=>T.MobileNetV3ImageProcessor,MobileNetV4FeatureExtractor:()=>S.MobileNetV4FeatureExtractor,MobileNetV4ImageProcessor:()=>S.MobileNetV4ImageProcessor,MobileViTFeatureExtractor:()=>d.MobileViTFeatureExtractor,MobileViTImageProcessor:()=>d.MobileViTImageProcessor,NougatImageProcessor:()=>o.NougatImageProcessor,OwlViTFeatureExtractor:()=>y.OwlViTFeatureExtractor,OwlViTImageProcessor:()=>y.OwlViTImageProcessor,Owlv2ImageProcessor:()=>v.Owlv2ImageProcessor,Phi3VImageProcessor:()=>i.Phi3VImageProcessor,PvtImageProcessor:()=>p.PvtImageProcessor,Qwen2VLImageProcessor:()=>l.Qwen2VLImageProcessor,RTDetrImageProcessor:()=>t.RTDetrImageProcessor,SamImageProcessor:()=>Q1.SamImageProcessor,SegformerFeatureExtractor:()=>m.SegformerFeatureExtractor,SegformerImageProcessor:()=>m.SegformerImageProcessor,SiglipImageProcessor:()=>K1.SiglipImageProcessor,SmolVLMImageProcessor:()=>g.SmolVLMImageProcessor,Swin2SRImageProcessor:()=>n.Swin2SRImageProcessor,VLMImageProcessor:()=>D.VLMImageProcessor,ViTFeatureExtractor:()=>Z1.ViTFeatureExtractor,ViTImageProcessor:()=>Z1.ViTImageProcessor,VitMatteImageProcessor:()=>J1.VitMatteImageProcessor,VitPoseImageProcessor:()=>z1.VitPoseImageProcessor,YolosFeatureExtractor:()=>V1.YolosFeatureExtractor,YolosImageProcessor:()=>V1.YolosImageProcessor});var Y=Q("./src/models/beit/image_processing_beit.js");/*! ./beit/image_processing_beit.js */var $=Q("./src/models/bit/image_processing_bit.js");/*! ./bit/image_processing_bit.js */var H=Q("./src/models/chinese_clip/image_processing_chinese_clip.js");/*! ./chinese_clip/image_processing_chinese_clip.js */var K=Q("./src/models/clip/image_processing_clip.js");/*! ./clip/image_processing_clip.js */var B=Q("./src/models/convnext/image_processing_convnext.js");/*! ./convnext/image_processing_convnext.js */var q=Q("./src/models/deit/image_processing_deit.js");/*! ./deit/image_processing_deit.js */var L=Q("./src/models/detr/image_processing_detr.js");/*! ./detr/image_processing_detr.js */var O=Q("./src/models/dinov3_vit/image_processing_dinov3_vit.js");/*! ./dinov3_vit/image_processing_dinov3_vit.js */var z=Q("./src/models/donut/image_processing_donut.js");/*! ./donut/image_processing_donut.js */var F=Q("./src/models/dpt/image_processing_dpt.js");/*! ./dpt/image_processing_dpt.js */var V=Q("./src/models/efficientnet/image_processing_efficientnet.js");/*! ./efficientnet/image_processing_efficientnet.js */var A=Q("./src/models/glpn/image_processing_glpn.js");/*! ./glpn/image_processing_glpn.js */var M=Q("./src/models/grounding_dino/image_processing_grounding_dino.js");/*! ./grounding_dino/image_processing_grounding_dino.js */var j=Q("./src/models/idefics3/image_processing_idefics3.js");/*! ./idefics3/image_processing_idefics3.js */var D=Q("./src/models/janus/image_processing_janus.js");/*! ./janus/image_processing_janus.js */var w=Q("./src/models/jina_clip/image_processing_jina_clip.js");/*! ./jina_clip/image_processing_jina_clip.js */var C=Q("./src/models/llava_onevision/image_processing_llava_onevision.js");/*! ./llava_onevision/image_processing_llava_onevision.js */var I=Q("./src/models/mask2former/image_processing_mask2former.js");/*! ./mask2former/image_processing_mask2former.js */var b=Q("./src/models/maskformer/image_processing_maskformer.js");/*! ./maskformer/image_processing_maskformer.js */var E=Q("./src/models/mobilenet_v1/image_processing_mobilenet_v1.js");/*! ./mobilenet_v1/image_processing_mobilenet_v1.js */var k=Q("./src/models/mobilenet_v2/image_processing_mobilenet_v2.js");/*! ./mobilenet_v2/image_processing_mobilenet_v2.js */var T=Q("./src/models/mobilenet_v3/image_processing_mobilenet_v3.js");/*! ./mobilenet_v3/image_processing_mobilenet_v3.js */var S=Q("./src/models/mobilenet_v4/image_processing_mobilenet_v4.js");/*! ./mobilenet_v4/image_processing_mobilenet_v4.js */var d=Q("./src/models/mobilevit/image_processing_mobilevit.js");/*! ./mobilevit/image_processing_mobilevit.js */var o=Q("./src/models/nougat/image_processing_nougat.js");/*! ./nougat/image_processing_nougat.js */var v=Q("./src/models/owlv2/image_processing_owlv2.js");/*! ./owlv2/image_processing_owlv2.js */var y=Q("./src/models/owlvit/image_processing_owlvit.js");/*! ./owlvit/image_processing_owlvit.js */var i=Q("./src/models/phi3_v/image_processing_phi3_v.js");/*! ./phi3_v/image_processing_phi3_v.js */var p=Q("./src/models/pvt/image_processing_pvt.js");/*! ./pvt/image_processing_pvt.js */var l=Q("./src/models/qwen2_vl/image_processing_qwen2_vl.js");/*! ./qwen2_vl/image_processing_qwen2_vl.js */var t=Q("./src/models/rt_detr/image_processing_rt_detr.js");/*! ./rt_detr/image_processing_rt_detr.js */var Q1=Q("./src/models/sam/image_processing_sam.js");/*! ./sam/image_processing_sam.js */var m=Q("./src/models/segformer/image_processing_segformer.js");/*! ./segformer/image_processing_segformer.js */var K1=Q("./src/models/siglip/image_processing_siglip.js");/*! ./siglip/image_processing_siglip.js */var g=Q("./src/models/smolvlm/image_processing_smolvlm.js");/*! ./smolvlm/image_processing_smolvlm.js */var n=Q("./src/models/swin2sr/image_processing_swin2sr.js");/*! ./swin2sr/image_processing_swin2sr.js */var Z1=Q("./src/models/vit/image_processing_vit.js");/*! ./vit/image_processing_vit.js */var J1=Q("./src/models/vitmatte/image_processing_vitmatte.js");/*! ./vitmatte/image_processing_vitmatte.js */var z1=Q("./src/models/vitpose/image_processing_vitpose.js");/*! ./vitpose/image_processing_vitpose.js */var V1=Q("./src/models/yolos/image_processing_yolos.js");/*! ./yolos/image_processing_yolos.js */},"./src/models/janus/image_processing_janus.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/janus/image_processing_janus.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{VLMImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{constructor(H){super({do_pad:!0,pad_size:{width:H.image_size,height:H.image_size},...H});this.constant_values=this.config.background_color.map((K)=>K*this.rescale_factor)}pad_image(H,K,B,q){return super.pad_image(H,K,B,{constant_values:this.constant_values,center:!0,...q})}}},"./src/models/janus/processing_janus.js":(J,Z,Q)=>{/*!**********************************************!*\
  !*** ./src/models/janus/processing_janus.js ***!
  \**********************************************/Q.r(Z),Q.d(Z,{VLChatProcessor:()=>L});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/utils/core.js");/*! ../../utils/core.js */var B=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var q=Q("./src/utils/image.js");/*! ../../utils/image.js */class L extends Y.Processor{static image_processor_class=$.AutoImageProcessor;static tokenizer_class=H.AutoTokenizer;static uses_processor_config=!0;constructor(O,z,F){super(O,z,F);this.image_tag=this.config.image_tag,this.image_start_tag=this.config.image_start_tag,this.image_end_tag=this.config.image_end_tag,this.num_image_tokens=this.config.num_image_tokens}async _call(O,{images:z=null,chat_template:F="default"}={}){if(!z)z=await Promise.all(O.filter((S)=>S.images).flatMap((S)=>S.images).map((S)=>q.RawImage.read(S)));else if(!Array.isArray(z))z=[z];let V=this.tokenizer,A=V.apply_chat_template(O,{tokenize:!1,add_generation_prompt:!0,chat_template:F}),M=(S)=>V.encode(S,{add_special_tokens:!1}),j=A.split(this.image_tag),D=j.length-1;if(z.length!==D)throw Error(`Number of images provided (${z.length}) does not match number of "${this.image_tag}" image tags (${D})`);let[w,C,I]=V.model.convert_tokens_to_ids([this.image_tag,this.image_start_tag,this.image_end_tag]),b=M(j[0]),E=Array(b.length).fill(!1);for(let S=1;S<j.length;++S){let d=Array(this.num_image_tokens).fill(w),o=M(j[S]);b=(0,K.mergeArrays)(b,[C],d,[I],o);let v=Array(this.num_image_tokens).fill(!0);E=(0,K.mergeArrays)(E,[!1],v,[!1],Array(o.length).fill(!1))}let k=[1,b.length],T={input_ids:new B.Tensor("int64",b,k),attention_mask:new B.Tensor("int64",Array(b.length).fill(1),k),images_seq_mask:new B.Tensor("bool",E,k),images_emb_mask:new B.Tensor("bool",Array(D*this.num_image_tokens).fill(!0),[1,D,this.num_image_tokens])};if(z&&z.length>0){let S=await this.image_processor(z);return S.pixel_values.unsqueeze_(0),{...T,...S}}return T}}},"./src/models/jina_clip/image_processing_jina_clip.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/jina_clip/image_processing_jina_clip.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{JinaCLIPImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{constructor(H){let{resize_mode:K,fill_color:B,interpolation:q,size:L,...O}=H,z=K==="squash"?{width:L,height:L}:K==="shortest"?{shortest_edge:L}:{longest_edge:L},F=q==="bicubic"?3:2;super({...O,size:z,resample:F,do_center_crop:!0,crop_size:L,do_normalize:!0})}}},"./src/models/jina_clip/processing_jina_clip.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/jina_clip/processing_jina_clip.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{JinaCLIPProcessor:()=>K});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */class K extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;async _call(B=null,q=null,L={}){if(!B&&!q)throw Error("Either text or images must be provided");let O=B?this.tokenizer(B,L):{},z=q?await this.image_processor(q,L):{};return{...O,...z}}}},"./src/models/llava/processing_llava.js":(J,Z,Q)=>{/*!**********************************************!*\
  !*** ./src/models/llava/processing_llava.js ***!
  \**********************************************/Q.r(Z),Q.d(Z,{LlavaProcessor:()=>K});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */class K extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;static uses_processor_config=!0;async _call(B,q=null,L={}){let O=await this.image_processor(B,L);if(q){let[F,V]=O.pixel_values.dims.slice(-2),{image_token:A,patch_size:M,num_additional_image_tokens:j}=this.config,D=Math.floor(F/M)*Math.floor(V/M)+j;if(q=structuredClone(q),!Array.isArray(q))q=[q];for(let w=0;w<q.length;++w)q[w]=q[w].replace(A,A.repeat(D))}let z=q?this.tokenizer(q,L):{};return{...O,...z}}}},"./src/models/llava_onevision/image_processing_llava_onevision.js":(J,Z,Q)=>{/*!************************************************************************!*\
  !*** ./src/models/llava_onevision/image_processing_llava_onevision.js ***!
  \************************************************************************/Q.r(Z),Q.d(Z,{LlavaOnevisionImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/mask2former/image_processing_mask2former.js":(J,Z,Q)=>{/*!****************************************************************!*\
  !*** ./src/models/mask2former/image_processing_mask2former.js ***!
  \****************************************************************/Q.r(Z),Q.d(Z,{Mask2FormerImageProcessor:()=>$});var Y=Q("./src/models/maskformer/image_processing_maskformer.js");/*! ../maskformer/image_processing_maskformer.js */class $ extends Y.MaskFormerImageProcessor{}},"./src/models/maskformer/image_processing_maskformer.js":(J,Z,Q)=>{/*!**************************************************************!*\
  !*** ./src/models/maskformer/image_processing_maskformer.js ***!
  \**************************************************************/Q.r(Z),Q.d(Z,{MaskFormerFeatureExtractor:()=>H,MaskFormerImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_panoptic_segmentation(...K){return(0,Y.post_process_panoptic_segmentation)(...K)}post_process_instance_segmentation(...K){return(0,Y.post_process_instance_segmentation)(...K)}}class H extends ${}},"./src/models/mgp_str/processing_mgp_str.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/mgp_str/processing_mgp_str.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{MgpstrProcessor:()=>q});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/utils/maths.js");/*! ../../utils/maths.js */let B={char:["char_decode",1],bpe:["bpe_decode",2],wp:["wp_decode",102]};class q extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;get char_tokenizer(){return this.components.char_tokenizer}get bpe_tokenizer(){return this.components.bpe_tokenizer}get wp_tokenizer(){return this.components.wp_tokenizer}_decode_helper(L,O){if(!B.hasOwnProperty(O))throw Error(`Format ${O} is not supported.`);let[z,F]=B[O],V=this[z].bind(this),[A,M]=L.dims,j=[],D=[],w=L.tolist();for(let I=0;I<A;++I){let b=w[I],E=[],k=[];for(let S=1;S<M;++S){let[d,o]=(0,K.max)((0,K.softmax)(b[S]));if(k.push(d),o==F)break;E.push(o)}let T=k.length>0?k.reduce((S,d)=>S*d,1):0;D.push(E),j.push(T)}return[V(D),j]}char_decode(L){return this.char_tokenizer.batch_decode(L).map((O)=>O.replaceAll(" ",""))}bpe_decode(L){return this.bpe_tokenizer.batch_decode(L)}wp_decode(L){return this.wp_tokenizer.batch_decode(L).map((O)=>O.replaceAll(" ",""))}batch_decode([L,O,z]){let[F,V]=this._decode_helper(L,"char"),[A,M]=this._decode_helper(O,"bpe"),[j,D]=this._decode_helper(z,"wp"),w=[],C=[];for(let I=0;I<F.length;++I){let[b,E]=(0,K.max)([V[I],M[I],D[I]]);w.push([F[I],A[I],j[I]][E]),C.push(b)}return{generated_text:w,scores:C,char_preds:F,bpe_preds:A,wp_preds:j}}static async from_pretrained(...L){let O=await super.from_pretrained(...L),z=await H.AutoTokenizer.from_pretrained("Xenova/gpt2"),F=await H.AutoTokenizer.from_pretrained("Xenova/bert-base-uncased");return O.components={image_processor:O.image_processor,char_tokenizer:O.tokenizer,bpe_tokenizer:z,wp_tokenizer:F},O}async _call(L,O=null){let z=await this.image_processor(L);if(O)z.labels=this.tokenizer(O).input_ids;return z}}},"./src/models/mobilenet_v1/image_processing_mobilenet_v1.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/mobilenet_v1/image_processing_mobilenet_v1.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{MobileNetV1FeatureExtractor:()=>H,MobileNetV1ImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/mobilenet_v2/image_processing_mobilenet_v2.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/mobilenet_v2/image_processing_mobilenet_v2.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{MobileNetV2FeatureExtractor:()=>H,MobileNetV2ImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/mobilenet_v3/image_processing_mobilenet_v3.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/mobilenet_v3/image_processing_mobilenet_v3.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{MobileNetV3FeatureExtractor:()=>H,MobileNetV3ImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/mobilenet_v4/image_processing_mobilenet_v4.js":(J,Z,Q)=>{/*!******************************************************************!*\
  !*** ./src/models/mobilenet_v4/image_processing_mobilenet_v4.js ***!
  \******************************************************************/Q.r(Z),Q.d(Z,{MobileNetV4FeatureExtractor:()=>H,MobileNetV4ImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/mobilevit/image_processing_mobilevit.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/mobilevit/image_processing_mobilevit.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{MobileViTFeatureExtractor:()=>H,MobileViTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/moonshine/feature_extraction_moonshine.js":(J,Z,Q)=>{/*!**************************************************************!*\
  !*** ./src/models/moonshine/feature_extraction_moonshine.js ***!
  \**************************************************************/Q.r(Z),Q.d(Z,{MoonshineFeatureExtractor:()=>H});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.FeatureExtractor{async _call(K){if((0,Y.validate_audio_inputs)(K,"MoonshineFeatureExtractor"),K instanceof Float64Array)K=new Float32Array(K);let B=[1,K.length];return{input_values:new $.Tensor("float32",K,B)}}}},"./src/models/moonshine/processing_moonshine.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/moonshine/processing_moonshine.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{MoonshineProcessor:()=>K});var Y=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var $=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */class K extends H.Processor{static tokenizer_class=$.AutoTokenizer;static feature_extractor_class=Y.AutoFeatureExtractor;async _call(B){return await this.feature_extractor(B)}}},"./src/models/nougat/image_processing_nougat.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/nougat/image_processing_nougat.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{NougatImageProcessor:()=>$});var Y=Q("./src/models/donut/image_processing_donut.js");/*! ../donut/image_processing_donut.js */class $ extends Y.DonutImageProcessor{}},"./src/models/owlv2/image_processing_owlv2.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/owlv2/image_processing_owlv2.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{Owlv2ImageProcessor:()=>$});var Y=Q("./src/models/owlvit/image_processing_owlvit.js");/*! ../owlvit/image_processing_owlvit.js */class $ extends Y.OwlViTImageProcessor{}},"./src/models/owlvit/image_processing_owlvit.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/owlvit/image_processing_owlvit.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{OwlViTFeatureExtractor:()=>H,OwlViTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_object_detection(...K){return(0,Y.post_process_object_detection)(...K)}}class H extends ${}},"./src/models/owlvit/processing_owlvit.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/owlvit/processing_owlvit.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{OwlViTProcessor:()=>K});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */class K extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor}},"./src/models/paligemma/processing_paligemma.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/paligemma/processing_paligemma.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{PaliGemmaProcessor:()=>q});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */let K="<image>";function B(L,O,z,F,V){return`${F.repeat(z*V)}${O}${L}
`}class q extends Y.Processor{static tokenizer_class=H.AutoTokenizer;static image_processor_class=$.AutoImageProcessor;static uses_processor_config=!1;async _call(L,O=null,z={}){if(!O)console.warn("You are using PaliGemma without a text prefix. It will perform as a picture-captioning model."),O="";if(!Array.isArray(L))L=[L];if(!Array.isArray(O))O=[O];let F=this.tokenizer.bos_token,V=this.image_processor.config.image_seq_length,A;if(O.some((D)=>D.includes(K)))A=O.map((D)=>{let w=D.replaceAll(K,K.repeat(V)),C=w.lastIndexOf(K),I=C===-1?0:C+K.length;return w.slice(0,I)+F+w.slice(I)+`
`});else console.warn("You are passing both `text` and `images` to `PaliGemmaProcessor`. The processor expects special image tokens in the text, as many tokens as there are images per each text. It is recommended to add `<image>` tokens in the very beginning of your text. For this call, we will infer how many images each text has and add special tokens."),A=O.map((D)=>B(D,F,V,K,L.length));let M=this.tokenizer(A,z);return{...await this.image_processor(L,z),...M}}}},"./src/models/phi3_v/image_processing_phi3_v.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/phi3_v/image_processing_phi3_v.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{Phi3VImageProcessor:()=>O});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */let H=336,K=[2,3],{ceil:B,floor:q,sqrt:L}=Math;class O extends Y.ImageProcessor{constructor(z){super({...z,do_normalize:!0,do_pad:!0,pad_size:"custom",do_convert_rgb:!0,do_resize:!0});this._num_crops=z.num_crops}calc_num_image_tokens_from_image_size(z,F){let{num_img_tokens:V}=this.config;return q((q(F/H)*q(z/H)+1)*V+1+(q(F/H)+1)*L(V))}get_resize_output_image_size(z,F){let V=this._num_crops,[A,M]=z.size,j=A/M,D=1;while(D*Math.ceil(D/j)<=V)D+=1;D-=1;let w=Math.floor(D*336),C=Math.floor(w/j);return[w,C]}pad_image(z,F,V,A={}){let[M,j]=F,D=H*B(M/H),w=H*B(j/H),C=[1,1,1].map((I,b)=>(I-this.image_mean[b])/this.image_std[b]);return super.pad_image(z,F,{width:w,height:D},{center:!0,constant_values:C,...A})}async _call(z,{num_crops:F=null}={}){if(this._num_crops=F??=this.config.num_crops,F<4||L(F)%1!==0)throw Error("num_crops must be a square number >= 4");if(!Array.isArray(z))z=[z];let V=z.length,A=await Promise.all(z.map((E)=>this.preprocess(E))),M=A.map((E)=>E.original_size),j=A.map((E)=>E.reshaped_input_size),D=[];for(let{pixel_values:E}of A){E.unsqueeze_(0);let[k,T]=E.dims.slice(-2),S=await(0,$.interpolate_4d)(E,{size:[H,H],mode:"bicubic"});if(F>0){let d=[],o=L(F),v=q(T/o),y=q(k/o);for(let p=0;p<o;++p)for(let l=0;l<o;++l){let t,Q1,m,K1;if(p===o-1)Q1=k-y,K1=k;else Q1=p*y,K1=(p+1)*y;if(l===o-1)t=T-v,m=T;else t=l*v,m=(l+1)*v;let g=[Q1,t],n=[K1,m],Z1=await(0,$.slice)(E,g,n,K);d.push(Z1)}let i=await(0,$.interpolate_4d)((0,$.cat)(d,0),{size:[H,H],mode:"bicubic"});D.push((0,$.cat)([S,i],0))}else D.push(S)}let w=(0,$.stack)(D,0),C=j.map((E)=>E.map((k)=>H*B(k/H))),I=new $.Tensor("int64",C.flat(),[V,2]),b=C.map(([E,k])=>this.calc_num_image_tokens_from_image_size(k,E));return{pixel_values:w,original_sizes:M,reshaped_input_sizes:j,image_sizes:I,num_img_tokens:b}}}},"./src/models/phi3_v/processing_phi3_v.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/phi3_v/processing_phi3_v.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{Phi3VProcessor:()=>L});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/utils/image.js");/*! ../../utils/image.js */let B="<|image|>",q=/<\|image_\d+\|>/g;class L extends Y.Processor{static image_processor_class=$.AutoImageProcessor;static tokenizer_class=H.AutoTokenizer;async _call(O,z=null,{padding:F=!0,truncation:V=!0,num_crops:A=null}={}){if(!Array.isArray(O))O=[O];let M,j;if(z){j=await this.image_processor(z,{num_crops:A});let{num_img_tokens:D}=j,w=O.map((I,b)=>I.split(q).join(B.repeat(D[b])));M=this.tokenizer(w,{padding:F,truncation:V});let C=this.tokenizer.model.convert_tokens_to_ids([B])[0];M.input_ids.map_((I)=>I==C?-I:I)}else M=this.tokenizer(O);return{...M,...j}}}},"./src/models/processors.js":(J,Z,Q)=>{/*!**********************************!*\
  !*** ./src/models/processors.js ***!
  \**********************************/Q.r(Z),Q.d(Z,{Florence2Processor:()=>Y.Florence2Processor,Gemma3nProcessor:()=>$.Gemma3nProcessor,GroundingDinoProcessor:()=>H.GroundingDinoProcessor,Idefics3Processor:()=>K.Idefics3Processor,JinaCLIPProcessor:()=>q.JinaCLIPProcessor,LlavaProcessor:()=>L.LlavaProcessor,MgpstrProcessor:()=>O.MgpstrProcessor,MoonshineProcessor:()=>z.MoonshineProcessor,OwlViTProcessor:()=>F.OwlViTProcessor,PaliGemmaProcessor:()=>A.PaliGemmaProcessor,Phi3VProcessor:()=>V.Phi3VProcessor,PyAnnoteProcessor:()=>M.PyAnnoteProcessor,Qwen2VLProcessor:()=>j.Qwen2VLProcessor,SamProcessor:()=>D.SamProcessor,SmolVLMProcessor:()=>w.SmolVLMProcessor,SpeechT5Processor:()=>C.SpeechT5Processor,UltravoxProcessor:()=>I.UltravoxProcessor,VLChatProcessor:()=>B.VLChatProcessor,VoxtralProcessor:()=>b.VoxtralProcessor,Wav2Vec2Processor:()=>E.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>k.Wav2Vec2ProcessorWithLM,WhisperProcessor:()=>T.WhisperProcessor});var Y=Q("./src/models/florence2/processing_florence2.js");/*! ./florence2/processing_florence2.js */var $=Q("./src/models/gemma3n/processing_gemma3n.js");/*! ./gemma3n/processing_gemma3n.js */var H=Q("./src/models/grounding_dino/processing_grounding_dino.js");/*! ./grounding_dino/processing_grounding_dino.js */var K=Q("./src/models/idefics3/processing_idefics3.js");/*! ./idefics3/processing_idefics3.js */var B=Q("./src/models/janus/processing_janus.js");/*! ./janus/processing_janus.js */var q=Q("./src/models/jina_clip/processing_jina_clip.js");/*! ./jina_clip/processing_jina_clip.js */var L=Q("./src/models/llava/processing_llava.js");/*! ./llava/processing_llava.js */var O=Q("./src/models/mgp_str/processing_mgp_str.js");/*! ./mgp_str/processing_mgp_str.js */var z=Q("./src/models/moonshine/processing_moonshine.js");/*! ./moonshine/processing_moonshine.js */var F=Q("./src/models/owlvit/processing_owlvit.js");/*! ./owlvit/processing_owlvit.js */var V=Q("./src/models/phi3_v/processing_phi3_v.js");/*! ./phi3_v/processing_phi3_v.js */var A=Q("./src/models/paligemma/processing_paligemma.js");/*! ./paligemma/processing_paligemma.js */var M=Q("./src/models/pyannote/processing_pyannote.js");/*! ./pyannote/processing_pyannote.js */var j=Q("./src/models/qwen2_vl/processing_qwen2_vl.js");/*! ./qwen2_vl/processing_qwen2_vl.js */var D=Q("./src/models/sam/processing_sam.js");/*! ./sam/processing_sam.js */var w=Q("./src/models/smolvlm/processing_smolvlm.js");/*! ./smolvlm/processing_smolvlm.js */var C=Q("./src/models/speecht5/processing_speecht5.js");/*! ./speecht5/processing_speecht5.js */var I=Q("./src/models/ultravox/processing_ultravox.js");/*! ./ultravox/processing_ultravox.js */var b=Q("./src/models/voxtral/processing_voxtral.js");/*! ./voxtral/processing_voxtral.js */var E=Q("./src/models/wav2vec2/processing_wav2vec2.js");/*! ./wav2vec2/processing_wav2vec2.js */var k=Q("./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js");/*! ./wav2vec2_with_lm/processing_wav2vec2_with_lm.js */var T=Q("./src/models/whisper/processing_whisper.js");/*! ./whisper/processing_whisper.js */},"./src/models/pvt/image_processing_pvt.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/pvt/image_processing_pvt.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{PvtImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/pyannote/feature_extraction_pyannote.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/pyannote/feature_extraction_pyannote.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{PyAnnoteFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/maths.js");/*! ../../utils/maths.js */class K extends Y.FeatureExtractor{async _call(B){if((0,Y.validate_audio_inputs)(B,"PyAnnoteFeatureExtractor"),B instanceof Float64Array)B=new Float32Array(B);let q=[1,1,B.length];return{input_values:new $.Tensor("float32",B,q)}}samples_to_frames(B){return(B-this.config.offset)/this.config.step}post_process_speaker_diarization(B,q){let L=q/this.samples_to_frames(q)/this.config.sampling_rate,O=[];for(let z of B.tolist()){let F=[],V=-1;for(let A=0;A<z.length;++A){let M=(0,H.softmax)(z[A]),[j,D]=(0,H.max)(M),[w,C]=[A,A+1];if(D!==V)V=D,F.push({id:D,start:w,end:C,score:j});else F.at(-1).end=C,F.at(-1).score+=j}O.push(F.map(({id:A,start:M,end:j,score:D})=>({id:A,start:M*L,end:j*L,confidence:D/(j-M)})))}return O}}},"./src/models/pyannote/processing_pyannote.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/pyannote/processing_pyannote.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{PyAnnoteProcessor:()=>H});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/pyannote/feature_extraction_pyannote.js");/*! ./feature_extraction_pyannote.js */class H extends Y.Processor{static feature_extractor_class=$.PyAnnoteFeatureExtractor;async _call(K){return await this.feature_extractor(K)}post_process_speaker_diarization(...K){return this.feature_extractor.post_process_speaker_diarization(...K)}get sampling_rate(){return this.feature_extractor.config.sampling_rate}}},"./src/models/qwen2_vl/image_processing_qwen2_vl.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/qwen2_vl/image_processing_qwen2_vl.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{Qwen2VLImageProcessor:()=>H});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.ImageProcessor{async _call(K,...B){let{pixel_values:q,original_sizes:L,reshaped_input_sizes:O}=await super._call(K,...B),z=q,{temporal_patch_size:F,merge_size:V,patch_size:A}=this.config;if(z.dims[0]===1)z=(0,$.cat)(Array.from({length:F},()=>z),0);let M=z.dims[0]/F,j=z.dims[1],D=Math.floor(z.dims[2]/A),w=Math.floor(z.dims[3]/A),C=z.view(M,F,j,Math.floor(D/V),V,A,Math.floor(w/V),V,A).permute(0,3,6,4,7,2,1,5,8).view(M*D*w,j*F*A*A),I=new $.Tensor("int64",[M,D,w],[1,3]);return{pixel_values:C,image_grid_thw:I,original_sizes:L,reshaped_input_sizes:O}}}},"./src/models/qwen2_vl/processing_qwen2_vl.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/qwen2_vl/processing_qwen2_vl.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{Qwen2VLProcessor:()=>B});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */var H=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var K=Q("./src/utils/image.js");/*! ../../utils/image.js */class B extends Y.Processor{static image_processor_class=$.AutoImageProcessor;static tokenizer_class=H.AutoTokenizer;async _call(q,L=null,...O){if(!Array.isArray(q))q=[q];let z,F;if(L)z=await this.image_processor(L),F=z.image_grid_thw;if(F){let A=this.image_processor.config.merge_size**2,M=0,j=F.tolist();q=q.map((D)=>{while(D.includes("<|image_pad|>")){let w=Number(j[M++].reduce((C,I)=>C*I,1n));D=D.replace("<|image_pad|>","<|placeholder|>".repeat(Math.floor(w/A)))}return D.replaceAll("<|placeholder|>","<|image_pad|>")})}return{...this.tokenizer(q),...z}}}},"./src/models/rt_detr/image_processing_rt_detr.js":(J,Z,Q)=>{/*!********************************************************!*\
  !*** ./src/models/rt_detr/image_processing_rt_detr.js ***!
  \********************************************************/Q.r(Z),Q.d(Z,{RTDetrImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_object_detection(...H){return(0,Y.post_process_object_detection)(...H)}}},"./src/models/sam/image_processing_sam.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/sam/image_processing_sam.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{SamImageProcessor:()=>K});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/core.js");/*! ../../utils/core.js */var H=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class K extends Y.ImageProcessor{reshape_input_points(B,q,L,O=!1){B=structuredClone(B);let z=(0,$.calculateDimensions)(B);if(z.length===3){if(!O)z=[1,...z];B=[B]}else if(z.length!==4)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let F=0;F<B.length;++F){let V=q[F],A=L[F],M=[A[0]/V[0],A[1]/V[1]];for(let j=0;j<B[F].length;++j)for(let D=0;D<B[F][j].length;++D)for(let w=0;w<B[F][j][D].length;++w)B[F][j][D][w]*=M[w%2]}return new H.Tensor("float32",Float32Array.from(B.flat(1/0)),z)}add_input_labels(B,q){let L=(0,$.calculateDimensions)(B);if(L.length===2)L=[1,...L],B=[B];else if(L.length!==3)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(L.some((O,z)=>O!==q.dims[z]))throw Error(`The first ${L.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new H.Tensor("int64",B.flat(1/0).map(BigInt),L)}async _call(B,{input_points:q=null,input_labels:L=null,input_boxes:O=null}={}){let z=await super._call(B);if(q)z.input_points=this.reshape_input_points(q,z.original_sizes,z.reshaped_input_sizes);if(L){if(!z.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");z.input_labels=this.add_input_labels(L,z.input_points)}if(O)z.input_boxes=this.reshape_input_points(O,z.original_sizes,z.reshaped_input_sizes,!0);return z}async post_process_masks(B,q,L,{mask_threshold:O=0,binarize:z=!0,pad_size:F=null}={}){let V=[];F=F??this.pad_size;let A=[F.height,F.width];for(let M=0;M<q.length;++M){let j=q[M],D=L[M],w=await(0,H.interpolate_4d)(B[M],{mode:"bilinear",size:A});if(w=w.slice(null,null,[0,D[0]],[0,D[1]]),w=await(0,H.interpolate_4d)(w,{mode:"bilinear",size:j}),z){let C=w.data,I=new Uint8Array(C.length);for(let b=0;b<C.length;++b)if(C[b]>O)I[b]=1;w=new H.Tensor("bool",I,w.dims)}V.push(w)}return V}generate_crop_boxes(B,q,{crop_n_layers:L=0,overlap_ratio:O=0.3413333333333333,points_per_crop:z=32,crop_n_points_downscale_factor:F=1}={}){}}},"./src/models/sam/processing_sam.js":(J,Z,Q)=>{/*!******************************************!*\
  !*** ./src/models/sam/processing_sam.js ***!
  \******************************************/Q.r(Z),Q.d(Z,{SamProcessor:()=>H});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/models/auto/image_processing_auto.js");/*! ../auto/image_processing_auto.js */class H extends Y.Processor{static image_processor_class=$.AutoImageProcessor;async _call(...K){return await this.image_processor(...K)}post_process_masks(...K){return this.image_processor.post_process_masks(...K)}reshape_input_points(...K){return this.image_processor.reshape_input_points(...K)}}},"./src/models/seamless_m4t/feature_extraction_seamless_m4t.js":(J,Z,Q)=>{/*!********************************************************************!*\
  !*** ./src/models/seamless_m4t/feature_extraction_seamless_m4t.js ***!
  \********************************************************************/Q.r(Z),Q.d(Z,{SeamlessM4TFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class K extends Y.FeatureExtractor{constructor(B){super(B);let q=this.config.sampling_rate,L=(0,H.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(q/2),q,null,"kaldi",!0);this.mel_filters=L,this.window=(0,H.window_function)(400,"povey",{periodic:!1})}async _extract_fbank_features(B,q){return B=B.map((L)=>L*32768),(0,H.spectrogram)(B,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:0.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:0.0000001192092955078125,remove_dc_offset:!0,max_num_frames:q,transpose:!0})}async _call(B,{padding:q=!0,pad_to_multiple_of:L=2,do_normalize_per_mel_bins:O=!0,return_attention_mask:z=!0}={}){(0,Y.validate_audio_inputs)(B,"SeamlessM4TFeatureExtractor");let F=await this._extract_fbank_features(B,this.config.max_length);if(O){let[I,b]=F.dims,E=F.data;for(let k=0;k<b;++k){let T=0;for(let v=0;v<I;++v)T+=E[v*b+k];let S=T/I,d=0;for(let v=0;v<I;++v)d+=(E[v*b+k]-S)**2;d/=I-1;let o=Math.sqrt(d+0.0000001);for(let v=0;v<I;++v){let y=v*b+k;E[y]=(E[y]-S)/o}}}let V;if(q){let[I,b]=F.dims,E=F.data,k=I%L;if(k>0){let T=new Float32Array(b*(I+k));T.set(E),T.fill(this.config.padding_value,E.length);let S=I+k;if(F=new $.Tensor(F.type,T,[S,b]),z)V=new $.Tensor("int64",new BigInt64Array(S),[1,S]),V.data.fill(1n,0,I)}}let[A,M]=F.dims,j=this.config.stride;if(A%j!==0)throw Error(`The number of frames (${A}) must be a multiple of the stride (${j}).`);let w=F.view(1,Math.floor(A/j),M*j),C={input_features:w};if(z){let I=w.dims[1],b=new BigInt64Array(I);if(V){let E=V.data;for(let k=1,T=0;k<A;k+=j,++T)b[T]=E[k]}else b.fill(1n);C.attention_mask=new $.Tensor("int64",b,[1,I])}return C}}},"./src/models/segformer/image_processing_segformer.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/segformer/image_processing_segformer.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{SegformerFeatureExtractor:()=>H,SegformerImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_semantic_segmentation(...K){return(0,Y.post_process_semantic_segmentation)(...K)}}class H extends ${}},"./src/models/siglip/image_processing_siglip.js":(J,Z,Q)=>{/*!******************************************************!*\
  !*** ./src/models/siglip/image_processing_siglip.js ***!
  \******************************************************/Q.r(Z),Q.d(Z,{SiglipImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}},"./src/models/smolvlm/image_processing_smolvlm.js":(J,Z,Q)=>{/*!********************************************************!*\
  !*** ./src/models/smolvlm/image_processing_smolvlm.js ***!
  \********************************************************/Q.r(Z),Q.d(Z,{SmolVLMImageProcessor:()=>Y.Idefics3ImageProcessor});var Y=Q("./src/models/idefics3/image_processing_idefics3.js");/*! ../idefics3/image_processing_idefics3.js */},"./src/models/smolvlm/processing_smolvlm.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/smolvlm/processing_smolvlm.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{SmolVLMProcessor:()=>Y.Idefics3Processor});var Y=Q("./src/models/idefics3/processing_idefics3.js");/*! ../idefics3/processing_idefics3.js */},"./src/models/snac/feature_extraction_snac.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/snac/feature_extraction_snac.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{SnacFeatureExtractor:()=>$});var Y=Q("./src/models/dac/feature_extraction_dac.js");/*! ../dac/feature_extraction_dac.js */class $ extends Y.DacFeatureExtractor{}},"./src/models/speecht5/feature_extraction_speecht5.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/speecht5/feature_extraction_speecht5.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{SpeechT5FeatureExtractor:()=>$});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */class $ extends Y.FeatureExtractor{}},"./src/models/speecht5/processing_speecht5.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/speecht5/processing_speecht5.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{SpeechT5Processor:()=>K});var Y=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var $=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var H=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */class K extends Y.Processor{static tokenizer_class=$.AutoTokenizer;static feature_extractor_class=H.AutoFeatureExtractor;async _call(B){return await this.feature_extractor(B)}}},"./src/models/swin2sr/image_processing_swin2sr.js":(J,Z,Q)=>{/*!********************************************************!*\
  !*** ./src/models/swin2sr/image_processing_swin2sr.js ***!
  \********************************************************/Q.r(Z),Q.d(Z,{Swin2SRImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{pad_image(H,K,B,q={}){let[L,O,z]=K;return super.pad_image(H,K,{width:O+(B-O%B)%B,height:L+(B-L%B)%B},{mode:"symmetric",center:!1,constant_values:-1,...q})}}},"./src/models/ultravox/processing_ultravox.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/ultravox/processing_ultravox.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{UltravoxProcessor:()=>K});var Y=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var $=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */class K extends H.Processor{static tokenizer_class=$.AutoTokenizer;static feature_extractor_class=Y.AutoFeatureExtractor;static uses_processor_config=!0;async _call(B,q=null,L={}){if(Array.isArray(B))throw Error("Batched inputs are not supported yet.");let O={};if(q){let F=q.length,{input_features:V}=await this.feature_extractor(q,{...L,max_length:F}),A=Math.round(F/this.config.encoder_ds_factor+0.0001),M=1+Math.ceil(A/this.config.stack_factor);O.audio_token_len=[M],O.audio_values=V;let j=this.config.audio_placeholder;if(!B.includes(j))throw Error(`The input text does not contain the image token ${j}.`);B=B.replaceAll(j,j.repeat(M))}return{...this.tokenizer(B,{add_special_tokens:!1,...L}),...O}}}},"./src/models/vit/image_processing_vit.js":(J,Z,Q)=>{/*!************************************************!*\
  !*** ./src/models/vit/image_processing_vit.js ***!
  \************************************************/Q.r(Z),Q.d(Z,{ViTFeatureExtractor:()=>H,ViTImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{}class H extends ${}},"./src/models/vitmatte/image_processing_vitmatte.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/vitmatte/image_processing_vitmatte.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{VitMatteImageProcessor:()=>H});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.ImageProcessor{async _call(K,B){if(!Array.isArray(K))K=[K];if(!Array.isArray(B))B=[B];let q=await Promise.all(K.map((z)=>this.preprocess(z))),L=await Promise.all(B.map((z)=>this.preprocess(z,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:(0,$.stack)(q.map((z,F)=>(0,$.cat)([z.pixel_values,L[F].pixel_values],0)),0),original_sizes:q.map((z)=>z.original_size),reshaped_input_sizes:q.map((z)=>z.reshaped_input_size)}}}},"./src/models/vitpose/image_processing_vitpose.js":(J,Z,Q)=>{/*!********************************************************!*\
  !*** ./src/models/vitpose/image_processing_vitpose.js ***!
  \********************************************************/Q.r(Z),Q.d(Z,{VitPoseImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_pose_estimation(H,K,{threshold:B=null}={}){let q=H.tolist(),[L,O,z,F]=H.dims,V=[];for(let A=0;A<L;++A){let M=q[A],j=K[A],D=[];for(let w=0;w<j.length;++w){let C=j[w],I=[],b=[],E=[],k=C.at(-2)/F,T=C.at(-1)/z;for(let S=0;S<M.length;++S){let[d,o]=[0,0],v=0,y=-1/0,i=M[S];for(let l=0;l<i.length;++l){let t=i[l];for(let Q1=0;Q1<t.length;++Q1){let m=t[Q1];v+=m,y=Math.max(y,m),d+=(Q1+0.5)*m,o+=l*m}}if(B!=null&&y<B)continue;let p=[k*d/v,T*o/v];I.push(p),E.push(S),b.push(y)}D.push({bbox:C,scores:b,labels:E,keypoints:I})}V.push(D)}return V}}},"./src/models/voxtral/processing_voxtral.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/voxtral/processing_voxtral.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{VoxtralProcessor:()=>z});var Y=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var $=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */var K=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */let B="[AUDIO]",q="[BEGIN_AUDIO]",L=375;function O(F,V){let A=[];for(let M=0;M<F.length;M+=V)A.push(F.subarray(M,Math.min(M+V,F.length)));return A}class z extends H.Processor{static tokenizer_class=$.AutoTokenizer;static feature_extractor_class=Y.AutoFeatureExtractor;static uses_processor_config=!1;async _call(F,V=null,A={}){if(Array.isArray(F))throw Error("Batched inputs are not supported yet.");let M={};if(V){if(!F.includes(B))throw Error(`The input text does not contain the audio token ${B}.`);if(!Array.isArray(V))V=[V];let D=F.split(B),w=D.length-1;if(w!==V.length)throw Error(`The number of audio inputs (${V.length}) does not match the number of audio tokens in the text (${w}).`);let C=this.feature_extractor.config.n_samples,I=V.map((S)=>O(S,C)),b=I.map((S)=>S.length),E=I.flat(),k=(await Promise.all(E.map((S)=>this.feature_extractor(S,A)))).map((S)=>S.input_features);M.audio_values=k.length>1?(0,K.cat)(k,0):k[0];let T=D[0];for(let S=0;S<b.length;++S){T+=q;for(let d=0;d<b[S];++d)T+=B.repeat(L);T+=D[S+1]}F=T}return{...this.tokenizer(F,{add_special_tokens:!1,...A}),...M}}}},"./src/models/wav2vec2/feature_extraction_wav2vec2.js":(J,Z,Q)=>{/*!************************************************************!*\
  !*** ./src/models/wav2vec2/feature_extraction_wav2vec2.js ***!
  \************************************************************/Q.r(Z),Q.d(Z,{Wav2Vec2FeatureExtractor:()=>H});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */class H extends Y.FeatureExtractor{_zero_mean_unit_var_norm(K){let q=K.reduce((O,z)=>O+z,0)/K.length,L=K.reduce((O,z)=>O+(z-q)**2,0)/K.length;return K.map((O)=>(O-q)/Math.sqrt(L+0.0000001))}async _call(K){if((0,Y.validate_audio_inputs)(K,"Wav2Vec2FeatureExtractor"),K instanceof Float64Array)K=new Float32Array(K);let B=K;if(this.config.do_normalize)B=this._zero_mean_unit_var_norm(B);let q=[1,B.length];return{input_values:new $.Tensor("float32",B,q),attention_mask:new $.Tensor("int64",new BigInt64Array(B.length).fill(1n),q)}}}},"./src/models/wav2vec2/processing_wav2vec2.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/wav2vec2/processing_wav2vec2.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{Wav2Vec2Processor:()=>K});var Y=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var $=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */class K extends H.Processor{static tokenizer_class=Y.AutoTokenizer;static feature_extractor_class=$.AutoFeatureExtractor;async _call(B){return await this.feature_extractor(B)}}},"./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js":(J,Z,Q)=>{/*!********************************************************************!*\
  !*** ./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js ***!
  \********************************************************************/Q.r(Z),Q.d(Z,{Wav2Vec2ProcessorWithLM:()=>K});var Y=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var $=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */class K extends H.Processor{static tokenizer_class=Y.AutoTokenizer;static feature_extractor_class=$.AutoFeatureExtractor;async _call(B){return await this.feature_extractor(B)}}},"./src/models/wespeaker/feature_extraction_wespeaker.js":(J,Z,Q)=>{/*!**************************************************************!*\
  !*** ./src/models/wespeaker/feature_extraction_wespeaker.js ***!
  \**************************************************************/Q.r(Z),Q.d(Z,{WeSpeakerFeatureExtractor:()=>K});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */class K extends Y.FeatureExtractor{constructor(B){super(B);let q=this.config.sampling_rate,L=(0,H.mel_filter_bank)(257,this.config.num_mel_bins,20,Math.floor(q/2),q,null,"kaldi",!0);this.mel_filters=L,this.window=(0,H.window_function)(400,"hamming",{periodic:!1}),this.min_num_frames=this.config.min_num_frames}async _extract_fbank_features(B){return B=B.map((q)=>q*32768),(0,H.spectrogram)(B,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:0.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:0.0000001192092955078125,remove_dc_offset:!0,transpose:!0,min_num_frames:this.min_num_frames})}async _call(B){(0,Y.validate_audio_inputs)(B,"WeSpeakerFeatureExtractor");let q=(await this._extract_fbank_features(B)).unsqueeze_(0);if(this.config.fbank_centering_span===null){let L=q.mean(1).data,O=q.data,[z,F,V]=q.dims;for(let A=0;A<z;++A){let M=A*F*V,j=A*V;for(let D=0;D<F;++D){let w=M+D*V;for(let C=0;C<V;++C)O[w+C]-=L[j+C]}}}return{input_features:q}}}},"./src/models/whisper/common_whisper.js":(J,Z,Q)=>{/*!**********************************************!*\
  !*** ./src/models/whisper/common_whisper.js ***!
  \**********************************************/Q.r(Z),Q.d(Z,{WHISPER_LANGUAGE_MAPPING:()=>$,WHISPER_TO_LANGUAGE_CODE_MAPPING:()=>H,whisper_language_to_code:()=>K});let Y=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],$=new Map(Y),H=new Map([...Y.map(([B,q])=>[q,B]),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);function K(B){B=B.toLowerCase();let q=H.get(B);if(q===void 0){let L=B.match(/^<\|([a-z]{2})\|>$/);if(L)B=L[1];if($.has(B))q=B;else{let z=B.length===2?$.keys():$.values();throw Error(`Language "${B}" is not supported. Must be one of: ${JSON.stringify(Array.from(z))}`)}}return q}},"./src/models/whisper/feature_extraction_whisper.js":(J,Z,Q)=>{/*!**********************************************************!*\
  !*** ./src/models/whisper/feature_extraction_whisper.js ***!
  \**********************************************************/Q.r(Z),Q.d(Z,{WhisperFeatureExtractor:()=>B});var Y=Q("./src/base/feature_extraction_utils.js");/*! ../../base/feature_extraction_utils.js */var $=Q("./src/utils/tensor.js");/*! ../../utils/tensor.js */var H=Q("./src/utils/audio.js");/*! ../../utils/audio.js */var K=Q("./src/utils/maths.js");/*! ../../utils/maths.js */class B extends Y.FeatureExtractor{constructor(q){super(q);this.config.mel_filters??=(0,H.mel_filter_bank)(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8000,this.config.sampling_rate,"slaney","slaney"),this.window=(0,H.window_function)(this.config.n_fft,"hann")}async _extract_fbank_features(q){let L=await(0,H.spectrogram)(q,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:Math.min(Math.floor(q.length/this.config.hop_length),this.config.nb_max_frames)}),O=L.data,z=(0,K.max)(O)[0];for(let F=0;F<O.length;++F)O[F]=(Math.max(O[F],z-8)+4)/4;return L}async _call(q,{max_length:L=null}={}){(0,Y.validate_audio_inputs)(q,"WhisperFeatureExtractor");let O,z=L??this.config.n_samples;if(q.length>z){if(q.length>this.config.n_samples)console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`.");O=q.slice(0,z)}else O=new Float32Array(z),O.set(q);return{input_features:(await this._extract_fbank_features(O)).unsqueeze_(0)}}}},"./src/models/whisper/generation_whisper.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/whisper/generation_whisper.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{WhisperGenerationConfig:()=>$});var Y=Q("./src/generation/configuration_utils.js");/*! ../../generation/configuration_utils.js */class $ extends Y.GenerationConfig{return_timestamps=null;return_token_timestamps=null;num_frames=null;alignment_heads=null;task=null;language=null;no_timestamps_token_id=null;prompt_ids=null;is_multilingual=null;lang_to_id=null;task_to_id=null;max_initial_timestamp_index=1}},"./src/models/whisper/processing_whisper.js":(J,Z,Q)=>{/*!**************************************************!*\
  !*** ./src/models/whisper/processing_whisper.js ***!
  \**************************************************/Q.r(Z),Q.d(Z,{WhisperProcessor:()=>K});var Y=Q("./src/models/auto/feature_extraction_auto.js");/*! ../auto/feature_extraction_auto.js */var $=Q("./src/tokenizers.js");/*! ../../tokenizers.js */var H=Q("./src/base/processing_utils.js");/*! ../../base/processing_utils.js */class K extends H.Processor{static tokenizer_class=$.AutoTokenizer;static feature_extractor_class=Y.AutoFeatureExtractor;async _call(B){return await this.feature_extractor(B)}}},"./src/models/yolos/image_processing_yolos.js":(J,Z,Q)=>{/*!****************************************************!*\
  !*** ./src/models/yolos/image_processing_yolos.js ***!
  \****************************************************/Q.r(Z),Q.d(Z,{YolosFeatureExtractor:()=>H,YolosImageProcessor:()=>$});var Y=Q("./src/base/image_processors_utils.js");/*! ../../base/image_processors_utils.js */class $ extends Y.ImageProcessor{post_process_object_detection(...K){return(0,Y.post_process_object_detection)(...K)}}class H extends ${}},"./src/ops/registry.js":(J,Z,Q)=>{/*!*****************************!*\
  !*** ./src/ops/registry.js ***!
  \*****************************/Q.r(Z),Q.d(Z,{TensorOpRegistry:()=>K});var Y=Q("./src/backends/onnx.js");/*! ../backends/onnx.js */var $=Q("./src/utils/tensor.js");/*! ../utils/tensor.js */let H=async(B,q,L)=>{let O=await(0,Y.createInferenceSession)(new Uint8Array(B),q);return async(z)=>{let F=(0,Y.isONNXProxy)(),V=Object.fromEntries(Object.entries(z).map(([M,j])=>[M,(F?j.clone():j).ort_tensor])),A=await(0,Y.runInferenceSession)(O,V);if(Array.isArray(L))return L.map((M)=>new $.Tensor(A[M]));else return new $.Tensor(A[L])}};class K{static session_options={};static get nearest_interpolate_4d(){if(!this._nearest_interpolate_4d)this._nearest_interpolate_4d=H([8,10,18,0,58,129,1,10,41,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,18,10,4,109,111,100,101,34,7,110,101,97,114,101,115,116,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,21],this.session_options,"y");return this._nearest_interpolate_4d}static get bilinear_interpolate_4d(){if(!this._bilinear_interpolate_4d)this._bilinear_interpolate_4d=H([8,9,18,0,58,128,1,10,40,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,17,10,4,109,111,100,101,34,6,108,105,110,101,97,114,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y");return this._bilinear_interpolate_4d}static get bicubic_interpolate_4d(){if(!this._bicubic_interpolate_4d)this._bicubic_interpolate_4d=H([8,9,18,0,58,127,10,39,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,16,10,4,109,111,100,101,34,5,99,117,98,105,99,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y");return this._bicubic_interpolate_4d}static get matmul(){if(!this._matmul)this._matmul=H([8,9,18,0,58,55,10,17,10,1,97,10,1,98,18,1,99,34,6,77,97,116,77,117,108,18,1,114,90,9,10,1,97,18,4,10,2,8,1,90,9,10,1,98,18,4,10,2,8,1,98,9,10,1,99,18,4,10,2,8,1,66,2,16,20],this.session_options,"c");return this._matmul}static get stft(){if(!this._stft)this._stft=H([8,7,18,0,58,148,1,10,38,10,1,115,10,1,106,10,1,119,10,1,108,18,1,111,34,4,83,84,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,115,90,26,10,1,115,18,21,10,19,8,1,18,15,10,3,18,1,98,10,3,18,1,115,10,3,18,1,99,90,11,10,1,106,18,6,10,4,8,7,18,0,90,16,10,1,119,18,11,10,9,8,1,18,5,10,3,18,1,119,90,11,10,1,108,18,6,10,4,8,7,18,0,98,31,10,1,111,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,102,10,3,18,1,100,10,3,18,1,99,66,2,16,17],this.session_options,"o");return this._stft}static get rfft(){if(!this._rfft)this._rfft=H([8,9,18,0,58,97,10,33,10,1,120,10,0,10,1,97,18,1,121,34,3,68,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,100,90,21,10,1,120,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,90,11,10,1,97,18,6,10,4,8,7,18,0,98,21,10,1,121,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,66,2,16,20],this.session_options,"y");return this._rfft}static get top_k(){if(!this._top_k)this._top_k=H([8,10,18,0,58,73,10,18,10,1,120,10,1,107,18,1,118,18,1,105,34,4,84,111,112,75,18,1,116,90,9,10,1,120,18,4,10,2,8,1,90,15,10,1,107,18,10,10,8,8,7,18,4,10,2,8,1,98,9,10,1,118,18,4,10,2,8,1,98,9,10,1,105,18,4,10,2,8,7,66,2,16,21],this.session_options,["v","i"]);return this._top_k}static get slice(){if(!this._slice)this._slice=H([8,7,18,0,58,96,10,25,10,1,120,10,1,115,10,1,101,10,1,97,10,1,116,18,1,121,34,5,83,108,105,99,101,18,1,114,90,9,10,1,120,18,4,10,2,8,1,90,9,10,1,115,18,4,10,2,8,7,90,9,10,1,101,18,4,10,2,8,7,90,9,10,1,97,18,4,10,2,8,7,90,9,10,1,116,18,4,10,2,8,7,98,9,10,1,121,18,4,10,2,8,1,66,2,16,13],this.session_options,"y");return this._slice}}},"./src/pipelines.js":(J,Z,Q)=>{/*!**************************!*\
  !*** ./src/pipelines.js ***!
  \**************************/Q.r(Z),Q.d(Z,{AudioClassificationPipeline:()=>y,AutomaticSpeechRecognitionPipeline:()=>p,BackgroundRemovalPipeline:()=>m,DepthEstimationPipeline:()=>V1,DocumentQuestionAnsweringPipeline:()=>Z1,FeatureExtractionPipeline:()=>o,FillMaskPipeline:()=>I,ImageClassificationPipeline:()=>t,ImageFeatureExtractionPipeline:()=>v,ImageSegmentationPipeline:()=>Q1,ImageToImagePipeline:()=>z1,ImageToTextPipeline:()=>l,ObjectDetectionPipeline:()=>g,Pipeline:()=>j,QuestionAnsweringPipeline:()=>C,SummarizationPipeline:()=>E,Text2TextGenerationPipeline:()=>b,TextClassificationPipeline:()=>D,TextGenerationPipeline:()=>S,TextToAudioPipeline:()=>J1,TokenClassificationPipeline:()=>w,TranslationPipeline:()=>k,ZeroShotAudioClassificationPipeline:()=>i,ZeroShotClassificationPipeline:()=>d,ZeroShotImageClassificationPipeline:()=>K1,ZeroShotObjectDetectionPipeline:()=>n,pipeline:()=>r1});var Y=Q("./src/tokenizers.js");/*! ./tokenizers.js */var $=Q("./src/models.js");/*! ./models.js */var H=Q("./src/models/auto/processing_auto.js");/*! ./models/auto/processing_auto.js */var K=Q("./src/base/processing_utils.js");/*! ./base/processing_utils.js */var B=Q("./src/utils/generic.js");/*! ./utils/generic.js */var q=Q("./src/utils/core.js");/*! ./utils/core.js */var L=Q("./src/utils/maths.js");/*! ./utils/maths.js */var O=Q("./src/utils/audio.js");/*! ./utils/audio.js */var z=Q("./src/utils/tensor.js");/*! ./utils/tensor.js */var F=Q("./src/utils/image.js");/*! ./utils/image.js */async function V(G1){if(!Array.isArray(G1))G1=[G1];return await Promise.all(G1.map((a)=>F.RawImage.read(a)))}async function A(G1,a){if(!Array.isArray(G1))G1=[G1];return await Promise.all(G1.map((M1)=>{if(typeof M1==="string"||M1 instanceof URL)return(0,O.read_audio)(M1,a);else if(M1 instanceof Float64Array)return new Float32Array(M1);return M1}))}function M(G1,a){if(a)G1=G1.map((C1)=>C1|0);let[M1,D1,g1,u1]=G1;return{xmin:M1,ymin:D1,xmax:g1,ymax:u1}}class j extends B.Callable{constructor({task:G1,model:a,tokenizer:M1=null,processor:D1=null}){super();this.task=G1,this.model=a,this.tokenizer=M1,this.processor=D1}async dispose(){await this.model.dispose()}}class D extends j{constructor(G1){super(G1)}async _call(G1,{top_k:a=1}={}){let M1=this.tokenizer(G1,{padding:!0,truncation:!0}),D1=await this.model(M1),g1=this.model.config.problem_type==="multi_label_classification"?(x1)=>x1.sigmoid():(x1)=>new z.Tensor("float32",(0,L.softmax)(x1.data),x1.dims),u1=this.model.config.id2label,C1=[];for(let x1 of D1.logits){let v1=g1(x1),p1=await(0,z.topk)(v1,a),y1=p1[0].tolist(),T1=p1[1].tolist().map((j0,N0)=>({label:u1?u1[j0]:`LABEL_${j0}`,score:y1[N0]}));if(a===1)C1.push(...T1);else C1.push(T1)}return Array.isArray(G1)||a===1?C1:C1[0]}}class w extends j{constructor(G1){super(G1)}async _call(G1,{ignore_labels:a=["O"]}={}){let M1=Array.isArray(G1),D1=this.tokenizer(M1?G1:[G1],{padding:!0,truncation:!0}),u1=(await this.model(D1)).logits,C1=this.model.config.id2label,x1=[];for(let v1=0;v1<u1.dims[0];++v1){let p1=D1.input_ids[v1],y1=u1[v1],P1=[];for(let T1=0;T1<y1.dims[0];++T1){let j0=y1[T1],N0=(0,L.max)(j0.data)[1],E0=C1?C1[N0]:`LABEL_${N0}`;if(a.includes(E0))continue;let H0=this.tokenizer.decode([p1[T1].item()],{skip_special_tokens:!0});if(H0==="")continue;let A0=(0,L.softmax)(j0.data);P1.push({entity:E0,score:A0[N0],index:T1,word:H0})}x1.push(P1)}return M1?x1:x1[0]}}class C extends j{constructor(G1){super(G1)}async _call(G1,a,{top_k:M1=1}={}){let D1=this.tokenizer(G1,{text_pair:a,padding:!0,truncation:!0}),{start_logits:g1,end_logits:u1}=await this.model(D1),C1=D1.input_ids.tolist(),x1=D1.attention_mask.tolist(),v1=this.tokenizer.all_special_ids,p1=[];for(let y1=0;y1<g1.dims[0];++y1){let P1=C1[y1],T1=P1.findIndex((D0)=>D0==this.tokenizer.sep_token_id),j0=x1[y1].map((D0,_0)=>D0==1&&(_0===0||_0>T1&&v1.findIndex((W2)=>W2==P1[_0])===-1)),N0=g1[y1].tolist(),E0=u1[y1].tolist();for(let D0=1;D0<N0.length;++D0)if(x1[y1]==0||D0<=T1||v1.findIndex((_0)=>_0==P1[D0])!==-1)N0[D0]=-1/0,E0[D0]=-1/0;let H0=(0,L.softmax)(N0).map((D0,_0)=>[D0,_0]),A0=(0,L.softmax)(E0).map((D0,_0)=>[D0,_0]);H0[0][0]=0,A0[0][0]=0;let i0=(0,q.product)(H0,A0).filter((D0)=>D0[0][1]<=D0[1][1]).map((D0)=>[D0[0][1],D0[1][1],D0[0][0]*D0[1][0]]).sort((D0,_0)=>_0[2]-D0[2]);for(let D0=0;D0<Math.min(i0.length,M1);++D0){let[_0,W2,Z2]=i0[D0],t2=P1.slice(_0,W2+1),Y1=this.tokenizer.decode(t2,{skip_special_tokens:!0});p1.push({answer:Y1,score:Z2})}}return M1===1?p1[0]:p1}}class I extends j{constructor(G1){super(G1)}async _call(G1,{top_k:a=5}={}){let M1=this.tokenizer(G1,{padding:!0,truncation:!0}),{logits:D1}=await this.model(M1),g1=[],u1=M1.input_ids.tolist();for(let C1=0;C1<u1.length;++C1){let x1=u1[C1],v1=x1.findIndex((j0)=>j0==this.tokenizer.mask_token_id);if(v1===-1)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);let p1=D1[C1][v1],y1=await(0,z.topk)(new z.Tensor("float32",(0,L.softmax)(p1.data),p1.dims),a),P1=y1[0].tolist(),T1=y1[1].tolist();g1.push(T1.map((j0,N0)=>{let E0=x1.slice();return E0[v1]=j0,{score:P1[N0],token:Number(j0),token_str:this.tokenizer.decode([j0]),sequence:this.tokenizer.decode(E0,{skip_special_tokens:!0})}}))}return Array.isArray(G1)?g1:g1[0]}}class b extends j{_key="generated_text";constructor(G1){super(G1)}async _call(G1,a={}){if(!Array.isArray(G1))G1=[G1];if(this.model.config.prefix)G1=G1.map((x1)=>this.model.config.prefix+x1);let M1=this.model.config.task_specific_params;if(M1&&M1[this.task]){if(M1[this.task].prefix)G1=G1.map((x1)=>M1[this.task].prefix+x1)}let D1=this.tokenizer,g1={padding:!0,truncation:!0},u1;if(this instanceof k&&"_build_translation_inputs"in D1)u1=D1._build_translation_inputs(G1,g1,a);else u1=D1(G1,g1);let C1=await this.model.generate({...u1,...a});return D1.batch_decode(C1,{skip_special_tokens:!0}).map((x1)=>({[this._key]:x1}))}}class E extends b{_key="summary_text";constructor(G1){super(G1)}}class k extends b{_key="translation_text";constructor(G1){super(G1)}}function T(G1){return Array.isArray(G1)&&G1.every((a)=>("role"in a)&&("content"in a))}class S extends j{constructor(G1){super(G1)}async _call(G1,a={}){let M1=!1,D1=!1,g1=a.add_special_tokens??(this.tokenizer.add_bos_token||this.tokenizer.add_eos_token)??!1,u1;if(typeof G1==="string")u1=G1=[G1];else if(Array.isArray(G1)&&G1.every((T1)=>typeof T1==="string"))M1=!0,u1=G1;else{if(T(G1))G1=[G1];else if(Array.isArray(G1)&&G1.every(T))M1=!0;else throw Error("Input must be a string, an array of strings, a Chat, or an array of Chats");D1=!0,u1=G1.map((T1)=>this.tokenizer.apply_chat_template(T1,{tokenize:!1,add_generation_prompt:!0})),g1=!1}let C1=D1?!1:a.return_full_text??!0;this.tokenizer.padding_side="left";let x1=this.tokenizer(u1,{add_special_tokens:g1,padding:!0,truncation:!0}),v1=await this.model.generate({...x1,...a}),p1=this.tokenizer.batch_decode(v1,{skip_special_tokens:!0}),y1;if(!C1&&x1.input_ids.dims.at(-1)>0)y1=this.tokenizer.batch_decode(x1.input_ids,{skip_special_tokens:!0}).map((T1)=>T1.length);let P1=Array.from({length:G1.length},(T1)=>[]);for(let T1=0;T1<p1.length;++T1){let j0=Math.floor(T1/v1.dims[0]*G1.length);if(y1)p1[T1]=p1[T1].slice(y1[j0]);P1[j0].push({generated_text:D1?[...G1[j0],{role:"assistant",content:p1[T1]}]:p1[T1]})}return!M1&&P1.length===1?P1[0]:P1}}class d extends j{constructor(G1){super(G1);if(this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(([a,M1])=>[a.toLowerCase(),M1])),this.entailment_id=this.label2id.entailment,this.entailment_id===void 0)console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2;if(this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,this.contradiction_id===void 0)console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0}async _call(G1,a,{hypothesis_template:M1="This example is {}.",multi_label:D1=!1}={}){let g1=Array.isArray(G1);if(!g1)G1=[G1];if(!Array.isArray(a))a=[a];let u1=a.map((v1)=>M1.replace("{}",v1)),C1=D1||a.length===1,x1=[];for(let v1 of G1){let p1=[];for(let T1 of u1){let j0=this.tokenizer(v1,{text_pair:T1,padding:!0,truncation:!0}),N0=await this.model(j0);if(C1)p1.push([N0.logits.data[this.contradiction_id],N0.logits.data[this.entailment_id]]);else p1.push(N0.logits.data[this.entailment_id])}let P1=(C1?p1.map((T1)=>(0,L.softmax)(T1)[1]):(0,L.softmax)(p1)).map((T1,j0)=>[T1,j0]).sort((T1,j0)=>j0[0]-T1[0]);x1.push({sequence:v1,labels:P1.map((T1)=>a[T1[1]]),scores:P1.map((T1)=>T1[0])})}return g1?x1:x1[0]}}class o extends j{constructor(G1){super(G1)}async _call(G1,{pooling:a="none",normalize:M1=!1,quantize:D1=!1,precision:g1="binary"}={}){let u1=this.tokenizer(G1,{padding:!0,truncation:!0}),C1=await this.model(u1),x1=C1.last_hidden_state??C1.logits??C1.token_embeddings;switch(a){case"none":break;case"mean":x1=(0,z.mean_pooling)(x1,u1.attention_mask);break;case"first_token":case"cls":x1=x1.slice(null,0);break;case"last_token":case"eos":x1=x1.slice(null,-1);break;default:throw Error(`Pooling method '${a}' not supported.`)}if(M1)x1=x1.normalize(2,-1);if(D1)x1=(0,z.quantize_embeddings)(x1,g1);return x1}}class v extends j{constructor(G1){super(G1)}async _call(G1,{pool:a=null}={}){let M1=await V(G1),{pixel_values:D1}=await this.processor(M1),g1=await this.model({pixel_values:D1}),u1;if(a){if(!("pooler_output"in g1))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");u1=g1.pooler_output}else u1=g1.last_hidden_state??g1.logits??g1.image_embeds;return u1}}class y extends j{constructor(G1){super(G1)}async _call(G1,{top_k:a=5}={}){let M1=this.processor.feature_extractor.config.sampling_rate,D1=await A(G1,M1),g1=this.model.config.id2label,u1=[];for(let C1 of D1){let x1=await this.processor(C1),p1=(await this.model(x1)).logits[0],y1=await(0,z.topk)(new z.Tensor("float32",(0,L.softmax)(p1.data),p1.dims),a),P1=y1[0].tolist(),j0=y1[1].tolist().map((N0,E0)=>({label:g1?g1[N0]:`LABEL_${N0}`,score:P1[E0]}));u1.push(j0)}return Array.isArray(G1)?u1:u1[0]}}class i extends j{constructor(G1){super(G1)}async _call(G1,a,{hypothesis_template:M1="This is a sound of {}."}={}){let D1=!Array.isArray(G1);if(D1)G1=[G1];let g1=a.map((p1)=>M1.replace("{}",p1)),u1=this.tokenizer(g1,{padding:!0,truncation:!0}),C1=this.processor.feature_extractor.config.sampling_rate,x1=await A(G1,C1),v1=[];for(let p1 of x1){let y1=await this.processor(p1),P1=await this.model({...u1,...y1}),T1=(0,L.softmax)(P1.logits_per_audio.data);v1.push([...T1].map((j0,N0)=>({score:j0,label:a[N0]})))}return D1?v1[0]:v1}}class p extends j{constructor(G1){super(G1)}async _call(G1,a={}){switch(this.model.config.model_type){case"whisper":case"lite-whisper":return this._call_whisper(G1,a);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(G1,a);case"moonshine":return this._call_moonshine(G1,a);default:throw Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}}async _call_wav2vec2(G1,a){if(a.language)console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".');if(a.task)console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');let M1=!Array.isArray(G1);if(M1)G1=[G1];let D1=this.processor.feature_extractor.config.sampling_rate,g1=await A(G1,D1),u1=[];for(let C1 of g1){let x1=await this.processor(C1),p1=(await this.model(x1)).logits[0],y1=[];for(let T1 of p1)y1.push((0,L.max)(T1.data)[1]);let P1=this.tokenizer.decode(y1);u1.push({text:P1})}return M1?u1[0]:u1}async _call_whisper(G1,a){let M1=a.return_timestamps??!1,D1=a.chunk_length_s??0,g1=a.force_full_sequences??!1,u1=a.stride_length_s??null,C1={...a};if(M1==="word")C1.return_token_timestamps=!0,C1.return_timestamps=!1;let x1=!Array.isArray(G1);if(x1)G1=[G1];let v1=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,p1=this.processor.feature_extractor.config.hop_length,y1=this.processor.feature_extractor.config.sampling_rate,P1=await A(G1,y1),T1=[];for(let j0 of P1){let N0=[];if(D1>0){if(u1===null)u1=D1/6;else if(D1<=u1)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");let A0=y1*D1,i0=y1*u1,D0=A0-2*i0,_0=0;while(!0){let W2=_0+A0,Z2=j0.subarray(_0,W2),t2=await this.processor(Z2),Y1=_0===0,N1=W2>=j0.length;if(N0.push({stride:[Z2.length,Y1?0:i0,N1?0:i0],input_features:t2.input_features,is_last:N1}),N1)break;_0+=D0}}else N0=[{stride:[j0.length,0,0],input_features:(await this.processor(j0)).input_features,is_last:!0}];for(let A0 of N0){C1.num_frames=Math.floor(A0.stride[0]/p1);let i0=await this.model.generate({inputs:A0.input_features,...C1});if(M1==="word")A0.tokens=i0.sequences.tolist()[0],A0.token_timestamps=i0.token_timestamps.tolist()[0].map((D0)=>(0,L.round)(D0,2));else A0.tokens=i0[0].tolist();A0.stride=A0.stride.map((D0)=>D0/y1)}let[E0,H0]=this.tokenizer._decode_asr(N0,{time_precision:v1,return_timestamps:M1,force_full_sequences:g1});T1.push({text:E0,...H0})}return x1?T1[0]:T1}async _call_moonshine(G1,a){let M1=!Array.isArray(G1);if(M1)G1=[G1];let D1=this.processor.feature_extractor.config.sampling_rate,g1=await A(G1,D1),u1=[];for(let C1 of g1){let x1=await this.processor(C1),v1=Math.floor(C1.length/D1)*6,p1=await this.model.generate({max_new_tokens:v1,...a,...x1}),y1=this.processor.batch_decode(p1,{skip_special_tokens:!0})[0];u1.push({text:y1})}return M1?u1[0]:u1}}class l extends j{constructor(G1){super(G1)}async _call(G1,a={}){let M1=Array.isArray(G1),D1=await V(G1),{pixel_values:g1}=await this.processor(D1),u1=[];for(let C1 of g1){C1.dims=[1,...C1.dims];let x1=await this.model.generate({inputs:C1,...a}),v1=this.tokenizer.batch_decode(x1,{skip_special_tokens:!0}).map((p1)=>({generated_text:p1.trim()}));u1.push(v1)}return M1?u1:u1[0]}}class t extends j{constructor(G1){super(G1)}async _call(G1,{top_k:a=5}={}){let M1=await V(G1),{pixel_values:D1}=await this.processor(M1),g1=await this.model({pixel_values:D1}),u1=this.model.config.id2label,C1=[];for(let x1 of g1.logits){let v1=await(0,z.topk)(new z.Tensor("float32",(0,L.softmax)(x1.data),x1.dims),a),p1=v1[0].tolist(),P1=v1[1].tolist().map((T1,j0)=>({label:u1?u1[T1]:`LABEL_${T1}`,score:p1[j0]}));C1.push(P1)}return Array.isArray(G1)?C1:C1[0]}}class Q1 extends j{constructor(G1){super(G1);this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(G1,{threshold:a=0.5,mask_threshold:M1=0.5,overlap_mask_area_threshold:D1=0.8,label_ids_to_fuse:g1=null,target_sizes:u1=null,subtask:C1=null}={}){if(Array.isArray(G1)&&G1.length!==1)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");let v1=await V(G1),p1=v1.map((A0)=>[A0.height,A0.width]),y1=await this.processor(v1),{inputNames:P1,outputNames:T1}=this.model.sessions.model;if(!P1.includes("pixel_values")){if(P1.length!==1)throw Error(`Expected a single input name, but got ${P1.length} inputs: ${P1}.`);let A0=P1[0];if(A0 in y1)throw Error(`Input name ${A0} already exists in the inputs.`);y1[A0]=y1.pixel_values}let j0=await this.model(y1),N0=null;if(C1!==null)N0=this.subtasks_mapping[C1];else if(this.processor.image_processor){for(let[A0,i0]of Object.entries(this.subtasks_mapping))if(i0 in this.processor.image_processor){N0=this.processor.image_processor[i0].bind(this.processor.image_processor),C1=A0;break}}let E0=this.model.config.id2label,H0=[];if(!C1){let i0=j0[T1[0]];for(let D0=0;D0<p1.length;++D0){let _0=p1[D0],W2=i0[D0];if(W2.data.some((t2)=>t2<-0.00001||t2>1.00001))W2.sigmoid_();let Z2=await F.RawImage.fromTensor(W2.mul_(255).to("uint8")).resize(_0[1],_0[0]);H0.push({label:null,score:null,mask:Z2})}}else if(C1==="panoptic"||C1==="instance"){let A0=N0(j0,a,M1,D1,g1,u1??p1)[0],i0=A0.segmentation;for(let D0 of A0.segments_info){let _0=new Uint8ClampedArray(i0.data.length);for(let Z2=0;Z2<i0.data.length;++Z2)if(i0.data[Z2]===D0.id)_0[Z2]=255;let W2=new F.RawImage(_0,i0.dims[1],i0.dims[0],1);H0.push({score:D0.score,label:E0[D0.label_id],mask:W2})}}else if(C1==="semantic"){let{segmentation:A0,labels:i0}=N0(j0,u1??p1)[0];for(let D0 of i0){let _0=new Uint8ClampedArray(A0.data.length);for(let Z2=0;Z2<A0.data.length;++Z2)if(A0.data[Z2]===D0)_0[Z2]=255;let W2=new F.RawImage(_0,A0.dims[1],A0.dims[0],1);H0.push({score:null,label:E0[D0],mask:W2})}}else throw Error(`Subtask ${C1} not supported.`);return H0}}class m extends Q1{constructor(G1){super(G1)}async _call(G1,a={}){if(Array.isArray(G1)&&G1.length!==1)throw Error("Background removal pipeline currently only supports a batch size of 1.");let D1=await V(G1),g1=await super._call(G1,a);return D1.map((C1,x1)=>{let v1=C1.clone();return v1.putAlpha(g1[x1].mask),v1})}}class K1 extends j{constructor(G1){super(G1)}async _call(G1,a,{hypothesis_template:M1="This is a photo of {}"}={}){let D1=Array.isArray(G1),g1=await V(G1),u1=a.map((P1)=>M1.replace("{}",P1)),C1=this.tokenizer(u1,{padding:this.model.config.model_type==="siglip"?"max_length":!0,truncation:!0}),{pixel_values:x1}=await this.processor(g1),v1=await this.model({...C1,pixel_values:x1}),p1=this.model.config.model_type==="siglip"?(P1)=>P1.sigmoid().data:(P1)=>(0,L.softmax)(P1.data),y1=[];for(let P1 of v1.logits_per_image){let j0=[...p1(P1)].map((N0,E0)=>({score:N0,label:a[E0]}));j0.sort((N0,E0)=>E0.score-N0.score),y1.push(j0)}return D1?y1:y1[0]}}class g extends j{constructor(G1){super(G1)}async _call(G1,{threshold:a=0.9,percentage:M1=!1}={}){let D1=Array.isArray(G1);if(D1&&G1.length!==1)throw Error("Object detection pipeline currently only supports a batch size of 1.");let g1=await V(G1),u1=M1?null:g1.map((T1)=>[T1.height,T1.width]),{pixel_values:C1,pixel_mask:x1}=await this.processor(g1),v1=await this.model({pixel_values:C1,pixel_mask:x1}),p1=this.processor.image_processor.post_process_object_detection(v1,a,u1),y1=this.model.config.id2label,P1=p1.map((T1)=>T1.boxes.map((j0,N0)=>({score:T1.scores[N0],label:y1[T1.classes[N0]],box:M(j0,!M1)})));return D1?P1:P1[0]}}class n extends j{constructor(G1){super(G1)}async _call(G1,a,{threshold:M1=0.1,top_k:D1=null,percentage:g1=!1}={}){let u1=Array.isArray(G1),C1=await V(G1),x1=this.tokenizer(a,{padding:!0,truncation:!0}),v1=await this.processor(C1),p1=[];for(let y1=0;y1<C1.length;++y1){let P1=C1[y1],T1=g1?null:[[P1.height,P1.width]],j0=v1.pixel_values[y1].unsqueeze_(0),N0=await this.model({...x1,pixel_values:j0}),E0;if("post_process_grounded_object_detection"in this.processor){let H0=this.processor.post_process_grounded_object_detection(N0,x1.input_ids,{box_threshold:M1,text_threshold:M1,target_sizes:T1})[0];E0=H0.boxes.map((A0,i0)=>({score:H0.scores[i0],label:H0.labels[i0],box:M(A0,!g1)}))}else{let H0=this.processor.image_processor.post_process_object_detection(N0,M1,T1,!0)[0];E0=H0.boxes.map((A0,i0)=>({score:H0.scores[i0],label:a[H0.classes[i0]],box:M(A0,!g1)}))}if(E0.sort((H0,A0)=>A0.score-H0.score),D1!==null)E0=E0.slice(0,D1);p1.push(E0)}return u1?p1:p1[0]}}class Z1 extends j{constructor(G1){super(G1)}async _call(G1,a,M1={}){let D1=(await V(G1))[0],{pixel_values:g1}=await this.processor(D1),u1=`<s_docvqa><s_question>${a}</s_question><s_answer>`,C1=this.tokenizer(u1,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,x1=await this.model.generate({inputs:g1,max_length:this.model.config.decoder.max_position_embeddings,decoder_input_ids:C1,...M1}),p1=this.tokenizer.batch_decode(x1)[0].match(/<s_answer>(.*?)<\/s_answer>/),y1=null;if(p1&&p1.length>=2)y1=p1[1].trim();return[{answer:y1}]}}class J1 extends j{DEFAULT_VOCODER_ID="Xenova/speecht5_hifigan";constructor(G1){super(G1);this.vocoder=G1.vocoder??null}async _call(G1,{speaker_embeddings:a=null}={}){if(this.processor)return this._call_text_to_spectrogram(G1,{speaker_embeddings:a});else return this._call_text_to_waveform(G1)}async _call_text_to_waveform(G1){let a=this.tokenizer(G1,{padding:!0,truncation:!0}),{waveform:M1}=await this.model(a),D1=this.model.config.sampling_rate;return new O.RawAudio(M1.data,D1)}async _call_text_to_spectrogram(G1,{speaker_embeddings:a}){if(!this.vocoder)console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await $.AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{dtype:"fp32"});if(typeof a==="string"||a instanceof URL)a=new Float32Array(await(await fetch(a)).arrayBuffer());if(a instanceof Float32Array)a=new z.Tensor("float32",a,[1,a.length]);else if(!(a instanceof z.Tensor))throw Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");let{input_ids:M1}=this.tokenizer(G1,{padding:!0,truncation:!0}),{waveform:D1}=await this.model.generate_speech(M1,a,{vocoder:this.vocoder}),g1=this.processor.feature_extractor.config.sampling_rate;return new O.RawAudio(D1.data,g1)}}class z1 extends j{constructor(G1){super(G1)}async _call(G1){let a=await V(G1),M1=await this.processor(a),D1=await this.model(M1),g1=[];for(let u1 of D1.reconstruction){let C1=u1.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");g1.push(F.RawImage.fromTensor(C1))}return g1.length>1?g1:g1[0]}}class V1 extends j{constructor(G1){super(G1)}async _call(G1){let a=await V(G1),M1=await this.processor(a),{predicted_depth:D1}=await this.model(M1),g1=[];for(let u1=0;u1<a.length;++u1){let C1=D1[u1],[x1,v1]=C1.dims.slice(-2),[p1,y1]=a[u1].size,P1=(await(0,z.interpolate_4d)(C1.view(1,1,x1,v1),{size:[y1,p1],mode:"bilinear"})).view(y1,p1),T1=P1.min().item(),j0=P1.max().item(),N0=P1.sub(T1).div_(j0-T1).mul_(255).to("uint8").unsqueeze(0),E0=F.RawImage.fromTensor(N0);g1.push({predicted_depth:P1,depth:E0})}return g1.length>1?g1:g1[0]}}let w1=Object.freeze({"text-classification":{tokenizer:Y.AutoTokenizer,pipeline:D,model:$.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:Y.AutoTokenizer,pipeline:w,model:$.AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:Y.AutoTokenizer,pipeline:C,model:$.AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:Y.AutoTokenizer,pipeline:I,model:$.AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:Y.AutoTokenizer,pipeline:E,model:$.AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:Y.AutoTokenizer,pipeline:k,model:$.AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:Y.AutoTokenizer,pipeline:b,model:$.AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:Y.AutoTokenizer,pipeline:S,model:$.AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:Y.AutoTokenizer,pipeline:d,model:$.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:y,model:$.AutoModelForAudioClassification,processor:H.AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:Y.AutoTokenizer,pipeline:i,model:$.AutoModel,processor:H.AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:Y.AutoTokenizer,pipeline:p,model:[$.AutoModelForSpeechSeq2Seq,$.AutoModelForCTC],processor:H.AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:Y.AutoTokenizer,pipeline:J1,model:[$.AutoModelForTextToWaveform,$.AutoModelForTextToSpectrogram],processor:[H.AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:Y.AutoTokenizer,pipeline:l,model:$.AutoModelForVision2Seq,processor:H.AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:t,model:$.AutoModelForImageClassification,processor:H.AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:Q1,model:[$.AutoModelForImageSegmentation,$.AutoModelForSemanticSegmentation,$.AutoModelForUniversalSegmentation],processor:H.AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"background-removal":{pipeline:m,model:[$.AutoModelForImageSegmentation,$.AutoModelForSemanticSegmentation,$.AutoModelForUniversalSegmentation],processor:H.AutoProcessor,default:{model:"Xenova/modnet"},type:"image"},"zero-shot-image-classification":{tokenizer:Y.AutoTokenizer,pipeline:K1,model:$.AutoModel,processor:H.AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:g,model:$.AutoModelForObjectDetection,processor:H.AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:Y.AutoTokenizer,pipeline:n,model:$.AutoModelForZeroShotObjectDetection,processor:H.AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:Y.AutoTokenizer,pipeline:Z1,model:$.AutoModelForDocumentQuestionAnswering,processor:H.AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:z1,model:$.AutoModelForImageToImage,processor:H.AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:V1,model:$.AutoModelForDepthEstimation,processor:H.AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:Y.AutoTokenizer,pipeline:o,model:$.AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:H.AutoProcessor,pipeline:v,model:[$.AutoModelForImageFeatureExtraction,$.AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),m1=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function r1(G1,a=null,{progress_callback:M1=null,config:D1=null,cache_dir:g1=null,local_files_only:u1=!1,revision:C1="main",device:x1=null,dtype:v1=null,subfolder:p1="onnx",use_external_data_format:y1=null,model_file_name:P1=null,session_options:T1={}}={}){G1=m1[G1]??G1;let j0=w1[G1.split("_",1)[0]];if(!j0)throw Error(`Unsupported pipeline: ${G1}. Must be one of [${Object.keys(w1)}]`);if(!a)a=j0.default.model,console.log(`No model specified. Using default model: "${a}".`);let N0={progress_callback:M1,config:D1,cache_dir:g1,local_files_only:u1,revision:C1,device:x1,dtype:v1,subfolder:p1,use_external_data_format:y1,model_file_name:P1,session_options:T1},E0=new Map([["tokenizer",j0.tokenizer],["model",j0.model],["processor",j0.processor]]),H0=await h1(E0,a,N0);return H0.task=G1,(0,q.dispatchCallback)(M1,{status:"ready",task:G1,model:a}),new j0.pipeline(H0)}async function h1(G1,a,M1){let D1=Object.create(null),g1=[];for(let[u1,C1]of G1.entries()){if(!C1)continue;let x1;if(Array.isArray(C1))x1=new Promise(async(v1,p1)=>{let y1;for(let P1 of C1){if(P1===null){v1(null);return}try{v1(await P1.from_pretrained(a,M1));return}catch(T1){if(T1.message?.includes("Unsupported model type"))y1=T1;else if(T1.message?.includes("Could not locate file"))y1=T1;else{p1(T1);return}}}p1(y1)});else x1=C1.from_pretrained(a,M1);D1[u1]=x1,g1.push(x1)}await Promise.all(g1);for(let[u1,C1]of Object.entries(D1))D1[u1]=await C1;return D1}},"./src/tokenizers.js":(J,Z,Q)=>{/*!***************************!*\
  !*** ./src/tokenizers.js ***!
  \***************************/Q.r(Z),Q.d(Z,{AlbertTokenizer:()=>T4,AutoTokenizer:()=>E3,BartTokenizer:()=>j2,BertTokenizer:()=>S4,BlenderbotSmallTokenizer:()=>P5,BlenderbotTokenizer:()=>a0,BloomTokenizer:()=>P4,CLIPTokenizer:()=>L6,CamembertTokenizer:()=>B0,CodeGenTokenizer:()=>i7,CodeLlamaTokenizer:()=>l7,CohereTokenizer:()=>jJ,ConvBertTokenizer:()=>O1,DebertaTokenizer:()=>c,DebertaV2Tokenizer:()=>L1,DistilBertTokenizer:()=>d1,ElectraTokenizer:()=>Y2,Ernie4_5_Tokenizer:()=>C8,EsmTokenizer:()=>v9,FalconTokenizer:()=>i4,GPT2Tokenizer:()=>d2,GPTNeoXTokenizer:()=>b9,GemmaTokenizer:()=>m6,Grok1Tokenizer:()=>U6,HerbertTokenizer:()=>$1,LlamaTokenizer:()=>X5,M2M100Tokenizer:()=>E4,MBart50Tokenizer:()=>a5,MBartTokenizer:()=>H4,MPNetTokenizer:()=>C9,MarianTokenizer:()=>M0,MgpstrTokenizer:()=>w3,MobileBertTokenizer:()=>z0,NllbTokenizer:()=>O9,NougatTokenizer:()=>c6,PreTrainedTokenizer:()=>t0,Qwen2Tokenizer:()=>O4,RoFormerTokenizer:()=>I1,RobertaTokenizer:()=>O7,SiglipTokenizer:()=>n7,SpeechT5Tokenizer:()=>x6,SqueezeBertTokenizer:()=>L7,T5Tokenizer:()=>s1,TokenizerModel:()=>o,VitsTokenizer:()=>p6,Wav2Vec2CTCTokenizer:()=>w0,WhisperTokenizer:()=>N5,XLMRobertaTokenizer:()=>k6,XLMTokenizer:()=>n0,is_chinese_char:()=>C});var Y=Q("./src/utils/generic.js");/*! ./utils/generic.js */var $=Q("./src/utils/core.js");/*! ./utils/core.js */var H=Q("./src/utils/hub.js");/*! ./utils/hub.js */var K=Q("./src/utils/maths.js");/*! ./utils/maths.js */var B=Q("./src/utils/tensor.js");/*! ./utils/tensor.js */var q=Q("./src/utils/data-structures.js");/*! ./utils/data-structures.js */var L=Q("./node_modules/@huggingface/jinja/dist/index.js");/*! @huggingface/jinja */var O=Q("./src/models/whisper/common_whisper.js");/*! ./models/whisper/common_whisper.js */async function z(u,q1){let F1=await Promise.all([(0,H.getModelJSON)(u,"tokenizer.json",!0,q1),(0,H.getModelJSON)(u,"tokenizer_config.json",!0,q1)]);if(q1.legacy!==null)F1[1].legacy=q1.legacy;return F1}function F(u,q1){let F1=[],E1=0;for(let f1 of u.matchAll(q1)){let e1=f1[0];if(E1<f1.index)F1.push(u.slice(E1,f1.index));if(e1.length>0)F1.push(e1);E1=f1.index+e1.length}if(E1<u.length)F1.push(u.slice(E1));return F1}function V(u,q1=!0){if(u.Regex!==void 0){let F1=u.Regex.replace(/\\([#&~])/g,"$1");for(let[E1,f1]of S)F1=F1.replaceAll(E1,f1);return new RegExp(F1,"gu")}else if(u.String!==void 0){let F1=(0,$.escapeRegExp)(u.String);return new RegExp(q1?F1:`(${F1})`,"gu")}else return console.warn("Unknown pattern type:",u),null}function A(u){return new Map(Object.entries(u))}function M(u){let q1=u.dims;switch(q1.length){case 1:return u.tolist();case 2:if(q1[0]!==1)throw Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return u.tolist()[0];default:throw Error(`Expected tensor to have 1-2 dimensions, got ${q1.length}.`)}}function j(u){return u.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function D(u){return u.replace(/\p{M}/gu,"")}function w(u){return D(u.toLowerCase())}function C(u){return u>=19968&&u<=40959||u>=13312&&u<=19903||u>=131072&&u<=173791||u>=173824&&u<=177983||u>=177984&&u<=178207||u>=178208&&u<=183983||u>=63744&&u<=64255||u>=194560&&u<=195103}function I(u,q1,F1){let E1=[],f1=0;while(f1<u.length){if(E1.push(u[f1]),(q1.get(u[f1])??F1)!==F1){++f1;continue}while(++f1<u.length&&(q1.get(u[f1])??F1)===F1)if(q1.get(E1.at(-1))!==F1)E1[E1.length-1]+=u[f1]}return E1}function b(u){return u.match(/\S+/g)||[]}let E="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",k=new RegExp(`^[${E}]+$`,"gu"),T=".,!?…。，、।۔،",S=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"],[` ?[^(\\s|[${T}])]+`,` ?[^\\s${T}]+`]]);class d{constructor(u){this.content=u.content,this.id=u.id,this.single_word=u.single_word??!1,this.lstrip=u.lstrip??!1,this.rstrip=u.rstrip??!1,this.special=u.special??!1,this.normalized=u.normalized??null}}class o extends Y.Callable{constructor(u){super();this.config=u,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(u,...q1){switch(u.type){case"WordPiece":return new v(u);case"Unigram":return new y(u,...q1);case"BPE":return new l(u);default:if(u.vocab)if(Array.isArray(u.vocab))return new y(u,...q1);else if(Object.hasOwn(u,"continuing_subword_prefix")&&Object.hasOwn(u,"unk_token"))if(Object.hasOwn(u,"merges"))return new l(u);else return new v(u);else return new t(u,...q1);throw Error(`Unknown TokenizerModel type: ${u.type}`)}}_call(u){if(u=this.encode(u),this.fuse_unk)u=I(u,this.tokens_to_ids,this.unk_token_id);return u}encode(u){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(u){return u.map((q1)=>this.tokens_to_ids.get(q1)??this.unk_token_id)}convert_ids_to_tokens(u){return u.map((q1)=>this.vocab[q1]??this.unk_token)}}class v extends o{constructor(u){super(u);this.tokens_to_ids=A(u.vocab),this.unk_token_id=this.tokens_to_ids.get(u.unk_token),this.unk_token=u.unk_token,this.max_input_chars_per_word=u.max_input_chars_per_word??100,this.vocab=Array(this.tokens_to_ids.size);for(let[q1,F1]of this.tokens_to_ids)this.vocab[F1]=q1}encode(u){let q1=[];for(let F1 of u){let E1=[...F1];if(E1.length>this.max_input_chars_per_word){q1.push(this.unk_token);continue}let f1=!1,e1=0,v0=[];while(e1<E1.length){let y0=E1.length,m0=null;while(e1<y0){let T0=E1.slice(e1,y0).join("");if(e1>0)T0=this.config.continuing_subword_prefix+T0;if(this.tokens_to_ids.has(T0)){m0=T0;break}--y0}if(m0===null){f1=!0;break}v0.push(m0),e1=y0}if(f1)q1.push(this.unk_token);else q1.push(...v0)}return q1}}class y extends o{constructor(u,q1){super(u);let F1=u.vocab.length;this.vocab=Array(F1),this.scores=Array(F1);for(let E1=0;E1<F1;++E1)[this.vocab[E1],this.scores[E1]]=u.vocab[E1];this.unk_token_id=u.unk_id,this.unk_token=this.vocab[u.unk_id],this.tokens_to_ids=new Map(this.vocab.map((E1,f1)=>[E1,f1])),this.bos_token=" ",this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=q1.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.unk_token=this.vocab[this.unk_token_id],this.minScore=(0,K.min)(this.scores)[0],this.unk_score=this.minScore-10,this.scores[this.unk_token_id]=this.unk_score,this.trie=new q.CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(u){let q1=u.chars,F1=1,E1=0;while(E1<q1.length){let f1=!1,e1=[],v0=q1.slice(E1).join(""),y0=this.trie.commonPrefixSearch(v0);for(let m0 of y0){e1.push(m0);let T0=this.tokens_to_ids.get(m0),J5=this.scores[T0],D2=(0,$.len)(m0);if(u.insert(E1,D2,J5,T0),!f1&&D2===1)f1=!0}if(!f1)u.insert(E1,1,this.unk_score,this.unk_token_id);E1+=1}}tokenize(u){let q1=new q.TokenLattice(u,this.bos_token_id,this.eos_token_id);return this.populateNodes(q1),q1.tokens()}encode(u){let q1=[];for(let F1 of u){let E1=this.tokenize(F1);q1.push(...E1)}return q1}}let i=(()=>{let u=[...Array.from({length:94},(f1,e1)=>e1+33),...Array.from({length:"¬".charCodeAt(0)-"¡".charCodeAt(0)+1},(f1,e1)=>e1+"¡".charCodeAt(0)),...Array.from({length:"ÿ".charCodeAt(0)-"®".charCodeAt(0)+1},(f1,e1)=>e1+"®".charCodeAt(0))],q1=u.slice(),F1=0;for(let f1=0;f1<256;++f1)if(!u.includes(f1))u.push(f1),q1.push(256+F1),F1+=1;let E1=q1.map((f1)=>String.fromCharCode(f1));return Object.fromEntries(u.map((f1,e1)=>[f1,E1[e1]]))})(),p=(0,$.reverseDictionary)(i);class l extends o{constructor(u){super(u);this.tokens_to_ids=A(u.vocab),this.unk_token_id=this.tokens_to_ids.get(u.unk_token),this.unk_token=u.unk_token,this.vocab=Array(this.tokens_to_ids.size);for(let[F1,E1]of this.tokens_to_ids)this.vocab[E1]=F1;let q1=Array.isArray(u.merges[0]);if(this.merges=q1?u.merges:u.merges.map((F1)=>F1.split(" ",2)),this.bpe_ranks=new Map(this.merges.map((F1,E1)=>[JSON.stringify(F1),E1])),this.end_of_word_suffix=u.end_of_word_suffix,this.continuing_subword_suffix=u.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback)this.text_encoder=new TextEncoder;this.ignore_merges=this.config.ignore_merges??!1,this.max_length_to_cache=256,this.cache_capacity=1e4,this.cache=new q.LRUCache(this.cache_capacity)}clear_cache(){this.cache.clear()}bpe(u){if(u.length===0)return[];let q1=this.cache.get(u);if(q1!==void 0)return q1;let F1=Array.from(u);if(this.end_of_word_suffix)F1[F1.length-1]+=this.end_of_word_suffix;let E1=[];if(F1.length>1){let f1=new q.PriorityQueue((y0,m0)=>y0.score<m0.score),e1={token:F1[0],bias:0,prev:null,next:null},v0=e1;for(let y0=1;y0<F1.length;++y0){let m0={bias:y0/F1.length,token:F1[y0],prev:v0,next:null};v0.next=m0,this._add_node(f1,v0),v0=m0}while(!f1.isEmpty()){let y0=f1.pop();if(y0.deleted||!y0.next||y0.next.deleted)continue;if(y0.deleted=!0,y0.next.deleted=!0,y0.prev){let T0={...y0.prev};if(y0.prev.deleted=!0,y0.prev=T0,T0.prev)T0.prev.next=T0;else e1=T0}let m0={token:y0.token+y0.next.token,bias:y0.bias,prev:y0.prev,next:y0.next.next};if(m0.prev)m0.prev.next=m0,this._add_node(f1,m0.prev);else e1=m0;if(m0.next)m0.next.prev=m0,this._add_node(f1,m0)}for(let y0=e1;y0!==null;y0=y0.next)E1.push(y0.token)}else E1=F1;if(this.continuing_subword_suffix)for(let f1=0;f1<E1.length-1;++f1)E1[f1]+=this.continuing_subword_suffix;if(u.length<this.max_length_to_cache)this.cache.put(u,E1);return E1}_add_node(u,q1){let F1=this.bpe_ranks.get(JSON.stringify([q1.token,q1.next.token]));if(F1!==void 0)q1.score=F1+q1.bias,u.push(q1)}encode(u){let q1=[];for(let F1 of u){if(this.ignore_merges&&this.tokens_to_ids.has(F1)){q1.push(F1);continue}let E1=this.bpe(F1);for(let f1 of E1)if(this.tokens_to_ids.has(f1))q1.push(f1);else if(this.byte_fallback){let e1=Array.from(this.text_encoder.encode(f1)).map((v0)=>`<0x${v0.toString(16).toUpperCase().padStart(2,"0")}>`);if(e1.every((v0)=>this.tokens_to_ids.has(v0)))q1.push(...e1);else q1.push(this.unk_token)}else q1.push(this.unk_token)}return q1}}class t extends o{constructor(u,q1){super(u);this.tokens_to_ids=A(q1.target_lang?u.vocab[q1.target_lang]:u.vocab),this.bos_token=q1.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=q1.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=q1.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=q1.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=Array(this.tokens_to_ids.size);for(let[F1,E1]of this.tokens_to_ids)this.vocab[E1]=F1}encode(u){return u}}class Q1 extends Y.Callable{constructor(u){super();this.config=u}static fromConfig(u){if(u===null)return null;switch(u.type){case"BertNormalizer":return new h1(u);case"Precompiled":return new N1(u);case"Sequence":return new r1(u);case"Replace":return new m(u);case"NFC":return new g(u);case"NFD":return new n(u);case"NFKC":return new Z1(u);case"NFKD":return new J1(u);case"Strip":return new z1(u);case"StripAccents":return new V1(u);case"Lowercase":return new w1(u);case"Prepend":return new m1(u);default:throw Error(`Unknown Normalizer type: ${u.type}`)}}normalize(u){throw Error("normalize should be implemented in subclass.")}_call(u){return this.normalize(u)}}class m extends Q1{normalize(u){let q1=V(this.config.pattern);return q1===null?u:u.replaceAll(q1,this.config.content)}}class K1 extends Q1{form=void 0;normalize(u){return u=u.normalize(this.form),u}}class g extends K1{form="NFC"}class n extends K1{form="NFD"}class Z1 extends K1{form="NFKC"}class J1 extends K1{form="NFKD"}class z1 extends Q1{normalize(u){if(this.config.strip_left&&this.config.strip_right)u=u.trim();else{if(this.config.strip_left)u=u.trimStart();if(this.config.strip_right)u=u.trimEnd()}return u}}class V1 extends Q1{normalize(u){return u=D(u),u}}class w1 extends Q1{normalize(u){return u=u.toLowerCase(),u}}class m1 extends Q1{normalize(u){return u=this.config.prepend+u,u}}class r1 extends Q1{constructor(u){super(u);this.normalizers=u.normalizers.map((q1)=>Q1.fromConfig(q1))}normalize(u){return this.normalizers.reduce((q1,F1)=>{return F1.normalize(q1)},u)}}class h1 extends Q1{_tokenize_chinese_chars(u){let q1=[];for(let F1=0;F1<u.length;++F1){let E1=u[F1],f1=E1.charCodeAt(0);if(C(f1))q1.push(" "),q1.push(E1),q1.push(" ");else q1.push(E1)}return q1.join("")}stripAccents(u){return u.normalize("NFD").replace(/\p{Mn}/gu,"")}_is_control(u){switch(u){case"\t":case`
`:case"\r":return!1;default:return/^\p{Cc}|\p{Cf}|\p{Co}|\p{Cs}$/u.test(u)}}_clean_text(u){let q1=[];for(let F1 of u){let E1=F1.charCodeAt(0);if(E1===0||E1===65533||this._is_control(F1))continue;if(/^\s$/.test(F1))q1.push(" ");else q1.push(F1)}return q1.join("")}normalize(u){if(this.config.clean_text)u=this._clean_text(u);if(this.config.handle_chinese_chars)u=this._tokenize_chinese_chars(u);if(this.config.lowercase){if(u=u.toLowerCase(),this.config.strip_accents!==!1)u=this.stripAccents(u)}else if(this.config.strip_accents)u=this.stripAccents(u);return u}}class G1 extends Y.Callable{static fromConfig(u){if(u===null)return null;switch(u.type){case"BertPreTokenizer":return new a(u);case"Sequence":return new Q0(u);case"Whitespace":return new Z0(u);case"WhitespaceSplit":return new g0(u);case"Metaspace":return new t2(u);case"ByteLevel":return new M1(u);case"Split":return new D1(u);case"Punctuation":return new g1(u);case"Digits":return new u1(u);case"Replace":return new M2(u);default:throw Error(`Unknown PreTokenizer type: ${u.type}`)}}pre_tokenize_text(u,q1){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(u,q1){return(Array.isArray(u)?u.map((F1)=>this.pre_tokenize_text(F1,q1)):this.pre_tokenize_text(u,q1)).flat()}_call(u,q1){return this.pre_tokenize(u,q1)}}class a extends G1{constructor(u){super();this.pattern=new RegExp(`[^\\s${E}]+|[${E}]`,"gu")}pre_tokenize_text(u,q1){return u.trim().match(this.pattern)||[]}}class M1 extends G1{constructor(u){super();this.config=u,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?\p{L}+| ?\p{N}+| ?[^\s\p{L}\p{N}]+|\s+(?!\S)|\s+/gu,this.byte_encoder=i,this.text_encoder=new TextEncoder}pre_tokenize_text(u,q1){if(this.add_prefix_space&&!u.startsWith(" "))u=" "+u;return(this.use_regex?u.match(this.pattern)||[]:[u]).map((E1)=>Array.from(this.text_encoder.encode(E1),(f1)=>this.byte_encoder[f1]).join(""))}}class D1 extends G1{constructor(u){super();this.config=u,this.pattern=V(this.config.pattern,this.config.invert)}pre_tokenize_text(u,q1){if(this.pattern===null)return[];if(this.config.invert)return u.match(this.pattern)||[];else if(this.config.behavior?.toLowerCase()==="removed")return u.split(this.pattern).filter((F1)=>F1);else return F(u,this.pattern)}}class g1 extends G1{constructor(u){super();this.config=u,this.pattern=new RegExp(`[^${E}]+|[${E}]+`,"gu")}pre_tokenize_text(u,q1){return u.match(this.pattern)||[]}}class u1 extends G1{constructor(u){super();this.config=u;let q1=`[^\\d]+|\\d${this.config.individual_digits?"":"+"}`;this.pattern=new RegExp(q1,"gu")}pre_tokenize_text(u,q1){return u.match(this.pattern)||[]}}class C1 extends Y.Callable{constructor(u){super();this.config=u}static fromConfig(u){if(u===null)return null;switch(u.type){case"TemplateProcessing":return new p1(u);case"ByteLevel":return new y1(u);case"RobertaProcessing":return new v1(u);case"BertProcessing":return new x1(u);case"Sequence":return new P1(u);default:throw Error(`Unknown PostProcessor type: ${u.type}`)}}post_process(u,...q1){throw Error("post_process should be implemented in subclass.")}_call(u,...q1){return this.post_process(u,...q1)}}class x1 extends C1{constructor(u){super(u);this.cls=u.cls[0],this.sep=u.sep[0]}post_process(u,q1=null,{add_special_tokens:F1=!0}={}){if(F1)u=(0,$.mergeArrays)([this.cls],u,[this.sep]);let E1=Array(u.length).fill(0);if(q1!==null){let f1=F1&&this instanceof v1?[this.sep]:[],e1=F1?[this.sep]:[];u=(0,$.mergeArrays)(u,f1,q1,e1),E1=(0,$.mergeArrays)(E1,Array(q1.length+f1.length+e1.length).fill(1))}return{tokens:u,token_type_ids:E1}}}class v1 extends x1{}class p1 extends C1{constructor(u){super(u);this.single=u.single,this.pair=u.pair}post_process(u,q1=null,{add_special_tokens:F1=!0}={}){let E1=q1===null?this.single:this.pair,f1=[],e1=[];for(let v0 of E1)if("SpecialToken"in v0){if(F1)f1.push(v0.SpecialToken.id),e1.push(v0.SpecialToken.type_id)}else if("Sequence"in v0){if(v0.Sequence.id==="A")f1=(0,$.mergeArrays)(f1,u),e1=(0,$.mergeArrays)(e1,Array(u.length).fill(v0.Sequence.type_id));else if(v0.Sequence.id==="B")f1=(0,$.mergeArrays)(f1,q1),e1=(0,$.mergeArrays)(e1,Array(q1.length).fill(v0.Sequence.type_id))}return{tokens:f1,token_type_ids:e1}}}class y1 extends C1{post_process(u,q1=null){if(q1)u=(0,$.mergeArrays)(u,q1);return{tokens:u}}}class P1 extends C1{constructor(u){super(u);this.processors=u.processors.map((q1)=>C1.fromConfig(q1))}post_process(u,q1=null,F1={}){let E1;for(let f1 of this.processors)if(f1 instanceof y1){if(u=f1.post_process(u).tokens,q1)q1=f1.post_process(q1).tokens}else{let e1=f1.post_process(u,q1,F1);u=e1.tokens,E1=e1.token_type_ids}return{tokens:u,token_type_ids:E1}}}class T1 extends Y.Callable{constructor(u){super();this.config=u,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=u.trim_offsets}static fromConfig(u){if(u===null)return null;switch(u.type){case"WordPiece":return new A0(u);case"Metaspace":return new Y1(u);case"ByteLevel":return new i0(u);case"Replace":return new j0(u);case"ByteFallback":return new N0(u);case"Fuse":return new E0(u);case"Strip":return new H0(u);case"Sequence":return new _0(u);case"CTC":return new D0(u);case"BPEDecoder":return new W2(u);default:throw Error(`Unknown Decoder type: ${u.type}`)}}_call(u){return this.decode(u)}decode(u){return this.decode_chain(u).join("")}decode_chain(u){throw Error("`decode_chain` should be implemented in subclass.")}}class j0 extends T1{decode_chain(u){let q1=V(this.config.pattern);return q1===null?u:u.map((F1)=>F1.replaceAll(q1,this.config.content))}}class N0 extends T1{constructor(u){super(u);this.text_decoder=new TextDecoder}decode_chain(u){let q1=[],F1=[];for(let E1 of u){let f1=null;if(E1.length===6&&E1.startsWith("<0x")&&E1.endsWith(">")){let e1=parseInt(E1.slice(3,5),16);if(!isNaN(e1))f1=e1}if(f1!==null)F1.push(f1);else{if(F1.length>0){let e1=this.text_decoder.decode(Uint8Array.from(F1));q1.push(e1),F1=[]}q1.push(E1)}}if(F1.length>0){let E1=this.text_decoder.decode(Uint8Array.from(F1));q1.push(E1),F1=[]}return q1}}class E0 extends T1{decode_chain(u){return[u.join("")]}}class H0 extends T1{constructor(u){super(u);this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(u){return u.map((q1)=>{let F1=0;for(let f1=0;f1<this.start;++f1)if(q1[f1]===this.content){F1=f1+1;continue}else break;let E1=q1.length;for(let f1=0;f1<this.stop;++f1){let e1=q1.length-f1-1;if(q1[e1]===this.content){E1=e1;continue}else break}return q1.slice(F1,E1)})}}class A0 extends T1{constructor(u){super(u);this.cleanup=u.cleanup}decode_chain(u){return u.map((q1,F1)=>{if(F1!==0)if(q1.startsWith(this.config.prefix))q1=q1.replace(this.config.prefix,"");else q1=" "+q1;if(this.cleanup)q1=j(q1);return q1})}}class i0 extends T1{constructor(u){super(u);this.byte_decoder=p,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(u){let q1=u.join(""),F1=new Uint8Array([...q1].map((f1)=>this.byte_decoder[f1]));return this.text_decoder.decode(F1)}decode_chain(u){let q1=[],F1=[];for(let E1 of u)if(this.added_tokens.find((f1)=>f1.content===E1)!==void 0){if(F1.length>0)q1.push(this.convert_tokens_to_string(F1)),F1=[];q1.push(E1)}else F1.push(E1);if(F1.length>0)q1.push(this.convert_tokens_to_string(F1));return q1}}class D0 extends T1{constructor(u){super(u);this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(u){if(u.length===0)return"";let q1=[u[0]];for(let f1=1;f1<u.length;++f1)if(u[f1]!==q1.at(-1))q1.push(u[f1]);let E1=q1.filter((f1)=>f1!==this.pad_token).join("");if(this.cleanup)E1=j(E1).replaceAll(this.word_delimiter_token," ").trim();return E1}decode_chain(u){return[this.convert_tokens_to_string(u)]}}class _0 extends T1{constructor(u){super(u);this.decoders=u.decoders.map((q1)=>T1.fromConfig(q1))}decode_chain(u){return this.decoders.reduce((q1,F1)=>{return F1.decode_chain(q1)},u)}}class W2 extends T1{constructor(u){super(u);this.suffix=this.config.suffix}decode_chain(u){return u.map((q1,F1)=>{return q1.replaceAll(this.suffix,F1===u.length-1?"":" ")})}}class Z2 extends T1{decode_chain(u){let q1="";for(let F1=1;F1<u.length;F1+=2)q1+=u[F1];return[q1]}}class t2 extends G1{constructor(u){super();this.addPrefixSpace=u.add_prefix_space,this.replacement=u.replacement,this.strRep=u.str_rep||this.replacement,this.prepend_scheme=u.prepend_scheme??"always"}pre_tokenize_text(u,{section_index:q1=void 0}={}){let F1=u.replaceAll(" ",this.strRep);if(this.addPrefixSpace&&!F1.startsWith(this.replacement)&&(this.prepend_scheme==="always"||this.prepend_scheme==="first"&&q1===0))F1=this.strRep+F1;return[F1]}}class Y1 extends T1{constructor(u){super(u);this.addPrefixSpace=u.add_prefix_space,this.replacement=u.replacement}decode_chain(u){let q1=[];for(let F1=0;F1<u.length;++F1){let E1=u[F1].replaceAll(this.replacement," ");if(this.addPrefixSpace&&F1==0&&E1.startsWith(" "))E1=E1.substring(1);q1.push(E1)}return q1}}class N1 extends Q1{constructor(u){super(u);this.charsmap=u.precompiled_charsmap}normalize(u){if(u=u.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,""),u=u.replace(/[\u0009\u000A\u000C\u000D\u00A0\u1680\u2000-\u200F\u2028\u2029\u202F\u205F\u2581\u3000\uFEFF\uFFFD]/gm," "),u.includes("～"))u=u.split("～").map((F1)=>F1.normalize("NFKC")).join("～");else u=u.normalize("NFKC");return u}}class Q0 extends G1{constructor(u){super();this.tokenizers=u.pretokenizers.map((q1)=>G1.fromConfig(q1))}pre_tokenize_text(u,q1){return this.tokenizers.reduce((F1,E1)=>{return E1.pre_tokenize(F1,q1)},[u])}}class Z0 extends G1{constructor(u){super()}pre_tokenize_text(u,q1){return u.match(/\w+|[^\w\s]+/g)||[]}}class g0 extends G1{constructor(u){super()}pre_tokenize_text(u,q1){return b(u)}}class M2 extends G1{constructor(u){super();this.config=u,this.pattern=V(this.config.pattern),this.content=this.config.content}pre_tokenize_text(u,q1){if(this.pattern===null)return[u];return[u.replaceAll(this.pattern,this.config.content)]}}let _2=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function e2(u,q1,F1,E1){for(let f1 of Object.keys(u)){let e1=q1-u[f1].length,v0=F1(f1),y0=Array(e1).fill(v0);u[f1]=E1==="right"?(0,$.mergeArrays)(u[f1],y0):(0,$.mergeArrays)(y0,u[f1])}}function I2(u,q1){for(let F1 of Object.keys(u))u[F1].length=q1}class t0 extends Y.Callable{return_token_type_ids=!1;padding_side="right";constructor(u,q1){super();this.config=q1,this.normalizer=Q1.fromConfig(u.normalizer),this.pre_tokenizer=G1.fromConfig(u.pre_tokenizer),this.model=o.fromConfig(u.model,q1),this.post_processor=C1.fromConfig(u.post_processor),this.decoder=T1.fromConfig(u.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(let F1 of u.added_tokens){let E1=new d(F1);if(this.added_tokens.push(E1),this.model.tokens_to_ids.set(E1.content,E1.id),this.model.vocab[E1.id]=E1.content,E1.special)this.special_tokens.push(E1.content),this.all_special_ids.push(E1.id)}if(this.additional_special_tokens=q1.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder)this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix;if(this.added_tokens_splitter=new q.DictionarySplitter(this.added_tokens.map((F1)=>F1.content)),this.added_tokens_map=new Map(this.added_tokens.map((F1)=>[F1.content,F1])),this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.bos_token=this.getToken("bos_token"),this.bos_token_id=this.model.tokens_to_ids.get(this.bos_token),this.eos_token=this.getToken("eos_token"),this.eos_token_id=this.model.tokens_to_ids.get(this.eos_token),this.model_max_length=q1.model_max_length,this.remove_space=q1.remove_space,this.clean_up_tokenization_spaces=q1.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=q1.do_lowercase_and_remove_accent??!1,q1.padding_side)this.padding_side=q1.padding_side;if(this.add_bos_token=q1.add_bos_token,this.add_eos_token=q1.add_eos_token,this.legacy=!1,this.chat_template=q1.chat_template??null,Array.isArray(this.chat_template)){let F1=Object.create(null);for(let{name:E1,template:f1}of this.chat_template){if(typeof E1!=="string"||typeof f1!=="string")throw Error('Chat template must be a list of objects with "name" and "template" properties');F1[E1]=f1}this.chat_template=F1}this._compiled_template_cache=new Map}getToken(...u){for(let q1 of u){let F1=this.config[q1];if(!F1)continue;if(typeof F1==="object")if(F1.__type==="AddedToken")return F1.content;else throw Error(`Unknown token: ${F1}`);else return F1}return null}static async from_pretrained(u,{progress_callback:q1=null,config:F1=null,cache_dir:E1=null,local_files_only:f1=!1,revision:e1="main",legacy:v0=null}={}){let y0=await z(u,{progress_callback:q1,config:F1,cache_dir:E1,local_files_only:f1,revision:e1,legacy:v0});return new this(...y0)}_call(u,{text_pair:q1=null,add_special_tokens:F1=!0,padding:E1=!1,truncation:f1=null,max_length:e1=null,return_tensor:v0=!0,return_token_type_ids:y0=null}={}){let m0=Array.isArray(u),T0;if(m0){if(u.length===0)throw Error("text array must be non-empty");if(q1!==null){if(!Array.isArray(q1))throw Error("text_pair must also be an array");else if(u.length!==q1.length)throw Error("text and text_pair must have the same length");T0=u.map((D2,z4)=>this._encode_plus(D2,{text_pair:q1[z4],add_special_tokens:F1,return_token_type_ids:y0}))}else T0=u.map((D2)=>this._encode_plus(D2,{add_special_tokens:F1,return_token_type_ids:y0}))}else{if(u===null||u===void 0)throw Error("text may not be null or undefined");if(Array.isArray(q1))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");T0=[this._encode_plus(u,{text_pair:q1,add_special_tokens:F1,return_token_type_ids:y0})]}if(e1===null)e1=this.model_max_length;else if(f1===null){if(E1===!0)console.warn("`max_length` is ignored when `padding: true` and there is no truncation strategy. To pad to max length, use `padding: 'max_length'`."),e1=this.model_max_length;else if(E1===!1)console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation: true` to explicitly truncate examples to max length."),f1=!0}if(E1===!0)e1=Math.min((0,K.max)(T0.map((D2)=>D2.input_ids.length))[0],e1??1/0);if(e1=Math.min(e1,this.model_max_length??1/0),E1||f1){for(let D2=0;D2<T0.length;++D2)if(T0[D2].input_ids.length===e1)continue;else if(T0[D2].input_ids.length>e1){if(f1)I2(T0[D2],e1)}else if(E1)e2(T0[D2],e1,(z4)=>z4==="input_ids"?this.pad_token_id:0,this.padding_side)}let J5={};if(v0){if(!(E1&&f1)){if(T0.some((z4)=>{for(let g4 of Object.keys(z4))if(z4[g4].length!==T0[0][g4]?.length)return!0;return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.")}let D2=[T0.length,T0[0].input_ids.length];for(let z4 of Object.keys(T0[0]))J5[z4]=new B.Tensor("int64",BigInt64Array.from(T0.flatMap((g4)=>g4[z4]).map(BigInt)),D2)}else{for(let D2 of Object.keys(T0[0]))J5[D2]=T0.map((z4)=>z4[D2]);if(!m0)for(let D2 of Object.keys(J5))J5[D2]=J5[D2][0]}return J5}_encode_text(u){if(u===null)return null;let q1=this.added_tokens_splitter.split(u);for(let E1=0;E1<q1.length;++E1){let f1=this.added_tokens_map.get(q1[E1]);if(f1){if(f1.lstrip&&E1>0)q1[E1-1]=q1[E1-1].trimEnd();if(f1.rstrip&&E1<q1.length-1)q1[E1+1]=q1[E1+1].trimStart()}}return q1.flatMap((E1,f1)=>{if(E1.length===0)return[];if(this.added_tokens_map.has(E1))return[E1];if(this.remove_space===!0)E1=E1.trim().split(/\s+/).join(" ");if(this.do_lowercase_and_remove_accent)E1=w(E1);if(this.normalizer!==null)E1=this.normalizer(E1);if(E1.length===0)return[];let e1=this.pre_tokenizer!==null?this.pre_tokenizer(E1,{section_index:f1}):[E1];return this.model(e1)})}_encode_plus(u,{text_pair:q1=null,add_special_tokens:F1=!0,return_token_type_ids:E1=null}={}){let{tokens:f1,token_type_ids:e1}=this._tokenize_helper(u,{pair:q1,add_special_tokens:F1}),v0=this.model.convert_tokens_to_ids(f1),y0={input_ids:v0,attention_mask:Array(v0.length).fill(1)};if((E1??this.return_token_type_ids)&&e1)y0.token_type_ids=e1;return y0}_tokenize_helper(u,{pair:q1=null,add_special_tokens:F1=!1}={}){let E1=this._encode_text(u),f1=this._encode_text(q1);return this.post_processor?this.post_processor(E1,f1,{add_special_tokens:F1}):{tokens:(0,$.mergeArrays)(E1??[],f1??[])}}tokenize(u,{pair:q1=null,add_special_tokens:F1=!1}={}){return this._tokenize_helper(u,{pair:q1,add_special_tokens:F1}).tokens}encode(u,{text_pair:q1=null,add_special_tokens:F1=!0,return_token_type_ids:E1=null}={}){return this._encode_plus(u,{text_pair:q1,add_special_tokens:F1,return_token_type_ids:E1}).input_ids}batch_decode(u,q1={}){if(u instanceof B.Tensor)u=u.tolist();return u.map((F1)=>this.decode(F1,q1))}decode(u,q1={}){if(u instanceof B.Tensor)u=M(u);if(!Array.isArray(u)||u.length===0||!(0,$.isIntegralNumber)(u[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(u,q1)}decode_single(u,{skip_special_tokens:q1=!1,clean_up_tokenization_spaces:F1=null}){let E1=this.model.convert_ids_to_tokens(u);if(q1)E1=E1.filter((e1)=>!this.special_tokens.includes(e1));let f1=this.decoder?this.decoder(E1):E1.join(" ");if(this.decoder&&this.decoder.end_of_word_suffix){if(f1=f1.replaceAll(this.decoder.end_of_word_suffix," "),q1)f1=f1.trim()}if(F1??this.clean_up_tokenization_spaces)f1=j(f1);return f1}get_chat_template({chat_template:u=null,tools:q1=null}={}){if(this.chat_template&&typeof this.chat_template==="object"){let F1=this.chat_template;if(u!==null&&Object.hasOwn(F1,u))u=F1[u];else if(u===null)if(q1!==null&&"tool_use"in F1)u=F1.tool_use;else if("default"in F1)u=F1.default;else throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(F1).sort()}.`)}else if(u===null)if(this.chat_template)u=this.chat_template;else throw Error("Cannot use apply_chat_template() because tokenizer.chat_template is not set and no template argument was passed! For information about writing templates and setting the tokenizer.chat_template attribute, please see the documentation at https://huggingface.co/docs/transformers/main/en/chat_templating");return u}apply_chat_template(u,{tools:q1=null,documents:F1=null,chat_template:E1=null,add_generation_prompt:f1=!1,tokenize:e1=!0,padding:v0=!1,truncation:y0=!1,max_length:m0=null,return_tensor:T0=!0,return_dict:J5=!1,tokenizer_kwargs:D2={},...z4}={}){if(E1=this.get_chat_template({chat_template:E1,tools:q1}),typeof E1!=="string")throw Error(`chat_template must be a string, but got ${typeof E1}`);let g4=this._compiled_template_cache.get(E1);if(g4===void 0)g4=new L.Template(E1),this._compiled_template_cache.set(E1,g4);let N4=Object.create(null);for(let z7 of _2){let Y7=this.getToken(z7);if(Y7)N4[z7]=Y7}let a7=g4.render({messages:u,add_generation_prompt:f1,tools:q1,documents:F1,...N4,...z4});if(e1){let z7=this._call(a7,{add_special_tokens:!1,padding:v0,truncation:y0,max_length:m0,return_tensor:T0,...D2});return J5?z7:z7.input_ids}return a7}}class S4 extends t0{return_token_type_ids=!0}class T4 extends t0{return_token_type_ids=!0}class z0 extends t0{return_token_type_ids=!0}class L7 extends t0{return_token_type_ids=!0}class c extends t0{return_token_type_ids=!0}class L1 extends t0{return_token_type_ids=!0}class $1 extends t0{return_token_type_ids=!0}class O1 extends t0{return_token_type_ids=!0}class I1 extends t0{return_token_type_ids=!0}class d1 extends t0{}class B0 extends t0{}class n0 extends t0{return_token_type_ids=!0;constructor(u,q1){super(u,q1);console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class Y2 extends t0{return_token_type_ids=!0}class s1 extends t0{}class d2 extends t0{}class j2 extends t0{}class H4 extends t0{constructor(u,q1){super(u,q1);this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter((F1)=>this.languageRegex.test(F1)),this.lang_to_token=(F1)=>F1}_build_translation_inputs(u,q1,F1){return R7(this,u,q1,F1)}}class a5 extends H4{}class O7 extends t0{}class P4 extends t0{}let X7="▁";class X5 extends t0{padding_side="left";constructor(u,q1){super(u,q1);if(this.legacy=q1.legacy??!0,!this.legacy)this.normalizer=null,this.pre_tokenizer=new t2({replacement:X7,add_prefix_space:!0,prepend_scheme:"first"})}_encode_text(u){if(u===null)return null;if(this.legacy||u.length===0)return super._encode_text(u);let q1=super._encode_text(X7+u.replaceAll(X7," "));if(q1.length>1&&q1[0]===X7&&this.special_tokens.includes(q1[1]))q1=q1.slice(1);return q1}}class l7 extends t0{}class k6 extends t0{}class C9 extends t0{}class i4 extends t0{}class b9 extends t0{}class v9 extends t0{}class O4 extends t0{}class m6 extends t0{}class U6 extends t0{}function R7(u,q1,F1,E1){if(!("language_codes"in u)||!Array.isArray(u.language_codes))throw Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in u)||!(u.languageRegex instanceof RegExp))throw Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in u)||typeof u.lang_to_token!=="function")throw Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");let{src_lang:f1,tgt_lang:e1}=E1;if(!u.language_codes.includes(e1))throw Error(`Target language code "${e1}" is not valid. Must be one of: {${u.language_codes.join(", ")}}`);if(f1!==void 0){if(!u.language_codes.includes(f1))throw Error(`Source language code "${f1}" is not valid. Must be one of: {${u.language_codes.join(", ")}}`);for(let v0 of u.post_processor.config.single)if("SpecialToken"in v0&&u.languageRegex.test(v0.SpecialToken.id)){v0.SpecialToken.id=u.lang_to_token(f1);break}}return E1.forced_bos_token_id=u.model.convert_tokens_to_ids([u.lang_to_token(e1)])[0],u._call(q1,F1)}class O9 extends t0{constructor(u,q1){super(u,q1);this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter((F1)=>this.languageRegex.test(F1)),this.lang_to_token=(F1)=>F1}_build_translation_inputs(u,q1,F1){return R7(this,u,q1,F1)}}class E4 extends t0{constructor(u,q1){super(u,q1);this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter((F1)=>this.languageRegex.test(F1)).map((F1)=>F1.slice(2,-2)),this.lang_to_token=(F1)=>`__${F1}__`}_build_translation_inputs(u,q1,F1){return R7(this,u,q1,F1)}}class N5 extends t0{get timestamp_begin(){return this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1}_decode_asr(u,{return_timestamps:q1=!1,return_language:F1=!1,time_precision:E1=null,force_full_sequences:f1=!0}={}){if(E1===null)throw Error("Must specify time_precision");let e1=null,v0=q1==="word";function y0(){return{language:e1,timestamp:[null,null],text:""}}let m0=[],T0=y0(),J5=0,D2=this.timestamp_begin,g4=D2+1500,N4=[],a7=[],z7=!1,Y7=null,s7=new Set(this.all_special_ids);for(let C5 of u){let n4=C5.tokens,N7=v0?C5.token_timestamps:null,o7=null,i6=D2;if("stride"in C5){let[a4,Q4,y4]=C5.stride;if(J5-=Q4,Y7=a4-y4,Q4)i6=Q4/E1+D2;if(y4)for(let s4=n4.length-1;s4>=0;--s4){let C7=Number(n4[s4]);if(C7>=D2){if(o7!==null&&(C7-D2)*E1<Y7)break;o7=C7}}}let g5=[],z9=[];for(let a4=0;a4<n4.length;++a4){let Q4=Number(n4[a4]);if(s7.has(Q4)){let y4=this.decode([Q4]),s4=O.WHISPER_LANGUAGE_MAPPING.get(y4.slice(2,-2));if(s4!==void 0){if(e1!==null&&s4!==e1&&!q1){N4.push(g5);let C7=this.findLongestCommonSequence(N4)[0],k3=this.decode(C7);T0.text=k3,m0.push(T0),N4=[],g5=[],T0=y0()}e1=T0.language=s4}}else if(Q4>=D2&&Q4<=g4){let y4=(Q4-D2)*E1+J5,s4=(0,K.round)(y4,2);if(o7!==null&&Q4>=o7)z7=!0;else if(z7||N4.length>0&&Q4<i6)z7=!1;else if(T0.timestamp[0]===null)T0.timestamp[0]=s4;else if(s4===T0.timestamp[0]);else{if(T0.timestamp[1]=s4,N4.push(g5),v0)a7.push(z9);let[C7,k3]=this.findLongestCommonSequence(N4,a7),DZ=this.decode(C7);if(T0.text=DZ,v0)T0.words=this.collateWordTimestamps(C7,k3,e1);m0.push(T0),N4=[],g5=[],a7=[],z9=[],T0=y0()}}else if(g5.push(Q4),v0){let y4=(0,K.round)(N7[a4]+J5,2),s4;if(a4+1<N7.length){s4=(0,K.round)(N7[a4+1]+J5,2);let C7=this.decode([Q4]);if(k.test(C7))s4=(0,K.round)(Math.min(y4+E1,s4),2)}else s4=null;z9.push([y4,s4])}}if("stride"in C5){let[a4,Q4,y4]=C5.stride;J5+=a4-y4}if(g5.length>0){if(N4.push(g5),v0)a7.push(z9)}else if(N4.every((a4)=>a4.length===0))T0=y0(),N4=[],g5=[],a7=[],z9=[]}if(N4.length>0){if(f1&&q1)throw Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");let[C5,n4]=this.findLongestCommonSequence(N4,a7),N7=this.decode(C5);if(T0.text=N7,v0)T0.words=this.collateWordTimestamps(C5,n4,e1);m0.push(T0)}let W4=Object.create(null),l6=m0.map((C5)=>C5.text).join("");if(q1||F1){for(let C5=0;C5<m0.length;++C5){let n4=m0[C5];if(!q1)delete n4.timestamp;if(!F1)delete n4.language}if(v0){let C5=[];for(let n4 of m0)for(let N7 of n4.words)C5.push(N7);W4={chunks:C5}}else W4={chunks:m0}}return[l6,W4]}findLongestCommonSequence(u,q1=null){let F1=u[0],E1=F1.length,f1=[],e1=Array.isArray(q1)&&q1.length>0,v0=e1?[]:null,y0=e1?q1[0]:null;for(let m0=1;m0<u.length;++m0){let T0=u[m0],J5=0,D2=[E1,E1,0,0],z4=T0.length;for(let W4=1;W4<E1+z4;++W4){let l6=Math.max(0,E1-W4),C5=Math.min(E1,E1+z4-W4),n4=F1.slice(l6,C5),N7=Math.max(0,W4-E1),o7=Math.min(z4,W4),i6=T0.slice(N7,o7);if(n4.length!==i6.length)throw Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");let g5;if(e1)g5=n4.filter((Q4,y4)=>Q4===i6[y4]&&y0[l6+y4]<=q1[m0][N7+y4]).length;else g5=n4.filter((Q4,y4)=>Q4===i6[y4]).length;let z9=W4/1e4,a4=g5/W4+z9;if(g5>1&&a4>J5)J5=a4,D2=[l6,C5,N7,o7]}let[g4,N4,a7,z7]=D2,Y7=Math.floor((N4+g4)/2),s7=Math.floor((z7+a7)/2);if(f1.push(...F1.slice(0,Y7)),F1=T0.slice(s7),E1=F1.length,e1)v0.push(...y0.slice(0,Y7)),y0=q1[m0].slice(s7)}if(f1.push(...F1),e1)return v0.push(...y0),[f1,v0];else return[f1,[]]}collateWordTimestamps(u,q1,F1){let[E1,f1,e1]=this.combineTokensIntoWords(u,F1),v0=[];for(let y0=0;y0<E1.length;++y0){let m0=e1[y0];v0.push({text:E1[y0],timestamp:[q1[m0.at(0)][0],q1[m0.at(-1)][1]]})}return v0}combineTokensIntoWords(u,q1,F1=`"'“¡¿([{-`,E1=`"'.。,，!！?？:：”)]}、`){q1=q1??"english";let f1,e1,v0;if(["chinese","japanese","thai","lao","myanmar"].includes(q1))[f1,e1,v0]=this.splitTokensOnUnicode(u);else[f1,e1,v0]=this.splitTokensOnSpaces(u);return this.mergePunctuations(f1,e1,v0,F1,E1)}decode(u,q1){let F1;if(q1?.decode_with_timestamps){if(u instanceof B.Tensor)u=M(u);F1=this.decodeWithTimestamps(u,q1)}else F1=super.decode(u,q1);return F1}decodeWithTimestamps(u,q1){let F1=q1?.time_precision??0.02,E1=Array.from(this.all_special_ids).at(-1)+1,f1=[[]];for(let e1 of u)if(e1=Number(e1),e1>=E1){let v0=((e1-E1)*F1).toFixed(2);f1.push(`<|${v0}|>`),f1.push([])}else f1[f1.length-1].push(e1);return f1=f1.map((e1)=>typeof e1==="string"?e1:super.decode(e1,q1)),f1.join("")}splitTokensOnUnicode(u){let q1=this.decode(u,{decode_with_timestamps:!0}),F1="�",E1=[],f1=[],e1=[],v0=[],y0=[],m0=0;for(let T0=0;T0<u.length;++T0){let J5=u[T0];v0.push(J5),y0.push(T0);let D2=this.decode(v0,{decode_with_timestamps:!0});if(!D2.includes("�")||q1[m0+D2.indexOf("�")]==="�")E1.push(D2),f1.push(v0),e1.push(y0),v0=[],y0=[],m0+=D2.length}return[E1,f1,e1]}splitTokensOnSpaces(u){let[q1,F1,E1]=this.splitTokensOnUnicode(u),f1=[],e1=[],v0=[],y0=new RegExp(`^[${E}]$`,"gu");for(let m0=0;m0<q1.length;++m0){let T0=q1[m0],J5=F1[m0],D2=E1[m0],z4=J5[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),g4=T0.startsWith(" "),N4=T0.trim(),a7=y0.test(N4);if(z4||g4||a7||f1.length===0)f1.push(T0),e1.push(J5),v0.push(D2);else{let z7=f1.length-1;f1[z7]+=T0,e1[z7].push(...J5),v0[z7].push(...D2)}}return[f1,e1,v0]}mergePunctuations(u,q1,F1,E1,f1){let e1=structuredClone(u),v0=structuredClone(q1),y0=structuredClone(F1),m0=e1.length-2,T0=e1.length-1;while(m0>=0){if(e1[m0].startsWith(" ")&&E1.includes(e1[m0].trim()))e1[T0]=e1[m0]+e1[T0],v0[T0]=(0,$.mergeArrays)(v0[m0],v0[T0]),y0[T0]=(0,$.mergeArrays)(y0[m0],y0[T0]),e1[m0]="",v0[m0]=[],y0[m0]=[];else T0=m0;--m0}m0=0,T0=1;while(T0<e1.length){if(!e1[m0].endsWith(" ")&&f1.includes(e1[T0]))e1[m0]+=e1[T0],v0[m0]=(0,$.mergeArrays)(v0[m0],v0[T0]),y0[m0]=(0,$.mergeArrays)(y0[m0],y0[T0]),e1[T0]="",v0[T0]=[],y0[T0]=[];else m0=T0;++T0}return[e1.filter((J5)=>J5),v0.filter((J5)=>J5.length>0),y0.filter((J5)=>J5.length>0)]}}class i7 extends t0{}class L6 extends t0{}class n7 extends t0{}class M0 extends t0{constructor(u,q1){super(u,q1);this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter((F1)=>this.languageRegex.test(F1)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(u){if(u===null)return null;let[q1,...F1]=u.trim().split(this.languageRegex);if(F1.length===0)return super._encode_text(q1);else if(F1.length===2){let[E1,f1]=F1;if(!this.supported_language_codes.includes(E1))console.warn(`Unsupported language code "${E1}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`);return(0,$.mergeArrays)([E1],super._encode_text(f1))}}}class w0 extends t0{}class a0 extends t0{}class P5 extends t0{}class x6 extends t0{}class c6 extends t0{}class p6 extends t0{constructor(u,q1){super(u,q1);this.decoder=new Z2({})}}class jJ extends t0{}class w3 extends t0{}class C8 extends t0{}class E3{static TOKENIZER_CLASS_MAPPING={T5Tokenizer:s1,DistilBertTokenizer:d1,CamembertTokenizer:B0,DebertaTokenizer:c,DebertaV2Tokenizer:L1,BertTokenizer:S4,HerbertTokenizer:$1,ConvBertTokenizer:O1,RoFormerTokenizer:I1,XLMTokenizer:n0,ElectraTokenizer:Y2,MobileBertTokenizer:z0,SqueezeBertTokenizer:L7,AlbertTokenizer:T4,GPT2Tokenizer:d2,BartTokenizer:j2,MBartTokenizer:H4,MBart50Tokenizer:a5,RobertaTokenizer:O7,WhisperTokenizer:N5,CodeGenTokenizer:i7,CLIPTokenizer:L6,SiglipTokenizer:n7,MarianTokenizer:M0,BloomTokenizer:P4,NllbTokenizer:O9,M2M100Tokenizer:E4,LlamaTokenizer:X5,CodeLlamaTokenizer:l7,XLMRobertaTokenizer:k6,MPNetTokenizer:C9,FalconTokenizer:i4,GPTNeoXTokenizer:b9,EsmTokenizer:v9,Wav2Vec2CTCTokenizer:w0,BlenderbotTokenizer:a0,BlenderbotSmallTokenizer:P5,SpeechT5Tokenizer:x6,NougatTokenizer:c6,VitsTokenizer:p6,Qwen2Tokenizer:O4,GemmaTokenizer:m6,Grok1Tokenizer:U6,CohereTokenizer:jJ,MgpstrTokenizer:w3,Ernie4_5_Tokenizer:C8,PreTrainedTokenizer:t0};static async from_pretrained(u,{progress_callback:q1=null,config:F1=null,cache_dir:E1=null,local_files_only:f1=!1,revision:e1="main",legacy:v0=null}={}){let[y0,m0]=await z(u,{progress_callback:q1,config:F1,cache_dir:E1,local_files_only:f1,revision:e1,legacy:v0}),T0=m0.tokenizer_class?.replace(/Fast$/,"")??"PreTrainedTokenizer",J5=this.TOKENIZER_CLASS_MAPPING[T0];if(!J5)console.warn(`Unknown tokenizer class "${T0}", attempting to construct from base class.`),J5=t0;return new J5(y0,m0)}}},"./src/utils/audio.js":(J,Z,Q)=>{/*!****************************!*\
  !*** ./src/utils/audio.js ***!
  \****************************/Q.r(Z),Q.d(Z,{RawAudio:()=>v,hamming:()=>F,hanning:()=>z,mel_filter_bank:()=>C,read_audio:()=>L,spectrogram:()=>T,window_function:()=>S});var Y=Q("./src/utils/hub.js");/*! ./hub.js */var $=Q("./src/utils/maths.js");/*! ./maths.js */var H=Q("./src/utils/core.js");/*! ./core.js */var K=Q("./src/env.js");/*! ../env.js */var B=Q("./src/utils/tensor.js");/*! ./tensor.js */var q=Q("?7992");/*! node:fs */async function L(y,i){if(typeof AudioContext>"u")throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");let p=await(await(0,Y.getFile)(y)).arrayBuffer(),l=new AudioContext({sampleRate:i});if(typeof i>"u")console.warn(`No sampling rate provided, using default of ${l.sampleRate}Hz.`);let t=await l.decodeAudioData(p),Q1;if(t.numberOfChannels===2){let m=Math.sqrt(2),K1=t.getChannelData(0),g=t.getChannelData(1);Q1=new Float32Array(K1.length);for(let n=0;n<t.length;++n)Q1[n]=m*(K1[n]+g[n])/2}else Q1=t.getChannelData(0);return Q1}function O(y,i){if(y<1)return new Float64Array;if(y===1)return new Float64Array([1]);let p=1-i,l=2*Math.PI/(y-1),t=new Float64Array(y);for(let Q1=0;Q1<y;++Q1)t[Q1]=i-p*Math.cos(Q1*l);return t}function z(y){return O(y,0.5)}function F(y){return O(y,0.54)}let V={htk:(y)=>2595*Math.log10(1+y/700),kaldi:(y)=>1127*Math.log(1+y/700),slaney:(y,i=1000,p=15,l=27/Math.log(6.4))=>y>=i?p+Math.log(y/i)*l:3*y/200};function A(y,i="htk"){let p=V[i];if(!p)throw Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof y==="number"?p(y):y.map((l)=>p(l))}let M={htk:(y)=>700*(10**(y/2595)-1),kaldi:(y)=>700*(Math.exp(y/1127)-1),slaney:(y,i=1000,p=15,l=Math.log(6.4)/27)=>y>=p?i*Math.exp(l*(y-p)):200*y/3};function j(y,i="htk"){let p=M[i];if(!p)throw Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof y==="number"?p(y):y.map((l)=>p(l))}function D(y,i){let p=Float64Array.from({length:i.length-1},(m,K1)=>i[K1+1]-i[K1]),l=Array.from({length:y.length},()=>Array(i.length));for(let m=0;m<y.length;++m){let K1=l[m];for(let g=0;g<i.length;++g)K1[g]=i[g]-y[m]}let t=i.length-2,Q1=Array.from({length:t},()=>Array(y.length));for(let m=0;m<y.length;++m){let K1=l[m];for(let g=0;g<t;++g){let n=-K1[g]/p[g],Z1=K1[g+2]/p[g+1];Q1[g][m]=Math.max(0,Math.min(n,Z1))}}return Q1}function w(y,i,p){let l=(i-y)/(p-1);return Float64Array.from({length:p},(t,Q1)=>y+l*Q1)}function C(y,i,p,l,t,Q1=null,m="htk",K1=!1){if(Q1!==null&&Q1!=="slaney")throw Error('norm must be one of null or "slaney"');if(y<2)throw Error(`Require num_frequency_bins: ${y} >= 2`);if(p>l)throw Error(`Require min_frequency: ${p} <= max_frequency: ${l}`);let g=A(p,m),n=A(l,m),Z1=w(g,n,i+2),J1=j(Z1,m),z1;if(K1){let w1=t/((y-1)*2);z1=A(Float64Array.from({length:y},(m1,r1)=>r1*w1),m),J1=Z1}else z1=w(0,Math.floor(t/2),y);let V1=D(z1,J1);if(Q1!==null&&Q1==="slaney")for(let w1=0;w1<i;++w1){let m1=V1[w1],r1=2/(J1[w1+2]-J1[w1]);for(let h1=0;h1<y;++h1)m1[h1]*=r1}return V1}function I(y,i,p){let l=new y.constructor(y.length+i+p),t=y.length-1;for(let Q1=0;Q1<y.length;++Q1)l[i+Q1]=y[Q1];for(let Q1=1;Q1<=i;++Q1)l[i-Q1]=y[(0,H.calculateReflectOffset)(Q1,t)];for(let Q1=1;Q1<=p;++Q1)l[t+i+Q1]=y[(0,H.calculateReflectOffset)(t-Q1,t)];return l}function b(y,i,p,l,t){if(p<=0)throw Error("reference must be greater than zero");if(l<=0)throw Error("min_value must be greater than zero");p=Math.max(l,p);let Q1=Math.log10(p);for(let m=0;m<y.length;++m)y[m]=i*Math.log10(Math.max(l,y[m])-Q1);if(t!==null){if(t<=0)throw Error("db_range must be greater than zero");let m=(0,$.max)(y)[0]-t;for(let K1=0;K1<y.length;++K1)y[K1]=Math.max(y[K1],m)}return y}function E(y,i=1,p=0.00001,l=null){return b(y,20,i,p,l)}function k(y,i=1,p=0.0000000001,l=null){return b(y,10,i,p,l)}async function T(y,i,p,l,{fft_length:t=null,power:Q1=1,center:m=!0,pad_mode:K1="reflect",onesided:g=!0,preemphasis:n=null,preemphasis_htk_flavor:Z1=!0,mel_filters:J1=null,mel_floor:z1=0.0000000001,log_mel:V1=null,reference:w1=1,min_value:m1=0.0000000001,db_range:r1=null,remove_dc_offset:h1=null,min_num_frames:G1=null,max_num_frames:a=null,do_pad:M1=!0,transpose:D1=!1}={}){let g1=i.length;if(t===null)t=p;if(p>t)throw Error(`frame_length (${p}) may not be larger than fft_length (${t})`);if(g1!==p)throw Error(`Length of the window (${g1}) must equal frame_length (${p})`);if(l<=0)throw Error("hop_length must be greater than zero");if(Q1===null&&J1!==null)throw Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(!Z1)throw Error("`preemphasis_htk_flavor=false` is not currently supported.");if(m){if(K1!=="reflect")throw Error(`pad_mode="${K1}" not implemented yet.`);let H0=Math.floor((t-1)/2)+1;y=I(y,H0,H0)}let u1=Math.floor(1+Math.floor((y.length-p)/l));if(G1!==null&&u1<G1)u1=G1;let C1=g?Math.floor(t/2)+1:t,x1=u1,v1=u1;if(a!==null)if(a>u1){if(M1)v1=a}else v1=x1=a;let p1=new $.FFT(t),y1=new Float64Array(t),P1=new Float64Array(p1.outputBufferSize),T1=new Float32Array(C1*v1);for(let H0=0;H0<x1;++H0){let A0=H0*l,i0=Math.min(y.length-A0,p);if(i0!==p)y1.fill(0,0,p);for(let D0=0;D0<i0;++D0)y1[D0]=y[A0+D0];if(h1){let D0=0;for(let W2=0;W2<i0;++W2)D0+=y1[W2];let _0=D0/i0;for(let W2=0;W2<i0;++W2)y1[W2]-=_0}if(n!==null){for(let D0=i0-1;D0>=1;--D0)y1[D0]-=n*y1[D0-1];y1[0]*=1-n}for(let D0=0;D0<i.length;++D0)y1[D0]*=i[D0];p1.realTransform(P1,y1);for(let D0=0;D0<C1;++D0){let _0=D0<<1;T1[D0*v1+H0]=P1[_0]**2+P1[_0+1]**2}}if(Q1!==null&&Q1!==2){let H0=Q1/2;for(let A0=0;A0<T1.length;++A0)T1[A0]**=H0}let j0=J1.length,N0=await(0,B.matmul)(new B.Tensor("float32",J1.flat(),[j0,C1]),new B.Tensor("float32",T1,[C1,v1]));if(D1)N0=N0.transpose(1,0);let E0=N0.data;for(let H0=0;H0<E0.length;++H0)E0[H0]=Math.max(z1,E0[H0]);if(Q1!==null&&V1!==null){let H0=Math.min(E0.length,x1*j0);switch(V1){case"log":for(let A0=0;A0<H0;++A0)E0[A0]=Math.log(E0[A0]);break;case"log10":for(let A0=0;A0<H0;++A0)E0[A0]=Math.log10(E0[A0]);break;case"dB":if(Q1===1)E(E0,w1,m1,r1);else if(Q1===2)k(E0,w1,m1,r1);else throw Error(`Cannot use log_mel option '${V1}' with power ${Q1}`);break;default:throw Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${V1}'`)}}return N0}function S(y,i,{periodic:p=!0,frame_length:l=null,center:t=!0}={}){let Q1=p?y+1:y,m;switch(i){case"boxcar":m=new Float64Array(Q1).fill(1);break;case"hann":case"hann_window":m=z(Q1);break;case"hamming":m=F(Q1);break;case"povey":m=z(Q1).map((K1)=>Math.pow(K1,0.85));break;default:throw Error(`Unknown window type ${i}.`)}if(p)m=m.subarray(0,y);if(l===null)return m;if(y>l)throw Error(`Length of the window (${y}) may not be larger than frame_length (${l})`);return m}function d(y,i){let p=44,l=new ArrayBuffer(p+y.length*4),t=new DataView(l);o(t,0,"RIFF"),t.setUint32(4,36+y.length*4,!0),o(t,8,"WAVE"),o(t,12,"fmt "),t.setUint32(16,16,!0),t.setUint16(20,3,!0),t.setUint16(22,1,!0),t.setUint32(24,i,!0),t.setUint32(28,i*4,!0),t.setUint16(32,4,!0),t.setUint16(34,32,!0),o(t,36,"data"),t.setUint32(40,y.length*4,!0);for(let Q1=0;Q1<y.length;++Q1,p+=4)t.setFloat32(p,y[Q1],!0);return l}function o(y,i,p){for(let l=0;l<p.length;++l)y.setUint8(i+l,p.charCodeAt(l))}class v{constructor(y,i){this.audio=y,this.sampling_rate=i}toWav(){return d(this.audio,this.sampling_rate)}toBlob(){let y=this.toWav();return new Blob([y],{type:"audio/wav"})}async save(y){let i;if(K.apis.IS_BROWSER_ENV){if(K.apis.IS_WEBWORKER_ENV)throw Error("Unable to save a file from a Web Worker.");i=H.saveBlob}else if(K.apis.IS_FS_AVAILABLE)i=async(p,l)=>{let t=await l.arrayBuffer();q.writeFileSync(p,Buffer.from(t))};else throw Error("Unable to save because filesystem is disabled in this environment.");await i(y,this.toBlob())}}},"./src/utils/constants.js":(J,Z,Q)=>{/*!********************************!*\
  !*** ./src/utils/constants.js ***!
  \********************************/Q.r(Z),Q.d(Z,{CHAT_TEMPLATE_NAME:()=>q,CONFIG_NAME:()=>$,FEATURE_EXTRACTOR_NAME:()=>H,GENERATION_CONFIG_NAME:()=>L,GITHUB_ISSUE_URL:()=>Y,IMAGE_PROCESSOR_NAME:()=>K,PROCESSOR_NAME:()=>B});let Y="https://github.com/huggingface/transformers.js/issues/new/choose",$="config.json",H="preprocessor_config.json",K=H,B="processor_config.json",q="chat_template.jinja",L="generation_config.json"},"./src/utils/core.js":(J,Z,Q)=>{/*!***************************!*\
  !*** ./src/utils/core.js ***!
  \***************************/Q.r(Z),Q.d(Z,{calculateDimensions:()=>L,calculateReflectOffset:()=>V,count:()=>D,dispatchCallback:()=>Y,escapeRegExp:()=>H,isIntegralNumber:()=>B,isNullishDimension:()=>q,isTypedArray:()=>K,len:()=>j,mergeArrays:()=>z,pick:()=>M,pop:()=>O,product:()=>F,reverseDictionary:()=>$,saveBlob:()=>A});function Y(w,C){if(w)w(C)}function $(w){return Object.fromEntries(Object.entries(w).map(([C,I])=>[I,C]))}function H(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K(w){return w?.prototype?.__proto__?.constructor?.name==="TypedArray"}function B(w){return Number.isInteger(w)||typeof w==="bigint"}function q(w){return w===null||w===void 0||w===-1}function L(w){let C=[],I=w;while(Array.isArray(I))C.push(I.length),I=I[0];return C}function O(w,C,I=void 0){let b=w[C];if(b!==void 0)return delete w[C],b;if(I===void 0)throw Error(`Key ${C} does not exist in object.`);return I}function z(...w){return Array.prototype.concat.apply([],w)}function F(...w){return w.reduce((C,I)=>C.flatMap((b)=>I.map((E)=>[b,E])))}function V(w,C){return Math.abs((w+C)%(2*C)-C)}function A(w,C){let I=URL.createObjectURL(C),b=document.createElement("a");b.href=I,b.download=w,b.click(),b.remove(),URL.revokeObjectURL(I)}function M(w,C){return Object.assign({},...C.map((I)=>{if(w[I]!==void 0)return{[I]:w[I]}}))}function j(w){let C=0;for(let I of w)++C;return C}function D(w,C){let I=0;for(let b of w)if(b===C)++I;return I}},"./src/utils/data-structures.js":(J,Z,Q)=>{/*!**************************************!*\
  !*** ./src/utils/data-structures.js ***!
  \**************************************/Q.r(Z),Q.d(Z,{CharTrie:()=>$,DictionarySplitter:()=>q,LRUCache:()=>L,PriorityQueue:()=>Y,TokenLattice:()=>K});class Y{constructor(O=(F,V)=>F>V,z=1/0){this._heap=[],this._comparator=O,this._maxSize=z}get size(){return this._heap.length}isEmpty(){return this.size===0}peek(){return this._heap[0]}push(...O){return this.extend(O)}extend(O){for(let z of O)if(this.size<this._maxSize)this._heap.push(z),this._siftUp();else{let F=this._smallest();if(this._comparator(z,this._heap[F]))this._heap[F]=z,this._siftUpFrom(F)}return this.size}pop(){let O=this.peek(),z=this.size-1;if(z>0)this._swap(0,z);return this._heap.pop(),this._siftDown(),O}replace(O){let z=this.peek();return this._heap[0]=O,this._siftDown(),z}_parent(O){return(O+1>>>1)-1}_left(O){return(O<<1)+1}_right(O){return O+1<<1}_greater(O,z){return this._comparator(this._heap[O],this._heap[z])}_swap(O,z){let F=this._heap[O];this._heap[O]=this._heap[z],this._heap[z]=F}_siftUp(){this._siftUpFrom(this.size-1)}_siftUpFrom(O){while(O>0&&this._greater(O,this._parent(O)))this._swap(O,this._parent(O)),O=this._parent(O)}_siftDown(){let O=0;while(this._left(O)<this.size&&this._greater(this._left(O),O)||this._right(O)<this.size&&this._greater(this._right(O),O)){let z=this._right(O)<this.size&&this._greater(this._right(O),this._left(O))?this._right(O):this._left(O);this._swap(O,z),O=z}}_smallest(){return 2**Math.floor(Math.log2(this.size))-1}}class ${constructor(){this.root=H.default()}extend(O){for(let z of O)this.push(z)}push(O){let z=this.root;for(let F of O){let V=z.children.get(F);if(V===void 0)V=H.default(),z.children.set(F,V);z=V}z.isLeaf=!0}*commonPrefixSearch(O){let z=this.root;if(z===void 0)return;let F="";for(let V of O){if(F+=V,z=z.children.get(V),z===void 0)return;if(z.isLeaf)yield F}}}class H{constructor(O,z){this.isLeaf=O,this.children=z}static default(){return new H(!1,new Map)}}class K{constructor(O,z,F){this.chars=Array.from(O),this.len=this.chars.length,this.bosTokenId=z,this.eosTokenId=F,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);let V=new B(this.bosTokenId,0,0,0,0),A=new B(this.eosTokenId,1,this.len,0,0);this.nodes.push(V.clone()),this.nodes.push(A.clone()),this.beginNodes[this.len].push(A),this.endNodes[0].push(V)}insert(O,z,F,V){let A=this.nodes.length,M=new B(V,A,O,z,F);this.beginNodes[O].push(M),this.endNodes[O+z].push(M),this.nodes.push(M)}viterbi(){let O=this.len,z=0;while(z<=O){if(this.beginNodes[z].length==0)return[];for(let j of this.beginNodes[z]){j.prev=null;let D=0,w=null;for(let C of this.endNodes[z]){let I=C.backtraceScore+j.score;if(w===null||I>D)w=C.clone(),D=I}if(w!==null)j.prev=w,j.backtraceScore=D;else return[]}++z}let F=[],A=this.beginNodes[O][0].prev;if(A===null)return[];let M=A.clone();while(M.prev!==null)F.push(M.clone()),M=M.clone().prev.clone();return F.reverse(),F}piece(O){return this.chars.slice(O.pos,O.pos+O.length).join("")}tokens(){return this.viterbi().map((z)=>this.piece(z))}tokenIds(){return this.viterbi().map((z)=>z.tokenId)}}class B{constructor(O,z,F,V,A){this.tokenId=O,this.nodeId=z,this.pos=F,this.length=V,this.score=A,this.prev=null,this.backtraceScore=0}clone(){let O=new B(this.tokenId,this.nodeId,this.pos,this.length,this.score);return O.prev=this.prev,O.backtraceScore=this.backtraceScore,O}}class q{constructor(O){this.trie=this._buildTrie(O)}_buildTrie(O){let z=Object.create(null);for(let F of O){let V=z;for(let A=0;A<F.length;++A)V=V[F[A]]??=Object.create(null);V.end=F}return z}split(O){let z=[],F=O.length,V=0,A=0;while(A<F){let M=this.trie,j=null,D=A;while(D<F&&(M=M[O[D]])){if(M.end)j=M.end;++D}if(j){if(A>V)z.push(O.slice(V,A));z.push(j),A+=j.length,V=A}else++A}if(V<F)z.push(O.slice(V));return z}}class L{constructor(O){this.capacity=O,this.cache=new Map}get(O){if(!this.cache.has(O))return;let z=this.cache.get(O);return this.cache.delete(O),this.cache.set(O,z),z}put(O,z){if(this.cache.has(O))this.cache.delete(O);if(this.cache.set(O,z),this.cache.size>this.capacity)this.cache.delete(this.cache.keys().next().value)}clear(){this.cache.clear()}}},"./src/utils/devices.js":(J,Z,Q)=>{/*!******************************!*\
  !*** ./src/utils/devices.js ***!
  \******************************/Q.r(Z),Q.d(Z,{DEVICE_TYPES:()=>Y});let Y=Object.freeze({auto:"auto",gpu:"gpu",cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:"webnn","webnn-npu":"webnn-npu","webnn-gpu":"webnn-gpu","webnn-cpu":"webnn-cpu"})},"./src/utils/dtypes.js":(J,Z,Q)=>{/*!*****************************!*\
  !*** ./src/utils/dtypes.js ***!
  \*****************************/Q.r(Z),Q.d(Z,{DATA_TYPES:()=>K,DEFAULT_DEVICE_DTYPE_MAPPING:()=>B,DEFAULT_DTYPE_SUFFIX_MAPPING:()=>q,isWebGpuFp16Supported:()=>H});var Y=Q("./src/env.js");/*! ../env.js */var $=Q("./src/utils/devices.js");/*! ./devices.js */let H=function(){let L;return async function(){if(L===void 0)if(!Y.apis.IS_WEBGPU_AVAILABLE)L=!1;else try{L=(await navigator.gpu.requestAdapter()).features.has("shader-f16")}catch(O){L=!1}return L}}(),K=Object.freeze({auto:"auto",fp32:"fp32",fp16:"fp16",q8:"q8",int8:"int8",uint8:"uint8",q4:"q4",bnb4:"bnb4",q4f16:"q4f16"}),B=Object.freeze({[$.DEVICE_TYPES.wasm]:K.q8}),q=Object.freeze({[K.fp32]:"",[K.fp16]:"_fp16",[K.int8]:"_int8",[K.uint8]:"_uint8",[K.q8]:"_quantized",[K.q4]:"_q4",[K.q4f16]:"_q4f16",[K.bnb4]:"_bnb4"})},"./src/utils/generic.js":(J,Z,Q)=>{/*!******************************!*\
  !*** ./src/utils/generic.js ***!
  \******************************/Q.r(Z),Q.d(Z,{Callable:()=>Y});let Y=class{constructor(){let $=function(...H){return $._call(...H)};return Object.setPrototypeOf($,new.target.prototype)}_call(...$){throw Error("Must implement _call method in subclass")}}},"./src/utils/hub.js":(J,Z,Q)=>{/*!**************************!*\
  !*** ./src/utils/hub.js ***!
  \**************************/Q.r(Z),Q.d(Z,{MAX_EXTERNAL_DATA_CHUNKS:()=>B,getFile:()=>V,getModelFile:()=>w,getModelJSON:()=>I,getModelText:()=>C});var Y=Q("?7992");/*! node:fs */var $=Q("?5af5");/*! node:path */var H=Q("./src/env.js");/*! ../env.js */var K=Q("./src/utils/core.js");/*! ./core.js */let B=100,q={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};class L{constructor(k){if(this.filePath=k,this.headers=new Headers,this.exists=Y.existsSync(k),this.exists){this.status=200,this.statusText="OK";let T=Y.statSync(k);this.headers.set("content-length",T.size.toString()),this.updateContentType();let S=Y.createReadStream(k);this.body=new ReadableStream({start(d){S.on("data",(o)=>d.enqueue(o)),S.on("end",()=>d.close()),S.on("error",(o)=>d.error(o))},cancel(){S.destroy()}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){let k=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",q[k]??"application/octet-stream")}clone(){let k=new L(this.filePath);return k.exists=this.exists,k.status=this.status,k.statusText=this.statusText,k.headers=new Headers(this.headers),k}async arrayBuffer(){return(await Y.promises.readFile(this.filePath)).buffer}async blob(){let k=await Y.promises.readFile(this.filePath);return new Blob([k],{type:this.headers.get("content-type")})}async text(){return await Y.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function O(k,T=null,S=null){let d;try{d=new URL(k)}catch(o){return!1}if(T&&!T.includes(d.protocol))return!1;if(S&&!S.includes(d.hostname))return!1;return!0}let z=/^(\b[\w\-.]+\b\/)?\b[\w\-.]{1,96}\b$/;function F(k){if(!z.test(k))return!1;if(k.includes("..")||k.includes("--"))return!1;if(k.endsWith(".git")||k.endsWith(".ipynb"))return!1;return!0}async function V(k){if(H.env.useFS&&!O(k,["http:","https:","blob:"]))return new L(k instanceof URL?k.protocol==="file:"?k.pathname:k.toString():k);else if(typeof process<"u"&&process?.release?.name==="node"){let T=!!process.env?.TESTING_REMOTELY,S=H.env.version,d=new Headers;if(d.set("User-Agent",`transformers.js/${S}; is_ci/${T};`),O(k,["http:","https:"],["huggingface.co","hf.co"])){let v=process.env?.HF_TOKEN??process.env?.HF_ACCESS_TOKEN;if(v)d.set("Authorization",`Bearer ${v}`)}return fetch(k,{headers:d})}else return fetch(k)}let A={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};function M(k,T,S){if(!S)return null;let d=A[k]??`Error (${k}) occurred while trying to load file`;throw Error(`${d}: "${T}".`)}class j{constructor(k){this.path=k}async match(k){let T=$.join(this.path,k),S=new L(T);if(S.exists)return S;else return}async put(k,T,S=void 0){let d=$.join(this.path,k);try{let o=T.headers.get("Content-Length"),v=parseInt(o??"0"),y=0;await Y.promises.mkdir($.dirname(d),{recursive:!0});let i=Y.createWriteStream(d),p=T.body.getReader();while(!0){let{done:l,value:t}=await p.read();if(l)break;await new Promise((m,K1)=>{i.write(t,(g)=>{if(g){K1(g);return}m()})}),y+=t.length;let Q1=v?y/v*100:0;S?.({progress:Q1,loaded:y,total:v})}i.close()}catch(o){try{await Y.promises.unlink(d)}catch{}throw o}}}async function D(k,...T){for(let S of T)try{let d=await k.match(S);if(d)return d}catch(d){continue}return}async function w(k,T,S=!0,d={},o=!1){if(!H.env.allowLocalModels){if(d.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");else if(!H.env.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}(0,K.dispatchCallback)(d.progress_callback,{status:"initiate",name:k,file:T});let v;if(!v&&H.env.useCustomCache){if(!H.env.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!H.env.customCache.match||!H.env.customCache.put)throw Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");v=H.env.customCache}if(!v&&H.env.useBrowserCache){if(typeof caches>"u")throw Error("Browser cache is not available in this environment.");try{v=await caches.open("transformers-cache")}catch(z1){console.warn("An error occurred while opening the browser cache:",z1)}}if(!v&&H.env.useFSCache){if(!H.apis.IS_FS_AVAILABLE)throw Error("File System Cache is not available in this environment.");v=new j(d.cache_dir??H.env.cacheDir)}let y=d.revision??"main",i=E(k,T),p=F(k),l=p?E(H.env.localModelPath,i):i,t=E(H.env.remoteHost,H.env.remotePathTemplate.replaceAll("{model}",k).replaceAll("{revision}",encodeURIComponent(y)),T),Q1,m=v instanceof j?y==="main"?i:E(k,y,T):t,K1=!1,g;if(v)g=await D(v,l,m);let n=g!==void 0;if(g===void 0){if(H.env.allowLocalModels){if(!O(i,["http:","https:"]))try{g=await V(l),Q1=l}catch(V1){console.warn(`Unable to load from local path "${l}": "${V1}"`)}else if(d.local_files_only)throw Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${i}.`);else if(!H.env.allowRemoteModels)throw Error(`\`env.allowRemoteModels=false\`, but attempted to load a remote file from: ${i}.`)}if(g===void 0||g.status===404){if(d.local_files_only||!H.env.allowRemoteModels)if(S)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${l}".`);else return null;if(!p)throw Error(`Local file missing at "${l}" and download aborted due to invalid model ID "${k}".`);if(g=await V(t),g.status!==200)return M(g.status,t,S);Q1=m}K1=v&&typeof Response<"u"&&g instanceof Response&&g.status===200}(0,K.dispatchCallback)(d.progress_callback,{status:"download",name:k,file:T});let Z1;if(!(H.apis.IS_NODE_ENV&&o)){let z1;if(!d.progress_callback)z1=new Uint8Array(await g.arrayBuffer());else if(n&&typeof navigator<"u"&&/firefox/i.test(navigator.userAgent))z1=new Uint8Array(await g.arrayBuffer()),(0,K.dispatchCallback)(d.progress_callback,{status:"progress",name:k,file:T,progress:100,loaded:z1.length,total:z1.length});else z1=await b(g,(V1)=>{(0,K.dispatchCallback)(d.progress_callback,{status:"progress",name:k,file:T,...V1})});Z1=z1}if(K1&&Q1&&await v.match(Q1)===void 0)if(!Z1){let z1=d.progress_callback?(V1)=>(0,K.dispatchCallback)(d.progress_callback,{status:"progress",name:k,file:T,...V1}):void 0;await v.put(Q1,g,z1)}else await v.put(Q1,new Response(Z1,{headers:g.headers})).catch((z1)=>{console.warn(`Unable to add response to browser cache: ${z1}.`)});if((0,K.dispatchCallback)(d.progress_callback,{status:"done",name:k,file:T}),Z1){if(!H.apis.IS_NODE_ENV&&o)throw Error("Cannot return path in a browser environment.");return Z1}if(g instanceof L)return g.filePath;let J1=await v?.match(Q1);if(J1 instanceof L)return J1.filePath;else if(J1 instanceof Response)return new Uint8Array(await J1.arrayBuffer());else if(typeof J1==="string")return J1;throw Error("Unable to get model file path or buffer.")}async function C(k,T,S=!0,d={}){let o=await w(k,T,S,d,!1);if(o===null)return null;return new TextDecoder("utf-8").decode(o)}async function I(k,T,S=!0,d={}){let o=await C(k,T,S,d);if(o===null)return{};return JSON.parse(o)}async function b(k,T){let S=k.headers.get("Content-Length");if(S===null)console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let d=parseInt(S??"0"),o=new Uint8Array(d),v=0,y=k.body.getReader();async function i(){let{done:p,value:l}=await y.read();if(p)return;let t=v+l.length;if(t>d){d=t;let m=new Uint8Array(d);m.set(o),o=m}o.set(l,v),v=t;let Q1=v/d*100;return T({progress:Q1,loaded:v,total:d}),i()}return await i(),o}function E(...k){return k=k.map((T,S)=>{if(S)T=T.replace(new RegExp("^/"),"");if(S!==k.length-1)T=T.replace(new RegExp("/$"),"");return T}),k.join("/")}},"./src/utils/image.js":(J,Z,Q)=>{/*!****************************!*\
  !*** ./src/utils/image.js ***!
  \****************************/Q.r(Z),Q.d(Z,{RawImage:()=>A,load_image:()=>M});var Y=Q("./src/utils/core.js");/*! ./core.js */var $=Q("./src/utils/hub.js");/*! ./hub.js */var H=Q("./src/env.js");/*! ../env.js */var K=Q("./src/utils/tensor.js");/*! ./tensor.js */var B=Q("?2b25");/*! sharp */let q,L,O,z=H.apis.IS_BROWSER_ENV||H.apis.IS_WEBWORKER_ENV;if(z)q=(j,D)=>{if(!self.OffscreenCanvas)throw Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(j,D)},O=self.createImageBitmap,L=self.ImageData;else if(B)O=async(j)=>{let w=(await j.metadata()).channels,{data:C,info:I}=await j.rotate().raw().toBuffer({resolveWithObject:!0}),b=new A(new Uint8ClampedArray(C),I.width,I.height,I.channels);if(w!==void 0&&w!==I.channels)b.convert(w);return b};else throw Error("Unable to load image processing library.");let F={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},V=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class A{constructor(j,D,w,C){this.data=j,this.width=D,this.height=w,this.channels=C}get size(){return[this.width,this.height]}static async read(j){if(j instanceof A)return j;else if(typeof j==="string"||j instanceof URL)return await this.fromURL(j);else if(j instanceof Blob)return await this.fromBlob(j);else if(typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&j instanceof OffscreenCanvas)return this.fromCanvas(j);else throw Error(`Unsupported input type: ${typeof j}`)}static fromCanvas(j){if(!z)throw Error("fromCanvas() is only supported in browser environments.");let w=j.getContext("2d").getImageData(0,0,j.width,j.height).data;return new A(w,j.width,j.height,4)}static async fromURL(j){let D=await(0,$.getFile)(j);if(D.status!==200)throw Error(`Unable to read image from "${j}" (${D.status} ${D.statusText})`);let w=await D.blob();return this.fromBlob(w)}static async fromBlob(j){if(z){let D=await O(j),w=q(D.width,D.height).getContext("2d");return w.drawImage(D,0,0),new this(w.getImageData(0,0,D.width,D.height).data,D.width,D.height,4)}else{let D=B(await j.arrayBuffer());return await O(D)}}static fromTensor(j,D="CHW"){if(j.dims.length!==3)throw Error(`Tensor should have 3 dimensions, but has ${j.dims.length} dimensions.`);if(D==="CHW")j=j.transpose(1,2,0);else if(D==="HWC");else throw Error(`Unsupported channel format: ${D}`);if(!(j.data instanceof Uint8ClampedArray||j.data instanceof Uint8Array))throw Error(`Unsupported tensor type: ${j.type}`);switch(j.dims[2]){case 1:case 2:case 3:case 4:return new A(j.data,j.dims[1],j.dims[0],j.dims[2]);default:throw Error(`Unsupported number of channels: ${j.dims[2]}`)}}grayscale(){if(this.channels===1)return this;let j=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let D=0,w=0;D<this.data.length;D+=this.channels){let C=this.data[D],I=this.data[D+1],b=this.data[D+2];j[w++]=Math.round(0.2989*C+0.587*I+0.114*b)}break;default:throw Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(j,this.width,this.height,1)}rgb(){if(this.channels===3)return this;let j=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let D=0,w=0;D<this.data.length;++D)j[w++]=this.data[D],j[w++]=this.data[D],j[w++]=this.data[D];break;case 4:for(let D=0,w=0;D<this.data.length;D+=4)j[w++]=this.data[D],j[w++]=this.data[D+1],j[w++]=this.data[D+2];break;default:throw Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(j,this.width,this.height,3)}rgba(){if(this.channels===4)return this;let j=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let D=0,w=0;D<this.data.length;++D)j[w++]=this.data[D],j[w++]=this.data[D],j[w++]=this.data[D],j[w++]=255;break;case 3:for(let D=0,w=0;D<this.data.length;D+=3)j[w++]=this.data[D],j[w++]=this.data[D+1],j[w++]=this.data[D+2],j[w++]=255;break;default:throw Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(j,this.width,this.height,4)}putAlpha(j){if(j.width!==this.width||j.height!==this.height)throw Error(`Expected mask size to be ${this.width}x${this.height}, but got ${j.width}x${j.height}`);if(j.channels!==1)throw Error(`Expected mask to have 1 channel, but got ${j.channels}`);let D=this.data,w=j.data,C=this.width*this.height;if(this.channels===3){let I=new Uint8ClampedArray(C*4);for(let b=0,E=0,k=0;b<C;++b)I[k++]=D[E++],I[k++]=D[E++],I[k++]=D[E++],I[k++]=w[b];return this._update(I,this.width,this.height,4)}else if(this.channels===4){for(let I=0;I<C;++I)D[4*I+3]=w[I];return this}throw Error(`Expected image to have 3 or 4 channels, but got ${this.channels}`)}async resize(j,D,{resample:w=2}={}){if(this.width===j&&this.height===D)return this;let C=F[w]??w,I=(0,Y.isNullishDimension)(j),b=(0,Y.isNullishDimension)(D);if(I&&b)return this;else if(I)j=D/this.height*this.width;else if(b)D=j/this.width*this.height;if(z){let E=this.channels,k=this.toCanvas(),T=q(j,D).getContext("2d");return T.drawImage(k,0,0,j,D),new A(T.getImageData(0,0,j,D).data,j,D,4).convert(E)}else{let E=this.toSharp();switch(C){case"box":case"hamming":if(C==="box"||C==="hamming")console.warn(`Resampling method ${C} is not yet supported. Using bilinear instead.`),C="bilinear";case"nearest":case"bilinear":case"bicubic":E=E.affine([j/this.width,0,0,D/this.height],{interpolator:C});break;case"lanczos":E=E.resize({width:j,height:D,fit:"fill",kernel:"lanczos3"});break;default:throw Error(`Resampling method ${C} is not supported.`)}return await O(E)}}async pad([j,D,w,C]){if(j=Math.max(j,0),D=Math.max(D,0),w=Math.max(w,0),C=Math.max(C,0),j===0&&D===0&&w===0&&C===0)return this;if(z){let I=this.channels,b=this.toCanvas(),E=this.width+j+D,k=this.height+w+C,T=q(E,k).getContext("2d");return T.drawImage(b,0,0,this.width,this.height,j,w,this.width,this.height),new A(T.getImageData(0,0,E,k).data,E,k,4).convert(I)}else{let I=this.toSharp().extend({left:j,right:D,top:w,bottom:C});return await O(I)}}async crop([j,D,w,C]){if(j=Math.max(j,0),D=Math.max(D,0),w=Math.min(w,this.width-1),C=Math.min(C,this.height-1),j===0&&D===0&&w===this.width-1&&C===this.height-1)return this;let I=w-j+1,b=C-D+1;if(z){let E=this.channels,k=this.toCanvas(),T=q(I,b).getContext("2d");return T.drawImage(k,j,D,I,b,0,0,I,b),new A(T.getImageData(0,0,I,b).data,I,b,4).convert(E)}else{let E=this.toSharp().extract({left:j,top:D,width:I,height:b});return await O(E)}}async center_crop(j,D){if(this.width===j&&this.height===D)return this;let w=(this.width-j)/2,C=(this.height-D)/2;if(z){let I=this.channels,b=this.toCanvas(),E=q(j,D).getContext("2d"),k=0,T=0,S=0,d=0;if(w>=0)k=w;else S=-w;if(C>=0)T=C;else d=-C;return E.drawImage(b,k,T,j,D,S,d,j,D),new A(E.getImageData(0,0,j,D).data,j,D,4).convert(I)}else{let I=this.toSharp();if(w>=0&&C>=0)I=I.extract({left:Math.floor(w),top:Math.floor(C),width:j,height:D});else if(w<=0&&C<=0){let b=Math.floor(-C),E=Math.floor(-w);I=I.extend({top:b,left:E,right:j-this.width-E,bottom:D-this.height-b})}else{let b=[0,0],E=0;if(C<0)b[0]=Math.floor(-C),b[1]=D-this.height-b[0];else E=Math.floor(C);let k=[0,0],T=0;if(w<0)k[0]=Math.floor(-w),k[1]=j-this.width-k[0];else T=Math.floor(w);I=I.extend({top:b[0],bottom:b[1],left:k[0],right:k[1]}).extract({left:T,top:E,width:j,height:D})}return await O(I)}}async toBlob(j="image/png",D=1){if(!z)throw Error("toBlob() is only supported in browser environments.");return await this.toCanvas().convertToBlob({type:j,quality:D})}toTensor(j="CHW"){let D=new K.Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if(j==="HWC");else if(j==="CHW")D=D.permute(2,0,1);else throw Error(`Unsupported channel format: ${j}`);return D}toCanvas(){if(!z)throw Error("toCanvas() is only supported in browser environments.");let j=this.clone().rgba(),D=q(j.width,j.height),w=new L(j.data,j.width,j.height);return D.getContext("2d").putImageData(w,0,0),D}split(){let{data:j,width:D,height:w,channels:C}=this,I=j.constructor,b=j.length/C,E=Array.from({length:C},()=>new I(b));for(let k=0;k<b;++k){let T=C*k;for(let S=0;S<C;++S)E[S][k]=j[T+S]}return E.map((k)=>new A(k,D,w,1))}_update(j,D,w,C=null){if(this.data=j,this.width=D,this.height=w,C!==null)this.channels=C;return this}clone(){return new A(this.data.slice(),this.width,this.height,this.channels)}convert(j){if(this.channels===j)return this;switch(j){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}async save(j){if(z){if(H.apis.IS_WEBWORKER_ENV)throw Error("Unable to save an image from a Web Worker.");let D=j.split(".").pop().toLowerCase(),w=V.get(D)??"image/png",C=await this.toBlob(w);(0,Y.saveBlob)(j,C)}else if(!H.apis.IS_FS_AVAILABLE)throw Error("Unable to save the image because filesystem is disabled in this environment.");else return await this.toSharp().toFile(j)}toSharp(){if(z)throw Error("toSharp() is only supported in server-side environments.");return B(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}let M=A.read.bind(A)},"./src/utils/maths.js":(J,Z,Q)=>{/*!****************************!*\
  !*** ./src/utils/maths.js ***!
  \****************************/Q.r(Z),Q.d(Z,{FFT:()=>M,bankers_round:()=>w,cos_sim:()=>q,dot:()=>B,dynamic_time_warping:()=>C,interpolate_data:()=>Y,log_softmax:()=>K,magnitude:()=>L,max:()=>z,medianFilter:()=>j,min:()=>O,permute_data:()=>$,round:()=>D,softmax:()=>H});function Y(I,[b,E,k],[T,S],d="bilinear",o=!1){let v=S/k,y=T/E,i=new I.constructor(T*S*b),p=E*k,l=T*S;for(let t=0;t<T;++t)for(let Q1=0;Q1<S;++Q1){let m=t*S+Q1,K1=(Q1+0.5)/v-0.5,g=(t+0.5)/y-0.5,n=Math.floor(K1),Z1=Math.floor(g),J1=Math.min(n+1,k-1),z1=Math.min(Z1+1,E-1);n=Math.max(n,0),Z1=Math.max(Z1,0);let V1=K1-n,w1=g-Z1,m1=(1-V1)*(1-w1),r1=V1*(1-w1),h1=(1-V1)*w1,G1=V1*w1,a=Z1*k,M1=z1*k,D1=a+n,g1=a+J1,u1=M1+n,C1=M1+J1;for(let x1=0;x1<b;++x1){let v1=x1*p;i[x1*l+m]=m1*I[v1+D1]+r1*I[v1+g1]+h1*I[v1+u1]+G1*I[v1+C1]}}return i}function $(I,b,E){let k=Array(E.length),T=Array(E.length);for(let o=E.length-1,v=1;o>=0;--o)T[o]=v,k[o]=b[E[o]],v*=k[o];let S=E.map((o,v)=>T[E.indexOf(v)]),d=new I.constructor(I.length);for(let o=0;o<I.length;++o){let v=0;for(let y=b.length-1,i=o;y>=0;--y)v+=i%b[y]*S[y],i=Math.floor(i/b[y]);d[v]=I[o]}return[d,k]}function H(I){let b=z(I)[0],E=I.map((S)=>Math.exp(S-b)),k=E.reduce((S,d)=>S+d,0);return E.map((S)=>S/k)}function K(I){let b=z(I)[0],E=0;for(let S=0;S<I.length;++S)E+=Math.exp(I[S]-b);let k=Math.log(E);return I.map((S)=>S-b-k)}function B(I,b){let E=0;for(let k=0;k<I.length;++k)E+=I[k]*b[k];return E}function q(I,b){let E=B(I,b),k=L(I),T=L(b);return E/(k*T)}function L(I){return Math.sqrt(I.reduce((b,E)=>b+E*E,0))}function O(I){if(I.length===0)throw Error("Array must not be empty");let b=I[0],E=0;for(let k=1;k<I.length;++k)if(I[k]<b)b=I[k],E=k;return[b,E]}function z(I){if(I.length===0)throw Error("Array must not be empty");let b=I[0],E=0;for(let k=1;k<I.length;++k)if(I[k]>b)b=I[k],E=k;return[b,E]}function F(I){return I>0&&(I&I-1)===0}class V{constructor(I){if(this.size=I|0,this.size<=1||!F(this.size))throw Error("FFT size must be a power of two larger than 1");this._csize=I<<1,this.table=new Float64Array(this.size*2);for(let E=0;E<this.table.length;E+=2){let k=Math.PI*E/this.size;this.table[E]=Math.cos(k),this.table[E+1]=-Math.sin(k)}let b=0;for(let E=1;this.size>E;E<<=1)++b;this._width=b%2===0?b-1:b,this._bitrev=new Int32Array(1<<this._width);for(let E=0;E<this._bitrev.length;++E){this._bitrev[E]=0;for(let k=0;k<this._width;k+=2){let T=this._width-k-2;this._bitrev[E]|=(E>>>k&3)<<T}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(I,b){let E=b||Array(I.length>>>1);for(let k=0;k<I.length;k+=2)E[k>>>1]=I[k];return E}toComplexArray(I,b){let E=b||this.createComplexArray();for(let k=0;k<E.length;k+=2)E[k]=I[k>>>1],E[k+1]=0;return E}transform(I,b){if(I===b)throw Error("Input and output buffers must be different");this._transform4(I,b,1)}realTransform(I,b){if(I===b)throw Error("Input and output buffers must be different");this._realTransform4(I,b,1)}inverseTransform(I,b){if(I===b)throw Error("Input and output buffers must be different");this._transform4(I,b,-1);for(let E=0;E<I.length;++E)I[E]/=this.size}_transform4(I,b,E){let k=this._csize,S=1<<this._width,d=k/S<<1,o,v,y=this._bitrev;if(d===4)for(o=0,v=0;o<k;o+=d,++v){let p=y[v];this._singleTransform2(b,I,o,p,S)}else for(o=0,v=0;o<k;o+=d,++v){let p=y[v];this._singleTransform4(b,I,o,p,S,E)}let i=this.table;for(S>>=2;S>=2;S>>=2){d=k/S<<1;let p=d>>>2;for(o=0;o<k;o+=d){let l=o+p-1;for(let t=o,Q1=0;t<l;t+=2,Q1+=S){let m=t,K1=m+p,g=K1+p,n=g+p,Z1=I[m],J1=I[m+1],z1=I[K1],V1=I[K1+1],w1=I[g],m1=I[g+1],r1=I[n],h1=I[n+1],G1=i[Q1],a=E*i[Q1+1],M1=z1*G1-V1*a,D1=z1*a+V1*G1,g1=i[2*Q1],u1=E*i[2*Q1+1],C1=w1*g1-m1*u1,x1=w1*u1+m1*g1,v1=i[3*Q1],p1=E*i[3*Q1+1],y1=r1*v1-h1*p1,P1=r1*p1+h1*v1,T1=Z1+C1,j0=J1+x1,N0=Z1-C1,E0=J1-x1,H0=M1+y1,A0=D1+P1,i0=E*(M1-y1),D0=E*(D1-P1);I[m]=T1+H0,I[m+1]=j0+A0,I[K1]=N0+D0,I[K1+1]=E0-i0,I[g]=T1-H0,I[g+1]=j0-A0,I[n]=N0-D0,I[n+1]=E0+i0}}}}_singleTransform2(I,b,E,k,T){let S=I[k],d=I[k+1],o=I[k+T],v=I[k+T+1];b[E]=S+o,b[E+1]=d+v,b[E+2]=S-o,b[E+3]=d-v}_singleTransform4(I,b,E,k,T,S){let d=T*2,o=T*3,v=I[k],y=I[k+1],i=I[k+T],p=I[k+T+1],l=I[k+d],t=I[k+d+1],Q1=I[k+o],m=I[k+o+1],K1=v+l,g=y+t,n=v-l,Z1=y-t,J1=i+Q1,z1=p+m,V1=S*(i-Q1),w1=S*(p-m);b[E]=K1+J1,b[E+1]=g+z1,b[E+2]=n+w1,b[E+3]=Z1-V1,b[E+4]=K1-J1,b[E+5]=g-z1,b[E+6]=n-w1,b[E+7]=Z1+V1}_realTransform4(I,b,E){let k=this._csize,S=1<<this._width,d=k/S<<1,o,v,y=this._bitrev;if(d===4)for(o=0,v=0;o<k;o+=d,++v){let l=y[v];this._singleRealTransform2(b,I,o,l>>>1,S>>>1)}else for(o=0,v=0;o<k;o+=d,++v){let l=y[v];this._singleRealTransform4(b,I,o,l>>>1,S>>>1,E)}let i=this.table;for(S>>=2;S>=2;S>>=2){d=k/S<<1;let l=d>>>1,t=l>>>1,Q1=t>>>1;for(o=0;o<k;o+=d)for(let m=0,K1=0;m<=Q1;m+=2,K1+=S){let g=o+m,n=g+t,Z1=n+t,J1=Z1+t,z1=I[g],V1=I[g+1],w1=I[n],m1=I[n+1],r1=I[Z1],h1=I[Z1+1],G1=I[J1],a=I[J1+1],M1=z1,D1=V1,g1=i[K1],u1=E*i[K1+1],C1=w1*g1-m1*u1,x1=w1*u1+m1*g1,v1=i[2*K1],p1=E*i[2*K1+1],y1=r1*v1-h1*p1,P1=r1*p1+h1*v1,T1=i[3*K1],j0=E*i[3*K1+1],N0=G1*T1-a*j0,E0=G1*j0+a*T1,H0=M1+y1,A0=D1+P1,i0=M1-y1,D0=D1-P1,_0=C1+N0,W2=x1+E0,Z2=E*(C1-N0),t2=E*(x1-E0);if(I[g]=H0+_0,I[g+1]=A0+W2,I[n]=i0+t2,I[n+1]=D0-Z2,m===0){I[Z1]=H0-_0,I[Z1+1]=A0-W2;continue}if(m===Q1)continue;let Y1=o+t-m,N1=o+l-m;I[Y1]=i0-E*t2,I[Y1+1]=-D0-E*Z2,I[N1]=H0-E*_0,I[N1+1]=-A0+E*W2}}let p=k>>>1;for(let l=2;l<p;l+=2)I[k-l]=I[l],I[k-l+1]=-I[l+1]}_singleRealTransform2(I,b,E,k,T){let S=I[k],d=I[k+T];b[E]=S+d,b[E+1]=0,b[E+2]=S-d,b[E+3]=0}_singleRealTransform4(I,b,E,k,T,S){let d=T*2,o=T*3,v=I[k],y=I[k+T],i=I[k+d],p=I[k+o],l=v+i,t=v-i,Q1=y+p,m=S*(y-p);b[E]=l+Q1,b[E+1]=0,b[E+2]=t,b[E+3]=-m,b[E+4]=l-Q1,b[E+5]=0,b[E+6]=t,b[E+7]=m}}class A{constructor(I){let b=2*(I-1),E=2*(2*I-1),k=2**Math.ceil(Math.log2(E));this.bufferSize=k,this._a=b;let T=new Float64Array(E),S=new Float64Array(k);this._chirpBuffer=new Float64Array(k),this._buffer1=new Float64Array(k),this._buffer2=new Float64Array(k),this._outBuffer1=new Float64Array(k),this._outBuffer2=new Float64Array(k);let d=-2*Math.PI/I,o=Math.cos(d),v=Math.sin(d);for(let y=0;y<E>>1;++y){let i=(y+1-I)**2/2,p=Math.sqrt(o**2+v**2)**i,l=i*Math.atan2(v,o),t=2*y;T[t]=p*Math.cos(l),T[t+1]=p*Math.sin(l),S[t]=T[t],S[t+1]=-T[t+1]}this._slicedChirpBuffer=T.subarray(b,E),this._f=new V(k>>1),this._f.transform(this._chirpBuffer,S)}_transform(I,b,E){let k=this._buffer1,T=this._buffer2,S=this._outBuffer1,d=this._outBuffer2,o=this._chirpBuffer,v=this._slicedChirpBuffer,y=this._a;if(E)for(let i=0;i<v.length;i+=2){let p=i+1,l=i>>1,t=b[l];k[i]=t*v[i],k[p]=t*v[p]}else for(let i=0;i<v.length;i+=2){let p=i+1;k[i]=b[i]*v[i]-b[p]*v[p],k[p]=b[i]*v[p]+b[p]*v[i]}this._f.transform(S,k);for(let i=0;i<o.length;i+=2){let p=i+1;T[i]=S[i]*o[i]-S[p]*o[p],T[p]=S[i]*o[p]+S[p]*o[i]}this._f.inverseTransform(d,T);for(let i=0;i<d.length;i+=2){let p=d[i+y],l=d[i+y+1],t=v[i],Q1=v[i+1];I[i]=p*t-l*Q1,I[i+1]=p*Q1+l*t}}transform(I,b){this._transform(I,b,!1)}realTransform(I,b){this._transform(I,b,!0)}}class M{constructor(I){if(this.fft_length=I,this.isPowerOfTwo=F(I),this.isPowerOfTwo)this.fft=new V(I),this.outputBufferSize=2*I;else this.fft=new A(I),this.outputBufferSize=this.fft.bufferSize}realTransform(I,b){this.fft.realTransform(I,b)}transform(I,b){this.fft.transform(I,b)}}function j(I,b){if(b%2===0||b<=0)throw Error("Window size must be a positive odd number");let E=new I.constructor(I.length),k=new I.constructor(b),T=Math.floor(b/2);for(let S=0;S<I.length;++S){let d=0;for(let o=-T;o<=T;++o){let v=S+o;if(v<0)v=Math.abs(v);else if(v>=I.length)v=2*(I.length-1)-v;k[d++]=I[v]}k.sort(),E[S]=k[T]}return E}function D(I,b){let E=Math.pow(10,b);return Math.round(I*E)/E}function w(I){let b=Math.round(I);return Math.abs(I)%1===0.5?b%2===0?b:b-1:b}function C(I){let b=I.length,E=I[0].length,k=[b+1,E+1],T=Array.from({length:k[0]},()=>Array(k[1]).fill(1/0));T[0][0]=0;let S=Array.from({length:k[0]},()=>Array(k[1]).fill(-1));for(let i=1;i<k[1];++i)for(let p=1;p<k[0];++p){let l=T[p-1][i-1],t=T[p-1][i],Q1=T[p][i-1],m,K1;if(l<t&&l<Q1)m=l,K1=0;else if(t<l&&t<Q1)m=t,K1=1;else m=Q1,K1=2;T[p][i]=I[p-1][i-1]+m,S[p][i]=K1}for(let i=0;i<k[1];++i)S[0][i]=2;for(let i=0;i<k[0];++i)S[i][0]=1;let d=b,o=E,v=[],y=[];while(d>0||o>0)switch(v.push(d-1),y.push(o-1),S[d][o]){case 0:--d,--o;break;case 1:--d;break;case 2:--o;break;default:throw Error(`Internal error in dynamic time warping. Unexpected trace[${d}, ${o}]. Please file a bug report.`)}return v.reverse(),y.reverse(),[v,y]}},"./src/utils/tensor.js":(J,Z,Q)=>{/*!*****************************!*\
  !*** ./src/utils/tensor.js ***!
  \*****************************/Q.r(Z),Q.d(Z,{DataTypeMap:()=>K,Tensor:()=>B,cat:()=>E,full:()=>y,full_like:()=>i,interpolate:()=>O,interpolate_4d:()=>z,layer_norm:()=>w,matmul:()=>F,mean:()=>d,mean_pooling:()=>D,ones:()=>p,ones_like:()=>l,permute:()=>L,quantize_embeddings:()=>K1,rand:()=>m,rfft:()=>V,slice:()=>j,stack:()=>k,std_mean:()=>S,topk:()=>A,zeros:()=>t,zeros_like:()=>Q1});var Y=Q("./src/utils/maths.js");/*! ./maths.js */var $=Q("./src/backends/onnx.js");/*! ../backends/onnx.js */var H=Q("./src/ops/registry.js");/*! ../ops/registry.js */let K=Object.freeze({float32:Float32Array,float16:typeof Float16Array<"u"?Float16Array:Uint16Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array,uint4:Uint8Array,int4:Int8Array});class B{get dims(){return this.ort_tensor.dims}set dims(g){this.ort_tensor.dims=g}get type(){return this.ort_tensor.type}get data(){return this.ort_tensor.data}get size(){return this.ort_tensor.size}get location(){return this.ort_tensor.location}ort_tensor;constructor(...g){if((0,$.isONNXTensor)(g[0]))this.ort_tensor=g[0];else this.ort_tensor=new $.Tensor(g[0],g[1],g[2]);return new Proxy(this,{get:(n,Z1)=>{if(typeof Z1==="string"){let J1=Number(Z1);if(Number.isInteger(J1))return n._getitem(J1)}return n[Z1]},set:(n,Z1,J1)=>{return n[Z1]=J1}})}dispose(){this.ort_tensor.dispose()}*[Symbol.iterator](){let[g,...n]=this.dims;if(n.length>0){let Z1=n.reduce((J1,z1)=>J1*z1);for(let J1=0;J1<g;++J1)yield this._subarray(J1,Z1,n)}else yield*this.data}_getitem(g){let[n,...Z1]=this.dims;if(g=b(g,n),Z1.length>0){let J1=Z1.reduce((z1,V1)=>z1*V1);return this._subarray(g,J1,Z1)}else return new B(this.type,[this.data[g]],Z1)}indexOf(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)if(n[Z1]==g)return Z1;return-1}_subarray(g,n,Z1){let J1=g*n,z1=(g+1)*n,V1="subarray"in this.data?this.data.subarray(J1,z1):this.data.slice(J1,z1);return new B(this.type,V1,Z1)}item(){let g=this.data;if(g.length!==1)throw Error(`a Tensor with ${g.length} elements cannot be converted to Scalar`);return g[0]}tolist(){return q(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){let g=this.data;for(let n=0;n<g.length;++n)g[n]=1/(1+Math.exp(-g[n]));return this}map(g){return this.clone().map_(g)}map_(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)n[Z1]=g(n[Z1],Z1,n);return this}mul(g){return this.clone().mul_(g)}mul_(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)n[Z1]*=g;return this}div(g){return this.clone().div_(g)}div_(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)n[Z1]/=g;return this}add(g){return this.clone().add_(g)}add_(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)n[Z1]+=g;return this}sub(g){return this.clone().sub_(g)}sub_(g){let n=this.data;for(let Z1=0;Z1<n.length;++Z1)n[Z1]-=g;return this}clone(){return new B(this.type,this.data.slice(),this.dims.slice())}slice(...g){let n=[],Z1=[];for(let h1=0;h1<this.dims.length;++h1){let G1=g[h1];if(G1===null||G1===void 0)Z1.push([0,this.dims[h1]]),n.push(this.dims[h1]);else if(typeof G1==="number")G1=b(G1,this.dims[h1],h1),Z1.push([G1,G1+1]);else if(Array.isArray(G1)&&G1.length===2){let[a,M1]=G1;if(a=a===null?0:b(a,this.dims[h1],h1,!1),M1=M1===null?this.dims[h1]:b(M1,this.dims[h1],h1,!1),a>M1)throw Error(`Invalid slice: ${G1}`);let D1=[Math.max(a,0),Math.min(M1,this.dims[h1])];Z1.push(D1),n.push(D1[1]-D1[0])}else throw Error(`Invalid slice: ${G1}`)}let J1=Z1.map(([h1,G1])=>G1-h1),z1=J1.reduce((h1,G1)=>h1*G1),V1=this.data,w1=new V1.constructor(z1),m1=this.stride(),r1=!0;for(let h1=1;h1<J1.length;++h1)if(Z1[h1][0]!==0||Z1[h1][1]!==this.dims[h1]){r1=!1;break}if(r1){let h1=Z1[0][0]*m1[0],G1=Z1[0][1]*m1[0];if(ArrayBuffer.isView(V1))w1.set(V1.subarray(h1,G1));else if(Array.isArray(V1)){let a=V1.slice(h1,G1);for(let M1=0;M1<a.length;++M1)w1[M1]=a[M1]}else throw Error("Unsupported data type for slicing")}else for(let h1=0;h1<z1;++h1){let G1=0;for(let a=J1.length-1,M1=h1;a>=0;--a){let D1=J1[a];G1+=(M1%D1+Z1[a][0])*m1[a],M1=Math.floor(M1/D1)}w1[h1]=V1[G1]}return new B(this.type,w1,n)}permute(...g){return L(this,g)}transpose(...g){return this.permute(...g)}sum(g=null,n=!1){return this.norm(1,g,n)}norm(g="fro",n=null,Z1=!1){if(g==="fro")g=2;else if(typeof g==="string")throw Error(`Unsupported norm: ${g}`);let J1=this.data,z1=(r1,h1)=>r1+h1**g;if(n===null){let r1=J1.reduce(z1,0)**(1/g);return new B(this.type,[r1],[])}let[V1,w1,m1]=T(z1,this,n,Z1);if(g!==1)for(let r1=0;r1<w1.length;++r1)w1[r1]=w1[r1]**(1/g);return new B(V1,w1,m1)}normalize_(g=2,n=1){n=b(n,this.dims.length);let Z1=this.norm(g,n,!0),J1=this.data,z1=Z1.data;for(let V1=0;V1<J1.length;++V1){let w1=0;for(let m1=this.dims.length-1,r1=V1,h1=1;m1>=0;--m1){let G1=this.dims[m1];if(m1!==n){let a=r1%G1;w1+=a*h1,h1*=this.dims[m1]}r1=Math.floor(r1/G1)}J1[V1]/=z1[w1]}return this}normalize(g=2,n=1){return this.clone().normalize_(g,n)}stride(){return o(this.dims)}squeeze(g=null){return new B(this.type,this.data,C(this.dims,g))}squeeze_(g=null){return this.dims=C(this.dims,g),this}unsqueeze(g=null){return new B(this.type,this.data,I(this.dims,g))}unsqueeze_(g=null){return this.dims=I(this.dims,g),this}flatten_(g=0,n=-1){n=(n+this.dims.length)%this.dims.length;let Z1=this.dims.slice(0,g),J1=this.dims.slice(g,n+1),z1=this.dims.slice(n+1);return this.dims=[...Z1,J1.reduce((V1,w1)=>V1*w1,1),...z1],this}flatten(g=0,n=-1){return this.clone().flatten_(g,n)}view(...g){let n=-1;for(let J1=0;J1<g.length;++J1)if(g[J1]===-1){if(n!==-1)throw Error("Only one dimension can be inferred");n=J1}let Z1=this.data;if(n!==-1){let J1=g.reduce((z1,V1,w1)=>{return w1!==n?z1*V1:z1},1);g[n]=Z1.length/J1}return new B(this.type,Z1,g)}neg_(){let g=this.data;for(let n=0;n<g.length;++n)g[n]=-g[n];return this}neg(){return this.clone().neg_()}gt(g){let n=new Uint8Array(this.data.length),Z1=this.data;for(let J1=0;J1<Z1.length;++J1)n[J1]=Z1[J1]>g?1:0;return new B("bool",n,this.dims)}lt(g){let n=new Uint8Array(this.data.length),Z1=this.data;for(let J1=0;J1<Z1.length;++J1)n[J1]=Z1[J1]<g?1:0;return new B("bool",n,this.dims)}clamp_(g,n){let Z1=this.data;for(let J1=0;J1<Z1.length;++J1)Z1[J1]=Math.min(Math.max(Z1[J1],g),n);return this}clamp(g,n){return this.clone().clamp_(g,n)}round_(){let g=this.data;for(let n=0;n<g.length;++n)g[n]=Math.round(g[n]);return this}round(){return this.clone().round_()}mean(g=null,n=!1){return d(this,g,n)}min(g=null,n=!1){if(g===null){let V1=(0,Y.min)(this.data)[0];return new B(this.type,[V1],[])}let[Z1,J1,z1]=T((V1,w1)=>Math.min(V1,w1),this,g,n,1/0);return new B(Z1,J1,z1)}max(g=null,n=!1){if(g===null){let V1=(0,Y.max)(this.data)[0];return new B(this.type,[V1],[])}let[Z1,J1,z1]=T((V1,w1)=>Math.max(V1,w1),this,g,n,-1/0);return new B(Z1,J1,z1)}argmin(g=null,n=!1){if(g!==null)throw Error("`dim !== null` not yet implemented.");let Z1=(0,Y.min)(this.data)[1];return new B("int64",[BigInt(Z1)],[])}argmax(g=null,n=!1){if(g!==null)throw Error("`dim !== null` not yet implemented.");let Z1=(0,Y.max)(this.data)[1];return new B("int64",[BigInt(Z1)],[])}to(g){if(this.type===g)return this;if(!K.hasOwnProperty(g))throw Error(`Unsupported type: ${g}`);let n,Z1=["int64","uint64"].includes(this.type),J1=["int64","uint64"].includes(g);if(Z1&&!J1)n=Number;else if(!Z1&&J1)n=BigInt;return new B(g,K[g].from(this.data,n),this.dims)}}function q(g,n){let Z1=g.length,J1=n.reduce((V1,w1)=>V1*w1);if(Z1!==J1)throw Error(`cannot reshape array of size ${Z1} into shape (${n})`);let z1=g;for(let V1=n.length-1;V1>=0;V1--)z1=z1.reduce((w1,m1)=>{let r1=w1[w1.length-1];if(r1.length<n[V1])r1.push(m1);else w1.push([m1]);return w1},[[]]);return z1[0]}function L(g,n){let[Z1,J1]=(0,Y.permute_data)(g.data,g.dims,n);return new B(g.type,Z1,J1)}function O(g,[n,Z1],J1="bilinear",z1=!1){let V1=g.dims.at(-3)??1,w1=g.dims.at(-2),m1=g.dims.at(-1),r1=(0,Y.interpolate_data)(g.data,[V1,w1,m1],[n,Z1],J1,z1);return new B(g.type,r1,[V1,n,Z1])}async function z(g,{size:n=null,mode:Z1="bilinear"}={}){if(g.dims.length!==4)throw Error("`interpolate_4d` currently only supports 4D input.");if(!n)throw Error("`interpolate_4d` requires a `size` argument.");let J1;if(n.length===2)J1=[...g.dims.slice(0,2),...n];else if(n.length===3)J1=[g.dims[0],...n];else if(n.length===4)J1=n;else throw Error("`size` must be of length 2, 3, or 4.");let z1;if(Z1==="nearest")z1=await H.TensorOpRegistry.nearest_interpolate_4d;else if(Z1==="bilinear")z1=await H.TensorOpRegistry.bilinear_interpolate_4d;else if(Z1==="bicubic")z1=await H.TensorOpRegistry.bicubic_interpolate_4d;else throw Error(`Unsupported mode: ${Z1}`);let V1=new B("int64",new BigInt64Array(J1.map(BigInt)),[J1.length]);return await z1({x:g,s:V1})}async function F(g,n){return await(await H.TensorOpRegistry.matmul)({a:g,b:n})}async function V(g,n){return await(await H.TensorOpRegistry.rfft)({x:g,a:n})}async function A(g,n){let Z1=await H.TensorOpRegistry.top_k;if(n==null)n=g.dims.at(-1);else n=Math.min(n,g.dims.at(-1));return await Z1({x:g,k:new B("int64",[BigInt(n)],[1])})}let M=(g)=>new B("int64",g,[g.length]);async function j(g,n,Z1,J1,z1){return await(await H.TensorOpRegistry.slice)({x:g,s:M(n),e:M(Z1),a:M(J1),t:M(z1??Array(J1.length).fill(1))})}function D(g,n){let Z1=g.data,J1=n.data,z1=[g.dims[0],g.dims[2]],V1=new Z1.constructor(z1[0]*z1[1]),[w1,m1,r1]=g.dims,h1=0;for(let G1=0;G1<w1;++G1){let a=G1*r1*m1;for(let M1=0;M1<r1;++M1){let D1=0,g1=0,u1=G1*m1,C1=a+M1;for(let v1=0;v1<m1;++v1){let p1=Number(J1[u1+v1]);g1+=p1,D1+=Z1[C1+v1*r1]*p1}let x1=D1/g1;V1[h1++]=x1}}return new B(g.type,V1,z1)}function w(g,n,{eps:Z1=0.00001}={}){if(g.dims.length!==2)throw Error("`layer_norm` currently only supports 2D input.");let[J1,z1]=g.dims;if(n.length!==1&&n[0]!==z1)throw Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");let[V1,w1]=S(g,1,0,!0),m1=V1.data,r1=w1.data,h1=g.data,G1=new h1.constructor(h1.length);for(let a=0;a<J1;++a){let M1=a*z1;for(let D1=0;D1<z1;++D1){let g1=M1+D1;G1[g1]=(h1[g1]-r1[a])/(m1[a]+Z1)}}return new B(g.type,G1,g.dims)}function C(g,n){if(g=g.slice(),n===null)g=g.filter((Z1)=>Z1!==1);else if(typeof n==="number"){if(g[n]===1)g.splice(n,1)}else if(Array.isArray(n))g=g.filter((Z1,J1)=>{return Z1!==1||!n.includes(J1)});return g}function I(g,n){return n=b(n,g.length+1),g=g.slice(),g.splice(n,0,1),g}function b(g,n,Z1=null,J1=!0){if(g<-n||g>=n)if(J1)throw Error(`IndexError: index ${g} is out of bounds for dimension${Z1===null?"":" "+Z1} with size ${n}`);else return g<-n?0:n;if(g<0)g=(g%n+n)%n;return g}function E(g,n=0){n=b(n,g[0].dims.length);let Z1=g[0].dims.slice();Z1[n]=g.reduce((w1,m1)=>w1+m1.dims[n],0);let J1=Z1.reduce((w1,m1)=>w1*m1,1),z1=new g[0].data.constructor(J1),V1=g[0].type;if(n===0){let w1=0;for(let m1 of g){let r1=m1.data;z1.set(r1,w1),w1+=r1.length}}else{let w1=0;for(let m1=0;m1<g.length;++m1){let{data:r1,dims:h1}=g[m1];for(let G1=0;G1<r1.length;++G1){let a=0;for(let M1=h1.length-1,D1=G1,g1=1;M1>=0;--M1){let u1=h1[M1],C1=D1%u1;if(M1===n)C1+=w1;a+=C1*g1,g1*=Z1[M1],D1=Math.floor(D1/u1)}z1[a]=r1[G1]}w1+=h1[n]}}return new B(V1,z1,Z1)}function k(g,n=0){return E(g.map((Z1)=>Z1.unsqueeze(n)),n)}function T(g,n,Z1=null,J1=!1,z1=null){let{data:V1,dims:w1}=n;Z1=b(Z1,w1.length);let m1=w1.slice();m1[Z1]=1;let r1=new V1.constructor(V1.length/w1[Z1]);if(z1!==null)r1.fill(z1);for(let h1=0;h1<V1.length;++h1){let G1=0;for(let a=w1.length-1,M1=h1,D1=1;a>=0;--a){let g1=w1[a];if(a!==Z1){let u1=M1%g1;G1+=u1*D1,D1*=m1[a]}M1=Math.floor(M1/g1)}r1[G1]=g(r1[G1],V1[h1],h1,G1)}if(!J1)m1.splice(Z1,1);return[n.type,r1,m1]}function S(g,n=null,Z1=1,J1=!1){let{data:z1,dims:V1}=g;if(n===null){let D1=z1.reduce((x1,v1)=>x1+v1,0)/z1.length,g1=Math.sqrt(z1.reduce((x1,v1)=>x1+(v1-D1)**2,0)/(z1.length-Z1)),u1=new B(g.type,[D1],[]);return[new B(g.type,[g1],[]),u1]}n=b(n,V1.length);let w1=d(g,n,J1),m1=w1.data,[r1,h1,G1]=T((M1,D1,g1,u1)=>M1+(D1-m1[u1])**2,g,n,J1);for(let M1=0;M1<h1.length;++M1)h1[M1]=Math.sqrt(h1[M1]/(V1[n]-Z1));return[new B(r1,h1,G1),w1]}function d(g,n=null,Z1=!1){let{dims:J1,data:z1}=g;if(n===null){let r1=z1.reduce((h1,G1)=>h1+G1,0);return new B(g.type,[r1/z1.length],[])}n=b(n,J1.length);let[V1,w1,m1]=T((r1,h1)=>r1+h1,g,n,Z1);if(J1[n]!==1)for(let r1=0;r1<w1.length;++r1)w1[r1]/=J1[n];return new B(V1,w1,m1)}function o(g){let n=Array(g.length);for(let Z1=g.length-1,J1=1;Z1>=0;--Z1)n[Z1]=J1,J1*=g[Z1];return n}function v(g,n,Z1,J1){let z1=g.reduce((V1,w1)=>V1*w1,1);return new B(Z1,new J1(z1).fill(n),g)}function y(g,n){let Z1,J1;if(typeof n==="number")Z1="float32",J1=Float32Array;else if(typeof n==="bigint")Z1="int64",J1=BigInt64Array;else if(typeof n==="boolean")Z1="bool",J1=Uint8Array;else throw Error(`Unsupported data type: ${typeof n}`);return v(g,n,Z1,J1)}function i(g,n){return y(g.dims,n)}function p(g){return v(g,1n,"int64",BigInt64Array)}function l(g){return p(g.dims)}function t(g){return v(g,0n,"int64",BigInt64Array)}function Q1(g){return t(g.dims)}function m(g){let n=g.reduce((Z1,J1)=>Z1*J1,1);return new B("float32",Float32Array.from({length:n},()=>Math.random()),g)}function K1(g,n){if(g.dims.length!==2)throw Error("The tensor must have 2 dimensions");if(g.dims.at(-1)%8!==0)throw Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(n))throw Error("The precision must be either 'binary' or 'ubinary'");let Z1=n==="binary",J1=Z1?"int8":"uint8",z1=Z1?Int8Array:Uint8Array,V1=g.data,w1=new z1(V1.length/8);for(let m1=0;m1<V1.length;++m1){let r1=V1[m1]>0?1:0,h1=Math.floor(m1/8),G1=m1%8;if(w1[h1]|=r1<<7-G1,Z1&&G1===0)w1[h1]-=128}return new B(J1,w1,[g.dims[0],g.dims[1]/8])}},"./src/utils/video.js":(J,Z,Q)=>{/*!****************************!*\
  !*** ./src/utils/video.js ***!
  \****************************/Q.r(Z),Q.d(Z,{RawVideo:()=>K,RawVideoFrame:()=>H,load_video:()=>B});var Y=Q("./src/utils/image.js");/*! ./image.js */var $=Q("./src/env.js");/*! ../env.js */class H{constructor(q,L){this.image=q,this.timestamp=L}}class K{constructor(q,L){if(q.length>0&&q[0]instanceof Y.RawImage)q=q.map((O,z)=>new H(O,(z+1)/(q.length+1)*L));this.frames=q,this.duration=L}get width(){return this.frames[0].image.width}get height(){return this.frames[0].image.height}get fps(){return this.frames.length/this.duration}}async function B(q,{num_frames:L=null,fps:O=null}={}){if(!$.apis.IS_BROWSER_ENV)throw Error("`load_video` is currently only supported in browser environments.");if(L==null&&O==null)throw Error("Either num_frames or fps must be provided.");let z=[],F=document.createElement("video");if(F.crossOrigin="anonymous",F.muted=!0,typeof q==="string")F.src=q;else if(q instanceof Blob)F.src=URL.createObjectURL(q);else if(q instanceof HTMLVideoElement)F.src=q.src;else throw Error("Invalid URL or video element provided.");if(await new Promise((C)=>F.onloadedmetadata=C),F.seekable.start(0)===F.seekable.end(0)){let I=await(await fetch(F.src)).blob();F.src=URL.createObjectURL(I),await new Promise((b)=>F.onloadedmetadata=b)}let V=F.duration,A,M;if(L!=null)A=L,M=L===1?0:V/(L-1);else M=1/O,A=Math.floor(V/M);let j=[];for(let C=0;C<A;++C)j.push(L===1?V/2:C*M);let D=document.createElement("canvas");D.width=F.videoWidth,D.height=F.videoHeight;let w=D.getContext("2d",{willReadFrequently:!0});for(let C of j){F.currentTime=C,await new Promise((k)=>{F.onseeked=k}),w.drawImage(F,0,0,D.width,D.height);let I=w.getImageData(0,0,D.width,D.height),b=new Y.RawImage(I.data,D.width,D.height,4),E=new H(b,C);z.push(E)}return F.remove(),new K(z,V)}}},Pn={};(()=>{var J=Object.getPrototypeOf?(Q)=>Object.getPrototypeOf(Q):(Q)=>Q.__proto__,Z;n5.t=function(Q,Y){if(Y&1)Q=this(Q);if(Y&8)return Q;if(typeof Q==="object"&&Q){if(Y&4&&Q.__esModule)return Q;if(Y&16&&typeof Q.then==="function")return Q}var $=Object.create(null);n5.r($);var H={};Z=Z||[null,J({}),J([]),J(J)];for(var K=Y&2&&Q;typeof K=="object"&&!~Z.indexOf(K);K=J(K))Object.getOwnPropertyNames(K).forEach((B)=>H[B]=()=>Q[B]);return H.default=()=>Q,n5.d($,H),$}})();(()=>{n5.d=(J,Z)=>{for(var Q in Z)if(n5.o(Z,Q)&&!n5.o(J,Q))Object.defineProperty(J,Q,{enumerable:!0,get:Z[Q]})}})();(()=>{n5.o=(J,Z)=>Object.prototype.hasOwnProperty.call(J,Z)})();(()=>{n5.r=(J)=>{if(typeof Symbol<"u"&&Symbol.toStringTag)Object.defineProperty(J,Symbol.toStringTag,{value:"Module"});Object.defineProperty(J,"__esModule",{value:!0})}})();R={};(()=>{/*!*****************************!*\
  !*** ./src/transformers.js ***!
  \*****************************/n5.r(R),n5.d(R,{ASTFeatureExtractor:()=>z.ASTFeatureExtractor,ASTForAudioClassification:()=>Q.ASTForAudioClassification,ASTModel:()=>Q.ASTModel,ASTPreTrainedModel:()=>Q.ASTPreTrainedModel,AlbertForMaskedLM:()=>Q.AlbertForMaskedLM,AlbertForQuestionAnswering:()=>Q.AlbertForQuestionAnswering,AlbertForSequenceClassification:()=>Q.AlbertForSequenceClassification,AlbertModel:()=>Q.AlbertModel,AlbertPreTrainedModel:()=>Q.AlbertPreTrainedModel,AlbertTokenizer:()=>Y.AlbertTokenizer,ArceeForCausalLM:()=>Q.ArceeForCausalLM,ArceeModel:()=>Q.ArceeModel,ArceePreTrainedModel:()=>Q.ArceePreTrainedModel,AudioClassificationPipeline:()=>Z.AudioClassificationPipeline,AutoConfig:()=>$.AutoConfig,AutoFeatureExtractor:()=>F.AutoFeatureExtractor,AutoImageProcessor:()=>M.AutoImageProcessor,AutoModel:()=>Q.AutoModel,AutoModelForAudioClassification:()=>Q.AutoModelForAudioClassification,AutoModelForAudioFrameClassification:()=>Q.AutoModelForAudioFrameClassification,AutoModelForAudioTextToText:()=>Q.AutoModelForAudioTextToText,AutoModelForCTC:()=>Q.AutoModelForCTC,AutoModelForCausalLM:()=>Q.AutoModelForCausalLM,AutoModelForDepthEstimation:()=>Q.AutoModelForDepthEstimation,AutoModelForDocumentQuestionAnswering:()=>Q.AutoModelForDocumentQuestionAnswering,AutoModelForImageClassification:()=>Q.AutoModelForImageClassification,AutoModelForImageFeatureExtraction:()=>Q.AutoModelForImageFeatureExtraction,AutoModelForImageMatting:()=>Q.AutoModelForImageMatting,AutoModelForImageSegmentation:()=>Q.AutoModelForImageSegmentation,AutoModelForImageTextToText:()=>Q.AutoModelForImageTextToText,AutoModelForImageToImage:()=>Q.AutoModelForImageToImage,AutoModelForMaskGeneration:()=>Q.AutoModelForMaskGeneration,AutoModelForMaskedLM:()=>Q.AutoModelForMaskedLM,AutoModelForNormalEstimation:()=>Q.AutoModelForNormalEstimation,AutoModelForObjectDetection:()=>Q.AutoModelForObjectDetection,AutoModelForPoseEstimation:()=>Q.AutoModelForPoseEstimation,AutoModelForQuestionAnswering:()=>Q.AutoModelForQuestionAnswering,AutoModelForSemanticSegmentation:()=>Q.AutoModelForSemanticSegmentation,AutoModelForSeq2SeqLM:()=>Q.AutoModelForSeq2SeqLM,AutoModelForSequenceClassification:()=>Q.AutoModelForSequenceClassification,AutoModelForSpeechSeq2Seq:()=>Q.AutoModelForSpeechSeq2Seq,AutoModelForTextToSpectrogram:()=>Q.AutoModelForTextToSpectrogram,AutoModelForTextToWaveform:()=>Q.AutoModelForTextToWaveform,AutoModelForTokenClassification:()=>Q.AutoModelForTokenClassification,AutoModelForUniversalSegmentation:()=>Q.AutoModelForUniversalSegmentation,AutoModelForVision2Seq:()=>Q.AutoModelForVision2Seq,AutoModelForXVector:()=>Q.AutoModelForXVector,AutoModelForZeroShotObjectDetection:()=>Q.AutoModelForZeroShotObjectDetection,AutoProcessor:()=>w.AutoProcessor,AutoTokenizer:()=>Y.AutoTokenizer,AutomaticSpeechRecognitionPipeline:()=>Z.AutomaticSpeechRecognitionPipeline,BackgroundRemovalPipeline:()=>Z.BackgroundRemovalPipeline,BartForConditionalGeneration:()=>Q.BartForConditionalGeneration,BartForSequenceClassification:()=>Q.BartForSequenceClassification,BartModel:()=>Q.BartModel,BartPretrainedModel:()=>Q.BartPretrainedModel,BartTokenizer:()=>Y.BartTokenizer,BaseModelOutput:()=>Q.BaseModelOutput,BaseStreamer:()=>C.BaseStreamer,BeitFeatureExtractor:()=>A.BeitFeatureExtractor,BeitForImageClassification:()=>Q.BeitForImageClassification,BeitModel:()=>Q.BeitModel,BeitPreTrainedModel:()=>Q.BeitPreTrainedModel,BertForMaskedLM:()=>Q.BertForMaskedLM,BertForQuestionAnswering:()=>Q.BertForQuestionAnswering,BertForSequenceClassification:()=>Q.BertForSequenceClassification,BertForTokenClassification:()=>Q.BertForTokenClassification,BertModel:()=>Q.BertModel,BertPreTrainedModel:()=>Q.BertPreTrainedModel,BertTokenizer:()=>Y.BertTokenizer,BitImageProcessor:()=>A.BitImageProcessor,BlenderbotForConditionalGeneration:()=>Q.BlenderbotForConditionalGeneration,BlenderbotModel:()=>Q.BlenderbotModel,BlenderbotPreTrainedModel:()=>Q.BlenderbotPreTrainedModel,BlenderbotSmallForConditionalGeneration:()=>Q.BlenderbotSmallForConditionalGeneration,BlenderbotSmallModel:()=>Q.BlenderbotSmallModel,BlenderbotSmallPreTrainedModel:()=>Q.BlenderbotSmallPreTrainedModel,BlenderbotSmallTokenizer:()=>Y.BlenderbotSmallTokenizer,BlenderbotTokenizer:()=>Y.BlenderbotTokenizer,BloomForCausalLM:()=>Q.BloomForCausalLM,BloomModel:()=>Q.BloomModel,BloomPreTrainedModel:()=>Q.BloomPreTrainedModel,BloomTokenizer:()=>Y.BloomTokenizer,CLIPFeatureExtractor:()=>A.CLIPFeatureExtractor,CLIPImageProcessor:()=>A.CLIPImageProcessor,CLIPModel:()=>Q.CLIPModel,CLIPPreTrainedModel:()=>Q.CLIPPreTrainedModel,CLIPSegForImageSegmentation:()=>Q.CLIPSegForImageSegmentation,CLIPSegModel:()=>Q.CLIPSegModel,CLIPSegPreTrainedModel:()=>Q.CLIPSegPreTrainedModel,CLIPTextModel:()=>Q.CLIPTextModel,CLIPTextModelWithProjection:()=>Q.CLIPTextModelWithProjection,CLIPTokenizer:()=>Y.CLIPTokenizer,CLIPVisionModel:()=>Q.CLIPVisionModel,CLIPVisionModelWithProjection:()=>Q.CLIPVisionModelWithProjection,CamembertForMaskedLM:()=>Q.CamembertForMaskedLM,CamembertForQuestionAnswering:()=>Q.CamembertForQuestionAnswering,CamembertForSequenceClassification:()=>Q.CamembertForSequenceClassification,CamembertForTokenClassification:()=>Q.CamembertForTokenClassification,CamembertModel:()=>Q.CamembertModel,CamembertPreTrainedModel:()=>Q.CamembertPreTrainedModel,CamembertTokenizer:()=>Y.CamembertTokenizer,CausalLMOutput:()=>Q.CausalLMOutput,CausalLMOutputWithPast:()=>Q.CausalLMOutputWithPast,ChineseCLIPFeatureExtractor:()=>A.ChineseCLIPFeatureExtractor,ChineseCLIPModel:()=>Q.ChineseCLIPModel,ChineseCLIPPreTrainedModel:()=>Q.ChineseCLIPPreTrainedModel,ClapAudioModelWithProjection:()=>Q.ClapAudioModelWithProjection,ClapFeatureExtractor:()=>z.ClapFeatureExtractor,ClapModel:()=>Q.ClapModel,ClapPreTrainedModel:()=>Q.ClapPreTrainedModel,ClapTextModelWithProjection:()=>Q.ClapTextModelWithProjection,ClassifierFreeGuidanceLogitsProcessor:()=>b.ClassifierFreeGuidanceLogitsProcessor,CodeGenForCausalLM:()=>Q.CodeGenForCausalLM,CodeGenModel:()=>Q.CodeGenModel,CodeGenPreTrainedModel:()=>Q.CodeGenPreTrainedModel,CodeGenTokenizer:()=>Y.CodeGenTokenizer,CodeLlamaTokenizer:()=>Y.CodeLlamaTokenizer,CohereForCausalLM:()=>Q.CohereForCausalLM,CohereModel:()=>Q.CohereModel,CoherePreTrainedModel:()=>Q.CoherePreTrainedModel,CohereTokenizer:()=>Y.CohereTokenizer,ConvBertForMaskedLM:()=>Q.ConvBertForMaskedLM,ConvBertForQuestionAnswering:()=>Q.ConvBertForQuestionAnswering,ConvBertForSequenceClassification:()=>Q.ConvBertForSequenceClassification,ConvBertForTokenClassification:()=>Q.ConvBertForTokenClassification,ConvBertModel:()=>Q.ConvBertModel,ConvBertPreTrainedModel:()=>Q.ConvBertPreTrainedModel,ConvBertTokenizer:()=>Y.ConvBertTokenizer,ConvNextFeatureExtractor:()=>A.ConvNextFeatureExtractor,ConvNextForImageClassification:()=>Q.ConvNextForImageClassification,ConvNextImageProcessor:()=>A.ConvNextImageProcessor,ConvNextModel:()=>Q.ConvNextModel,ConvNextPreTrainedModel:()=>Q.ConvNextPreTrainedModel,ConvNextV2ForImageClassification:()=>Q.ConvNextV2ForImageClassification,ConvNextV2Model:()=>Q.ConvNextV2Model,ConvNextV2PreTrainedModel:()=>Q.ConvNextV2PreTrainedModel,DFineForObjectDetection:()=>Q.DFineForObjectDetection,DFineModel:()=>Q.DFineModel,DFinePreTrainedModel:()=>Q.DFinePreTrainedModel,DINOv3ConvNextModel:()=>Q.DINOv3ConvNextModel,DINOv3ConvNextPreTrainedModel:()=>Q.DINOv3ConvNextPreTrainedModel,DINOv3ViTImageProcessor:()=>A.DINOv3ViTImageProcessor,DINOv3ViTModel:()=>Q.DINOv3ViTModel,DINOv3ViTPreTrainedModel:()=>Q.DINOv3ViTPreTrainedModel,DPTFeatureExtractor:()=>A.DPTFeatureExtractor,DPTForDepthEstimation:()=>Q.DPTForDepthEstimation,DPTImageProcessor:()=>A.DPTImageProcessor,DPTModel:()=>Q.DPTModel,DPTPreTrainedModel:()=>Q.DPTPreTrainedModel,DacDecoderModel:()=>Q.DacDecoderModel,DacDecoderOutput:()=>Q.DacDecoderOutput,DacEncoderModel:()=>Q.DacEncoderModel,DacEncoderOutput:()=>Q.DacEncoderOutput,DacFeatureExtractor:()=>z.DacFeatureExtractor,DacModel:()=>Q.DacModel,DacPreTrainedModel:()=>Q.DacPreTrainedModel,DataTypeMap:()=>q.DataTypeMap,DebertaForMaskedLM:()=>Q.DebertaForMaskedLM,DebertaForQuestionAnswering:()=>Q.DebertaForQuestionAnswering,DebertaForSequenceClassification:()=>Q.DebertaForSequenceClassification,DebertaForTokenClassification:()=>Q.DebertaForTokenClassification,DebertaModel:()=>Q.DebertaModel,DebertaPreTrainedModel:()=>Q.DebertaPreTrainedModel,DebertaTokenizer:()=>Y.DebertaTokenizer,DebertaV2ForMaskedLM:()=>Q.DebertaV2ForMaskedLM,DebertaV2ForQuestionAnswering:()=>Q.DebertaV2ForQuestionAnswering,DebertaV2ForSequenceClassification:()=>Q.DebertaV2ForSequenceClassification,DebertaV2ForTokenClassification:()=>Q.DebertaV2ForTokenClassification,DebertaV2Model:()=>Q.DebertaV2Model,DebertaV2PreTrainedModel:()=>Q.DebertaV2PreTrainedModel,DebertaV2Tokenizer:()=>Y.DebertaV2Tokenizer,DecisionTransformerModel:()=>Q.DecisionTransformerModel,DecisionTransformerPreTrainedModel:()=>Q.DecisionTransformerPreTrainedModel,DeiTFeatureExtractor:()=>A.DeiTFeatureExtractor,DeiTForImageClassification:()=>Q.DeiTForImageClassification,DeiTImageProcessor:()=>A.DeiTImageProcessor,DeiTModel:()=>Q.DeiTModel,DeiTPreTrainedModel:()=>Q.DeiTPreTrainedModel,DepthAnythingForDepthEstimation:()=>Q.DepthAnythingForDepthEstimation,DepthAnythingPreTrainedModel:()=>Q.DepthAnythingPreTrainedModel,DepthEstimationPipeline:()=>Z.DepthEstimationPipeline,DepthProForDepthEstimation:()=>Q.DepthProForDepthEstimation,DepthProPreTrainedModel:()=>Q.DepthProPreTrainedModel,DetrFeatureExtractor:()=>A.DetrFeatureExtractor,DetrForObjectDetection:()=>Q.DetrForObjectDetection,DetrForSegmentation:()=>Q.DetrForSegmentation,DetrImageProcessor:()=>A.DetrImageProcessor,DetrModel:()=>Q.DetrModel,DetrObjectDetectionOutput:()=>Q.DetrObjectDetectionOutput,DetrPreTrainedModel:()=>Q.DetrPreTrainedModel,DetrSegmentationOutput:()=>Q.DetrSegmentationOutput,Dinov2ForImageClassification:()=>Q.Dinov2ForImageClassification,Dinov2Model:()=>Q.Dinov2Model,Dinov2PreTrainedModel:()=>Q.Dinov2PreTrainedModel,Dinov2WithRegistersForImageClassification:()=>Q.Dinov2WithRegistersForImageClassification,Dinov2WithRegistersModel:()=>Q.Dinov2WithRegistersModel,Dinov2WithRegistersPreTrainedModel:()=>Q.Dinov2WithRegistersPreTrainedModel,DistilBertForMaskedLM:()=>Q.DistilBertForMaskedLM,DistilBertForQuestionAnswering:()=>Q.DistilBertForQuestionAnswering,DistilBertForSequenceClassification:()=>Q.DistilBertForSequenceClassification,DistilBertForTokenClassification:()=>Q.DistilBertForTokenClassification,DistilBertModel:()=>Q.DistilBertModel,DistilBertPreTrainedModel:()=>Q.DistilBertPreTrainedModel,DistilBertTokenizer:()=>Y.DistilBertTokenizer,DocumentQuestionAnsweringPipeline:()=>Z.DocumentQuestionAnsweringPipeline,DonutFeatureExtractor:()=>A.DonutFeatureExtractor,DonutImageProcessor:()=>A.DonutImageProcessor,DonutSwinModel:()=>Q.DonutSwinModel,DonutSwinPreTrainedModel:()=>Q.DonutSwinPreTrainedModel,EfficientNetForImageClassification:()=>Q.EfficientNetForImageClassification,EfficientNetImageProcessor:()=>A.EfficientNetImageProcessor,EfficientNetModel:()=>Q.EfficientNetModel,EfficientNetPreTrainedModel:()=>Q.EfficientNetPreTrainedModel,ElectraForMaskedLM:()=>Q.ElectraForMaskedLM,ElectraForQuestionAnswering:()=>Q.ElectraForQuestionAnswering,ElectraForSequenceClassification:()=>Q.ElectraForSequenceClassification,ElectraForTokenClassification:()=>Q.ElectraForTokenClassification,ElectraModel:()=>Q.ElectraModel,ElectraPreTrainedModel:()=>Q.ElectraPreTrainedModel,ElectraTokenizer:()=>Y.ElectraTokenizer,EncodecFeatureExtractor:()=>z.EncodecFeatureExtractor,EosTokenCriteria:()=>I.EosTokenCriteria,Ernie4_5_ForCausalLM:()=>Q.Ernie4_5_ForCausalLM,Ernie4_5_Model:()=>Q.Ernie4_5_Model,Ernie4_5_PretrainedModel:()=>Q.Ernie4_5_PretrainedModel,Ernie4_5_Tokenizer:()=>Y.Ernie4_5_Tokenizer,EsmForMaskedLM:()=>Q.EsmForMaskedLM,EsmForSequenceClassification:()=>Q.EsmForSequenceClassification,EsmForTokenClassification:()=>Q.EsmForTokenClassification,EsmModel:()=>Q.EsmModel,EsmPreTrainedModel:()=>Q.EsmPreTrainedModel,EsmTokenizer:()=>Y.EsmTokenizer,ExaoneForCausalLM:()=>Q.ExaoneForCausalLM,ExaoneModel:()=>Q.ExaoneModel,ExaonePreTrainedModel:()=>Q.ExaonePreTrainedModel,FFT:()=>L.FFT,FalconForCausalLM:()=>Q.FalconForCausalLM,FalconModel:()=>Q.FalconModel,FalconPreTrainedModel:()=>Q.FalconPreTrainedModel,FalconTokenizer:()=>Y.FalconTokenizer,FastViTForImageClassification:()=>Q.FastViTForImageClassification,FastViTModel:()=>Q.FastViTModel,FastViTPreTrainedModel:()=>Q.FastViTPreTrainedModel,FeatureExtractionPipeline:()=>Z.FeatureExtractionPipeline,FeatureExtractor:()=>O.FeatureExtractor,FillMaskPipeline:()=>Z.FillMaskPipeline,Florence2ForConditionalGeneration:()=>Q.Florence2ForConditionalGeneration,Florence2PreTrainedModel:()=>Q.Florence2PreTrainedModel,Florence2Processor:()=>D.Florence2Processor,ForcedBOSTokenLogitsProcessor:()=>b.ForcedBOSTokenLogitsProcessor,ForcedEOSTokenLogitsProcessor:()=>b.ForcedEOSTokenLogitsProcessor,GLPNFeatureExtractor:()=>A.GLPNFeatureExtractor,GLPNForDepthEstimation:()=>Q.GLPNForDepthEstimation,GLPNModel:()=>Q.GLPNModel,GLPNPreTrainedModel:()=>Q.GLPNPreTrainedModel,GPT2LMHeadModel:()=>Q.GPT2LMHeadModel,GPT2Model:()=>Q.GPT2Model,GPT2PreTrainedModel:()=>Q.GPT2PreTrainedModel,GPT2Tokenizer:()=>Y.GPT2Tokenizer,GPTBigCodeForCausalLM:()=>Q.GPTBigCodeForCausalLM,GPTBigCodeModel:()=>Q.GPTBigCodeModel,GPTBigCodePreTrainedModel:()=>Q.GPTBigCodePreTrainedModel,GPTJForCausalLM:()=>Q.GPTJForCausalLM,GPTJModel:()=>Q.GPTJModel,GPTJPreTrainedModel:()=>Q.GPTJPreTrainedModel,GPTNeoForCausalLM:()=>Q.GPTNeoForCausalLM,GPTNeoModel:()=>Q.GPTNeoModel,GPTNeoPreTrainedModel:()=>Q.GPTNeoPreTrainedModel,GPTNeoXForCausalLM:()=>Q.GPTNeoXForCausalLM,GPTNeoXModel:()=>Q.GPTNeoXModel,GPTNeoXPreTrainedModel:()=>Q.GPTNeoXPreTrainedModel,GPTNeoXTokenizer:()=>Y.GPTNeoXTokenizer,Gemma2ForCausalLM:()=>Q.Gemma2ForCausalLM,Gemma2Model:()=>Q.Gemma2Model,Gemma2PreTrainedModel:()=>Q.Gemma2PreTrainedModel,Gemma3ForCausalLM:()=>Q.Gemma3ForCausalLM,Gemma3Model:()=>Q.Gemma3Model,Gemma3PreTrainedModel:()=>Q.Gemma3PreTrainedModel,Gemma3nAudioFeatureExtractor:()=>z.Gemma3nAudioFeatureExtractor,Gemma3nForConditionalGeneration:()=>Q.Gemma3nForConditionalGeneration,Gemma3nPreTrainedModel:()=>Q.Gemma3nPreTrainedModel,Gemma3nProcessor:()=>D.Gemma3nProcessor,GemmaForCausalLM:()=>Q.GemmaForCausalLM,GemmaModel:()=>Q.GemmaModel,GemmaPreTrainedModel:()=>Q.GemmaPreTrainedModel,GemmaTokenizer:()=>Y.GemmaTokenizer,GlmForCausalLM:()=>Q.GlmForCausalLM,GlmModel:()=>Q.GlmModel,GlmPreTrainedModel:()=>Q.GlmPreTrainedModel,GraniteForCausalLM:()=>Q.GraniteForCausalLM,GraniteModel:()=>Q.GraniteModel,GranitePreTrainedModel:()=>Q.GranitePreTrainedModel,Grok1Tokenizer:()=>Y.Grok1Tokenizer,GroundingDinoForObjectDetection:()=>Q.GroundingDinoForObjectDetection,GroundingDinoImageProcessor:()=>A.GroundingDinoImageProcessor,GroundingDinoPreTrainedModel:()=>Q.GroundingDinoPreTrainedModel,GroundingDinoProcessor:()=>D.GroundingDinoProcessor,GroupViTModel:()=>Q.GroupViTModel,GroupViTPreTrainedModel:()=>Q.GroupViTPreTrainedModel,HeliumForCausalLM:()=>Q.HeliumForCausalLM,HeliumModel:()=>Q.HeliumModel,HeliumPreTrainedModel:()=>Q.HeliumPreTrainedModel,HerbertTokenizer:()=>Y.HerbertTokenizer,HieraForImageClassification:()=>Q.HieraForImageClassification,HieraModel:()=>Q.HieraModel,HieraPreTrainedModel:()=>Q.HieraPreTrainedModel,HubertForCTC:()=>Q.HubertForCTC,HubertForSequenceClassification:()=>Q.HubertForSequenceClassification,HubertModel:()=>Q.HubertModel,HubertPreTrainedModel:()=>Q.HubertPreTrainedModel,IJepaForImageClassification:()=>Q.IJepaForImageClassification,IJepaModel:()=>Q.IJepaModel,IJepaPreTrainedModel:()=>Q.IJepaPreTrainedModel,Idefics3ForConditionalGeneration:()=>Q.Idefics3ForConditionalGeneration,Idefics3ImageProcessor:()=>A.Idefics3ImageProcessor,Idefics3PreTrainedModel:()=>Q.Idefics3PreTrainedModel,Idefics3Processor:()=>D.Idefics3Processor,ImageClassificationPipeline:()=>Z.ImageClassificationPipeline,ImageFeatureExtractionPipeline:()=>Z.ImageFeatureExtractionPipeline,ImageFeatureExtractor:()=>z.ImageFeatureExtractor,ImageMattingOutput:()=>Q.ImageMattingOutput,ImageProcessor:()=>V.ImageProcessor,ImageSegmentationPipeline:()=>Z.ImageSegmentationPipeline,ImageToImagePipeline:()=>Z.ImageToImagePipeline,ImageToTextPipeline:()=>Z.ImageToTextPipeline,InterruptableStoppingCriteria:()=>I.InterruptableStoppingCriteria,JAISLMHeadModel:()=>Q.JAISLMHeadModel,JAISModel:()=>Q.JAISModel,JAISPreTrainedModel:()=>Q.JAISPreTrainedModel,JinaCLIPImageProcessor:()=>A.JinaCLIPImageProcessor,JinaCLIPModel:()=>Q.JinaCLIPModel,JinaCLIPPreTrainedModel:()=>Q.JinaCLIPPreTrainedModel,JinaCLIPProcessor:()=>D.JinaCLIPProcessor,JinaCLIPTextModel:()=>Q.JinaCLIPTextModel,JinaCLIPVisionModel:()=>Q.JinaCLIPVisionModel,Lfm2ForCausalLM:()=>Q.Lfm2ForCausalLM,Lfm2Model:()=>Q.Lfm2Model,Lfm2PreTrainedModel:()=>Q.Lfm2PreTrainedModel,LiteWhisperForConditionalGeneration:()=>Q.LiteWhisperForConditionalGeneration,Llama4ForCausalLM:()=>Q.Llama4ForCausalLM,Llama4PreTrainedModel:()=>Q.Llama4PreTrainedModel,LlamaForCausalLM:()=>Q.LlamaForCausalLM,LlamaModel:()=>Q.LlamaModel,LlamaPreTrainedModel:()=>Q.LlamaPreTrainedModel,LlamaTokenizer:()=>Y.LlamaTokenizer,LlavaForConditionalGeneration:()=>Q.LlavaForConditionalGeneration,LlavaOnevisionForConditionalGeneration:()=>Q.LlavaOnevisionForConditionalGeneration,LlavaOnevisionImageProcessor:()=>A.LlavaOnevisionImageProcessor,LlavaPreTrainedModel:()=>Q.LlavaPreTrainedModel,LlavaProcessor:()=>D.LlavaProcessor,LlavaQwen2ForCausalLM:()=>Q.LlavaQwen2ForCausalLM,LogitsProcessor:()=>b.LogitsProcessor,LogitsProcessorList:()=>b.LogitsProcessorList,LogitsWarper:()=>b.LogitsWarper,LongT5ForConditionalGeneration:()=>Q.LongT5ForConditionalGeneration,LongT5Model:()=>Q.LongT5Model,LongT5PreTrainedModel:()=>Q.LongT5PreTrainedModel,M2M100ForConditionalGeneration:()=>Q.M2M100ForConditionalGeneration,M2M100Model:()=>Q.M2M100Model,M2M100PreTrainedModel:()=>Q.M2M100PreTrainedModel,M2M100Tokenizer:()=>Y.M2M100Tokenizer,MBart50Tokenizer:()=>Y.MBart50Tokenizer,MBartForCausalLM:()=>Q.MBartForCausalLM,MBartForConditionalGeneration:()=>Q.MBartForConditionalGeneration,MBartForSequenceClassification:()=>Q.MBartForSequenceClassification,MBartModel:()=>Q.MBartModel,MBartPreTrainedModel:()=>Q.MBartPreTrainedModel,MBartTokenizer:()=>Y.MBartTokenizer,MPNetForMaskedLM:()=>Q.MPNetForMaskedLM,MPNetForQuestionAnswering:()=>Q.MPNetForQuestionAnswering,MPNetForSequenceClassification:()=>Q.MPNetForSequenceClassification,MPNetForTokenClassification:()=>Q.MPNetForTokenClassification,MPNetModel:()=>Q.MPNetModel,MPNetPreTrainedModel:()=>Q.MPNetPreTrainedModel,MPNetTokenizer:()=>Y.MPNetTokenizer,MT5ForConditionalGeneration:()=>Q.MT5ForConditionalGeneration,MT5Model:()=>Q.MT5Model,MT5PreTrainedModel:()=>Q.MT5PreTrainedModel,MarianMTModel:()=>Q.MarianMTModel,MarianModel:()=>Q.MarianModel,MarianPreTrainedModel:()=>Q.MarianPreTrainedModel,MarianTokenizer:()=>Y.MarianTokenizer,Mask2FormerImageProcessor:()=>A.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>A.MaskFormerFeatureExtractor,MaskFormerForInstanceSegmentation:()=>Q.MaskFormerForInstanceSegmentation,MaskFormerImageProcessor:()=>A.MaskFormerImageProcessor,MaskFormerModel:()=>Q.MaskFormerModel,MaskFormerPreTrainedModel:()=>Q.MaskFormerPreTrainedModel,MaskedLMOutput:()=>Q.MaskedLMOutput,MaxLengthCriteria:()=>I.MaxLengthCriteria,Metric3DForDepthEstimation:()=>Q.Metric3DForDepthEstimation,Metric3DPreTrainedModel:()=>Q.Metric3DPreTrainedModel,Metric3Dv2ForDepthEstimation:()=>Q.Metric3Dv2ForDepthEstimation,Metric3Dv2PreTrainedModel:()=>Q.Metric3Dv2PreTrainedModel,MgpstrForSceneTextRecognition:()=>Q.MgpstrForSceneTextRecognition,MgpstrModelOutput:()=>Q.MgpstrModelOutput,MgpstrPreTrainedModel:()=>Q.MgpstrPreTrainedModel,MgpstrProcessor:()=>D.MgpstrProcessor,MgpstrTokenizer:()=>Y.MgpstrTokenizer,MimiDecoderModel:()=>Q.MimiDecoderModel,MimiDecoderOutput:()=>Q.MimiDecoderOutput,MimiEncoderModel:()=>Q.MimiEncoderModel,MimiEncoderOutput:()=>Q.MimiEncoderOutput,MimiModel:()=>Q.MimiModel,MimiPreTrainedModel:()=>Q.MimiPreTrainedModel,MinLengthLogitsProcessor:()=>b.MinLengthLogitsProcessor,MinNewTokensLengthLogitsProcessor:()=>b.MinNewTokensLengthLogitsProcessor,MistralForCausalLM:()=>Q.MistralForCausalLM,MistralModel:()=>Q.MistralModel,MistralPreTrainedModel:()=>Q.MistralPreTrainedModel,MobileBertForMaskedLM:()=>Q.MobileBertForMaskedLM,MobileBertForQuestionAnswering:()=>Q.MobileBertForQuestionAnswering,MobileBertForSequenceClassification:()=>Q.MobileBertForSequenceClassification,MobileBertModel:()=>Q.MobileBertModel,MobileBertPreTrainedModel:()=>Q.MobileBertPreTrainedModel,MobileBertTokenizer:()=>Y.MobileBertTokenizer,MobileLLMForCausalLM:()=>Q.MobileLLMForCausalLM,MobileLLMModel:()=>Q.MobileLLMModel,MobileLLMPreTrainedModel:()=>Q.MobileLLMPreTrainedModel,MobileNetV1FeatureExtractor:()=>A.MobileNetV1FeatureExtractor,MobileNetV1ForImageClassification:()=>Q.MobileNetV1ForImageClassification,MobileNetV1ForSemanticSegmentation:()=>Q.MobileNetV1ForSemanticSegmentation,MobileNetV1ImageProcessor:()=>A.MobileNetV1ImageProcessor,MobileNetV1Model:()=>Q.MobileNetV1Model,MobileNetV1PreTrainedModel:()=>Q.MobileNetV1PreTrainedModel,MobileNetV2FeatureExtractor:()=>A.MobileNetV2FeatureExtractor,MobileNetV2ForImageClassification:()=>Q.MobileNetV2ForImageClassification,MobileNetV2ForSemanticSegmentation:()=>Q.MobileNetV2ForSemanticSegmentation,MobileNetV2ImageProcessor:()=>A.MobileNetV2ImageProcessor,MobileNetV2Model:()=>Q.MobileNetV2Model,MobileNetV2PreTrainedModel:()=>Q.MobileNetV2PreTrainedModel,MobileNetV3FeatureExtractor:()=>A.MobileNetV3FeatureExtractor,MobileNetV3ForImageClassification:()=>Q.MobileNetV3ForImageClassification,MobileNetV3ForSemanticSegmentation:()=>Q.MobileNetV3ForSemanticSegmentation,MobileNetV3ImageProcessor:()=>A.MobileNetV3ImageProcessor,MobileNetV3Model:()=>Q.MobileNetV3Model,MobileNetV3PreTrainedModel:()=>Q.MobileNetV3PreTrainedModel,MobileNetV4FeatureExtractor:()=>A.MobileNetV4FeatureExtractor,MobileNetV4ForImageClassification:()=>Q.MobileNetV4ForImageClassification,MobileNetV4ForSemanticSegmentation:()=>Q.MobileNetV4ForSemanticSegmentation,MobileNetV4ImageProcessor:()=>A.MobileNetV4ImageProcessor,MobileNetV4Model:()=>Q.MobileNetV4Model,MobileNetV4PreTrainedModel:()=>Q.MobileNetV4PreTrainedModel,MobileViTFeatureExtractor:()=>A.MobileViTFeatureExtractor,MobileViTForImageClassification:()=>Q.MobileViTForImageClassification,MobileViTImageProcessor:()=>A.MobileViTImageProcessor,MobileViTModel:()=>Q.MobileViTModel,MobileViTPreTrainedModel:()=>Q.MobileViTPreTrainedModel,MobileViTV2ForImageClassification:()=>Q.MobileViTV2ForImageClassification,MobileViTV2Model:()=>Q.MobileViTV2Model,MobileViTV2PreTrainedModel:()=>Q.MobileViTV2PreTrainedModel,ModelOutput:()=>Q.ModelOutput,ModernBertDecoderForCausalLM:()=>Q.ModernBertDecoderForCausalLM,ModernBertDecoderModel:()=>Q.ModernBertDecoderModel,ModernBertDecoderPreTrainedModel:()=>Q.ModernBertDecoderPreTrainedModel,ModernBertForMaskedLM:()=>Q.ModernBertForMaskedLM,ModernBertForSequenceClassification:()=>Q.ModernBertForSequenceClassification,ModernBertForTokenClassification:()=>Q.ModernBertForTokenClassification,ModernBertModel:()=>Q.ModernBertModel,ModernBertPreTrainedModel:()=>Q.ModernBertPreTrainedModel,Moondream1ForConditionalGeneration:()=>Q.Moondream1ForConditionalGeneration,MoonshineFeatureExtractor:()=>z.MoonshineFeatureExtractor,MoonshineForConditionalGeneration:()=>Q.MoonshineForConditionalGeneration,MoonshineModel:()=>Q.MoonshineModel,MoonshinePreTrainedModel:()=>Q.MoonshinePreTrainedModel,MoonshineProcessor:()=>D.MoonshineProcessor,MptForCausalLM:()=>Q.MptForCausalLM,MptModel:()=>Q.MptModel,MptPreTrainedModel:()=>Q.MptPreTrainedModel,MultiModalityCausalLM:()=>Q.MultiModalityCausalLM,MultiModalityPreTrainedModel:()=>Q.MultiModalityPreTrainedModel,MusicgenForCausalLM:()=>Q.MusicgenForCausalLM,MusicgenForConditionalGeneration:()=>Q.MusicgenForConditionalGeneration,MusicgenModel:()=>Q.MusicgenModel,MusicgenPreTrainedModel:()=>Q.MusicgenPreTrainedModel,NeoBertForMaskedLM:()=>Q.NeoBertForMaskedLM,NeoBertForQuestionAnswering:()=>Q.NeoBertForQuestionAnswering,NeoBertForSequenceClassification:()=>Q.NeoBertForSequenceClassification,NeoBertForTokenClassification:()=>Q.NeoBertForTokenClassification,NeoBertModel:()=>Q.NeoBertModel,NeoBertPreTrainedModel:()=>Q.NeoBertPreTrainedModel,NllbTokenizer:()=>Y.NllbTokenizer,NoBadWordsLogitsProcessor:()=>b.NoBadWordsLogitsProcessor,NoRepeatNGramLogitsProcessor:()=>b.NoRepeatNGramLogitsProcessor,NomicBertModel:()=>Q.NomicBertModel,NomicBertPreTrainedModel:()=>Q.NomicBertPreTrainedModel,NougatImageProcessor:()=>A.NougatImageProcessor,NougatTokenizer:()=>Y.NougatTokenizer,OPTForCausalLM:()=>Q.OPTForCausalLM,OPTModel:()=>Q.OPTModel,OPTPreTrainedModel:()=>Q.OPTPreTrainedModel,ObjectDetectionPipeline:()=>Z.ObjectDetectionPipeline,Olmo2ForCausalLM:()=>Q.Olmo2ForCausalLM,Olmo2Model:()=>Q.Olmo2Model,Olmo2PreTrainedModel:()=>Q.Olmo2PreTrainedModel,OlmoForCausalLM:()=>Q.OlmoForCausalLM,OlmoModel:()=>Q.OlmoModel,OlmoPreTrainedModel:()=>Q.OlmoPreTrainedModel,OpenELMForCausalLM:()=>Q.OpenELMForCausalLM,OpenELMModel:()=>Q.OpenELMModel,OpenELMPreTrainedModel:()=>Q.OpenELMPreTrainedModel,OwlViTFeatureExtractor:()=>A.OwlViTFeatureExtractor,OwlViTForObjectDetection:()=>Q.OwlViTForObjectDetection,OwlViTImageProcessor:()=>A.OwlViTImageProcessor,OwlViTModel:()=>Q.OwlViTModel,OwlViTPreTrainedModel:()=>Q.OwlViTPreTrainedModel,OwlViTProcessor:()=>D.OwlViTProcessor,Owlv2ForObjectDetection:()=>Q.Owlv2ForObjectDetection,Owlv2ImageProcessor:()=>A.Owlv2ImageProcessor,Owlv2Model:()=>Q.Owlv2Model,Owlv2PreTrainedModel:()=>Q.Owlv2PreTrainedModel,PaliGemmaForConditionalGeneration:()=>Q.PaliGemmaForConditionalGeneration,PaliGemmaPreTrainedModel:()=>Q.PaliGemmaPreTrainedModel,PaliGemmaProcessor:()=>D.PaliGemmaProcessor,PatchTSMixerForPrediction:()=>Q.PatchTSMixerForPrediction,PatchTSMixerModel:()=>Q.PatchTSMixerModel,PatchTSMixerPreTrainedModel:()=>Q.PatchTSMixerPreTrainedModel,PatchTSTForPrediction:()=>Q.PatchTSTForPrediction,PatchTSTModel:()=>Q.PatchTSTModel,PatchTSTPreTrainedModel:()=>Q.PatchTSTPreTrainedModel,Phi3ForCausalLM:()=>Q.Phi3ForCausalLM,Phi3Model:()=>Q.Phi3Model,Phi3PreTrainedModel:()=>Q.Phi3PreTrainedModel,Phi3VForCausalLM:()=>Q.Phi3VForCausalLM,Phi3VImageProcessor:()=>A.Phi3VImageProcessor,Phi3VPreTrainedModel:()=>Q.Phi3VPreTrainedModel,Phi3VProcessor:()=>D.Phi3VProcessor,PhiForCausalLM:()=>Q.PhiForCausalLM,PhiModel:()=>Q.PhiModel,PhiPreTrainedModel:()=>Q.PhiPreTrainedModel,Pipeline:()=>Z.Pipeline,PreTrainedModel:()=>Q.PreTrainedModel,PreTrainedTokenizer:()=>Y.PreTrainedTokenizer,PretrainedConfig:()=>$.PretrainedConfig,PretrainedMixin:()=>Q.PretrainedMixin,Processor:()=>j.Processor,PvtForImageClassification:()=>Q.PvtForImageClassification,PvtImageProcessor:()=>A.PvtImageProcessor,PvtModel:()=>Q.PvtModel,PvtPreTrainedModel:()=>Q.PvtPreTrainedModel,PyAnnoteFeatureExtractor:()=>z.PyAnnoteFeatureExtractor,PyAnnoteForAudioFrameClassification:()=>Q.PyAnnoteForAudioFrameClassification,PyAnnoteModel:()=>Q.PyAnnoteModel,PyAnnotePreTrainedModel:()=>Q.PyAnnotePreTrainedModel,PyAnnoteProcessor:()=>D.PyAnnoteProcessor,QuestionAnsweringModelOutput:()=>Q.QuestionAnsweringModelOutput,QuestionAnsweringPipeline:()=>Z.QuestionAnsweringPipeline,Qwen2ForCausalLM:()=>Q.Qwen2ForCausalLM,Qwen2Model:()=>Q.Qwen2Model,Qwen2PreTrainedModel:()=>Q.Qwen2PreTrainedModel,Qwen2Tokenizer:()=>Y.Qwen2Tokenizer,Qwen2VLForConditionalGeneration:()=>Q.Qwen2VLForConditionalGeneration,Qwen2VLImageProcessor:()=>A.Qwen2VLImageProcessor,Qwen2VLPreTrainedModel:()=>Q.Qwen2VLPreTrainedModel,Qwen2VLProcessor:()=>D.Qwen2VLProcessor,Qwen3ForCausalLM:()=>Q.Qwen3ForCausalLM,Qwen3Model:()=>Q.Qwen3Model,Qwen3PreTrainedModel:()=>Q.Qwen3PreTrainedModel,RFDetrForObjectDetection:()=>Q.RFDetrForObjectDetection,RFDetrModel:()=>Q.RFDetrModel,RFDetrObjectDetectionOutput:()=>Q.RFDetrObjectDetectionOutput,RFDetrPreTrainedModel:()=>Q.RFDetrPreTrainedModel,RTDetrForObjectDetection:()=>Q.RTDetrForObjectDetection,RTDetrImageProcessor:()=>A.RTDetrImageProcessor,RTDetrModel:()=>Q.RTDetrModel,RTDetrObjectDetectionOutput:()=>Q.RTDetrObjectDetectionOutput,RTDetrPreTrainedModel:()=>Q.RTDetrPreTrainedModel,RTDetrV2ForObjectDetection:()=>Q.RTDetrV2ForObjectDetection,RTDetrV2Model:()=>Q.RTDetrV2Model,RTDetrV2ObjectDetectionOutput:()=>Q.RTDetrV2ObjectDetectionOutput,RTDetrV2PreTrainedModel:()=>Q.RTDetrV2PreTrainedModel,RawAudio:()=>H.RawAudio,RawImage:()=>K.RawImage,RawVideo:()=>B.RawVideo,RawVideoFrame:()=>B.RawVideoFrame,RepetitionPenaltyLogitsProcessor:()=>b.RepetitionPenaltyLogitsProcessor,ResNetForImageClassification:()=>Q.ResNetForImageClassification,ResNetModel:()=>Q.ResNetModel,ResNetPreTrainedModel:()=>Q.ResNetPreTrainedModel,RoFormerForMaskedLM:()=>Q.RoFormerForMaskedLM,RoFormerForQuestionAnswering:()=>Q.RoFormerForQuestionAnswering,RoFormerForSequenceClassification:()=>Q.RoFormerForSequenceClassification,RoFormerForTokenClassification:()=>Q.RoFormerForTokenClassification,RoFormerModel:()=>Q.RoFormerModel,RoFormerPreTrainedModel:()=>Q.RoFormerPreTrainedModel,RoFormerTokenizer:()=>Y.RoFormerTokenizer,RobertaForMaskedLM:()=>Q.RobertaForMaskedLM,RobertaForQuestionAnswering:()=>Q.RobertaForQuestionAnswering,RobertaForSequenceClassification:()=>Q.RobertaForSequenceClassification,RobertaForTokenClassification:()=>Q.RobertaForTokenClassification,RobertaModel:()=>Q.RobertaModel,RobertaPreTrainedModel:()=>Q.RobertaPreTrainedModel,RobertaTokenizer:()=>Y.RobertaTokenizer,SamImageProcessor:()=>A.SamImageProcessor,SamImageSegmentationOutput:()=>Q.SamImageSegmentationOutput,SamModel:()=>Q.SamModel,SamPreTrainedModel:()=>Q.SamPreTrainedModel,SamProcessor:()=>D.SamProcessor,SapiensForDepthEstimation:()=>Q.SapiensForDepthEstimation,SapiensForNormalEstimation:()=>Q.SapiensForNormalEstimation,SapiensForSemanticSegmentation:()=>Q.SapiensForSemanticSegmentation,SapiensPreTrainedModel:()=>Q.SapiensPreTrainedModel,SeamlessM4TFeatureExtractor:()=>z.SeamlessM4TFeatureExtractor,SegformerFeatureExtractor:()=>A.SegformerFeatureExtractor,SegformerForImageClassification:()=>Q.SegformerForImageClassification,SegformerForSemanticSegmentation:()=>Q.SegformerForSemanticSegmentation,SegformerImageProcessor:()=>A.SegformerImageProcessor,SegformerModel:()=>Q.SegformerModel,SegformerPreTrainedModel:()=>Q.SegformerPreTrainedModel,Seq2SeqLMOutput:()=>Q.Seq2SeqLMOutput,SequenceClassifierOutput:()=>Q.SequenceClassifierOutput,SiglipImageProcessor:()=>A.SiglipImageProcessor,SiglipModel:()=>Q.SiglipModel,SiglipPreTrainedModel:()=>Q.SiglipPreTrainedModel,SiglipTextModel:()=>Q.SiglipTextModel,SiglipTokenizer:()=>Y.SiglipTokenizer,SiglipVisionModel:()=>Q.SiglipVisionModel,SmolLM3ForCausalLM:()=>Q.SmolLM3ForCausalLM,SmolLM3Model:()=>Q.SmolLM3Model,SmolLM3PreTrainedModel:()=>Q.SmolLM3PreTrainedModel,SmolVLMForConditionalGeneration:()=>Q.SmolVLMForConditionalGeneration,SmolVLMImageProcessor:()=>A.SmolVLMImageProcessor,SmolVLMProcessor:()=>D.SmolVLMProcessor,SnacDecoderModel:()=>Q.SnacDecoderModel,SnacEncoderModel:()=>Q.SnacEncoderModel,SnacFeatureExtractor:()=>z.SnacFeatureExtractor,SnacModel:()=>Q.SnacModel,SnacPreTrainedModel:()=>Q.SnacPreTrainedModel,SpeechT5FeatureExtractor:()=>z.SpeechT5FeatureExtractor,SpeechT5ForSpeechToText:()=>Q.SpeechT5ForSpeechToText,SpeechT5ForTextToSpeech:()=>Q.SpeechT5ForTextToSpeech,SpeechT5HifiGan:()=>Q.SpeechT5HifiGan,SpeechT5Model:()=>Q.SpeechT5Model,SpeechT5PreTrainedModel:()=>Q.SpeechT5PreTrainedModel,SpeechT5Processor:()=>D.SpeechT5Processor,SpeechT5Tokenizer:()=>Y.SpeechT5Tokenizer,SqueezeBertForMaskedLM:()=>Q.SqueezeBertForMaskedLM,SqueezeBertForQuestionAnswering:()=>Q.SqueezeBertForQuestionAnswering,SqueezeBertForSequenceClassification:()=>Q.SqueezeBertForSequenceClassification,SqueezeBertModel:()=>Q.SqueezeBertModel,SqueezeBertPreTrainedModel:()=>Q.SqueezeBertPreTrainedModel,SqueezeBertTokenizer:()=>Y.SqueezeBertTokenizer,StableLmForCausalLM:()=>Q.StableLmForCausalLM,StableLmModel:()=>Q.StableLmModel,StableLmPreTrainedModel:()=>Q.StableLmPreTrainedModel,Starcoder2ForCausalLM:()=>Q.Starcoder2ForCausalLM,Starcoder2Model:()=>Q.Starcoder2Model,Starcoder2PreTrainedModel:()=>Q.Starcoder2PreTrainedModel,StoppingCriteria:()=>I.StoppingCriteria,StoppingCriteriaList:()=>I.StoppingCriteriaList,StyleTextToSpeech2Model:()=>Q.StyleTextToSpeech2Model,StyleTextToSpeech2PreTrainedModel:()=>Q.StyleTextToSpeech2PreTrainedModel,SummarizationPipeline:()=>Z.SummarizationPipeline,SuppressTokensAtBeginLogitsProcessor:()=>b.SuppressTokensAtBeginLogitsProcessor,Swin2SRForImageSuperResolution:()=>Q.Swin2SRForImageSuperResolution,Swin2SRImageProcessor:()=>A.Swin2SRImageProcessor,Swin2SRModel:()=>Q.Swin2SRModel,Swin2SRPreTrainedModel:()=>Q.Swin2SRPreTrainedModel,SwinForImageClassification:()=>Q.SwinForImageClassification,SwinForSemanticSegmentation:()=>Q.SwinForSemanticSegmentation,SwinModel:()=>Q.SwinModel,SwinPreTrainedModel:()=>Q.SwinPreTrainedModel,T5ForConditionalGeneration:()=>Q.T5ForConditionalGeneration,T5Model:()=>Q.T5Model,T5PreTrainedModel:()=>Q.T5PreTrainedModel,T5Tokenizer:()=>Y.T5Tokenizer,TableTransformerForObjectDetection:()=>Q.TableTransformerForObjectDetection,TableTransformerModel:()=>Q.TableTransformerModel,TableTransformerObjectDetectionOutput:()=>Q.TableTransformerObjectDetectionOutput,TableTransformerPreTrainedModel:()=>Q.TableTransformerPreTrainedModel,TemperatureLogitsWarper:()=>b.TemperatureLogitsWarper,Tensor:()=>q.Tensor,Text2TextGenerationPipeline:()=>Z.Text2TextGenerationPipeline,TextClassificationPipeline:()=>Z.TextClassificationPipeline,TextGenerationPipeline:()=>Z.TextGenerationPipeline,TextStreamer:()=>C.TextStreamer,TextToAudioPipeline:()=>Z.TextToAudioPipeline,TokenClassificationPipeline:()=>Z.TokenClassificationPipeline,TokenClassifierOutput:()=>Q.TokenClassifierOutput,TokenizerModel:()=>Y.TokenizerModel,TopKLogitsWarper:()=>b.TopKLogitsWarper,TopPLogitsWarper:()=>b.TopPLogitsWarper,TrOCRForCausalLM:()=>Q.TrOCRForCausalLM,TrOCRPreTrainedModel:()=>Q.TrOCRPreTrainedModel,TranslationPipeline:()=>Z.TranslationPipeline,UltravoxModel:()=>Q.UltravoxModel,UltravoxPreTrainedModel:()=>Q.UltravoxPreTrainedModel,UltravoxProcessor:()=>D.UltravoxProcessor,UniSpeechForCTC:()=>Q.UniSpeechForCTC,UniSpeechForSequenceClassification:()=>Q.UniSpeechForSequenceClassification,UniSpeechModel:()=>Q.UniSpeechModel,UniSpeechPreTrainedModel:()=>Q.UniSpeechPreTrainedModel,UniSpeechSatForAudioFrameClassification:()=>Q.UniSpeechSatForAudioFrameClassification,UniSpeechSatForCTC:()=>Q.UniSpeechSatForCTC,UniSpeechSatForSequenceClassification:()=>Q.UniSpeechSatForSequenceClassification,UniSpeechSatModel:()=>Q.UniSpeechSatModel,UniSpeechSatPreTrainedModel:()=>Q.UniSpeechSatPreTrainedModel,VLChatProcessor:()=>D.VLChatProcessor,VLMImageProcessor:()=>A.VLMImageProcessor,VaultGemmaForCausalLM:()=>Q.VaultGemmaForCausalLM,VaultGemmaModel:()=>Q.VaultGemmaModel,VaultGemmaPreTrainedModel:()=>Q.VaultGemmaPreTrainedModel,ViTFeatureExtractor:()=>A.ViTFeatureExtractor,ViTForImageClassification:()=>Q.ViTForImageClassification,ViTImageProcessor:()=>A.ViTImageProcessor,ViTMAEModel:()=>Q.ViTMAEModel,ViTMAEPreTrainedModel:()=>Q.ViTMAEPreTrainedModel,ViTMSNForImageClassification:()=>Q.ViTMSNForImageClassification,ViTMSNModel:()=>Q.ViTMSNModel,ViTMSNPreTrainedModel:()=>Q.ViTMSNPreTrainedModel,ViTModel:()=>Q.ViTModel,ViTPreTrainedModel:()=>Q.ViTPreTrainedModel,VisionEncoderDecoderModel:()=>Q.VisionEncoderDecoderModel,VitMatteForImageMatting:()=>Q.VitMatteForImageMatting,VitMatteImageProcessor:()=>A.VitMatteImageProcessor,VitMattePreTrainedModel:()=>Q.VitMattePreTrainedModel,VitPoseForPoseEstimation:()=>Q.VitPoseForPoseEstimation,VitPoseImageProcessor:()=>A.VitPoseImageProcessor,VitPosePreTrainedModel:()=>Q.VitPosePreTrainedModel,VitsModel:()=>Q.VitsModel,VitsModelOutput:()=>Q.VitsModelOutput,VitsPreTrainedModel:()=>Q.VitsPreTrainedModel,VitsTokenizer:()=>Y.VitsTokenizer,VoxtralForConditionalGeneration:()=>Q.VoxtralForConditionalGeneration,VoxtralProcessor:()=>D.VoxtralProcessor,Wav2Vec2BertForCTC:()=>Q.Wav2Vec2BertForCTC,Wav2Vec2BertForSequenceClassification:()=>Q.Wav2Vec2BertForSequenceClassification,Wav2Vec2BertModel:()=>Q.Wav2Vec2BertModel,Wav2Vec2BertPreTrainedModel:()=>Q.Wav2Vec2BertPreTrainedModel,Wav2Vec2CTCTokenizer:()=>Y.Wav2Vec2CTCTokenizer,Wav2Vec2FeatureExtractor:()=>z.Wav2Vec2FeatureExtractor,Wav2Vec2ForAudioFrameClassification:()=>Q.Wav2Vec2ForAudioFrameClassification,Wav2Vec2ForCTC:()=>Q.Wav2Vec2ForCTC,Wav2Vec2ForSequenceClassification:()=>Q.Wav2Vec2ForSequenceClassification,Wav2Vec2Model:()=>Q.Wav2Vec2Model,Wav2Vec2PreTrainedModel:()=>Q.Wav2Vec2PreTrainedModel,Wav2Vec2Processor:()=>D.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>D.Wav2Vec2ProcessorWithLM,WavLMForAudioFrameClassification:()=>Q.WavLMForAudioFrameClassification,WavLMForCTC:()=>Q.WavLMForCTC,WavLMForSequenceClassification:()=>Q.WavLMForSequenceClassification,WavLMForXVector:()=>Q.WavLMForXVector,WavLMModel:()=>Q.WavLMModel,WavLMPreTrainedModel:()=>Q.WavLMPreTrainedModel,WeSpeakerFeatureExtractor:()=>z.WeSpeakerFeatureExtractor,WeSpeakerResNetModel:()=>Q.WeSpeakerResNetModel,WeSpeakerResNetPreTrainedModel:()=>Q.WeSpeakerResNetPreTrainedModel,WhisperFeatureExtractor:()=>z.WhisperFeatureExtractor,WhisperForConditionalGeneration:()=>Q.WhisperForConditionalGeneration,WhisperModel:()=>Q.WhisperModel,WhisperPreTrainedModel:()=>Q.WhisperPreTrainedModel,WhisperProcessor:()=>D.WhisperProcessor,WhisperTextStreamer:()=>C.WhisperTextStreamer,WhisperTimeStampLogitsProcessor:()=>b.WhisperTimeStampLogitsProcessor,WhisperTokenizer:()=>Y.WhisperTokenizer,XLMForQuestionAnswering:()=>Q.XLMForQuestionAnswering,XLMForSequenceClassification:()=>Q.XLMForSequenceClassification,XLMForTokenClassification:()=>Q.XLMForTokenClassification,XLMModel:()=>Q.XLMModel,XLMPreTrainedModel:()=>Q.XLMPreTrainedModel,XLMRobertaForMaskedLM:()=>Q.XLMRobertaForMaskedLM,XLMRobertaForQuestionAnswering:()=>Q.XLMRobertaForQuestionAnswering,XLMRobertaForSequenceClassification:()=>Q.XLMRobertaForSequenceClassification,XLMRobertaForTokenClassification:()=>Q.XLMRobertaForTokenClassification,XLMRobertaModel:()=>Q.XLMRobertaModel,XLMRobertaPreTrainedModel:()=>Q.XLMRobertaPreTrainedModel,XLMRobertaTokenizer:()=>Y.XLMRobertaTokenizer,XLMTokenizer:()=>Y.XLMTokenizer,XLMWithLMHeadModel:()=>Q.XLMWithLMHeadModel,XVectorOutput:()=>Q.XVectorOutput,YolosFeatureExtractor:()=>A.YolosFeatureExtractor,YolosForObjectDetection:()=>Q.YolosForObjectDetection,YolosImageProcessor:()=>A.YolosImageProcessor,YolosModel:()=>Q.YolosModel,YolosObjectDetectionOutput:()=>Q.YolosObjectDetectionOutput,YolosPreTrainedModel:()=>Q.YolosPreTrainedModel,ZeroShotAudioClassificationPipeline:()=>Z.ZeroShotAudioClassificationPipeline,ZeroShotClassificationPipeline:()=>Z.ZeroShotClassificationPipeline,ZeroShotImageClassificationPipeline:()=>Z.ZeroShotImageClassificationPipeline,ZeroShotObjectDetectionPipeline:()=>Z.ZeroShotObjectDetectionPipeline,bankers_round:()=>L.bankers_round,cat:()=>q.cat,cos_sim:()=>L.cos_sim,dot:()=>L.dot,dynamic_time_warping:()=>L.dynamic_time_warping,env:()=>J.env,full:()=>q.full,full_like:()=>q.full_like,getCacheShapes:()=>$.getCacheShapes,hamming:()=>H.hamming,hanning:()=>H.hanning,interpolate:()=>q.interpolate,interpolate_4d:()=>q.interpolate_4d,interpolate_data:()=>L.interpolate_data,is_chinese_char:()=>Y.is_chinese_char,layer_norm:()=>q.layer_norm,load_image:()=>K.load_image,load_video:()=>B.load_video,log_softmax:()=>L.log_softmax,magnitude:()=>L.magnitude,matmul:()=>q.matmul,max:()=>L.max,mean:()=>q.mean,mean_pooling:()=>q.mean_pooling,medianFilter:()=>L.medianFilter,mel_filter_bank:()=>H.mel_filter_bank,min:()=>L.min,ones:()=>q.ones,ones_like:()=>q.ones_like,permute:()=>q.permute,permute_data:()=>L.permute_data,pipeline:()=>Z.pipeline,quantize_embeddings:()=>q.quantize_embeddings,rand:()=>q.rand,read_audio:()=>H.read_audio,rfft:()=>q.rfft,round:()=>L.round,slice:()=>q.slice,softmax:()=>L.softmax,spectrogram:()=>H.spectrogram,stack:()=>q.stack,std_mean:()=>q.std_mean,topk:()=>q.topk,window_function:()=>H.window_function,zeros:()=>q.zeros,zeros_like:()=>q.zeros_like});var J=n5("./src/env.js");/*! ./env.js */var Z=n5("./src/pipelines.js");/*! ./pipelines.js */var Q=n5("./src/models.js");/*! ./models.js */var Y=n5("./src/tokenizers.js");/*! ./tokenizers.js */var $=n5("./src/configs.js");/*! ./configs.js */var H=n5("./src/utils/audio.js");/*! ./utils/audio.js */var K=n5("./src/utils/image.js");/*! ./utils/image.js */var B=n5("./src/utils/video.js");/*! ./utils/video.js */var q=n5("./src/utils/tensor.js");/*! ./utils/tensor.js */var L=n5("./src/utils/maths.js");/*! ./utils/maths.js */var O=n5("./src/base/feature_extraction_utils.js");/*! ./base/feature_extraction_utils.js */var z=n5("./src/models/feature_extractors.js");/*! ./models/feature_extractors.js */var F=n5("./src/models/auto/feature_extraction_auto.js");/*! ./models/auto/feature_extraction_auto.js */var V=n5("./src/base/image_processors_utils.js");/*! ./base/image_processors_utils.js */var A=n5("./src/models/image_processors.js");/*! ./models/image_processors.js */var M=n5("./src/models/auto/image_processing_auto.js");/*! ./models/auto/image_processing_auto.js */var j=n5("./src/base/processing_utils.js");/*! ./base/processing_utils.js */var D=n5("./src/models/processors.js");/*! ./models/processors.js */var w=n5("./src/models/auto/processing_auto.js");/*! ./models/auto/processing_auto.js */var C=n5("./src/generation/streamers.js");/*! ./generation/streamers.js */var I=n5("./src/generation/stopping_criteria.js");/*! ./generation/stopping_criteria.js */var b=n5("./src/generation/logits_process.js");/*! ./generation/logits_process.js */})();e91=R.ASTFeatureExtractor,J81=R.ASTForAudioClassification,Z81=R.ASTModel,Q81=R.ASTPreTrainedModel,X81=R.AlbertForMaskedLM,Y81=R.AlbertForQuestionAnswering,G81=R.AlbertForSequenceClassification,$81=R.AlbertModel,H81=R.AlbertPreTrainedModel,W81=R.AlbertTokenizer,K81=R.ArceeForCausalLM,B81=R.ArceeModel,q81=R.ArceePreTrainedModel,U81=R.AudioClassificationPipeline,L81=R.AutoConfig,O81=R.AutoFeatureExtractor,z81=R.AutoImageProcessor,N81=R.AutoModel,F81=R.AutoModelForAudioClassification,A81=R.AutoModelForAudioFrameClassification,M81=R.AutoModelForAudioTextToText,_81=R.AutoModelForCTC,V81=R.AutoModelForCausalLM,I81=R.AutoModelForDepthEstimation,j81=R.AutoModelForDocumentQuestionAnswering,D81=R.AutoModelForImageClassification,w81=R.AutoModelForImageFeatureExtraction,E81=R.AutoModelForImageMatting,k81=R.AutoModelForImageSegmentation,x81=R.AutoModelForImageTextToText,R81=R.AutoModelForImageToImage,C81=R.AutoModelForMaskGeneration,b81=R.AutoModelForMaskedLM,v81=R.AutoModelForNormalEstimation,f81=R.AutoModelForObjectDetection,S81=R.AutoModelForPoseEstimation,T81=R.AutoModelForQuestionAnswering,P81=R.AutoModelForSemanticSegmentation,g81=R.AutoModelForSeq2SeqLM,y81=R.AutoModelForSequenceClassification,h81=R.AutoModelForSpeechSeq2Seq,u81=R.AutoModelForTextToSpectrogram,d81=R.AutoModelForTextToWaveform,m81=R.AutoModelForTokenClassification,c81=R.AutoModelForUniversalSegmentation,p81=R.AutoModelForVision2Seq,l81=R.AutoModelForXVector,i81=R.AutoModelForZeroShotObjectDetection,n81=R.AutoProcessor,a81=R.AutoTokenizer,s81=R.AutomaticSpeechRecognitionPipeline,o81=R.BackgroundRemovalPipeline,r81=R.BartForConditionalGeneration,t81=R.BartForSequenceClassification,e81=R.BartModel,J31=R.BartPretrainedModel,Z31=R.BartTokenizer,Q31=R.BaseModelOutput,X31=R.BaseStreamer,Y31=R.BeitFeatureExtractor,G31=R.BeitForImageClassification,$31=R.BeitModel,H31=R.BeitPreTrainedModel,W31=R.BertForMaskedLM,K31=R.BertForQuestionAnswering,B31=R.BertForSequenceClassification,q31=R.BertForTokenClassification,U31=R.BertModel,L31=R.BertPreTrainedModel,O31=R.BertTokenizer,z31=R.BitImageProcessor,N31=R.BlenderbotForConditionalGeneration,F31=R.BlenderbotModel,A31=R.BlenderbotPreTrainedModel,M31=R.BlenderbotSmallForConditionalGeneration,_31=R.BlenderbotSmallModel,V31=R.BlenderbotSmallPreTrainedModel,I31=R.BlenderbotSmallTokenizer,j31=R.BlenderbotTokenizer,D31=R.BloomForCausalLM,w31=R.BloomModel,E31=R.BloomPreTrainedModel,k31=R.BloomTokenizer,x31=R.CLIPFeatureExtractor,R31=R.CLIPImageProcessor,C31=R.CLIPModel,b31=R.CLIPPreTrainedModel,v31=R.CLIPSegForImageSegmentation,f31=R.CLIPSegModel,S31=R.CLIPSegPreTrainedModel,T31=R.CLIPTextModel,P31=R.CLIPTextModelWithProjection,g31=R.CLIPTokenizer,y31=R.CLIPVisionModel,h31=R.CLIPVisionModelWithProjection,u31=R.CamembertForMaskedLM,d31=R.CamembertForQuestionAnswering,m31=R.CamembertForSequenceClassification,c31=R.CamembertForTokenClassification,p31=R.CamembertModel,l31=R.CamembertPreTrainedModel,i31=R.CamembertTokenizer,n31=R.CausalLMOutput,a31=R.CausalLMOutputWithPast,s31=R.ChineseCLIPFeatureExtractor,o31=R.ChineseCLIPModel,r31=R.ChineseCLIPPreTrainedModel,t31=R.ClapAudioModelWithProjection,e31=R.ClapFeatureExtractor,JJ1=R.ClapModel,ZJ1=R.ClapPreTrainedModel,QJ1=R.ClapTextModelWithProjection,XJ1=R.ClassifierFreeGuidanceLogitsProcessor,YJ1=R.CodeGenForCausalLM,GJ1=R.CodeGenModel,$J1=R.CodeGenPreTrainedModel,HJ1=R.CodeGenTokenizer,WJ1=R.CodeLlamaTokenizer,KJ1=R.CohereForCausalLM,BJ1=R.CohereModel,qJ1=R.CoherePreTrainedModel,UJ1=R.CohereTokenizer,LJ1=R.ConvBertForMaskedLM,OJ1=R.ConvBertForQuestionAnswering,zJ1=R.ConvBertForSequenceClassification,NJ1=R.ConvBertForTokenClassification,FJ1=R.ConvBertModel,AJ1=R.ConvBertPreTrainedModel,MJ1=R.ConvBertTokenizer,_J1=R.ConvNextFeatureExtractor,VJ1=R.ConvNextForImageClassification,IJ1=R.ConvNextImageProcessor,jJ1=R.ConvNextModel,DJ1=R.ConvNextPreTrainedModel,wJ1=R.ConvNextV2ForImageClassification,EJ1=R.ConvNextV2Model,kJ1=R.ConvNextV2PreTrainedModel,xJ1=R.DFineForObjectDetection,RJ1=R.DFineModel,CJ1=R.DFinePreTrainedModel,bJ1=R.DINOv3ConvNextModel,vJ1=R.DINOv3ConvNextPreTrainedModel,fJ1=R.DINOv3ViTImageProcessor,SJ1=R.DINOv3ViTModel,TJ1=R.DINOv3ViTPreTrainedModel,PJ1=R.DPTFeatureExtractor,gJ1=R.DPTForDepthEstimation,yJ1=R.DPTImageProcessor,hJ1=R.DPTModel,uJ1=R.DPTPreTrainedModel,dJ1=R.DacDecoderModel,mJ1=R.DacDecoderOutput,cJ1=R.DacEncoderModel,pJ1=R.DacEncoderOutput,lJ1=R.DacFeatureExtractor,iJ1=R.DacModel,nJ1=R.DacPreTrainedModel,aJ1=R.DataTypeMap,sJ1=R.DebertaForMaskedLM,oJ1=R.DebertaForQuestionAnswering,rJ1=R.DebertaForSequenceClassification,tJ1=R.DebertaForTokenClassification,eJ1=R.DebertaModel,JZ1=R.DebertaPreTrainedModel,ZZ1=R.DebertaTokenizer,QZ1=R.DebertaV2ForMaskedLM,XZ1=R.DebertaV2ForQuestionAnswering,YZ1=R.DebertaV2ForSequenceClassification,GZ1=R.DebertaV2ForTokenClassification,$Z1=R.DebertaV2Model,HZ1=R.DebertaV2PreTrainedModel,WZ1=R.DebertaV2Tokenizer,KZ1=R.DecisionTransformerModel,BZ1=R.DecisionTransformerPreTrainedModel,qZ1=R.DeiTFeatureExtractor,UZ1=R.DeiTForImageClassification,LZ1=R.DeiTImageProcessor,OZ1=R.DeiTModel,zZ1=R.DeiTPreTrainedModel,NZ1=R.DepthAnythingForDepthEstimation,FZ1=R.DepthAnythingPreTrainedModel,AZ1=R.DepthEstimationPipeline,MZ1=R.DepthProForDepthEstimation,_Z1=R.DepthProPreTrainedModel,VZ1=R.DetrFeatureExtractor,IZ1=R.DetrForObjectDetection,jZ1=R.DetrForSegmentation,DZ1=R.DetrImageProcessor,wZ1=R.DetrModel,EZ1=R.DetrObjectDetectionOutput,kZ1=R.DetrPreTrainedModel,xZ1=R.DetrSegmentationOutput,RZ1=R.Dinov2ForImageClassification,CZ1=R.Dinov2Model,bZ1=R.Dinov2PreTrainedModel,vZ1=R.Dinov2WithRegistersForImageClassification,fZ1=R.Dinov2WithRegistersModel,SZ1=R.Dinov2WithRegistersPreTrainedModel,TZ1=R.DistilBertForMaskedLM,PZ1=R.DistilBertForQuestionAnswering,gZ1=R.DistilBertForSequenceClassification,yZ1=R.DistilBertForTokenClassification,hZ1=R.DistilBertModel,uZ1=R.DistilBertPreTrainedModel,dZ1=R.DistilBertTokenizer,mZ1=R.DocumentQuestionAnsweringPipeline,cZ1=R.DonutFeatureExtractor,pZ1=R.DonutImageProcessor,lZ1=R.DonutSwinModel,iZ1=R.DonutSwinPreTrainedModel,nZ1=R.EfficientNetForImageClassification,aZ1=R.EfficientNetImageProcessor,sZ1=R.EfficientNetModel,oZ1=R.EfficientNetPreTrainedModel,rZ1=R.ElectraForMaskedLM,tZ1=R.ElectraForQuestionAnswering,eZ1=R.ElectraForSequenceClassification,JQ1=R.ElectraForTokenClassification,ZQ1=R.ElectraModel,QQ1=R.ElectraPreTrainedModel,XQ1=R.ElectraTokenizer,YQ1=R.EncodecFeatureExtractor,GQ1=R.EosTokenCriteria,$Q1=R.Ernie4_5_ForCausalLM,HQ1=R.Ernie4_5_Model,WQ1=R.Ernie4_5_PretrainedModel,KQ1=R.Ernie4_5_Tokenizer,BQ1=R.EsmForMaskedLM,qQ1=R.EsmForSequenceClassification,UQ1=R.EsmForTokenClassification,LQ1=R.EsmModel,OQ1=R.EsmPreTrainedModel,zQ1=R.EsmTokenizer,NQ1=R.ExaoneForCausalLM,FQ1=R.ExaoneModel,AQ1=R.ExaonePreTrainedModel,MQ1=R.FFT,_Q1=R.FalconForCausalLM,VQ1=R.FalconModel,IQ1=R.FalconPreTrainedModel,jQ1=R.FalconTokenizer,DQ1=R.FastViTForImageClassification,wQ1=R.FastViTModel,EQ1=R.FastViTPreTrainedModel,kQ1=R.FeatureExtractionPipeline,xQ1=R.FeatureExtractor,RQ1=R.FillMaskPipeline,CQ1=R.Florence2ForConditionalGeneration,bQ1=R.Florence2PreTrainedModel,vQ1=R.Florence2Processor,fQ1=R.ForcedBOSTokenLogitsProcessor,SQ1=R.ForcedEOSTokenLogitsProcessor,TQ1=R.GLPNFeatureExtractor,PQ1=R.GLPNForDepthEstimation,gQ1=R.GLPNModel,yQ1=R.GLPNPreTrainedModel,hQ1=R.GPT2LMHeadModel,uQ1=R.GPT2Model,dQ1=R.GPT2PreTrainedModel,mQ1=R.GPT2Tokenizer,cQ1=R.GPTBigCodeForCausalLM,pQ1=R.GPTBigCodeModel,lQ1=R.GPTBigCodePreTrainedModel,iQ1=R.GPTJForCausalLM,nQ1=R.GPTJModel,aQ1=R.GPTJPreTrainedModel,sQ1=R.GPTNeoForCausalLM,oQ1=R.GPTNeoModel,rQ1=R.GPTNeoPreTrainedModel,tQ1=R.GPTNeoXForCausalLM,eQ1=R.GPTNeoXModel,JX1=R.GPTNeoXPreTrainedModel,ZX1=R.GPTNeoXTokenizer,QX1=R.Gemma2ForCausalLM,XX1=R.Gemma2Model,YX1=R.Gemma2PreTrainedModel,GX1=R.Gemma3ForCausalLM,$X1=R.Gemma3Model,HX1=R.Gemma3PreTrainedModel,WX1=R.Gemma3nAudioFeatureExtractor,KX1=R.Gemma3nForConditionalGeneration,BX1=R.Gemma3nPreTrainedModel,qX1=R.Gemma3nProcessor,UX1=R.GemmaForCausalLM,LX1=R.GemmaModel,OX1=R.GemmaPreTrainedModel,zX1=R.GemmaTokenizer,NX1=R.GlmForCausalLM,FX1=R.GlmModel,AX1=R.GlmPreTrainedModel,MX1=R.GraniteForCausalLM,_X1=R.GraniteModel,VX1=R.GranitePreTrainedModel,IX1=R.Grok1Tokenizer,jX1=R.GroundingDinoForObjectDetection,DX1=R.GroundingDinoImageProcessor,wX1=R.GroundingDinoPreTrainedModel,EX1=R.GroundingDinoProcessor,kX1=R.GroupViTModel,xX1=R.GroupViTPreTrainedModel,RX1=R.HeliumForCausalLM,CX1=R.HeliumModel,bX1=R.HeliumPreTrainedModel,vX1=R.HerbertTokenizer,fX1=R.HieraForImageClassification,SX1=R.HieraModel,TX1=R.HieraPreTrainedModel,PX1=R.HubertForCTC,gX1=R.HubertForSequenceClassification,yX1=R.HubertModel,hX1=R.HubertPreTrainedModel,uX1=R.IJepaForImageClassification,dX1=R.IJepaModel,mX1=R.IJepaPreTrainedModel,cX1=R.Idefics3ForConditionalGeneration,pX1=R.Idefics3ImageProcessor,lX1=R.Idefics3PreTrainedModel,iX1=R.Idefics3Processor,nX1=R.ImageClassificationPipeline,aX1=R.ImageFeatureExtractionPipeline,sX1=R.ImageFeatureExtractor,oX1=R.ImageMattingOutput,rX1=R.ImageProcessor,tX1=R.ImageSegmentationPipeline,eX1=R.ImageToImagePipeline,JY1=R.ImageToTextPipeline,ZY1=R.InterruptableStoppingCriteria,QY1=R.JAISLMHeadModel,XY1=R.JAISModel,YY1=R.JAISPreTrainedModel,GY1=R.JinaCLIPImageProcessor,$Y1=R.JinaCLIPModel,HY1=R.JinaCLIPPreTrainedModel,WY1=R.JinaCLIPProcessor,KY1=R.JinaCLIPTextModel,BY1=R.JinaCLIPVisionModel,qY1=R.Lfm2ForCausalLM,UY1=R.Lfm2Model,LY1=R.Lfm2PreTrainedModel,OY1=R.LiteWhisperForConditionalGeneration,zY1=R.Llama4ForCausalLM,NY1=R.Llama4PreTrainedModel,FY1=R.LlamaForCausalLM,AY1=R.LlamaModel,MY1=R.LlamaPreTrainedModel,_Y1=R.LlamaTokenizer,VY1=R.LlavaForConditionalGeneration,IY1=R.LlavaOnevisionForConditionalGeneration,jY1=R.LlavaOnevisionImageProcessor,DY1=R.LlavaPreTrainedModel,wY1=R.LlavaProcessor,EY1=R.LlavaQwen2ForCausalLM,kY1=R.LogitsProcessor,xY1=R.LogitsProcessorList,RY1=R.LogitsWarper,CY1=R.LongT5ForConditionalGeneration,bY1=R.LongT5Model,vY1=R.LongT5PreTrainedModel,fY1=R.M2M100ForConditionalGeneration,SY1=R.M2M100Model,TY1=R.M2M100PreTrainedModel,PY1=R.M2M100Tokenizer,gY1=R.MBart50Tokenizer,yY1=R.MBartForCausalLM,hY1=R.MBartForConditionalGeneration,uY1=R.MBartForSequenceClassification,dY1=R.MBartModel,mY1=R.MBartPreTrainedModel,cY1=R.MBartTokenizer,pY1=R.MPNetForMaskedLM,lY1=R.MPNetForQuestionAnswering,iY1=R.MPNetForSequenceClassification,nY1=R.MPNetForTokenClassification,aY1=R.MPNetModel,sY1=R.MPNetPreTrainedModel,oY1=R.MPNetTokenizer,rY1=R.MT5ForConditionalGeneration,tY1=R.MT5Model,eY1=R.MT5PreTrainedModel,JG1=R.MarianMTModel,ZG1=R.MarianModel,QG1=R.MarianPreTrainedModel,XG1=R.MarianTokenizer,YG1=R.Mask2FormerImageProcessor,GG1=R.MaskFormerFeatureExtractor,$G1=R.MaskFormerForInstanceSegmentation,HG1=R.MaskFormerImageProcessor,WG1=R.MaskFormerModel,KG1=R.MaskFormerPreTrainedModel,BG1=R.MaskedLMOutput,qG1=R.MaxLengthCriteria,UG1=R.Metric3DForDepthEstimation,LG1=R.Metric3DPreTrainedModel,OG1=R.Metric3Dv2ForDepthEstimation,zG1=R.Metric3Dv2PreTrainedModel,NG1=R.MgpstrForSceneTextRecognition,FG1=R.MgpstrModelOutput,AG1=R.MgpstrPreTrainedModel,MG1=R.MgpstrProcessor,_G1=R.MgpstrTokenizer,VG1=R.MimiDecoderModel,IG1=R.MimiDecoderOutput,jG1=R.MimiEncoderModel,DG1=R.MimiEncoderOutput,wG1=R.MimiModel,EG1=R.MimiPreTrainedModel,kG1=R.MinLengthLogitsProcessor,xG1=R.MinNewTokensLengthLogitsProcessor,RG1=R.MistralForCausalLM,CG1=R.MistralModel,bG1=R.MistralPreTrainedModel,vG1=R.MobileBertForMaskedLM,fG1=R.MobileBertForQuestionAnswering,SG1=R.MobileBertForSequenceClassification,TG1=R.MobileBertModel,PG1=R.MobileBertPreTrainedModel,gG1=R.MobileBertTokenizer,yG1=R.MobileLLMForCausalLM,hG1=R.MobileLLMModel,uG1=R.MobileLLMPreTrainedModel,dG1=R.MobileNetV1FeatureExtractor,mG1=R.MobileNetV1ForImageClassification,cG1=R.MobileNetV1ForSemanticSegmentation,pG1=R.MobileNetV1ImageProcessor,lG1=R.MobileNetV1Model,iG1=R.MobileNetV1PreTrainedModel,nG1=R.MobileNetV2FeatureExtractor,aG1=R.MobileNetV2ForImageClassification,sG1=R.MobileNetV2ForSemanticSegmentation,oG1=R.MobileNetV2ImageProcessor,rG1=R.MobileNetV2Model,tG1=R.MobileNetV2PreTrainedModel,eG1=R.MobileNetV3FeatureExtractor,J$1=R.MobileNetV3ForImageClassification,Z$1=R.MobileNetV3ForSemanticSegmentation,Q$1=R.MobileNetV3ImageProcessor,X$1=R.MobileNetV3Model,Y$1=R.MobileNetV3PreTrainedModel,G$1=R.MobileNetV4FeatureExtractor,$$1=R.MobileNetV4ForImageClassification,H$1=R.MobileNetV4ForSemanticSegmentation,W$1=R.MobileNetV4ImageProcessor,K$1=R.MobileNetV4Model,B$1=R.MobileNetV4PreTrainedModel,q$1=R.MobileViTFeatureExtractor,U$1=R.MobileViTForImageClassification,L$1=R.MobileViTImageProcessor,O$1=R.MobileViTModel,z$1=R.MobileViTPreTrainedModel,N$1=R.MobileViTV2ForImageClassification,F$1=R.MobileViTV2Model,A$1=R.MobileViTV2PreTrainedModel,M$1=R.ModelOutput,_$1=R.ModernBertDecoderForCausalLM,V$1=R.ModernBertDecoderModel,I$1=R.ModernBertDecoderPreTrainedModel,j$1=R.ModernBertForMaskedLM,D$1=R.ModernBertForSequenceClassification,w$1=R.ModernBertForTokenClassification,E$1=R.ModernBertModel,k$1=R.ModernBertPreTrainedModel,x$1=R.Moondream1ForConditionalGeneration,R$1=R.MoonshineFeatureExtractor,C$1=R.MoonshineForConditionalGeneration,b$1=R.MoonshineModel,v$1=R.MoonshinePreTrainedModel,f$1=R.MoonshineProcessor,S$1=R.MptForCausalLM,T$1=R.MptModel,P$1=R.MptPreTrainedModel,g$1=R.MultiModalityCausalLM,y$1=R.MultiModalityPreTrainedModel,h$1=R.MusicgenForCausalLM,u$1=R.MusicgenForConditionalGeneration,d$1=R.MusicgenModel,m$1=R.MusicgenPreTrainedModel,c$1=R.NeoBertForMaskedLM,p$1=R.NeoBertForQuestionAnswering,l$1=R.NeoBertForSequenceClassification,i$1=R.NeoBertForTokenClassification,n$1=R.NeoBertModel,a$1=R.NeoBertPreTrainedModel,s$1=R.NllbTokenizer,o$1=R.NoBadWordsLogitsProcessor,r$1=R.NoRepeatNGramLogitsProcessor,t$1=R.NomicBertModel,e$1=R.NomicBertPreTrainedModel,JH1=R.NougatImageProcessor,ZH1=R.NougatTokenizer,QH1=R.OPTForCausalLM,XH1=R.OPTModel,YH1=R.OPTPreTrainedModel,GH1=R.ObjectDetectionPipeline,$H1=R.Olmo2ForCausalLM,HH1=R.Olmo2Model,WH1=R.Olmo2PreTrainedModel,KH1=R.OlmoForCausalLM,BH1=R.OlmoModel,qH1=R.OlmoPreTrainedModel,UH1=R.OpenELMForCausalLM,LH1=R.OpenELMModel,OH1=R.OpenELMPreTrainedModel,zH1=R.OwlViTFeatureExtractor,NH1=R.OwlViTForObjectDetection,FH1=R.OwlViTImageProcessor,AH1=R.OwlViTModel,MH1=R.OwlViTPreTrainedModel,_H1=R.OwlViTProcessor,VH1=R.Owlv2ForObjectDetection,IH1=R.Owlv2ImageProcessor,jH1=R.Owlv2Model,DH1=R.Owlv2PreTrainedModel,wH1=R.PaliGemmaForConditionalGeneration,EH1=R.PaliGemmaPreTrainedModel,kH1=R.PaliGemmaProcessor,xH1=R.PatchTSMixerForPrediction,RH1=R.PatchTSMixerModel,CH1=R.PatchTSMixerPreTrainedModel,bH1=R.PatchTSTForPrediction,vH1=R.PatchTSTModel,fH1=R.PatchTSTPreTrainedModel,SH1=R.Phi3ForCausalLM,TH1=R.Phi3Model,PH1=R.Phi3PreTrainedModel,gH1=R.Phi3VForCausalLM,yH1=R.Phi3VImageProcessor,hH1=R.Phi3VPreTrainedModel,uH1=R.Phi3VProcessor,dH1=R.PhiForCausalLM,mH1=R.PhiModel,cH1=R.PhiPreTrainedModel,pH1=R.Pipeline,lH1=R.PreTrainedModel,iH1=R.PreTrainedTokenizer,nH1=R.PretrainedConfig,aH1=R.PretrainedMixin,sH1=R.Processor,oH1=R.PvtForImageClassification,rH1=R.PvtImageProcessor,tH1=R.PvtModel,eH1=R.PvtPreTrainedModel,JW1=R.PyAnnoteFeatureExtractor,ZW1=R.PyAnnoteForAudioFrameClassification,QW1=R.PyAnnoteModel,XW1=R.PyAnnotePreTrainedModel,YW1=R.PyAnnoteProcessor,GW1=R.QuestionAnsweringModelOutput,$W1=R.QuestionAnsweringPipeline,HW1=R.Qwen2ForCausalLM,WW1=R.Qwen2Model,KW1=R.Qwen2PreTrainedModel,BW1=R.Qwen2Tokenizer,qW1=R.Qwen2VLForConditionalGeneration,UW1=R.Qwen2VLImageProcessor,LW1=R.Qwen2VLPreTrainedModel,OW1=R.Qwen2VLProcessor,zW1=R.Qwen3ForCausalLM,NW1=R.Qwen3Model,FW1=R.Qwen3PreTrainedModel,AW1=R.RFDetrForObjectDetection,MW1=R.RFDetrModel,_W1=R.RFDetrObjectDetectionOutput,VW1=R.RFDetrPreTrainedModel,IW1=R.RTDetrForObjectDetection,jW1=R.RTDetrImageProcessor,DW1=R.RTDetrModel,wW1=R.RTDetrObjectDetectionOutput,EW1=R.RTDetrPreTrainedModel,kW1=R.RTDetrV2ForObjectDetection,xW1=R.RTDetrV2Model,RW1=R.RTDetrV2ObjectDetectionOutput,CW1=R.RTDetrV2PreTrainedModel,bW1=R.RawAudio,vW1=R.RawImage,fW1=R.RawVideo,SW1=R.RawVideoFrame,TW1=R.RepetitionPenaltyLogitsProcessor,PW1=R.ResNetForImageClassification,gW1=R.ResNetModel,yW1=R.ResNetPreTrainedModel,hW1=R.RoFormerForMaskedLM,uW1=R.RoFormerForQuestionAnswering,dW1=R.RoFormerForSequenceClassification,mW1=R.RoFormerForTokenClassification,cW1=R.RoFormerModel,pW1=R.RoFormerPreTrainedModel,lW1=R.RoFormerTokenizer,iW1=R.RobertaForMaskedLM,nW1=R.RobertaForQuestionAnswering,aW1=R.RobertaForSequenceClassification,sW1=R.RobertaForTokenClassification,oW1=R.RobertaModel,rW1=R.RobertaPreTrainedModel,tW1=R.RobertaTokenizer,eW1=R.SamImageProcessor,JK1=R.SamImageSegmentationOutput,ZK1=R.SamModel,QK1=R.SamPreTrainedModel,XK1=R.SamProcessor,YK1=R.SapiensForDepthEstimation,GK1=R.SapiensForNormalEstimation,$K1=R.SapiensForSemanticSegmentation,HK1=R.SapiensPreTrainedModel,WK1=R.SeamlessM4TFeatureExtractor,KK1=R.SegformerFeatureExtractor,BK1=R.SegformerForImageClassification,qK1=R.SegformerForSemanticSegmentation,UK1=R.SegformerImageProcessor,LK1=R.SegformerModel,OK1=R.SegformerPreTrainedModel,zK1=R.Seq2SeqLMOutput,NK1=R.SequenceClassifierOutput,FK1=R.SiglipImageProcessor,AK1=R.SiglipModel,MK1=R.SiglipPreTrainedModel,_K1=R.SiglipTextModel,VK1=R.SiglipTokenizer,IK1=R.SiglipVisionModel,jK1=R.SmolLM3ForCausalLM,DK1=R.SmolLM3Model,wK1=R.SmolLM3PreTrainedModel,EK1=R.SmolVLMForConditionalGeneration,kK1=R.SmolVLMImageProcessor,xK1=R.SmolVLMProcessor,RK1=R.SnacDecoderModel,CK1=R.SnacEncoderModel,bK1=R.SnacFeatureExtractor,vK1=R.SnacModel,fK1=R.SnacPreTrainedModel,SK1=R.SpeechT5FeatureExtractor,TK1=R.SpeechT5ForSpeechToText,PK1=R.SpeechT5ForTextToSpeech,gK1=R.SpeechT5HifiGan,yK1=R.SpeechT5Model,hK1=R.SpeechT5PreTrainedModel,uK1=R.SpeechT5Processor,dK1=R.SpeechT5Tokenizer,mK1=R.SqueezeBertForMaskedLM,cK1=R.SqueezeBertForQuestionAnswering,pK1=R.SqueezeBertForSequenceClassification,lK1=R.SqueezeBertModel,iK1=R.SqueezeBertPreTrainedModel,nK1=R.SqueezeBertTokenizer,aK1=R.StableLmForCausalLM,sK1=R.StableLmModel,oK1=R.StableLmPreTrainedModel,rK1=R.Starcoder2ForCausalLM,tK1=R.Starcoder2Model,eK1=R.Starcoder2PreTrainedModel,JB1=R.StoppingCriteria,ZB1=R.StoppingCriteriaList,QB1=R.StyleTextToSpeech2Model,XB1=R.StyleTextToSpeech2PreTrainedModel,YB1=R.SummarizationPipeline,GB1=R.SuppressTokensAtBeginLogitsProcessor,$B1=R.Swin2SRForImageSuperResolution,HB1=R.Swin2SRImageProcessor,WB1=R.Swin2SRModel,KB1=R.Swin2SRPreTrainedModel,BB1=R.SwinForImageClassification,qB1=R.SwinForSemanticSegmentation,UB1=R.SwinModel,LB1=R.SwinPreTrainedModel,OB1=R.T5ForConditionalGeneration,zB1=R.T5Model,NB1=R.T5PreTrainedModel,FB1=R.T5Tokenizer,AB1=R.TableTransformerForObjectDetection,MB1=R.TableTransformerModel,_B1=R.TableTransformerObjectDetectionOutput,VB1=R.TableTransformerPreTrainedModel,IB1=R.TemperatureLogitsWarper,jB1=R.Tensor,DB1=R.Text2TextGenerationPipeline,wB1=R.TextClassificationPipeline,EB1=R.TextGenerationPipeline,kB1=R.TextStreamer,xB1=R.TextToAudioPipeline,RB1=R.TokenClassificationPipeline,CB1=R.TokenClassifierOutput,bB1=R.TokenizerModel,vB1=R.TopKLogitsWarper,fB1=R.TopPLogitsWarper,SB1=R.TrOCRForCausalLM,TB1=R.TrOCRPreTrainedModel,PB1=R.TranslationPipeline,gB1=R.UltravoxModel,yB1=R.UltravoxPreTrainedModel,hB1=R.UltravoxProcessor,uB1=R.UniSpeechForCTC,dB1=R.UniSpeechForSequenceClassification,mB1=R.UniSpeechModel,cB1=R.UniSpeechPreTrainedModel,pB1=R.UniSpeechSatForAudioFrameClassification,lB1=R.UniSpeechSatForCTC,iB1=R.UniSpeechSatForSequenceClassification,nB1=R.UniSpeechSatModel,aB1=R.UniSpeechSatPreTrainedModel,sB1=R.VLChatProcessor,oB1=R.VLMImageProcessor,rB1=R.VaultGemmaForCausalLM,tB1=R.VaultGemmaModel,eB1=R.VaultGemmaPreTrainedModel,Jq1=R.ViTFeatureExtractor,Zq1=R.ViTForImageClassification,Qq1=R.ViTImageProcessor,Xq1=R.ViTMAEModel,Yq1=R.ViTMAEPreTrainedModel,Gq1=R.ViTMSNForImageClassification,$q1=R.ViTMSNModel,Hq1=R.ViTMSNPreTrainedModel,Wq1=R.ViTModel,Kq1=R.ViTPreTrainedModel,Bq1=R.VisionEncoderDecoderModel,qq1=R.VitMatteForImageMatting,Uq1=R.VitMatteImageProcessor,Lq1=R.VitMattePreTrainedModel,Oq1=R.VitPoseForPoseEstimation,zq1=R.VitPoseImageProcessor,Nq1=R.VitPosePreTrainedModel,Fq1=R.VitsModel,Aq1=R.VitsModelOutput,Mq1=R.VitsPreTrainedModel,_q1=R.VitsTokenizer,Vq1=R.VoxtralForConditionalGeneration,Iq1=R.VoxtralProcessor,jq1=R.Wav2Vec2BertForCTC,Dq1=R.Wav2Vec2BertForSequenceClassification,wq1=R.Wav2Vec2BertModel,Eq1=R.Wav2Vec2BertPreTrainedModel,kq1=R.Wav2Vec2CTCTokenizer,xq1=R.Wav2Vec2FeatureExtractor,Rq1=R.Wav2Vec2ForAudioFrameClassification,Cq1=R.Wav2Vec2ForCTC,bq1=R.Wav2Vec2ForSequenceClassification,vq1=R.Wav2Vec2Model,fq1=R.Wav2Vec2PreTrainedModel,Sq1=R.Wav2Vec2Processor,Tq1=R.Wav2Vec2ProcessorWithLM,Pq1=R.WavLMForAudioFrameClassification,gq1=R.WavLMForCTC,yq1=R.WavLMForSequenceClassification,hq1=R.WavLMForXVector,uq1=R.WavLMModel,dq1=R.WavLMPreTrainedModel,mq1=R.WeSpeakerFeatureExtractor,cq1=R.WeSpeakerResNetModel,pq1=R.WeSpeakerResNetPreTrainedModel,lq1=R.WhisperFeatureExtractor,iq1=R.WhisperForConditionalGeneration,nq1=R.WhisperModel,aq1=R.WhisperPreTrainedModel,sq1=R.WhisperProcessor,oq1=R.WhisperTextStreamer,rq1=R.WhisperTimeStampLogitsProcessor,tq1=R.WhisperTokenizer,eq1=R.XLMForQuestionAnswering,JU1=R.XLMForSequenceClassification,ZU1=R.XLMForTokenClassification,QU1=R.XLMModel,XU1=R.XLMPreTrainedModel,YU1=R.XLMRobertaForMaskedLM,GU1=R.XLMRobertaForQuestionAnswering,$U1=R.XLMRobertaForSequenceClassification,HU1=R.XLMRobertaForTokenClassification,WU1=R.XLMRobertaModel,KU1=R.XLMRobertaPreTrainedModel,BU1=R.XLMRobertaTokenizer,qU1=R.XLMTokenizer,UU1=R.XLMWithLMHeadModel,LU1=R.XVectorOutput,OU1=R.YolosFeatureExtractor,zU1=R.YolosForObjectDetection,NU1=R.YolosImageProcessor,FU1=R.YolosModel,AU1=R.YolosObjectDetectionOutput,MU1=R.YolosPreTrainedModel,_U1=R.ZeroShotAudioClassificationPipeline,VU1=R.ZeroShotClassificationPipeline,IU1=R.ZeroShotImageClassificationPipeline,jU1=R.ZeroShotObjectDetectionPipeline,DU1=R.bankers_round,wU1=R.cat,EU1=R.cos_sim,kU1=R.dot,xU1=R.dynamic_time_warping,RU1=R.env,CU1=R.full,bU1=R.full_like,vU1=R.getCacheShapes,fU1=R.hamming,SU1=R.hanning,TU1=R.interpolate,PU1=R.interpolate_4d,gU1=R.interpolate_data,yU1=R.is_chinese_char,hU1=R.layer_norm,uU1=R.load_image,dU1=R.load_video,mU1=R.log_softmax,cU1=R.magnitude,pU1=R.matmul,lU1=R.max,iU1=R.mean,nU1=R.mean_pooling,aU1=R.medianFilter,sU1=R.mel_filter_bank,oU1=R.min,rU1=R.ones,tU1=R.ones_like,eU1=R.permute,JL1=R.permute_data,ZL1=R.pipeline,QL1=R.quantize_embeddings,XL1=R.rand,YL1=R.read_audio,GL1=R.rfft,$L1=R.round,HL1=R.slice,WL1=R.softmax,KL1=R.spectrogram,BL1=R.stack,qL1=R.std_mean,UL1=R.topk,LL1=R.window_function,OL1=R.zeros,zL1=R.zeros_like});var Va=e(J0(),1),Ia=e(Xb(),1);var n8=e(J0(),1),E2=e(J0(),1),M7=e(J0(),1),gI=e(J0(),1),xb=e(J0(),1),G4=e(J0(),1),qr=e(J0(),1),Ur=e(J0(),1),Lr=e(J0(),1),S2=e(J0(),1),pb=e(J0(),1);var Yb="popstate";function Kb(J={}){function Z(Y,$){let{pathname:H,search:K,hash:B}=Y.location;return jI("",{pathname:H,search:K,hash:B},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}function Q(Y,$){return typeof $==="string"?$:hq($)}return Bo(Z,Q,null,J)}function t4(J,Z){if(J===!1||J===null||typeof J>"u")throw Error(Z)}function JJ(J,Z){if(!J){if(typeof console<"u")console.warn(Z);try{throw Error(Z)}catch(Q){}}}function Ko(){return Math.random().toString(36).substring(2,10)}function Gb(J,Z){return{usr:J.state,key:J.key,idx:Z}}function jI(J,Z,Q=null,Y){return{pathname:typeof J==="string"?J:J.pathname,search:"",hash:"",...typeof Z==="string"?tH(Z):Z,state:Q,key:Z&&Z.key||Y||Ko()}}function hq({pathname:J="/",search:Z="",hash:Q=""}){if(Z&&Z!=="?")J+=Z.charAt(0)==="?"?Z:"?"+Z;if(Q&&Q!=="#")J+=Q.charAt(0)==="#"?Q:"#"+Q;return J}function tH(J){let Z={};if(J){let Q=J.indexOf("#");if(Q>=0)Z.hash=J.substring(Q),J=J.substring(0,Q);let Y=J.indexOf("?");if(Y>=0)Z.search=J.substring(Y),J=J.substring(0,Y);if(J)Z.pathname=J}return Z}function Bo(J,Z,Q,Y={}){let{window:$=document.defaultView,v5Compat:H=!1}=Y,K=$.history,B="POP",q=null,L=O();if(L==null)L=0,K.replaceState({...K.state,idx:L},"");function O(){return(K.state||{idx:null}).idx}function z(){B="POP";let j=O(),D=j==null?null:j-L;if(L=j,q)q({action:B,location:M.location,delta:D})}function F(j,D){B="PUSH";let w=jI(M.location,j,D);if(Q)Q(w,j);L=O()+1;let C=Gb(w,L),I=M.createHref(w);try{K.pushState(C,"",I)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;$.location.assign(I)}if(H&&q)q({action:B,location:M.location,delta:1})}function V(j,D){B="REPLACE";let w=jI(M.location,j,D);if(Q)Q(w,j);L=O();let C=Gb(w,L),I=M.createHref(w);if(K.replaceState(C,"",I),H&&q)q({action:B,location:M.location,delta:0})}function A(j){return qo(j)}let M={get action(){return B},get location(){return J($,K)},listen(j){if(q)throw Error("A history only accepts one active listener");return $.addEventListener(Yb,z),q=j,()=>{$.removeEventListener(Yb,z),q=null}},createHref(j){return Z($,j)},createURL:A,encodeLocation(j){let D=A(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:F,replace:V,go(j){return K.go(j)}};return M}function qo(J,Z=!1){let Q="http://localhost";if(typeof window<"u")Q=window.location.origin!=="null"?window.location.origin:window.location.href;t4(Q,"No window.location.(origin|href) available to create URL");let Y=typeof J==="string"?J:hq(J);if(Y=Y.replace(/ $/,"%20"),!Z&&Y.startsWith("//"))Y=Q+Y;return new URL(Y,Q)}var Uo;Uo=new WeakMap;function kI(J,Z,Q="/"){return Lo(J,Z,Q,!1)}function Lo(J,Z,Q,Y){let $=typeof Z==="string"?tH(Z):Z,H=YQ($.pathname||"/",Q);if(H==null)return null;let K=Bb(J);zo(K);let B=null;for(let q=0;B==null&&q<K.length;++q){let L=Eo(H);B=Do(K[q],L,Y)}return B}function Oo(J,Z){let{route:Q,pathname:Y,params:$}=J;return{id:Q.id,pathname:Y,params:$,data:Z[Q.id],loaderData:Z[Q.id],handle:Q.handle}}function Bb(J,Z=[],Q=[],Y="",$=!1){let H=(K,B,q=$,L)=>{let O={relativePath:L===void 0?K.path||"":L,caseSensitive:K.caseSensitive===!0,childrenIndex:B,route:K};if(O.relativePath.startsWith("/")){if(!O.relativePath.startsWith(Y)&&q)return;t4(O.relativePath.startsWith(Y),`Absolute route path "${O.relativePath}" nested under path "${Y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice(Y.length)}let z=zX([Y,O.relativePath]),F=Q.concat(O);if(K.children&&K.children.length>0)t4(K.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${z}".`),Bb(K.children,Z,F,z,q);if(K.path==null&&!K.index)return;Z.push({path:z,score:Io(z,K.index),routesMeta:F})};return J.forEach((K,B)=>{if(K.path===""||!K.path?.includes("?"))H(K,B);else for(let q of qb(K.path))H(K,B,!0,q)}),Z}function qb(J){let Z=J.split("/");if(Z.length===0)return[];let[Q,...Y]=Z,$=Q.endsWith("?"),H=Q.replace(/\?$/,"");if(Y.length===0)return $?[H,""]:[H];let K=qb(Y.join("/")),B=[];if(B.push(...K.map((q)=>q===""?H:[H,q].join("/"))),$)B.push(...K);return B.map((q)=>J.startsWith("/")&&q===""?"/":q)}function zo(J){J.sort((Z,Q)=>Z.score!==Q.score?Q.score-Z.score:jo(Z.routesMeta.map((Y)=>Y.childrenIndex),Q.routesMeta.map((Y)=>Y.childrenIndex)))}var No=/^:[\w-]+$/,Fo=3,Ao=2,Mo=1,_o=10,Vo=-2,$b=(J)=>J==="*";function Io(J,Z){let Q=J.split("/"),Y=Q.length;if(Q.some($b))Y+=Vo;if(Z)Y+=Ao;return Q.filter(($)=>!$b($)).reduce(($,H)=>$+(No.test(H)?Fo:H===""?Mo:_o),Y)}function jo(J,Z){return J.length===Z.length&&J.slice(0,-1).every((Y,$)=>Y===Z[$])?J[J.length-1]-Z[Z.length-1]:0}function Do(J,Z,Q=!1){let{routesMeta:Y}=J,$={},H="/",K=[];for(let B=0;B<Y.length;++B){let q=Y[B],L=B===Y.length-1,O=H==="/"?Z:Z.slice(H.length)||"/",z=Oz({path:q.relativePath,caseSensitive:q.caseSensitive,end:L},O),F=q.route;if(!z&&L&&Q&&!Y[Y.length-1].route.index)z=Oz({path:q.relativePath,caseSensitive:q.caseSensitive,end:!1},O);if(!z)return null;if(Object.assign($,z.params),K.push({params:$,pathname:zX([H,z.pathname]),pathnameBase:Ro(zX([H,z.pathnameBase])),route:F}),z.pathnameBase!=="/")H=zX([H,z.pathnameBase])}return K}function Oz(J,Z){if(typeof J==="string")J={path:J,caseSensitive:!1,end:!0};let[Q,Y]=wo(J.path,J.caseSensitive,J.end),$=Z.match(Q);if(!$)return null;let H=$[0],K=H.replace(/(.)\/+$/,"$1"),B=$.slice(1);return{params:Y.reduce((L,{paramName:O,isOptional:z},F)=>{if(O==="*"){let A=B[F]||"";K=H.slice(0,H.length-A.length).replace(/(.)\/+$/,"$1")}let V=B[F];if(z&&!V)L[O]=void 0;else L[O]=(V||"").replace(/%2F/g,"/");return L},{}),pathname:H,pathnameBase:K,pattern:J}}function wo(J,Z=!1,Q=!0){JJ(J==="*"||!J.endsWith("*")||J.endsWith("/*"),`Route path "${J}" will be treated as if it were "${J.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${J.replace(/\*$/,"/*")}".`);let Y=[],$="^"+J.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(K,B,q)=>{return Y.push({paramName:B,isOptional:q!=null}),q?"/?([^\\/]+)?":"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");if(J.endsWith("*"))Y.push({paramName:"*"}),$+=J==="*"||J==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(Q)$+="\\/*$";else if(J!==""&&J!=="/")$+="(?:(?=\\/|$))";return[new RegExp($,Z?void 0:"i"),Y]}function Eo(J){try{return J.split("/").map((Z)=>decodeURIComponent(Z).replace(/\//g,"%2F")).join("/")}catch(Z){return JJ(!1,`The URL path "${J}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Z}).`),J}}function YQ(J,Z){if(Z==="/")return J;if(!J.toLowerCase().startsWith(Z.toLowerCase()))return null;let Q=Z.endsWith("/")?Z.length-1:Z.length,Y=J.charAt(Q);if(Y&&Y!=="/")return null;return J.slice(Q)||"/"}function Ub(J,Z="/"){let{pathname:Q,search:Y="",hash:$=""}=typeof J==="string"?tH(J):J;return{pathname:Q?Q.startsWith("/")?Q:ko(Q,Z):Z,search:Co(Y),hash:bo($)}}function ko(J,Z){let Q=Z.replace(/\/+$/,"").split("/");return J.split("/").forEach(($)=>{if($===".."){if(Q.length>1)Q.pop()}else if($!==".")Q.push($)}),Q.length>1?Q.join("/"):"/"}function VI(J,Z,Q,Y){return`Cannot include a '${J}' character in a manually specified \`to.${Z}\` field [${JSON.stringify(Y)}].  Please separate it out to the \`to.${Q}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xo(J){return J.filter((Z,Q)=>Q===0||Z.route.path&&Z.route.path.length>0)}function Lb(J){let Z=xo(J);return Z.map((Q,Y)=>Y===Z.length-1?Q.pathname:Q.pathnameBase)}function Ob(J,Z,Q,Y=!1){let $;if(typeof J==="string")$=tH(J);else $={...J},t4(!$.pathname||!$.pathname.includes("?"),VI("?","pathname","search",$)),t4(!$.pathname||!$.pathname.includes("#"),VI("#","pathname","hash",$)),t4(!$.search||!$.search.includes("#"),VI("#","search","hash",$));let H=J===""||$.pathname==="",K=H?"/":$.pathname,B;if(K==null)B=Q;else{let z=Z.length-1;if(!Y&&K.startsWith("..")){let F=K.split("/");while(F[0]==="..")F.shift(),z-=1;$.pathname=F.join("/")}B=z>=0?Z[z]:"/"}let q=Ub($,B),L=K&&K!=="/"&&K.endsWith("/"),O=(H||K===".")&&Q.endsWith("/");if(!q.pathname.endsWith("/")&&(L||O))q.pathname+="/";return q}var zX=(J)=>J.join("/").replace(/\/\/+/g,"/"),Ro=(J)=>J.replace(/\/+$/,"").replace(/^\/*/,"/"),Co=(J)=>!J||J==="?"?"":J.startsWith("?")?J:"?"+J,bo=(J)=>!J||J==="#"?"":J.startsWith("#")?J:"#"+J;function zb(J){return J!=null&&typeof J.status==="number"&&typeof J.statusText==="string"&&typeof J.internal==="boolean"&&"data"in J}var Nb=["POST","PUT","PATCH","DELETE"],Hz1=new Set(Nb),vo=["GET",...Nb],Wz1=new Set(vo);var Kz1=Symbol("ResetLoaderData");var eH=n8.createContext(null);eH.displayName="DataRouter";var uq=n8.createContext(null);uq.displayName="DataRouterState";var Bz1=n8.createContext(!1);var xI=n8.createContext({isTransitioning:!1});xI.displayName="ViewTransition";var Fb=n8.createContext(new Map);Fb.displayName="Fetchers";var fo=n8.createContext(null);fo.displayName="Await";var a8=n8.createContext(null);a8.displayName="Navigation";var dq=n8.createContext(null);dq.displayName="Location";var lJ=n8.createContext({outlet:null,matches:[],isDataRoute:!1});lJ.displayName="Route";var RI=n8.createContext(null);RI.displayName="RouteError";var DI=!0;function Ab(J,{relative:Z}={}){t4(mq(),"useHref() may be used only in the context of a <Router> component.");let{basename:Q,navigator:Y}=E2.useContext(a8),{hash:$,pathname:H,search:K}=cq(J,{relative:Z}),B=H;if(Q!=="/")B=H==="/"?Q:zX([Q,H]);return Y.createHref({pathname:B,search:K,hash:$})}function mq(){return E2.useContext(dq)!=null}function GQ(){return t4(mq(),"useLocation() may be used only in the context of a <Router> component."),E2.useContext(dq).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(J){if(!E2.useContext(a8).static)E2.useLayoutEffect(J)}function Vb(){let{isDataRoute:J}=E2.useContext(lJ);return J?lo():So()}function So(){t4(mq(),"useNavigate() may be used only in the context of a <Router> component.");let J=E2.useContext(eH),{basename:Z,navigator:Q}=E2.useContext(a8),{matches:Y}=E2.useContext(lJ),{pathname:$}=GQ(),H=JSON.stringify(Lb(Y)),K=E2.useRef(!1);return _b(()=>{K.current=!0}),E2.useCallback((q,L={})=>{if(JJ(K.current,Mb),!K.current)return;if(typeof q==="number"){Q.go(q);return}let O=Ob(q,JSON.parse(H),$,L.relative==="path");if(J==null&&Z!=="/")O.pathname=O.pathname==="/"?Z:zX([Z,O.pathname]);(L.replace?Q.replace:Q.push)(O,L.state,L)},[Z,Q,H,$,J])}var To=E2.createContext(null);function Ib(J){let Z=E2.useContext(lJ).outlet;if(Z)return E2.createElement(To.Provider,{value:J},Z);return Z}function cq(J,{relative:Z}={}){let{matches:Q}=E2.useContext(lJ),{pathname:Y}=GQ(),$=JSON.stringify(Lb(Q));return E2.useMemo(()=>Ob(J,JSON.parse($),Y,Z==="path"),[J,$,Y,Z])}function jb(J,Z){return Db(J,Z)}function Db(J,Z,Q,Y,$){t4(mq(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:H}=E2.useContext(a8),{matches:K}=E2.useContext(lJ),B=K[K.length-1],q=B?B.params:{},L=B?B.pathname:"/",O=B?B.pathnameBase:"/",z=B&&B.route;if(DI){let w=z&&z.path||"";kb(L,!z||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${L}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let F=GQ(),V;if(Z){let w=typeof Z==="string"?tH(Z):Z;t4(O==="/"||w.pathname?.startsWith(O),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${O}" but pathname "${w.pathname}" was given in the \`location\` prop.`),V=w}else V=F;let A=V.pathname||"/",M=A;if(O!=="/"){let w=O.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=kI(J,{pathname:M});if(DI)JJ(z||j!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),JJ(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=uo(j&&j.map((w)=>Object.assign({},w,{params:Object.assign({},q,w.params),pathname:zX([O,H.encodeLocation?H.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?O:zX([O,H.encodeLocation?H.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),K,Q,Y,$);if(Z&&D)return E2.createElement(dq.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},D);return D}function Po(){let J=Eb(),Z=zb(J)?`${J.status} ${J.statusText}`:J instanceof Error?J.message:JSON.stringify(J),Q=J instanceof Error?J.stack:null,Y="rgba(200,200,200, 0.5)",$={padding:"0.5rem",backgroundColor:Y},H={padding:"2px 4px",backgroundColor:Y},K=null;if(DI)console.error("Error handled by React Router default ErrorBoundary:",J),K=E2.createElement(E2.Fragment,null,E2.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),E2.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E2.createElement("code",{style:H},"ErrorBoundary")," or"," ",E2.createElement("code",{style:H},"errorElement")," prop on your route."));return E2.createElement(E2.Fragment,null,E2.createElement("h2",null,"Unexpected Application Error!"),E2.createElement("h3",{style:{fontStyle:"italic"}},Z),Q?E2.createElement("pre",{style:$},Q):null,K)}var go=E2.createElement(Po,null),yo=class extends E2.Component{constructor(J){super(J);this.state={location:J.location,revalidation:J.revalidation,error:J.error}}static getDerivedStateFromError(J){return{error:J}}static getDerivedStateFromProps(J,Z){if(Z.location!==J.location||Z.revalidation!=="idle"&&J.revalidation==="idle")return{error:J.error,location:J.location,revalidation:J.revalidation};return{error:J.error!==void 0?J.error:Z.error,location:Z.location,revalidation:J.revalidation||Z.revalidation}}componentDidCatch(J,Z){if(this.props.unstable_onError)this.props.unstable_onError(J,Z);else console.error("React Router caught the following error during render",J)}render(){return this.state.error!==void 0?E2.createElement(lJ.Provider,{value:this.props.routeContext},E2.createElement(RI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ho({routeContext:J,match:Z,children:Q}){let Y=E2.useContext(eH);if(Y&&Y.static&&Y.staticContext&&(Z.route.errorElement||Z.route.ErrorBoundary))Y.staticContext._deepestRenderedBoundaryId=Z.route.id;return E2.createElement(lJ.Provider,{value:J},Q)}function uo(J,Z=[],Q=null,Y=null,$=null){if(J==null){if(!Q)return null;if(Q.errors)J=Q.matches;else if(Z.length===0&&!Q.initialized&&Q.matches.length>0)J=Q.matches;else return null}let H=J,K=Q?.errors;if(K!=null){let L=H.findIndex((O)=>O.route.id&&K?.[O.route.id]!==void 0);t4(L>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(K).join(",")}`),H=H.slice(0,Math.min(H.length,L+1))}let B=!1,q=-1;if(Q)for(let L=0;L<H.length;L++){let O=H[L];if(O.route.HydrateFallback||O.route.hydrateFallbackElement)q=L;if(O.route.id){let{loaderData:z,errors:F}=Q,V=O.route.loader&&!z.hasOwnProperty(O.route.id)&&(!F||F[O.route.id]===void 0);if(O.route.lazy||V){if(B=!0,q>=0)H=H.slice(0,q+1);else H=[H[0]];break}}}return H.reduceRight((L,O,z)=>{let F,V=!1,A=null,M=null;if(Q){if(F=K&&O.route.id?K[O.route.id]:void 0,A=O.route.errorElement||go,B){if(q<0&&z===0)kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,M=null;else if(q===z)V=!0,M=O.route.hydrateFallbackElement||null}}let j=Z.concat(H.slice(0,z+1)),D=()=>{let w;if(F)w=A;else if(V)w=M;else if(O.route.Component)w=E2.createElement(O.route.Component,null);else if(O.route.element)w=O.route.element;else w=L;return E2.createElement(ho,{match:O,routeContext:{outlet:L,matches:j,isDataRoute:Q!=null},children:w})};return Q&&(O.route.ErrorBoundary||O.route.errorElement||z===0)?E2.createElement(yo,{location:Q.location,revalidation:Q.revalidation,component:A,error:F,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:Y}):D()},null)}function CI(J){return`${J} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mo(J){let Z=E2.useContext(eH);return t4(Z,CI(J)),Z}function bI(J){let Z=E2.useContext(uq);return t4(Z,CI(J)),Z}function co(J){let Z=E2.useContext(lJ);return t4(Z,CI(J)),Z}function vI(J){let Z=co(J),Q=Z.matches[Z.matches.length-1];return t4(Q.route.id,`${J} can only be used on routes that contain a unique "id"`),Q.route.id}function po(){return vI("useRouteId")}function wb(){return bI("useNavigation").navigation}function fI(){let{matches:J,loaderData:Z}=bI("useMatches");return E2.useMemo(()=>J.map((Q)=>Oo(Q,Z)),[J,Z])}function Eb(){let J=E2.useContext(RI),Z=bI("useRouteError"),Q=vI("useRouteError");if(J!==void 0)return J;return Z.errors?.[Q]}function lo(){let{router:J}=mo("useNavigate"),Z=vI("useNavigate"),Q=E2.useRef(!1);return _b(()=>{Q.current=!0}),E2.useCallback(async($,H={})=>{if(JJ(Q.current,Mb),!Q.current)return;if(typeof $==="number")J.navigate($);else await J.navigate($,{fromRouteId:Z,...H})},[J,Z])}var Hb={};function kb(J,Z,Q){if(!Z&&!Hb[J])Hb[J]=!0,JJ(!1,Q)}var qz1=M7.memo(io);function io({routes:J,future:Z,state:Q,unstable_onError:Y}){return Db(J,void 0,Q,Y,Z)}function SI(J){return Ib(J.context)}function BG(J){t4(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:J="/",children:Z=null,location:Q,navigationType:Y="POP",navigator:$,static:H=!1}){t4(!mq(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let K=J.replace(/^\/*/,"/"),B=M7.useMemo(()=>({basename:K,navigator:$,static:H,future:{}}),[K,$,H]);if(typeof Q==="string")Q=tH(Q);let{pathname:q="/",search:L="",hash:O="",state:z=null,key:F="default"}=Q,V=M7.useMemo(()=>{let A=YQ(q,K);if(A==null)return null;return{location:{pathname:A,search:L,hash:O,state:z,key:F},navigationType:Y}},[K,q,L,O,z,F,Y]);if(JJ(V!=null,`<Router basename="${K}"> is not able to match the URL "${q}${L}${O}" because it does not start with the basename, so the <Router> won't render anything.`),V==null)return null;return M7.createElement(a8.Provider,{value:B},M7.createElement(dq.Provider,{children:Z,value:V}))}function PI({children:J,location:Z}){return jb(zA(J),Z)}function zA(J,Z=[]){let Q=[];return M7.Children.forEach(J,(Y,$)=>{if(!M7.isValidElement(Y))return;let H=[...Z,$];if(Y.type===M7.Fragment){Q.push.apply(Q,zA(Y.props.children,H));return}t4(Y.type===BG,`[${typeof Y.type==="string"?Y.type:Y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),t4(!Y.props.index||!Y.props.children,"An index route cannot have child routes.");let K={id:Y.props.id||H.join("-"),caseSensitive:Y.props.caseSensitive,element:Y.props.element,Component:Y.props.Component,index:Y.props.index,path:Y.props.path,loader:Y.props.loader,action:Y.props.action,hydrateFallbackElement:Y.props.hydrateFallbackElement,HydrateFallback:Y.props.HydrateFallback,errorElement:Y.props.errorElement,ErrorBoundary:Y.props.ErrorBoundary,hasErrorBoundary:Y.props.hasErrorBoundary===!0||Y.props.ErrorBoundary!=null||Y.props.errorElement!=null,shouldRevalidate:Y.props.shouldRevalidate,handle:Y.props.handle,lazy:Y.props.lazy};if(Y.props.children)K.children=zA(Y.props.children,H);Q.push(K)}),Q}var LA="get",OA="application/x-www-form-urlencoded";function NA(J){return J!=null&&typeof J.tagName==="string"}function no(J){return NA(J)&&J.tagName.toLowerCase()==="button"}function ao(J){return NA(J)&&J.tagName.toLowerCase()==="form"}function so(J){return NA(J)&&J.tagName.toLowerCase()==="input"}function oo(J){return!!(J.metaKey||J.altKey||J.ctrlKey||J.shiftKey)}function ro(J,Z){return J.button===0&&(!Z||Z==="_self")&&!oo(J)}var qA=null;function to(){if(qA===null)try{new FormData(document.createElement("form"),0),qA=!1}catch(J){qA=!0}return qA}var eo=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function II(J){if(J!=null&&!eo.has(J))return JJ(!1,`"${J}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${OA}"`),null;return J}function Jr(J,Z){let Q,Y,$,H,K;if(ao(J)){let B=J.getAttribute("action");Y=B?YQ(B,Z):null,Q=J.getAttribute("method")||LA,$=II(J.getAttribute("enctype"))||OA,H=new FormData(J)}else if(no(J)||so(J)&&(J.type==="submit"||J.type==="image")){let B=J.form;if(B==null)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');let q=J.getAttribute("formaction")||B.getAttribute("action");if(Y=q?YQ(q,Z):null,Q=J.getAttribute("formmethod")||B.getAttribute("method")||LA,$=II(J.getAttribute("formenctype"))||II(B.getAttribute("enctype"))||OA,H=new FormData(B,J),!to()){let{name:L,type:O,value:z}=J;if(O==="image"){let F=L?`${L}.`:"";H.append(`${F}x`,"0"),H.append(`${F}y`,"0")}else if(L)H.append(L,z)}}else if(NA(J))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else Q=LA,Y=null,$=OA,K=J;if(H&&$==="text/plain")K=H,H=void 0;return{action:Y,method:Q.toLowerCase(),encType:$,formData:H,body:K}}var Uz1=Object.getOwnPropertyNames(Object.prototype).sort().join("\x00");function yI(J,Z){if(J===!1||J===null||typeof J>"u")throw Error(Z)}var Zr=Symbol("SingleFetchRedirect");function Qr(J,Z,Q){let Y=typeof J==="string"?new URL(J,typeof window>"u"?"server://singlefetch/":window.location.origin):J;if(Y.pathname==="/")Y.pathname=`_root.${Q}`;else if(Z&&YQ(Y.pathname,Z)==="/")Y.pathname=`${Z.replace(/\/$/,"")}/_root.${Q}`;else Y.pathname=`${Y.pathname.replace(/\/$/,"")}.${Q}`;return Y}async function Xr(J,Z){if(J.id in Z)return Z[J.id];try{let Q=await import(J.module);return Z[J.id]=Q,Q}catch(Q){return console.error(`Error loading route module \`${J.module}\`, reloading page...`),console.error(Q),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&void 0,window.location.reload(),new Promise(()=>{})}}function Yr(J){return J!=null&&typeof J.page==="string"}function Gr(J){if(J==null)return!1;if(J.href==null)return J.rel==="preload"&&typeof J.imageSrcSet==="string"&&typeof J.imageSizes==="string";return typeof J.rel==="string"&&typeof J.href==="string"}async function $r(J,Z,Q){let Y=await Promise.all(J.map(async($)=>{let H=Z.routes[$.route.id];if(H){let K=await Xr(H,Q);return K.links?K.links():[]}return[]}));return Br(Y.flat(1).filter(Gr).filter(($)=>$.rel==="stylesheet"||$.rel==="preload").map(($)=>$.rel==="stylesheet"?{...$,rel:"prefetch",as:"style"}:{...$,rel:"prefetch"}))}function Wb(J,Z,Q,Y,$,H){let K=(q,L)=>{if(!Q[L])return!0;return q.route.id!==Q[L].route.id},B=(q,L)=>{return Q[L].pathname!==q.pathname||Q[L].route.path?.endsWith("*")&&Q[L].params["*"]!==q.params["*"]};if(H==="assets")return Z.filter((q,L)=>K(q,L)||B(q,L));if(H==="data")return Z.filter((q,L)=>{let O=Y.routes[q.route.id];if(!O||!O.hasLoader)return!1;if(K(q,L)||B(q,L))return!0;if(q.route.shouldRevalidate){let z=q.route.shouldRevalidate({currentUrl:new URL($.pathname+$.search+$.hash,window.origin),currentParams:Q[0]?.params||{},nextUrl:new URL(J,window.origin),nextParams:q.params,defaultShouldRevalidate:!0});if(typeof z==="boolean")return z}return!0});return[]}function Hr(J,Z,{includeHydrateFallback:Q}={}){return Wr(J.map((Y)=>{let $=Z.routes[Y.route.id];if(!$)return[];let H=[$.module];if($.clientActionModule)H=H.concat($.clientActionModule);if($.clientLoaderModule)H=H.concat($.clientLoaderModule);if(Q&&$.hydrateFallbackModule)H=H.concat($.hydrateFallbackModule);if($.imports)H=H.concat($.imports);return H}).flat(1))}function Wr(J){return[...new Set(J)]}function Kr(J){let Z={},Q=Object.keys(J).sort();for(let Y of Q)Z[Y]=J[Y];return Z}function Br(J,Z){let Q=new Set,Y=new Set(Z);return J.reduce(($,H)=>{if(Z&&!Yr(H)&&H.as==="script"&&H.href&&Y.has(H.href))return $;let B=JSON.stringify(Kr(H));if(!Q.has(B))Q.add(B),$.push({key:B,link:H});return $},[])}function Rb(){let J=G4.useContext(eH);return yI(J,"You must render this element inside a <DataRouterContext.Provider> element"),J}function Or(){let J=G4.useContext(uq);return yI(J,"You must render this element inside a <DataRouterStateContext.Provider> element"),J}var zz=G4.createContext(void 0);zz.displayName="FrameworkContext";function Cb(){let J=G4.useContext(zz);return yI(J,"You must render this element inside a <HydratedRouter> element"),J}function zr(J,Z){let Q=G4.useContext(zz),[Y,$]=G4.useState(!1),[H,K]=G4.useState(!1),{onFocus:B,onBlur:q,onMouseEnter:L,onMouseLeave:O,onTouchStart:z}=Z,F=G4.useRef(null);G4.useEffect(()=>{if(J==="render")K(!0);if(J==="viewport"){let j=new IntersectionObserver((D)=>{D.forEach((w)=>{K(w.isIntersecting)})},{threshold:0.5});if(F.current)j.observe(F.current);return()=>{j.disconnect()}}},[J]),G4.useEffect(()=>{if(Y){let M=setTimeout(()=>{K(!0)},100);return()=>{clearTimeout(M)}}},[Y]);let V=()=>{$(!0)},A=()=>{$(!1),K(!1)};if(!Q)return[!1,F,{}];if(J!=="intent")return[H,F,{}];return[H,F,{onFocus:Lz(B,V),onBlur:Lz(q,A),onMouseEnter:Lz(L,V),onMouseLeave:Lz(O,A),onTouchStart:Lz(z,V)}]}function Lz(J,Z){return(Q)=>{if(J&&J(Q),!Q.defaultPrevented)Z(Q)}}function bb({page:J,...Z}){let{router:Q}=Rb(),Y=G4.useMemo(()=>kI(Q.routes,J,Q.basename),[Q.routes,J,Q.basename]);if(!Y)return null;return G4.createElement(Fr,{page:J,matches:Y,...Z})}function Nr(J){let{manifest:Z,routeModules:Q}=Cb(),[Y,$]=G4.useState([]);return G4.useEffect(()=>{let H=!1;return $r(J,Z,Q).then((K)=>{if(!H)$(K)}),()=>{H=!0}},[J,Z,Q]),Y}function Fr({page:J,matches:Z,...Q}){let Y=GQ(),{manifest:$,routeModules:H}=Cb(),{basename:K}=Rb(),{loaderData:B,matches:q}=Or(),L=G4.useMemo(()=>Wb(J,Z,q,$,Y,"data"),[J,Z,q,$,Y]),O=G4.useMemo(()=>Wb(J,Z,q,$,Y,"assets"),[J,Z,q,$,Y]),z=G4.useMemo(()=>{if(J===Y.pathname+Y.search+Y.hash)return[];let A=new Set,M=!1;if(Z.forEach((D)=>{let w=$.routes[D.route.id];if(!w||!w.hasLoader)return;if(!L.some((C)=>C.route.id===D.route.id)&&D.route.id in B&&H[D.route.id]?.shouldRevalidate)M=!0;else if(w.hasClientLoader)M=!0;else A.add(D.route.id)}),A.size===0)return[];let j=Qr(J,K,"data");if(M&&A.size>0)j.searchParams.set("_routes",Z.filter((D)=>A.has(D.route.id)).map((D)=>D.route.id).join(","));return[j.pathname+j.search]},[K,B,Y,$,L,Z,J,H]),F=G4.useMemo(()=>Hr(O,$),[O,$]),V=Nr(O);return G4.createElement(G4.Fragment,null,z.map((A)=>G4.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...Q})),F.map((A)=>G4.createElement("link",{key:A,rel:"modulepreload",href:A,...Q})),V.map(({key:A,link:M})=>G4.createElement("link",{key:A,nonce:Q.nonce,...M})))}function Ar(...J){return(Z)=>{J.forEach((Q)=>{if(typeof Q==="function")Q(Z);else if(Q!=null)Q.current=Z})}}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{if(vb)window.__reactRouterVersion="7.9.1"}catch(J){}function hI({basename:J,children:Z,window:Q}){let Y=S2.useRef();if(Y.current==null)Y.current=Kb({window:Q,v5Compat:!0});let $=Y.current,[H,K]=S2.useState({action:$.action,location:$.location}),B=S2.useCallback((q)=>{S2.startTransition(()=>K(q))},[K]);return S2.useLayoutEffect(()=>$.listen(B),[$,B]),S2.createElement(TI,{basename:J,children:Z,location:H.location,navigationType:H.action,navigator:$})}function fb({basename:J,children:Z,history:Q}){let[Y,$]=S2.useState({action:Q.action,location:Q.location}),H=S2.useCallback((K)=>{S2.startTransition(()=>$(K))},[$]);return S2.useLayoutEffect(()=>Q.listen(H),[Q,H]),S2.createElement(TI,{basename:J,children:Z,location:Y.location,navigationType:Y.action,navigator:Q})}fb.displayName="unstable_HistoryRouter";var Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NX=S2.forwardRef(function({onClick:Z,discover:Q="render",prefetch:Y="none",relative:$,reloadDocument:H,replace:K,state:B,target:q,to:L,preventScrollReset:O,viewTransition:z,...F},V){let{basename:A}=S2.useContext(a8),M=typeof L==="string"&&Sb.test(L),j,D=!1;if(typeof L==="string"&&M){if(j=L,vb)try{let S=new URL(window.location.href),d=L.startsWith("//")?new URL(S.protocol+L):new URL(L),o=YQ(d.pathname,A);if(d.origin===S.origin&&o!=null)L=o+d.search+d.hash;else D=!0}catch(S){JJ(!1,`<Link to="${L}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let w=Ab(L,{relative:$}),[C,I,b]=zr(Y,F),E=hb(L,{replace:K,state:B,target:q,preventScrollReset:O,relative:$,viewTransition:z});function k(S){if(Z)Z(S);if(!S.defaultPrevented)E(S)}let T=S2.createElement("a",{...F,...b,href:j||w,onClick:D||H?Z:k,ref:Ar(V,I),target:q,"data-discover":!M&&Q==="render"?"true":void 0});return C&&!M?S2.createElement(S2.Fragment,null,T,S2.createElement(bb,{page:w})):T});NX.displayName="Link";var Tb=S2.forwardRef(function({"aria-current":Z="page",caseSensitive:Q=!1,className:Y="",end:$=!1,style:H,to:K,viewTransition:B,children:q,...L},O){let z=cq(K,{relative:L.relative}),F=GQ(),V=S2.useContext(uq),{navigator:A,basename:M}=S2.useContext(a8),j=V!=null&&cb(z)&&B===!0,D=A.encodeLocation?A.encodeLocation(z).pathname:z.pathname,w=F.pathname,C=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;if(!Q)w=w.toLowerCase(),C=C?C.toLowerCase():null,D=D.toLowerCase();if(C&&M)C=YQ(C,M)||C;let I=D!=="/"&&D.endsWith("/")?D.length-1:D.length,b=w===D||!$&&w.startsWith(D)&&w.charAt(I)==="/",E=C!=null&&(C===D||!$&&C.startsWith(D)&&C.charAt(D.length)==="/"),k={isActive:b,isPending:E,isTransitioning:j},T=b?Z:void 0,S;if(typeof Y==="function")S=Y(k);else S=[Y,b?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let d=typeof H==="function"?H(k):H;return S2.createElement(NX,{...L,"aria-current":T,className:S,ref:O,style:d,to:K,viewTransition:B},typeof q==="function"?q(k):q)});Tb.displayName="NavLink";var Pb=S2.forwardRef(({discover:J="render",fetcherKey:Z,navigate:Q,reloadDocument:Y,replace:$,state:H,method:K=LA,action:B,onSubmit:q,relative:L,preventScrollReset:O,viewTransition:z,...F},V)=>{let A=ub(),M=db(B,{relative:L}),j=K.toLowerCase()==="get"?"get":"post",D=typeof B==="string"&&Sb.test(B);return S2.createElement("form",{ref:V,method:j,action:M,onSubmit:Y?q:(C)=>{if(q&&q(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,b=I?.getAttribute("formmethod")||K;A(I||C.currentTarget,{fetcherKey:Z,method:b,navigate:Q,replace:$,state:H,relative:L,preventScrollReset:O,viewTransition:z})},...F,"data-discover":!D&&J==="render"?"true":void 0})});Pb.displayName="Form";function gb({getKey:J,storageKey:Z,...Q}){let Y=S2.useContext(zz),{basename:$}=S2.useContext(a8),H=GQ(),K=fI();mb({getKey:J,storageKey:Z});let B=S2.useMemo(()=>{if(!Y||!J)return null;let L=EI(H,K,$,J);return L!==H.key?L:null},[]);if(!Y||Y.isSpaMode)return null;let q=((L,O)=>{if(!window.history.state||!window.history.state.key){let z=Math.random().toString(32).slice(2);window.history.replaceState({key:z},"")}try{let F=JSON.parse(sessionStorage.getItem(L)||"{}")[O||window.history.state.key];if(typeof F==="number")window.scrollTo(0,F)}catch(z){console.error(z),sessionStorage.removeItem(L)}}).toString();return S2.createElement("script",{...Q,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${q})(${JSON.stringify(Z||wI)}, ${JSON.stringify(B)})`}})}gb.displayName="ScrollRestoration";function yb(J){return`${J} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uI(J){let Z=S2.useContext(eH);return t4(Z,yb(J)),Z}function Mr(J){let Z=S2.useContext(uq);return t4(Z,yb(J)),Z}function hb(J,{target:Z,replace:Q,state:Y,preventScrollReset:$,relative:H,viewTransition:K}={}){let B=Vb(),q=GQ(),L=cq(J,{relative:H});return S2.useCallback((O)=>{if(ro(O,Z)){O.preventDefault();let z=Q!==void 0?Q:hq(q)===hq(L);B(J,{replace:z,state:Y,preventScrollReset:$,relative:H,viewTransition:K})}},[q,B,L,Q,Y,Z,J,$,H,K])}var _r=0,Vr=()=>`__${String(++_r)}__`;function ub(){let{router:J}=uI("useSubmit"),{basename:Z}=S2.useContext(a8),Q=po();return S2.useCallback(async(Y,$={})=>{let{action:H,method:K,encType:B,formData:q,body:L}=Jr(Y,Z);if($.navigate===!1){let O=$.fetcherKey||Vr();await J.fetch(O,Q,$.action||H,{preventScrollReset:$.preventScrollReset,formData:q,body:L,formMethod:$.method||K,formEncType:$.encType||B,flushSync:$.flushSync})}else await J.navigate($.action||H,{preventScrollReset:$.preventScrollReset,formData:q,body:L,formMethod:$.method||K,formEncType:$.encType||B,replace:$.replace,state:$.state,fromRouteId:Q,flushSync:$.flushSync,viewTransition:$.viewTransition})},[J,Z,Q])}function db(J,{relative:Z}={}){let{basename:Q}=S2.useContext(a8),Y=S2.useContext(lJ);t4(Y,"useFormAction must be used inside a RouteContext");let[$]=Y.matches.slice(-1),H={...cq(J?J:".",{relative:Z})},K=GQ();if(J==null){H.search=K.search;let B=new URLSearchParams(H.search),q=B.getAll("index");if(q.some((O)=>O==="")){B.delete("index"),q.filter((z)=>z).forEach((z)=>B.append("index",z));let O=B.toString();H.search=O?`?${O}`:""}}if((!J||J===".")&&$.route.index)H.search=H.search?H.search.replace(/^\?/,"?index&"):"?index";if(Q!=="/")H.pathname=H.pathname==="/"?Q:zX([Q,H.pathname]);return hq(H)}var wI="react-router-scroll-positions",UA={};function EI(J,Z,Q,Y){let $=null;if(Y)if(Q!=="/")$=Y({...J,pathname:YQ(J.pathname,Q)||J.pathname},Z);else $=Y(J,Z);if($==null)$=J.key;return $}function mb({getKey:J,storageKey:Z}={}){let{router:Q}=uI("useScrollRestoration"),{restoreScrollPosition:Y,preventScrollReset:$}=Mr("useScrollRestoration"),{basename:H}=S2.useContext(a8),K=GQ(),B=fI(),q=wb();if(S2.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),Ir(S2.useCallback(()=>{if(q.state==="idle"){let L=EI(K,B,H,J);UA[L]=window.scrollY}try{sessionStorage.setItem(Z||wI,JSON.stringify(UA))}catch(L){JJ(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${L}).`)}window.history.scrollRestoration="auto"},[q.state,J,H,K,B,Z])),typeof document<"u")S2.useLayoutEffect(()=>{try{let L=sessionStorage.getItem(Z||wI);if(L)UA=JSON.parse(L)}catch(L){}},[Z]),S2.useLayoutEffect(()=>{let L=Q?.enableScrollRestoration(UA,()=>window.scrollY,J?(O,z)=>EI(O,z,H,J):void 0);return()=>L&&L()},[Q,H,J]),S2.useLayoutEffect(()=>{if(Y===!1)return;if(typeof Y==="number"){window.scrollTo(0,Y);return}try{if(K.hash){let L=document.getElementById(decodeURIComponent(K.hash.slice(1)));if(L){L.scrollIntoView();return}}}catch{JJ(!1,`"${K.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}if($===!0)return;window.scrollTo(0,0)},[K,Y,$])}function Ir(J,Z){let{capture:Q}=Z||{};S2.useEffect(()=>{let Y=Q!=null?{capture:Q}:void 0;return window.addEventListener("pagehide",J,Y),()=>{window.removeEventListener("pagehide",J,Y)}},[J,Q])}function cb(J,{relative:Z}={}){let Q=S2.useContext(xI);t4(Q!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Y}=uI("useViewTransitionState"),$=cq(J,{relative:Z});if(!Q.isTransitioning)return!1;let H=YQ(Q.currentLocation.pathname,Y)||Q.currentLocation.pathname,K=YQ(Q.nextLocation.pathname,Y)||Q.nextLocation.pathname;return Oz($.pathname,K)!=null||Oz($.pathname,H)!=null}var jr={black:"#000",white:"#fff"},pq=jr;var Dr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},JW=Dr;var wr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ZW=wr;var Er={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},QW=Er;var kr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},XW=kr;var xr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},YW=xr;var Rr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},lq=Rr;var Cr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},lb=Cr;var qG="$$material";function GW(){return GW=Object.assign?Object.assign.bind():function(J){for(var Z=1;Z<arguments.length;Z++){var Q=arguments[Z];for(var Y in Q)({}).hasOwnProperty.call(Q,Y)&&(J[Y]=Q[Y])}return J},GW.apply(null,arguments)}var QJ=e(J0(),1),EA=e(J0(),1);var br=!0;function vr(J){if(J.sheet)return J.sheet;for(var Z=0;Z<document.styleSheets.length;Z++)if(document.styleSheets[Z].ownerNode===J)return document.styleSheets[Z];return}function fr(J){var Z=document.createElement("style");if(Z.setAttribute("data-emotion",J.key),J.nonce!==void 0)Z.setAttribute("nonce",J.nonce);return Z.appendChild(document.createTextNode("")),Z.setAttribute("data-s",""),Z}var ib=function(){function J(Q){var Y=this;this._insertTag=function($){var H;if(Y.tags.length===0)if(Y.insertionPoint)H=Y.insertionPoint.nextSibling;else if(Y.prepend)H=Y.container.firstChild;else H=Y.before;else H=Y.tags[Y.tags.length-1].nextSibling;Y.container.insertBefore($,H),Y.tags.push($)},this.isSpeedy=Q.speedy===void 0?!br:Q.speedy,this.tags=[],this.ctr=0,this.nonce=Q.nonce,this.key=Q.key,this.container=Q.container,this.prepend=Q.prepend,this.insertionPoint=Q.insertionPoint,this.before=null}var Z=J.prototype;return Z.hydrate=function(Y){Y.forEach(this._insertTag)},Z.insert=function(Y){if(this.ctr%(this.isSpeedy?65000:1)===0)this._insertTag(fr(this));var $=this.tags[this.tags.length-1];{var H=Y.charCodeAt(0)===64&&Y.charCodeAt(1)===105;if(H&&this._alreadyInsertedOrderInsensitiveRule)console.error(`You're attempting to insert the following rule:
`+Y+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.");this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!H}if(this.isSpeedy){var K=vr($);try{K.insertRule(Y,K.cssRules.length)}catch(B){if(!/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(Y))console.error('There was a problem inserting the following rule: "'+Y+'"',B)}}else $.appendChild(document.createTextNode(Y));this.ctr++},Z.flush=function(){this.tags.forEach(function(Y){var $;return($=Y.parentNode)==null?void 0:$.removeChild(Y)}),this.tags=[],this.ctr=0,this._alreadyInsertedOrderInsensitiveRule=!1},J}();var Y9="-ms-",Nz="-moz-",t5="-webkit-",iq="comm",nq="rule",aq="decl";var nb="@import";var FA="@keyframes";var ab="@layer";var sb=Math.abs,$W=String.fromCharCode,ob=Object.assign;function rb(J,Z){return Q6(J,0)^45?(((Z<<2^Q6(J,0))<<2^Q6(J,1))<<2^Q6(J,2))<<2^Q6(J,3):0}function AA(J){return J.trim()}function dI(J,Z){return(J=Z.exec(J))?J[0]:J}function m5(J,Z,Q){return J.replace(Z,Q)}function Fz(J,Z){return J.indexOf(Z)}function Q6(J,Z){return J.charCodeAt(Z)|0}function UG(J,Z,Q){return J.slice(Z,Q)}function J8(J){return J.length}function sq(J){return J.length}function oq(J,Z){return Z.push(J),J}function mI(J,Z){return J.map(Z).join("")}var MA=1,rq=1,tb=0,Z8=0,W6=0,eq="";function Az(J,Z,Q,Y,$,H,K){return{value:J,root:Z,parent:Q,type:Y,props:$,children:H,line:MA,column:rq,length:K,return:""}}function JU(J,Z){return ob(Az("",null,null,"",null,null,0),J,{length:-J.length},Z)}function eb(){return W6}function Jv(){if(W6=Z8>0?Q6(eq,--Z8):0,rq--,W6===10)rq=1,MA--;return W6}function Q8(){if(W6=Z8<tb?Q6(eq,Z8++):0,rq++,W6===10)rq=1,MA++;return W6}function ZJ(){return Q6(eq,Z8)}function Mz(){return Z8}function ZU(J,Z){return UG(eq,J,Z)}function tq(J){switch(J){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _A(J){return MA=rq=1,tb=J8(eq=J),Z8=0,[]}function VA(J){return eq="",J}function QU(J){return AA(ZU(Z8-1,cI(J===91?J+2:J===40?J+1:J)))}function Zv(J){while(W6=ZJ())if(W6<33)Q8();else break;return tq(J)>2||tq(W6)>3?"":" "}function Qv(J,Z){while(--Z&&Q8())if(W6<48||W6>102||W6>57&&W6<65||W6>70&&W6<97)break;return ZU(J,Mz()+(Z<6&&ZJ()==32&&Q8()==32))}function cI(J){while(Q8())switch(W6){case J:return Z8;case 34:case 39:if(J!==34&&J!==39)cI(W6);break;case 40:if(J===41)cI(J);break;case 92:Q8();break}return Z8}function Xv(J,Z){while(Q8())if(J+W6===57)break;else if(J+W6===84&&ZJ()===47)break;return"/*"+ZU(Z,Z8-1)+"*"+$W(J===47?J:Q8())}function Yv(J){while(!tq(ZJ()))Q8();return ZU(J,Z8)}function Hv(J){return VA(IA("",null,null,null,[""],J=_A(J),0,[0],J))}function IA(J,Z,Q,Y,$,H,K,B,q){var L=0,O=0,z=K,F=0,V=0,A=0,M=1,j=1,D=1,w=0,C="",I=$,b=H,E=Y,k=C;while(j)switch(A=w,w=Q8()){case 40:if(A!=108&&Q6(k,z-1)==58){if(Fz(k+=m5(QU(w),"&","&\f"),"&\f")!=-1)D=-1;break}case 34:case 39:case 91:k+=QU(w);break;case 9:case 10:case 13:case 32:k+=Zv(A);break;case 92:k+=Qv(Mz()-1,7);continue;case 47:switch(ZJ()){case 42:case 47:oq(Sr(Xv(Q8(),Mz()),Z,Q),q);break;default:k+="/"}break;case 123*M:B[L++]=J8(k)*D;case 125*M:case 59:case 0:switch(w){case 0:case 125:j=0;case 59+O:if(D==-1)k=m5(k,/\f/g,"");if(V>0&&J8(k)-z)oq(V>32?$v(k+";",Y,Q,z-1):$v(m5(k," ","")+";",Y,Q,z-2),q);break;case 59:k+=";";default:if(oq(E=Gv(k,Z,Q,L,O,$,B,C,I=[],b=[],z),H),w===123)if(O===0)IA(k,Z,E,E,I,H,z,B,b);else switch(F===99&&Q6(k,3)===110?100:F){case 100:case 108:case 109:case 115:IA(J,E,E,Y&&oq(Gv(J,E,E,0,0,$,B,C,$,I=[],z),b),$,b,z,B,Y?I:b);break;default:IA(k,E,E,E,[""],b,0,B,b)}}L=O=V=0,M=D=1,C=k="",z=K;break;case 58:z=1+J8(k),V=A;default:if(M<1){if(w==123)--M;else if(w==125&&M++==0&&Jv()==125)continue}switch(k+=$W(w),w*M){case 38:D=O>0?1:(k+="\f",-1);break;case 44:B[L++]=(J8(k)-1)*D,D=1;break;case 64:if(ZJ()===45)k+=QU(Q8());F=ZJ(),O=z=J8(C=k+=Yv(Mz())),w++;break;case 45:if(A===45&&J8(k)==2)M=0}}return H}function Gv(J,Z,Q,Y,$,H,K,B,q,L,O){var z=$-1,F=$===0?H:[""],V=sq(F);for(var A=0,M=0,j=0;A<Y;++A)for(var D=0,w=UG(J,z+1,z=sb(M=K[A])),C=J;D<V;++D)if(C=AA(M>0?F[D]+" "+w:m5(w,/&\f/g,F[D])))q[j++]=C;return Az(J,Z,Q,$===0?nq:B,q,L,O)}function Sr(J,Z,Q){return Az(J,Z,Q,iq,$W(eb()),UG(J,2,-2),0)}function $v(J,Z,Q,Y){return Az(J,Z,Q,aq,UG(J,0,Y),UG(J,Y+1,-1),Y)}function HW(J,Z){var Q="",Y=sq(J);for(var $=0;$<Y;$++)Q+=Z(J[$],$,J,Z)||"";return Q}function Wv(J,Z,Q,Y){switch(J.type){case ab:if(J.children.length)break;case nb:case aq:return J.return=J.return||J.value;case iq:return"";case FA:return J.return=J.value+"{"+HW(J.children,Y)+"}";case nq:J.value=J.props.join(",")}return J8(Q=HW(J.children,Y))?J.return=J.value+"{"+Q+"}":""}function Kv(J){var Z=sq(J);return function(Q,Y,$,H){var K="";for(var B=0;B<Z;B++)K+=J[B](Q,Y,$,H)||"";return K}}function jA(J){var Z=Object.create(null);return function(Q){if(Z[Q]===void 0)Z[Q]=J(Q);return Z[Q]}}var Tr=function(Z,Q,Y){var $=0,H=0;while(!0){if($=H,H=ZJ(),$===38&&H===12)Q[Y]=1;if(tq(H))break;Q8()}return ZU(Z,Z8)},Pr=function(Z,Q){var Y=-1,$=44;do switch(tq($)){case 0:if($===38&&ZJ()===12)Q[Y]=1;Z[Y]+=Tr(Z8-1,Q,Y);break;case 2:Z[Y]+=QU($);break;case 4:if($===44){Z[++Y]=ZJ()===58?"&\f":"",Q[Y]=Z[Y].length;break}default:Z[Y]+=$W($)}while($=Q8());return Z},gr=function(Z,Q){return VA(Pr(_A(Z),Q))},Bv=new WeakMap,yr=function(Z){if(Z.type!=="rule"||!Z.parent||Z.length<1)return;var{value:Q,parent:Y}=Z,$=Z.column===Y.column&&Z.line===Y.line;while(Y.type!=="rule")if(Y=Y.parent,!Y)return;if(Z.props.length===1&&Q.charCodeAt(0)!==58&&!Bv.get(Y))return;if($)return;Bv.set(Z,!0);var H=[],K=gr(Q,H),B=Y.props;for(var q=0,L=0;q<K.length;q++)for(var O=0;O<B.length;O++,L++)Z.props[L]=H[q]?K[q].replace(/&\f/g,B[O]):B[O]+" "+K[q]},hr=function(Z){if(Z.type==="decl"){var Q=Z.value;if(Q.charCodeAt(0)===108&&Q.charCodeAt(2)===98)Z.return="",Z.value=""}},ur="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",dr=function(Z){return Z.type==="comm"&&Z.children.indexOf(ur)>-1},mr=function(Z){return function(Q,Y,$){if(Q.type!=="rule"||Z.compat)return;var H=Q.value.match(/(:first|:nth|:nth-last)-child/g);if(H){var K=!!Q.parent,B=K?Q.parent.children:$;for(var q=B.length-1;q>=0;q--){var L=B[q];if(L.line<Q.line)break;if(L.column<Q.column){if(dr(L))return;break}}H.forEach(function(O){console.error('The pseudo class "'+O+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+O.split("-child")[0]+'-of-type".')})}}},Uv=function(Z){return Z.type.charCodeAt(1)===105&&Z.type.charCodeAt(0)===64},cr=function(Z,Q){for(var Y=Z-1;Y>=0;Y--)if(!Uv(Q[Y]))return!0;return!1},qv=function(Z){Z.type="",Z.value="",Z.return="",Z.children="",Z.props=""},pr=function(Z,Q,Y){if(!Uv(Z))return;if(Z.parent)console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),qv(Z);else if(cr(Q,Y))console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),qv(Z)};function Lv(J,Z){switch(rb(J,Z)){case 5103:return t5+"print-"+J+J;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return t5+J+J;case 5349:case 4246:case 4810:case 6968:case 2756:return t5+J+Nz+J+Y9+J+J;case 6828:case 4268:return t5+J+Y9+J+J;case 6165:return t5+J+Y9+"flex-"+J+J;case 5187:return t5+J+m5(J,/(\w+).+(:[^]+)/,t5+"box-$1$2"+Y9+"flex-$1$2")+J;case 5443:return t5+J+Y9+"flex-item-"+m5(J,/flex-|-self/,"")+J;case 4675:return t5+J+Y9+"flex-line-pack"+m5(J,/align-content|flex-|-self/,"")+J;case 5548:return t5+J+Y9+m5(J,"shrink","negative")+J;case 5292:return t5+J+Y9+m5(J,"basis","preferred-size")+J;case 6060:return t5+"box-"+m5(J,"-grow","")+t5+J+Y9+m5(J,"grow","positive")+J;case 4554:return t5+m5(J,/([^-])(transform)/g,"$1"+t5+"$2")+J;case 6187:return m5(m5(m5(J,/(zoom-|grab)/,t5+"$1"),/(image-set)/,t5+"$1"),J,"")+J;case 5495:case 3959:return m5(J,/(image-set\([^]*)/,t5+"$1$`$1");case 4968:return m5(m5(J,/(.+:)(flex-)?(.*)/,t5+"box-pack:$3"+Y9+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+t5+J+J;case 4095:case 3583:case 4068:case 2532:return m5(J,/(.+)-inline(.+)/,t5+"$1$2")+J;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(J8(J)-1-Z>6)switch(Q6(J,Z+1)){case 109:if(Q6(J,Z+4)!==45)break;case 102:return m5(J,/(.+:)(.+)-([^]+)/,"$1"+t5+"$2-$3$1"+Nz+(Q6(J,Z+3)==108?"$3":"$2-$3"))+J;case 115:return~Fz(J,"stretch")?Lv(m5(J,"stretch","fill-available"),Z)+J:J}break;case 4949:if(Q6(J,Z+1)!==115)break;case 6444:switch(Q6(J,J8(J)-3-(~Fz(J,"!important")&&10))){case 107:return m5(J,":",":"+t5)+J;case 101:return m5(J,/(.+:)([^;!]+)(;|!.+)?/,"$1"+t5+(Q6(J,14)===45?"inline-":"")+"box$3$1"+t5+"$2$3$1"+Y9+"$2box$3")+J}break;case 5936:switch(Q6(J,Z+11)){case 114:return t5+J+Y9+m5(J,/[svh]\w+-[tblr]{2}/,"tb")+J;case 108:return t5+J+Y9+m5(J,/[svh]\w+-[tblr]{2}/,"tb-rl")+J;case 45:return t5+J+Y9+m5(J,/[svh]\w+-[tblr]{2}/,"lr")+J}return t5+J+Y9+J+J}return J}var lr=function(Z,Q,Y,$){if(Z.length>-1){if(!Z.return)switch(Z.type){case aq:Z.return=Lv(Z.value,Z.length);break;case FA:return HW([JU(Z,{value:m5(Z.value,"@","@"+t5)})],$);case nq:if(Z.length)return mI(Z.props,function(H){switch(dI(H,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return HW([JU(Z,{props:[m5(H,/:(read-\w+)/,":"+Nz+"$1")]})],$);case"::placeholder":return HW([JU(Z,{props:[m5(H,/:(plac\w+)/,":"+t5+"input-$1")]}),JU(Z,{props:[m5(H,/:(plac\w+)/,":"+Nz+"$1")]}),JU(Z,{props:[m5(H,/:(plac\w+)/,Y9+"input-$1")]})],$)}return""})}}},ir=[lr],pI;lI=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g,pI=function(Z){var Q=Z.match(lI);if(!Q)return;return Q[Q.length-1]};var lI,Ov=function(Z){var Q=Z.key;if(!Q)throw Error(`You have to configure \`key\` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.
If multiple caches share the same key they might "fight" for each other's style elements.`);if(Q==="css"){var Y=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Y,function(M){var j=M.getAttribute("data-emotion");if(j.indexOf(" ")===-1)return;document.head.appendChild(M),M.setAttribute("data-s","")})}var $=Z.stylisPlugins||ir;if(/[^a-z-]/.test(Q))throw Error('Emotion key must only contain lower case alphabetical characters and - but "'+Q+'" was passed');var H={},K,B=[];K=Z.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+Q+' "]'),function(M){var j=M.getAttribute("data-emotion").split(" ");for(var D=1;D<j.length;D++)H[j[D]]=!0;B.push(M)});var q,L=[yr,hr];L.push(mr({get compat(){return A.compat}}),pr);{var O,z=[Wv,function(M){if(!M.root){if(M.return)O.insert(M.return);else if(M.value&&M.type!==iq)O.insert(M.value+"{}")}}],F=Kv(L.concat($,z)),V=function(j){return HW(Hv(j),F)};q=function(j,D,w,C){if(O=w,pI){var I=pI(D.styles);if(I)O={insert:function(E){w.insert(E+I)}}}if(V(j?j+"{"+D.styles+"}":D.styles),C)A.inserted[D.name]=!0}}var A={key:Q,sheet:new ib({key:Q,container:K,nonce:Z.nonce,speedy:Z.speedy,prepend:Z.prepend,insertionPoint:Z.insertionPoint}),nonce:Z.nonce,inserted:H,registered:{},insert:q};return A.sheet.hydrate(B),A};var Zt=!0;function YU(J,Z,Q){var Y="";return Q.split(" ").forEach(function($){if(J[$]!==void 0)Z.push(J[$]+";");else if($)Y+=$+" "}),Y}var WW=function(Z,Q,Y){var $=Z.key+"-"+Q.name;if((Y===!1||Zt===!1)&&Z.registered[$]===void 0)Z.registered[$]=Q.styles},KW=function(Z,Q,Y){WW(Z,Q,Y);var $=Z.key+"-"+Q.name;if(Z.inserted[Q.name]===void 0){var H=Q;do Z.insert(Q===H?"."+$:"",H,Z.sheet,!0),H=H.next;while(H!==void 0)}};function jv(J){var Z=0,Q,Y=0,$=J.length;for(;$>=4;++Y,$-=4)Q=J.charCodeAt(Y)&255|(J.charCodeAt(++Y)&255)<<8|(J.charCodeAt(++Y)&255)<<16|(J.charCodeAt(++Y)&255)<<24,Q=(Q&65535)*1540483477+((Q>>>16)*59797<<16),Q^=Q>>>24,Z=(Q&65535)*1540483477+((Q>>>16)*59797<<16)^(Z&65535)*1540483477+((Z>>>16)*59797<<16);switch($){case 3:Z^=(J.charCodeAt(Y+2)&255)<<16;case 2:Z^=(J.charCodeAt(Y+1)&255)<<8;case 1:Z^=J.charCodeAt(Y)&255,Z=(Z&65535)*1540483477+((Z>>>16)*59797<<16)}return Z^=Z>>>13,Z=(Z&65535)*1540483477+((Z>>>16)*59797<<16),((Z^Z>>>15)>>>0).toString(36)}var Dv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Qt=!0,wv=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,Xt="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",Yt=/[A-Z]|^ms/g,xv=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eI=function(Z){return Z.charCodeAt(1)===45},Ev=function(Z){return Z!=null&&typeof Z!=="boolean"},nI=jA(function(J){return eI(J)?J:J.replace(Yt,"-$&").toLowerCase()}),wA=function(Z,Q){switch(Z){case"animation":case"animationName":if(typeof Q==="string")return Q.replace(xv,function(Y,$,H){return $Q={name:$,styles:H,next:$Q},$})}if(Dv[Z]!==1&&!eI(Z)&&typeof Q==="number"&&Q!==0)return Q+"px";return Q};aI=/(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,sI=["normal","none","initial","inherit","unset"],oI=wA,rI=/^-ms-/,tI=/-(.)/g,DA={},wA=function(Z,Q){if(Z==="content"){if(typeof Q!=="string"||sI.indexOf(Q)===-1&&!aI.test(Q)&&(Q.charAt(0)!==Q.charAt(Q.length-1)||Q.charAt(0)!=='"'&&Q.charAt(0)!=="'"))throw Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+Q+"\"'`")}var Y=oI(Z,Q);if(Y!==""&&!eI(Z)&&Z.indexOf("-")!==-1&&DA[Z]===void 0)DA[Z]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+Z.replace(rI,"ms-").replace(tI,function($,H){return H.toUpperCase()})+"?");return Y};var aI,sI,oI,rI,tI,DA,Rv="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function _z(J,Z,Q){if(Q==null)return"";var Y=Q;if(Y.__emotion_styles!==void 0){if(String(Y)==="NO_COMPONENT_SELECTOR")throw Error(Rv);return Y}switch(typeof Q){case"boolean":return"";case"object":{var $=Q;if($.anim===1)return $Q={name:$.name,styles:$.styles,next:$Q},$.name;var H=Q;if(H.styles!==void 0){var K=H.next;if(K!==void 0)while(K!==void 0)$Q={name:K.name,styles:K.styles,next:$Q},K=K.next;var B=H.styles+";";return B}return Gt(J,Z,Q)}case"function":{if(J!==void 0){var q=$Q,L=Q(J);return $Q=q,_z(J,Z,L)}else console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break}case"string":{var O=[],z=Q.replace(xv,function(A,M,j){var D="animation"+O.length;return O.push("const "+D+" = keyframes`"+j.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+D+"}"});if(O.length)console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(O,["`"+z+"`"]).join(`
`)+`

You should wrap it with \`css\` like this:

css\``+z+"`")}break}var F=Q;if(Z==null)return F;var V=Z[F];return V!==void 0?V:F}function Gt(J,Z,Q){var Y="";if(Array.isArray(Q))for(var $=0;$<Q.length;$++)Y+=_z(J,Z,Q[$])+";";else for(var H in Q){var K=Q[H];if(typeof K!=="object"){var B=K;if(Z!=null&&Z[B]!==void 0)Y+=H+"{"+Z[B]+"}";else if(Ev(B))Y+=nI(H)+":"+wA(H,B)+";"}else{if(H==="NO_COMPONENT_SELECTOR"&&Qt)throw Error(Rv);if(Array.isArray(K)&&typeof K[0]==="string"&&(Z==null||Z[K[0]]===void 0)){for(var q=0;q<K.length;q++)if(Ev(K[q]))Y+=nI(H)+":"+wA(H,K[q])+";"}else{var L=_z(J,Z,K);switch(H){case"animation":case"animationName":{Y+=nI(H)+":"+L+";";break}default:{if(H==="undefined")console.error(Xt);Y+=H+"{"+L+"}"}}}}}return Y}var kv=/label:\s*([^\s;{]+)\s*(;|$)/g,$Q;function iJ(J,Z,Q){if(J.length===1&&typeof J[0]==="object"&&J[0]!==null&&J[0].styles!==void 0)return J[0];var Y=!0,$="";$Q=void 0;var H=J[0];if(H==null||H.raw===void 0)Y=!1,$+=_z(Q,Z,H);else{var K=H;if(K[0]===void 0)console.error(wv);$+=K[0]}for(var B=1;B<J.length;B++)if($+=_z(Q,Z,J[B]),Y){var q=H;if(q[B]===void 0)console.error(wv);$+=q[B]}kv.lastIndex=0;var L="",O;while((O=kv.exec($))!==null)L+="-"+O[1];var z=jv($)+L;{var F={name:z,styles:$,next:$Q,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}};return F}}var BW=e(J0(),1),$t=function(Z){return Z()},Cv=BW.useInsertionEffect?BW.useInsertionEffect:!1,GU=Cv||$t,Jj=Cv||BW.useLayoutEffect;var Xj=QJ.createContext(typeof HTMLElement<"u"?Ov({key:"css"}):null);Xj.displayName="EmotionCacheContext";var Ht=Xj.Provider;var qW=function(Z){return EA.forwardRef(function(Q,Y){var $=EA.useContext(Xj);return Z(Q,$,Y)})},nJ=QJ.createContext({});nJ.displayName="EmotionThemeContext";var kA={}.hasOwnProperty,bv=function(Z){var Q=Z.split(".");return Q[Q.length-1]},Wt=function(Z){var Q=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(Z);if(Q)return bv(Q[1]);if(Q=/^([A-Za-z0-9$.]+)@/.exec(Z),Q)return bv(Q[1]);return},Kt=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),Bt=function(Z){return Z.replace(/\$/g,"-")},qt=function(Z){if(!Z)return;var Q=Z.split(`
`);for(var Y=0;Y<Q.length;Y++){var $=Wt(Q[Y]);if(!$)continue;if(Kt.has($))break;if(/^[A-Z]/.test($))return Bt($)}return},Zj="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Qj="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",vv=function(Z,Q){if(typeof Q.css==="string"&&Q.css.indexOf(":")!==-1)throw Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`"+Q.css+"`");var Y={};for(var $ in Q)if(kA.call(Q,$))Y[$]=Q[$];if(Y[Zj]=Z,typeof globalThis<"u"&&!!globalThis.EMOTION_RUNTIME_AUTO_LABEL&&!!Q.css&&(typeof Q.css!=="object"||!("name"in Q.css)||typeof Q.css.name!=="string"||Q.css.name.indexOf("-")===-1)){var H=qt(Error().stack);if(H)Y[Qj]=H}return Y},Ut=function(Z){var{cache:Q,serialized:Y,isStringTag:$}=Z;return WW(Q,Y,$),GU(function(){return KW(Q,Y,$)}),null},fv=qW(function(J,Z,Q){var Y=J.css;if(typeof Y==="string"&&Z.registered[Y]!==void 0)Y=Z.registered[Y];var $=J[Zj],H=[Y],K="";if(typeof J.className==="string")K=YU(Z.registered,H,J.className);else if(J.className!=null)K=J.className+" ";var B=iJ(H,void 0,QJ.useContext(nJ));if(B.name.indexOf("-")===-1){var q=J[Qj];if(q)B=iJ([B,"label:"+q+";"])}K+=Z.key+"-"+B.name;var L={};for(var O in J)if(kA.call(J,O)&&O!=="css"&&O!==Zj&&O!==Qj)L[O]=J[O];if(L.className=K,Q)L.ref=Q;return QJ.createElement(QJ.Fragment,null,QJ.createElement(Ut,{cache:Z,serialized:B,isStringTag:typeof $==="string"}),QJ.createElement($,L))});fv.displayName="EmotionCssPropInternal";var Sv=fv;var XJ=e(J0(),1);var KA1=e(Iv(),1),Tv=!0,Lt={name:"@emotion/react",version:"11.14.0",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",types:"dist/emotion-react.cjs.d.ts",exports:{".":{types:{import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},development:{"edge-light":{module:"./dist/emotion-react.development.edge-light.esm.js",import:"./dist/emotion-react.development.edge-light.cjs.mjs",default:"./dist/emotion-react.development.edge-light.cjs.js"},worker:{module:"./dist/emotion-react.development.edge-light.esm.js",import:"./dist/emotion-react.development.edge-light.cjs.mjs",default:"./dist/emotion-react.development.edge-light.cjs.js"},workerd:{module:"./dist/emotion-react.development.edge-light.esm.js",import:"./dist/emotion-react.development.edge-light.cjs.mjs",default:"./dist/emotion-react.development.edge-light.cjs.js"},browser:{module:"./dist/emotion-react.browser.development.esm.js",import:"./dist/emotion-react.browser.development.cjs.mjs",default:"./dist/emotion-react.browser.development.cjs.js"},module:"./dist/emotion-react.development.esm.js",import:"./dist/emotion-react.development.cjs.mjs",default:"./dist/emotion-react.development.cjs.js"},"edge-light":{module:"./dist/emotion-react.edge-light.esm.js",import:"./dist/emotion-react.edge-light.cjs.mjs",default:"./dist/emotion-react.edge-light.cjs.js"},worker:{module:"./dist/emotion-react.edge-light.esm.js",import:"./dist/emotion-react.edge-light.cjs.mjs",default:"./dist/emotion-react.edge-light.cjs.js"},workerd:{module:"./dist/emotion-react.edge-light.esm.js",import:"./dist/emotion-react.edge-light.cjs.mjs",default:"./dist/emotion-react.edge-light.cjs.js"},browser:{module:"./dist/emotion-react.browser.esm.js",import:"./dist/emotion-react.browser.cjs.mjs",default:"./dist/emotion-react.browser.cjs.js"},module:"./dist/emotion-react.esm.js",import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{types:{import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},development:{"edge-light":{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"},worker:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"},workerd:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.edge-light.cjs.js"},browser:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.cjs.js"},module:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.development.cjs.js"},"edge-light":{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"},worker:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"},workerd:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.edge-light.cjs.js"},browser:{module:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.cjs.js"},module:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js",import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{types:{import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},development:{"edge-light":{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"},worker:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"},workerd:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.edge-light.cjs.js"},browser:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.development.cjs.js"},module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.development.cjs.js"},"edge-light":{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"},worker:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"},workerd:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.edge-light.cjs.js"},browser:{module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.cjs.js"},module:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js",import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{types:{import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},development:{"edge-light":{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"},worker:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"},workerd:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.edge-light.cjs.js"},browser:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.development.cjs.js"},module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.development.cjs.js"},"edge-light":{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"},worker:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"},workerd:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.edge-light.cjs.js"},browser:{module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.cjs.js"},module:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js",import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}},imports:{"#is-development":{development:"./src/conditions/true.ts",default:"./src/conditions/false.ts"},"#is-browser":{"edge-light":"./src/conditions/false.ts",workerd:"./src/conditions/false.ts",worker:"./src/conditions/false.ts",browser:"./src/conditions/true.ts",default:"./src/conditions/is-browser.ts"}},files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/css-prop.d.ts","macro.*"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.13.5","@emotion/cache":"^11.14.0","@emotion/serialize":"^1.3.3","@emotion/use-insertion-effect-with-fallbacks":"^1.2.0","@emotion/utils":"^1.4.2","@emotion/weak-memoize":"^0.4.0","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.13.5","@emotion/css-prettifier":"1.2.0","@emotion/server":"11.11.0","@emotion/styled":"11.14.0","@types/hoist-non-react-statics":"^3.3.5","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^5.4.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.ts","./jsx-runtime.ts","./jsx-dev-runtime.ts","./_isolated-hnrs.ts"],umdName:"emotionReact",exports:{extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}}}}},Pv=function(Z,Q){var Y=arguments;if(Q==null||!kA.call(Q,"css"))return XJ.createElement.apply(void 0,Y);var $=Y.length,H=Array($);H[0]=Sv,H[1]=vv(Z,Q);for(var K=2;K<$;K++)H[K]=Y[K];return XJ.createElement.apply(null,H)};(function(J){var Z;(function(Q){})(Z||(Z=J.JSX||(J.JSX={})))})(Pv||(Pv={}));var gv=!1,Gj=qW(function(J,Z){if(!gv&&(("className"in J)&&J.className||("css"in J)&&J.css))console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),gv=!0;var Q=J.styles,Y=iJ([Q],void 0,XJ.useContext(nJ)),$=XJ.useRef();return Jj(function(){var H=Z.key+"-global",K=new Z.sheet.constructor({key:H,nonce:Z.sheet.nonce,container:Z.sheet.container,speedy:Z.sheet.isSpeedy}),B=!1,q=document.querySelector('style[data-emotion="'+H+" "+Y.name+'"]');if(Z.sheet.tags.length)K.before=Z.sheet.tags[0];if(q!==null)B=!0,q.setAttribute("data-emotion",H),K.hydrate([q]);return $.current=[K,B],function(){K.flush()}},[Z]),Jj(function(){var H=$.current,K=H[0],B=H[1];if(B){H[1]=!1;return}if(Y.next!==void 0)KW(Z,Y.next,!0);if(K.tags.length){var q=K.tags[K.tags.length-1].nextElementSibling;K.before=q,K.flush()}Z.insert("",Y,K,!1)},[Z,Y.name]),null});Gj.displayName="EmotionGlobal";function aJ(){for(var J=arguments.length,Z=Array(J),Q=0;Q<J;Q++)Z[Q]=arguments[Q];return iJ(Z)}function D8(){var J=aJ.apply(void 0,arguments),Z="animation-"+J.name;return{name:Z,styles:"@keyframes "+Z+"{"+J.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ot=function J(Z){var Q=Z.length,Y=0,$="";for(;Y<Q;Y++){var H=Z[Y];if(H==null)continue;var K=void 0;switch(typeof H){case"boolean":break;case"object":{if(Array.isArray(H))K=J(H);else{if(H.styles!==void 0&&H.name!==void 0)console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component.");K="";for(var B in H)if(H[B]&&B)K&&(K+=" "),K+=B}break}default:K=H}if(K)$&&($+=" "),$+=K}return $};function zt(J,Z,Q){var Y=[],$=YU(J,Y,Q);if(Y.length<2)return Q;return $+Z(Y)}var Nt=function(Z){var{cache:Q,serializedArr:Y}=Z;return GU(function(){for(var $=0;$<Y.length;$++)KW(Q,Y[$],!1)}),null},Ft=qW(function(J,Z){var Q=!1,Y=[],$=function(){if(Q&&Tv)throw Error("css can only be used during render");for(var L=arguments.length,O=Array(L),z=0;z<L;z++)O[z]=arguments[z];var F=iJ(O,Z.registered);return Y.push(F),WW(Z,F,!1),Z.key+"-"+F.name},H=function(){if(Q&&Tv)throw Error("cx can only be used during render");for(var L=arguments.length,O=Array(L),z=0;z<L;z++)O[z]=arguments[z];return zt(Z.registered,$,Ot(O))},K={css:$,cx:H,theme:XJ.useContext(nJ)},B=J.children(K);return Q=!0,XJ.createElement(XJ.Fragment,null,XJ.createElement(Nt,{cache:Z,serializedArr:Y}),B)});Ft.displayName="EmotionClassNames";if(xA=typeof document<"u",Yj=typeof jest<"u"||typeof vi<"u",xA&&!Yj){if(RA=typeof globalThis<"u"?globalThis:xA?window:global,CA="__EMOTION_REACT_"+Lt.version.split(".")[0]+"__",RA[CA])console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used.");RA[CA]=!0}var xA,Yj,RA,CA;var LG=e(J0(),1);var At=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yv=jA(function(J){return At.test(J)||J.charCodeAt(0)===111&&J.charCodeAt(1)===110&&J.charCodeAt(2)<91});var Mt=!0,_t=yv,Vt=function(Z){return Z!=="theme"},hv=function(Z){return typeof Z==="string"&&Z.charCodeAt(0)>96?_t:Vt},uv=function(Z,Q,Y){var $;if(Q){var H=Q.shouldForwardProp;$=Z.__emotion_forwardProp&&H?function(K){return Z.__emotion_forwardProp(K)&&H(K)}:H}if(typeof $!=="function"&&Y)$=Z.__emotion_forwardProp;return $},dv=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,It=function(Z){var{cache:Q,serialized:Y,isStringTag:$}=Z;return WW(Q,Y,$),GU(function(){return KW(Q,Y,$)}),null},mv=function J(Z,Q){if(Z===void 0)throw Error(`You are trying to create a styled element with an undefined component.
You may have forgotten to import it.`);var Y=Z.__emotion_real===Z,$=Y&&Z.__emotion_base||Z,H,K;if(Q!==void 0)H=Q.label,K=Q.target;var B=uv(Z,Q,Y),q=B||hv($),L=!q("as");return function(){var O=arguments,z=Y&&Z.__emotion_styles!==void 0?Z.__emotion_styles.slice(0):[];if(H!==void 0)z.push("label:"+H+";");if(O[0]==null||O[0].raw===void 0)z.push.apply(z,O);else{var F=O[0];if(F[0]===void 0)console.error(dv);z.push(F[0]);var V=O.length,A=1;for(;A<V;A++){if(F[A]===void 0)console.error(dv);z.push(O[A],F[A])}}var M=qW(function(j,D,w){var C=L&&j.as||$,I="",b=[],E=j;if(j.theme==null){E={};for(var k in j)E[k]=j[k];E.theme=LG.useContext(nJ)}if(typeof j.className==="string")I=YU(D.registered,b,j.className);else if(j.className!=null)I=j.className+" ";var T=iJ(z.concat(b),D.registered,E);if(I+=D.key+"-"+T.name,K!==void 0)I+=" "+K;var S=L&&B===void 0?hv(C):q,d={};for(var o in j){if(L&&o==="as")continue;if(S(o))d[o]=j[o]}if(d.className=I,w)d.ref=w;return LG.createElement(LG.Fragment,null,LG.createElement(It,{cache:D,serialized:T,isStringTag:typeof C==="string"}),LG.createElement(C,d))});return M.displayName=H!==void 0?H:"Styled("+(typeof $==="string"?$:$.displayName||$.name||"Component")+")",M.defaultProps=Z.defaultProps,M.__emotion_real=M,M.__emotion_base=$,M.__emotion_styles=z,M.__emotion_forwardProp=B,Object.defineProperty(M,"toString",{value:function(){if(K===void 0&&Mt)return"NO_COMPONENT_SELECTOR";return"."+K}}),M.withComponent=function(j,D){var w=J(j,GW({},Q,D,{shouldForwardProp:uv(M,D,!0)}));return w.apply(void 0,z)},M}};var EA1=e(J0(),1);var jt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bA=mv.bind(null);jt.forEach(function(J){bA[J]=bA(J)});var NM1=e(J0(),1),LW=e(l0(),1);var Qf=e(F0(),1);function vt(J){return J===void 0||J===null||Object.keys(J).length===0}function WU(J){let{styles:Z,defaultTheme:Q={}}=J;return Qf.jsx(Gj,{styles:typeof Z==="function"?($)=>Z(vt($)?Q:$):Z})}WU.propTypes={defaultTheme:LW.default.object,styles:LW.default.oneOfType([LW.default.array,LW.default.string,LW.default.object,LW.default.func])};function Iz(J,Z){let Q=bA(J,Z);return(...Y)=>{let $=typeof J==="string"?`"${J}"`:"component";if(Y.length===0)console.error([`MUI: Seems like you called \`styled(${$})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`));else if(Y.some((H)=>H===void 0))console.error(`MUI: the styled(${$})(...args) API requires all its args to be defined.`);return Q(...Y)}}function Yf(J,Z){if(Array.isArray(J.__emotion_styles))J.__emotion_styles=Z(J.__emotion_styles)}var Xf=[];function sJ(J){return Xf[0]=J,iJ(Xf)}var oV1=e(J0(),1),WQ=e(l0(),1);var zj=e(J0(),1),Nj=e(KU(),1);function s8(J){if(typeof J!=="object"||J===null)return!1;let Z=Object.getPrototypeOf(J);return(Z===null||Z===Object.prototype||Object.getPrototypeOf(Z)===null)&&!(Symbol.toStringTag in J)&&!(Symbol.iterator in J)}function Gf(J){if(zj.isValidElement(J)||Nj.isValidElementType(J)||!s8(J))return J;let Z={};return Object.keys(J).forEach((Q)=>{Z[Q]=Gf(J[Q])}),Z}function e5(J,Z,Q={clone:!0}){let Y=Q.clone?{...J}:J;if(s8(J)&&s8(Z))Object.keys(Z).forEach(($)=>{if(zj.isValidElement(Z[$])||Nj.isValidElementType(Z[$]))Y[$]=Z[$];else if(s8(Z[$])&&Object.prototype.hasOwnProperty.call(J,$)&&s8(J[$]))Y[$]=e5(J[$],Z[$],Q);else if(Q.clone)Y[$]=s8(Z[$])?Gf(Z[$]):Z[$];else Y[$]=Z[$]});return Y}var St=(J)=>{let Z=Object.keys(J).map((Q)=>({key:Q,val:J[Q]}))||[];return Z.sort((Q,Y)=>Q.val-Y.val),Z.reduce((Q,Y)=>{return{...Q,[Y.key]:Y.val}},{})};function Fj(J){let{values:Z={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:Q="px",step:Y=5,...$}=J,H=St(Z),K=Object.keys(H);function B(F){return`@media (min-width:${typeof Z[F]==="number"?Z[F]:F}${Q})`}function q(F){return`@media (max-width:${(typeof Z[F]==="number"?Z[F]:F)-Y/100}${Q})`}function L(F,V){let A=K.indexOf(V);return`@media (min-width:${typeof Z[F]==="number"?Z[F]:F}${Q}) and (max-width:${(A!==-1&&typeof Z[K[A]]==="number"?Z[K[A]]:V)-Y/100}${Q})`}function O(F){if(K.indexOf(F)+1<K.length)return L(F,K[K.indexOf(F)+1]);return B(F)}function z(F){let V=K.indexOf(F);if(V===0)return B(K[1]);if(V===K.length-1)return q(K[V]);return L(F,K[K.indexOf(F)+1]).replace("@media","@media not all and")}return{keys:K,values:H,up:B,down:q,between:L,only:O,not:z,unit:Q,...$}}function fA(J,Z){if(!J.containerQueries)return Z;let Q=Object.keys(Z).filter((Y)=>Y.startsWith("@container")).sort((Y,$)=>{let H=/min-width:\s*([0-9.]+)/;return+(Y.match(H)?.[1]||0)-+($.match(H)?.[1]||0)});if(!Q.length)return Z;return Q.reduce((Y,$)=>{let H=Z[$];return delete Y[$],Y[$]=H,Y},{...Z})}function Aj(J,Z){return Z==="@"||Z.startsWith("@")&&(J.some((Q)=>Z.startsWith(`@${Q}`))||!!Z.match(/^@\d/))}function Mj(J,Z){let Q=Z.match(/^@([^/]+)?\/?(.+)?$/);if(!Q)throw Error(`MUI: The provided shorthand ${`(${Z})`} is invalid. The format should be \`@<breakpoint | number>\` or \`@<breakpoint | number>/<container>\`.
For example, \`@sm\` or \`@600\` or \`@40rem/sidebar\`.`);let[,Y,$]=Q,H=Number.isNaN(+Y)?Y||0:+Y;return J.containerQueries($).up(H)}function SA(J){let Z=(H,K)=>H.replace("@media",K?`@container ${K}`:"@container");function Q(H,K){H.up=(...B)=>Z(J.breakpoints.up(...B),K),H.down=(...B)=>Z(J.breakpoints.down(...B),K),H.between=(...B)=>Z(J.breakpoints.between(...B),K),H.only=(...B)=>Z(J.breakpoints.only(...B),K),H.not=(...B)=>{let q=Z(J.breakpoints.not(...B),K);if(q.includes("not all and"))return q.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or");return q}}let Y={},$=(H)=>{return Q(Y,H),Y};return Q($),{...J,containerQueries:$}}var Tt={borderRadius:4},$f=Tt;var BU=e(l0(),1),Pt=BU.default.oneOfType([BU.default.number,BU.default.string,BU.default.object,BU.default.array]),o8=Pt;function gt(J,Z){if(!Z)return J;return e5(J,Z,{clone:!1})}var FX=gt;var jz={xs:0,sm:600,md:900,lg:1200,xl:1536},Hf={keys:["xs","sm","md","lg","xl"],up:(J)=>`@media (min-width:${jz[J]}px)`},yt={containerQueries:(J)=>({up:(Z)=>{let Q=typeof Z==="number"?Z:jz[Z]||Z;if(typeof Q==="number")Q=`${Q}px`;return J?`@container ${J} (min-width:${Q})`:`@container (min-width:${Q})`}})};function T6(J,Z,Q){let Y=J.theme||{};if(Array.isArray(Z)){let H=Y.breakpoints||Hf;return Z.reduce((K,B,q)=>{return K[H.up(H.keys[q])]=Q(Z[q]),K},{})}if(typeof Z==="object"){let H=Y.breakpoints||Hf;return Object.keys(Z).reduce((K,B)=>{if(Aj(H.keys,B)){let q=Mj(Y.containerQueries?Y:yt,B);if(q)K[q]=Q(Z[B],B)}else if(Object.keys(H.values||jz).includes(B)){let q=H.up(B);K[q]=Q(Z[B],B)}else{let q=B;K[q]=Z[q]}return K},{})}return Q(Z)}function _j(J={}){return J.keys?.reduce((Q,Y)=>{let $=J.up(Y);return Q[$]={},Q},{})||{}}function TA(J,Z){return J.reduce((Q,Y)=>{let $=Q[Y];if(!$||Object.keys($).length===0)delete Q[Y];return Q},Z)}function Wf(J,...Z){let Q=_j(J),Y=[Q,...Z].reduce(($,H)=>e5($,H),{});return TA(Object.keys(Q),Y)}function ht(J,Z){if(typeof J!=="object")return{};let Q={},Y=Object.keys(Z);if(Array.isArray(J))Y.forEach(($,H)=>{if(H<J.length)Q[$]=!0});else Y.forEach(($)=>{if(J[$]!=null)Q[$]=!0});return Q}function PA({values:J,breakpoints:Z,base:Q}){let Y=Q||ht(J,Z),$=Object.keys(Y);if($.length===0)return J;let H;return $.reduce((K,B,q)=>{if(Array.isArray(J))K[B]=J[q]!=null?J[q]:J[H],H=q;else if(typeof J==="object")K[B]=J[B]!=null?J[B]:J[H],H=B;else K[B]=J;return K},{})}function r8(J){if(typeof J!=="string")throw Error("MUI: `capitalize(string)` expects a string argument.");return J.charAt(0).toUpperCase()+J.slice(1)}function qU(J,Z,Q=!0){if(!Z||typeof Z!=="string")return null;if(J&&J.vars&&Q){let Y=`vars.${Z}`.split(".").reduce(($,H)=>$&&$[H]?$[H]:null,J);if(Y!=null)return Y}return Z.split(".").reduce((Y,$)=>{if(Y&&Y[$]!=null)return Y[$];return null},J)}function Dz(J,Z,Q,Y=Q){let $;if(typeof J==="function")$=J(Q);else if(Array.isArray(J))$=J[Q]||Y;else $=qU(J,Q)||Y;if(Z)$=Z($,Y,J);return $}function ut(J){let{prop:Z,cssProperty:Q=J.prop,themeKey:Y,transform:$}=J,H=(K)=>{if(K[Z]==null)return null;let B=K[Z],q=K.theme,L=qU(q,Y)||{};return T6(K,B,(z)=>{let F=Dz(L,$,z);if(z===F&&typeof z==="string")F=Dz(L,$,`${Z}${z==="default"?"":r8(z)}`,z);if(Q===!1)return F;return{[Q]:F}})};return H.propTypes={[Z]:o8},H.filterProps=[Z],H}var d4=ut;function gA(J){let Z={};return(Q)=>{if(Z[Q]===void 0)Z[Q]=J(Q);return Z[Q]}}var dt={m:"margin",p:"padding"},mt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Kf={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ct=gA((J)=>{if(J.length>2)if(Kf[J])J=Kf[J];else return[J];let[Z,Q]=J.split(""),Y=dt[Z],$=mt[Q]||"";return Array.isArray($)?$.map((H)=>Y+H):[Y+$]}),yA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],hA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Vj=[...yA,...hA];function OW(J,Z,Q,Y){let $=qU(J,Z,!0)??Q;if(typeof $==="number"||typeof $==="string")return(H)=>{if(typeof H==="string")return H;if(typeof H!=="number")console.error(`MUI: Expected ${Y} argument to be a number or a string, got ${H}.`);if(typeof $==="string"){if($.startsWith("var(")&&H===0)return 0;if($.startsWith("var(")&&H===1)return $;return`calc(${H} * ${$})`}return $*H};if(Array.isArray($))return(H)=>{if(typeof H==="string")return H;let K=Math.abs(H);if(!Number.isInteger(K))console.error([`MUI: The \`theme.${Z}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${Z}\` as a number.`].join(`
`));else if(K>$.length-1)console.error([`MUI: The value provided (${K}) overflows.`,`The supported values are: ${JSON.stringify($)}.`,`${K} > ${$.length-1}, you need to add the missing values.`].join(`
`));let B=$[K];if(H>=0)return B;if(typeof B==="number")return-B;if(typeof B==="string"&&B.startsWith("var("))return`calc(-1 * ${B})`;return`-${B}`};if(typeof $==="function")return $;return console.error([`MUI: The \`theme.${Z}\` value (${$}) is invalid.`,"It should be a number, an array or a function."].join(`
`)),()=>{return}}function zW(J){return OW(J,"spacing",8,"spacing")}function HQ(J,Z){if(typeof Z==="string"||Z==null)return Z;return J(Z)}function pt(J,Z){return(Q)=>J.reduce((Y,$)=>{return Y[$]=HQ(Z,Q),Y},{})}function lt(J,Z,Q,Y){if(!Z.includes(Q))return null;let $=ct(Q),H=pt($,Y),K=J[Q];return T6(J,K,H)}function Ij(J,Z){let Q=zW(J.theme);return Object.keys(J).map((Y)=>lt(J,Z,Y,Q)).reduce(FX,{})}function _7(J){return Ij(J,yA)}_7.propTypes=yA.reduce((J,Z)=>{return J[Z]=o8,J},{});_7.filterProps=yA;function V7(J){return Ij(J,hA)}V7.propTypes=hA.reduce((J,Z)=>{return J[Z]=o8,J},{});V7.filterProps=hA;function Bf(J){return Ij(J,Vj)}Bf.propTypes=Vj.reduce((J,Z)=>{return J[Z]=o8,J},{});Bf.filterProps=Vj;function UU(J=8,Z=zW({spacing:J})){if(J.mui)return J;let Q=(...Y)=>{if(!(Y.length<=4))console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${Y.length}`);return(Y.length===0?[1]:Y).map((H)=>{let K=Z(H);return typeof K==="number"?`${K}px`:K}).join(" ")};return Q.mui=!0,Q}function it(...J){let Z=J.reduce((Y,$)=>{return $.filterProps.forEach((H)=>{Y[H]=$}),Y},{}),Q=(Y)=>{return Object.keys(Y).reduce(($,H)=>{if(Z[H])return FX($,Z[H](Y));return $},{})};return Q.propTypes=J.reduce((Y,$)=>Object.assign(Y,$.propTypes),{}),Q.filterProps=J.reduce((Y,$)=>Y.concat($.filterProps),[]),Q}var AX=it;function t8(J){if(typeof J!=="number")return J;return`${J}px solid`}function YJ(J,Z){return d4({prop:J,themeKey:"borders",transform:Z})}var nt=YJ("border",t8),at=YJ("borderTop",t8),st=YJ("borderRight",t8),ot=YJ("borderBottom",t8),rt=YJ("borderLeft",t8),tt=YJ("borderColor"),et=YJ("borderTopColor"),Je=YJ("borderRightColor"),Ze=YJ("borderBottomColor"),Qe=YJ("borderLeftColor"),Xe=YJ("outline",t8),Ye=YJ("outlineColor"),wz=(J)=>{if(J.borderRadius!==void 0&&J.borderRadius!==null){let Z=OW(J.theme,"shape.borderRadius",4,"borderRadius"),Q=(Y)=>({borderRadius:HQ(Z,Y)});return T6(J,J.borderRadius,Q)}return null};wz.propTypes={borderRadius:o8};wz.filterProps=["borderRadius"];var s_1=AX(nt,at,st,ot,rt,tt,et,Je,Ze,Qe,wz,Xe,Ye);var Ez=(J)=>{if(J.gap!==void 0&&J.gap!==null){let Z=OW(J.theme,"spacing",8,"gap"),Q=(Y)=>({gap:HQ(Z,Y)});return T6(J,J.gap,Q)}return null};Ez.propTypes={gap:o8};Ez.filterProps=["gap"];var kz=(J)=>{if(J.columnGap!==void 0&&J.columnGap!==null){let Z=OW(J.theme,"spacing",8,"columnGap"),Q=(Y)=>({columnGap:HQ(Z,Y)});return T6(J,J.columnGap,Q)}return null};kz.propTypes={columnGap:o8};kz.filterProps=["columnGap"];var xz=(J)=>{if(J.rowGap!==void 0&&J.rowGap!==null){let Z=OW(J.theme,"spacing",8,"rowGap"),Q=(Y)=>({rowGap:HQ(Z,Y)});return T6(J,J.rowGap,Q)}return null};xz.propTypes={rowGap:o8};xz.filterProps=["rowGap"];var Ge=d4({prop:"gridColumn"}),$e=d4({prop:"gridRow"}),He=d4({prop:"gridAutoFlow"}),We=d4({prop:"gridAutoColumns"}),Ke=d4({prop:"gridAutoRows"}),Be=d4({prop:"gridTemplateColumns"}),qe=d4({prop:"gridTemplateRows"}),Ue=d4({prop:"gridTemplateAreas"}),Le=d4({prop:"gridArea"}),QV1=AX(Ez,kz,xz,Ge,$e,He,We,Ke,Be,qe,Ue,Le);function NW(J,Z){if(Z==="grey")return Z;return J}var Oe=d4({prop:"color",themeKey:"palette",transform:NW}),ze=d4({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:NW}),Ne=d4({prop:"backgroundColor",themeKey:"palette",transform:NW}),$V1=AX(Oe,ze,Ne);function w8(J){return J<=1&&J!==0?`${J*100}%`:J}var Fe=d4({prop:"width",transform:w8}),uA=(J)=>{if(J.maxWidth!==void 0&&J.maxWidth!==null){let Z=(Q)=>{let Y=J.theme?.breakpoints?.values?.[Q]||jz[Q];if(!Y)return{maxWidth:w8(Q)};if(J.theme?.breakpoints?.unit!=="px")return{maxWidth:`${Y}${J.theme.breakpoints.unit}`};return{maxWidth:Y}};return T6(J,J.maxWidth,Z)}return null};uA.filterProps=["maxWidth"];var Ae=d4({prop:"minWidth",transform:w8}),Me=d4({prop:"height",transform:w8}),_e=d4({prop:"maxHeight",transform:w8}),Ve=d4({prop:"minHeight",transform:w8}),qV1=d4({prop:"size",cssProperty:"width",transform:w8}),UV1=d4({prop:"size",cssProperty:"height",transform:w8}),Ie=d4({prop:"boxSizing"}),LV1=AX(Fe,uA,Ae,Me,_e,Ve,Ie);var je={border:{themeKey:"borders",transform:t8},borderTop:{themeKey:"borders",transform:t8},borderRight:{themeKey:"borders",transform:t8},borderBottom:{themeKey:"borders",transform:t8},borderLeft:{themeKey:"borders",transform:t8},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:t8},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wz},color:{themeKey:"palette",transform:NW},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:NW},backgroundColor:{themeKey:"palette",transform:NW},p:{style:V7},pt:{style:V7},pr:{style:V7},pb:{style:V7},pl:{style:V7},px:{style:V7},py:{style:V7},padding:{style:V7},paddingTop:{style:V7},paddingRight:{style:V7},paddingBottom:{style:V7},paddingLeft:{style:V7},paddingX:{style:V7},paddingY:{style:V7},paddingInline:{style:V7},paddingInlineStart:{style:V7},paddingInlineEnd:{style:V7},paddingBlock:{style:V7},paddingBlockStart:{style:V7},paddingBlockEnd:{style:V7},m:{style:_7},mt:{style:_7},mr:{style:_7},mb:{style:_7},ml:{style:_7},mx:{style:_7},my:{style:_7},margin:{style:_7},marginTop:{style:_7},marginRight:{style:_7},marginBottom:{style:_7},marginLeft:{style:_7},marginX:{style:_7},marginY:{style:_7},marginInline:{style:_7},marginInlineStart:{style:_7},marginInlineEnd:{style:_7},marginBlock:{style:_7},marginBlockStart:{style:_7},marginBlockEnd:{style:_7},displayPrint:{cssProperty:!1,transform:(J)=>({"@media print":{display:J}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ez},rowGap:{style:xz},columnGap:{style:kz},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:w8},maxWidth:{style:uA},minWidth:{transform:w8},height:{transform:w8},maxHeight:{transform:w8},minHeight:{transform:w8},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},oJ=je;function De(...J){let Z=J.reduce((Y,$)=>Y.concat(Object.keys($)),[]),Q=new Set(Z);return J.every((Y)=>Q.size===Object.keys(Y).length)}function we(J,Z){return typeof J==="function"?J(Z):J}function Ee(){function J(Q,Y,$,H){let K={[Q]:Y,theme:$},B=H[Q];if(!B)return{[Q]:Y};let{cssProperty:q=Q,themeKey:L,transform:O,style:z}=B;if(Y==null)return null;if(L==="typography"&&Y==="inherit")return{[Q]:Y};let F=qU($,L)||{};if(z)return z(K);return T6(K,Y,(A)=>{let M=Dz(F,O,A);if(A===M&&typeof A==="string")M=Dz(F,O,`${Q}${A==="default"?"":r8(A)}`,A);if(q===!1)return M;return{[q]:M}})}function Z(Q){let{sx:Y,theme:$={},nested:H}=Q||{};if(!Y)return null;let K=$.unstable_sxConfig??oJ;function B(q){let L=q;if(typeof q==="function")L=q($);else if(typeof q!=="object")return q;if(!L)return null;let O=_j($.breakpoints),z=Object.keys(O),F=O;if(Object.keys(L).forEach((V)=>{let A=we(L[V],$);if(A!==null&&A!==void 0)if(typeof A==="object")if(K[V])F=FX(F,J(V,A,$,K));else{let M=T6({theme:$},A,(j)=>({[V]:j}));if(De(M,A))F[V]=Z({sx:A,theme:$,nested:!0});else F=FX(F,M)}else F=FX(F,J(V,A,$,K))}),!H&&$.modularCssLayers)return{"@layer sx":fA($,TA(z,F))};return fA($,TA(z,F))}return Array.isArray(Y)?Y.map(B):B(Y)}return Z}var qf=Ee();qf.filterProps=["sx"];var GJ=qf;function jj(J,Z){let Q=this;if(Q.vars){if(!Q.colorSchemes?.[J]||typeof Q.getColorSchemeSelector!=="function")return{};let Y=Q.getColorSchemeSelector(J);if(Y==="&")return Z;if(Y.includes("data-")||Y.includes("."))Y=`*:where(${Y.replace(/\s*&$/,"")}) &`;return{[Y]:Z}}if(Q.palette.mode===J)return Z;return{}}function ke(J={},...Z){let{breakpoints:Q={},palette:Y={},spacing:$,shape:H={},...K}=J,B=Fj(Q),q=UU($),L=e5({breakpoints:B,direction:"ltr",components:{},palette:{mode:"light",...Y},spacing:q,shape:{...$f,...H}},K);return L=SA(L),L.applyStyles=jj,L=Z.reduce((O,z)=>e5(O,z),L),L.unstable_sxConfig={...oJ,...K?.unstable_sxConfig},L.unstable_sx=function(z){return GJ({sx:z,theme:this})},L}var e8=ke;var Uf=e(J0(),1);function xe(J){return Object.keys(J).length===0}function Re(J=null){let Z=Uf.useContext(nJ);return!Z||xe(Z)?J:Z}var Dj=Re;var Ce=e8();function be(J=Ce){return Dj(J)}var $J=be;var Lf=e(F0(),1);function wj(J){let Z=sJ(J);if(J!==Z&&Z.styles){if(!Z.styles.match(/^@layer\s+[^{]*$/))Z.styles=`@layer global{${Z.styles}}`;return Z}return J}function Of({styles:J,themeId:Z,defaultTheme:Q={}}){let Y=$J(Q),$=Z?Y[Z]||Y:Y,H=typeof J==="function"?J($):J;if($.modularCssLayers)if(Array.isArray(H))H=H.map((K)=>{if(typeof K==="function")return wj(K($));return wj(K)});else H=wj(H);return Lf.jsx(WU,{styles:H})}Of.propTypes={defaultTheme:WQ.default.object,styles:WQ.default.oneOfType([WQ.default.array,WQ.default.func,WQ.default.number,WQ.default.object,WQ.default.string,WQ.default.bool]),themeId:WQ.default.string};var dA=Of;var ve=(J)=>{let Z={systemProps:{},otherProps:{}},Q=J?.theme?.unstable_sxConfig??oJ;return Object.keys(J).forEach((Y)=>{if(Q[Y])Z.systemProps[Y]=J[Y];else Z.otherProps[Y]=J[Y]}),Z};function KQ(J){let{sx:Z,...Q}=J,{systemProps:Y,otherProps:$}=ve(Q),H;if(Array.isArray(Z))H=[Y,...Z];else if(typeof Z==="function")H=(...K)=>{let B=Z(...K);if(!s8(B))return Y;return{...Y,...B}};else H={...Y,...Z};return{...$,sx:H}}var zf=(J)=>J,fe=()=>{let J=zf;return{configure(Z){J=Z},generate(Z){return J(Z)},reset(){J=zf}}},Se=fe(),LU=Se;var Ff=e(J0(),1);function Nf(J){var Z,Q,Y="";if(typeof J=="string"||typeof J=="number")Y+=J;else if(typeof J=="object")if(Array.isArray(J)){var $=J.length;for(Z=0;Z<$;Z++)J[Z]&&(Q=Nf(J[Z]))&&(Y&&(Y+=" "),Y+=Q)}else for(Q in J)J[Q]&&(Y&&(Y+=" "),Y+=Q);return Y}function Te(){for(var J,Z,Q=0,Y="",$=arguments.length;Q<$;Q++)(J=arguments[Q])&&(Z=Nf(J))&&(Y&&(Y+=" "),Y+=Z);return Y}var L0=Te;var Af=e(F0(),1);function Rz(J={}){let{themeId:Z,defaultTheme:Q,defaultClassName:Y="MuiBox-root",generateClassName:$}=J,H=Iz("div",{shouldForwardProp:(B)=>B!=="theme"&&B!=="sx"&&B!=="as"})(GJ);return Ff.forwardRef(function(q,L){let O=$J(Q),{className:z,component:F="div",...V}=KQ(q);return Af.jsx(H,{as:F,ref:L,className:L0(z,$?$(Y):Y),theme:Z?O[Z]||O:O,...V})})}var Pe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function k0(J,Z,Q="Mui"){let Y=Pe[Z];return Y?`${Q}-${Y}`:`${LU.generate(J)}-${Z}`}function x0(J,Z,Q="Mui"){let Y={};return Z.forEach(($)=>{Y[$]=k0(J,$,Q)}),Y}var mA=e(KU(),1);function _f(J,Z=""){return J.displayName||J.name||Z}function Mf(J,Z,Q){let Y=_f(Z);return J.displayName||(Y!==""?`${Q}(${Y})`:Q)}function cA(J){if(J==null)return;if(typeof J==="string")return J;if(typeof J==="function")return _f(J,"Component");if(typeof J==="object")switch(J.$$typeof){case mA.ForwardRef:return Mf(J,J.render,"ForwardRef");case mA.Memo:return Mf(J,J.type,"memo");default:return}return}function Cz(J){let{variants:Z,...Q}=J,Y={variants:Z,style:sJ(Q),isProcessed:!0};if(Y.style===Q)return Y;if(Z)Z.forEach(($)=>{if(typeof $.style!=="function")$.style=sJ($.style)});return Y}var ge=e8();function Ej(J){return J!=="ownerState"&&J!=="theme"&&J!=="sx"&&J!=="as"}function FW(J,Z){if(Z&&J&&typeof J==="object"&&J.styles&&!J.styles.startsWith("@layer"))J.styles=`@layer ${Z}{${String(J.styles)}}`;return J}function ye(J){if(!J)return null;return(Z,Q)=>Q[J]}function he(J,Z,Q){J.theme=me(J.theme)?Q:J.theme[Z]||J.theme}function pA(J,Z,Q){let Y=typeof Z==="function"?Z(J):Z;if(Array.isArray(Y))return Y.flatMap(($)=>pA(J,$,Q));if(Array.isArray(Y?.variants)){let $;if(Y.isProcessed)$=Q?FW(Y.style,Q):Y.style;else{let{variants:H,...K}=Y;$=Q?FW(sJ(K),Q):K}return Vf(J,Y.variants,[$],Q)}if(Y?.isProcessed)return Q?FW(sJ(Y.style),Q):Y.style;return Q?FW(sJ(Y),Q):Y}function Vf(J,Z,Q=[],Y=void 0){let $;J:for(let H=0;H<Z.length;H+=1){let K=Z[H];if(typeof K.props==="function"){if($??={...J,...J.ownerState,ownerState:J.ownerState},!K.props($))continue}else for(let B in K.props)if(J[B]!==K.props[B]&&J.ownerState?.[B]!==K.props[B])continue J;if(typeof K.style==="function")$??={...J,...J.ownerState,ownerState:J.ownerState},Q.push(Y?FW(sJ(K.style($)),Y):K.style($));else Q.push(Y?FW(sJ(K.style),Y):K.style)}return Q}function OU(J={}){let{themeId:Z,defaultTheme:Q=ge,rootShouldForwardProp:Y=Ej,slotShouldForwardProp:$=Ej}=J;function H(B){he(B,Z,Q)}return(B,q={})=>{Yf(B,(E)=>E.filter((k)=>k!==GJ));let{name:L,slot:O,skipVariantsResolver:z,skipSx:F,overridesResolver:V=ye(If(O)),...A}=q,M=L&&L.startsWith("Mui")||!!O?"components":"custom",j=z!==void 0?z:O&&O!=="Root"&&O!=="root"||!1,D=F||!1,w=Ej;if(O==="Root"||O==="root")w=Y;else if(O)w=$;else if(ce(B))w=void 0;let C=Iz(B,{shouldForwardProp:w,label:de(L,O),...A}),I=(E)=>{if(E.__emotion_real===E)return E;if(typeof E==="function")return function(T){return pA(T,E,T.theme.modularCssLayers?M:void 0)};if(s8(E)){let k=Cz(E);return function(S){if(!k.variants)return S.theme.modularCssLayers?FW(k.style,M):k.style;return pA(S,k,S.theme.modularCssLayers?M:void 0)}}return E},b=(...E)=>{let k=[],T=E.map(I),S=[];if(k.push(H),L&&V)S.push(function(y){let p=y.theme.components?.[L]?.styleOverrides;if(!p)return null;let l={};for(let t in p)l[t]=pA(y,p[t],y.theme.modularCssLayers?"theme":void 0);return V(y,l)});if(L&&!j)S.push(function(y){let p=y.theme?.components?.[L]?.variants;if(!p)return null;return Vf(y,p,[],y.theme.modularCssLayers?"theme":void 0)});if(!D)S.push(GJ);if(Array.isArray(T[0])){let v=T.shift(),y=Array(k.length).fill(""),i=Array(S.length).fill(""),p;p=[...y,...v,...i],p.raw=[...y,...v.raw,...i],k.unshift(p)}let d=[...k,...T,...S],o=C(...d);if(B.muiName)o.muiName=B.muiName;return o.displayName=ue(L,O,B),o};if(C.withConfig)b.withConfig=C.withConfig;return b}}function ue(J,Z,Q){if(J)return`${J}${r8(Z||"")}`;return`Styled(${cA(Q)})`}function de(J,Z){let Q;if(J)Q=`${J}-${If(Z||"Root")}`;return Q}function me(J){for(let Z in J)return!1;return!0}function ce(J){return typeof J==="string"&&J.charCodeAt(0)>96}function If(J){if(!J)return J;return J.charAt(0).toLowerCase()+J.slice(1)}var pe=OU(),AW=pe;function BQ(J,Z,Q=!1){let Y={...Z};for(let $ in J)if(Object.prototype.hasOwnProperty.call(J,$)){let H=$;if(H==="components"||H==="slots")Y[H]={...J[H],...Y[H]};else if(H==="componentsProps"||H==="slotProps"){let K=J[H],B=Z[H];if(!B)Y[H]=K||{};else if(!K)Y[H]=B;else{Y[H]={...B};for(let q in K)if(Object.prototype.hasOwnProperty.call(K,q)){let L=q;Y[H][L]=BQ(K[L],B[L],Q)}}}else if(H==="className"&&Q&&Z.className)Y.className=L0(J?.className,Z?.className);else if(H==="style"&&Q&&Z.style)Y.style={...J?.style,...Z?.style};else if(Y[H]===void 0)Y[H]=J[H]}return Y}function kj(J){let{theme:Z,name:Q,props:Y}=J;if(!Z||!Z.components||!Z.components[Q]||!Z.components[Q].defaultProps)return Y;return BQ(Z.components[Q].defaultProps,Y)}function OG({props:J,name:Z,defaultTheme:Q,themeId:Y}){let $=$J(Q);if(Y)$=$[Y]||$;return kj({theme:$,name:Z,props:J})}var lA=e(J0(),1),le=typeof window<"u"?lA.useLayoutEffect:lA.useEffect,E8=le;function ie(J,Z=Number.MIN_SAFE_INTEGER,Q=Number.MAX_SAFE_INTEGER){return Math.max(Z,Math.min(J,Q))}var bz=ie;function Rj(J,Z=0,Q=1){if(J<Z||J>Q)console.error(`MUI: The value provided ${J} is out of range [${Z}, ${Q}].`);return bz(J,Z,Q)}function ne(J){J=J.slice(1);let Z=new RegExp(`.{1,${J.length>=6?2:1}}`,"g"),Q=J.match(Z);if(Q&&Q[0].length===1)Q=Q.map((Y)=>Y+Y);if(J.length!==J.trim().length)console.error(`MUI: The color: "${J}" is invalid. Make sure the color input doesn't contain leading/trailing space.`);return Q?`rgb${Q.length===4?"a":""}(${Q.map((Y,$)=>{return $<3?parseInt(Y,16):Math.round(parseInt(Y,16)/255*1000)/1000}).join(", ")})`:""}function zG(J){if(J.type)return J;if(J.charAt(0)==="#")return zG(ne(J));let Z=J.indexOf("("),Q=J.substring(0,Z);if(!["rgb","rgba","hsl","hsla","color"].includes(Q))throw Error(`MUI: Unsupported \`${J}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().`);let Y=J.substring(Z+1,J.length-1),$;if(Q==="color"){if(Y=Y.split(" "),$=Y.shift(),Y.length===4&&Y[3].charAt(0)==="/")Y[3]=Y[3].slice(1);if(!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes($))throw Error(`MUI: unsupported \`${$}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.`)}else Y=Y.split(",");return Y=Y.map((H)=>parseFloat(H)),{type:Q,values:Y,colorSpace:$}}var ae=(J)=>{let Z=zG(J);return Z.values.slice(0,3).map((Q,Y)=>Z.type.includes("hsl")&&Y!==0?`${Q}%`:Q).join(" ")},zU=(J,Z)=>{try{return ae(J)}catch(Q){if(Z)console.warn(Z);return J}};function iA(J){let{type:Z,colorSpace:Q}=J,{values:Y}=J;if(Z.includes("rgb"))Y=Y.map(($,H)=>H<3?parseInt($,10):$);else if(Z.includes("hsl"))Y[1]=`${Y[1]}%`,Y[2]=`${Y[2]}%`;if(Z.includes("color"))Y=`${Q} ${Y.join(" ")}`;else Y=`${Y.join(", ")}`;return`${Z}(${Y})`}function Cj(J){J=zG(J);let{values:Z}=J,Q=Z[0],Y=Z[1]/100,$=Z[2]/100,H=Y*Math.min($,1-$),K=(L,O=(L+Q/30)%12)=>$-H*Math.max(Math.min(O-3,9-O,1),-1),B="rgb",q=[Math.round(K(0)*255),Math.round(K(8)*255),Math.round(K(4)*255)];if(J.type==="hsla")B+="a",q.push(Z[3]);return iA({type:B,values:q})}function xj(J){J=zG(J);let Z=J.type==="hsl"||J.type==="hsla"?zG(Cj(J)).values:J.values;return Z=Z.map((Q)=>{if(J.type!=="color")Q/=255;return Q<=0.03928?Q/12.92:((Q+0.055)/1.055)**2.4}),Number((0.2126*Z[0]+0.7152*Z[1]+0.0722*Z[2]).toFixed(3))}function bj(J,Z){let Q=xj(J),Y=xj(Z);return(Math.max(Q,Y)+0.05)/(Math.min(Q,Y)+0.05)}function NU(J,Z){if(J=zG(J),Z=Rj(Z),J.type==="rgb"||J.type==="hsl")J.type+="a";if(J.type==="color")J.values[3]=`/${Z}`;else J.values[3]=Z;return iA(J)}function NG(J,Z,Q){try{return NU(J,Z)}catch(Y){if(Q)console.warn(Q);return J}}function FU(J,Z){if(J=zG(J),Z=Rj(Z),J.type.includes("hsl"))J.values[2]*=1-Z;else if(J.type.includes("rgb")||J.type.includes("color"))for(let Q=0;Q<3;Q+=1)J.values[Q]*=1-Z;return iA(J)}function U4(J,Z,Q){try{return FU(J,Z)}catch(Y){if(Q)console.warn(Q);return J}}function AU(J,Z){if(J=zG(J),Z=Rj(Z),J.type.includes("hsl"))J.values[2]+=(100-J.values[2])*Z;else if(J.type.includes("rgb"))for(let Q=0;Q<3;Q+=1)J.values[Q]+=(255-J.values[Q])*Z;else if(J.type.includes("color"))for(let Q=0;Q<3;Q+=1)J.values[Q]+=(1-J.values[Q])*Z;return iA(J)}function L4(J,Z,Q){try{return AU(J,Z)}catch(Y){if(Q)console.warn(Q);return J}}function nA(J,Z=0.15){return xj(J)>0.5?FU(J,Z):AU(J,Z)}function vz(J,Z,Q){try{return nA(J,Z)}catch(Y){if(Q)console.warn(Q);return J}}function FG(J){return{...J,["exact-prop: ​"]:(Z)=>{let Q=Object.keys(Z).filter((Y)=>!J.hasOwnProperty(Y));if(Q.length>0)return Error(`The following props are not supported: ${Q.map((Y)=>`\`${Y}\``).join(", ")}. Please remove them.`);return null}}}var aA=e(J0(),1),vj=e(l0(),1),jf=e(F0(),1),Df=aA.createContext();function se({value:J,...Z}){return jf.jsx(Df.Provider,{value:J??!0,...Z})}se.propTypes={children:vj.default.node,value:vj.default.bool};var qQ=()=>{return aA.useContext(Df)??!1};var sA=e(J0(),1),fj=e(l0(),1);var wf=e(F0(),1),Ef=sA.createContext(void 0);function kf({value:J,children:Z}){return wf.jsx(Ef.Provider,{value:J,children:Z})}kf.propTypes={children:fj.default.node,value:fj.default.object};function oe(J){let{theme:Z,name:Q,props:Y}=J;if(!Z||!Z.components||!Z.components[Q])return Y;let $=Z.components[Q];if($.defaultProps)return BQ($.defaultProps,Y,Z.components.mergeClassNameAndStyle);if(!$.styleOverrides&&!$.variants)return BQ($,Y,Z.components.mergeClassNameAndStyle);return Y}function Sj({props:J,name:Z}){let Q=sA.useContext(Ef);return oe({props:J,name:Z,theme:{components:Q}})}var Tj=kf;var fz=e(J0(),1),xf=0;function re(J){let[Z,Q]=fz.useState(J),Y=J||Z;return fz.useEffect(()=>{if(Z==null)xf+=1,Q(`mui-${xf}`)},[Z]),Y}var te={...fz},Rf=te.useId;function UQ(J){if(Rf!==void 0){let Z=Rf();return J??Z}return re(J)}var Cf={theme:void 0};function oA(J){let Z,Q;return function($){let H=Z;if(H===void 0||$.theme!==Q)Cf.theme=$.theme,H=Cz(J(Cf)),Z=H,Q=$.theme;return H}}function rA(J=""){function Z(...Y){if(!Y.length)return"";let $=Y[0];if(typeof $==="string"&&!$.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/))return`, var(--${J?`${J}-`:""}${$}${Z(...Y.slice(1))})`;return`, ${$}`}return(Y,...$)=>{return`var(--${J?`${J}-`:""}${Y}${Z(...$)})`}}var bf=(J,Z,Q,Y=[])=>{let $=J;Z.forEach((H,K)=>{if(K===Z.length-1){if(Array.isArray($))$[Number(H)]=Q;else if($&&typeof $==="object")$[H]=Q}else if($&&typeof $==="object"){if(!$[H])$[H]=Y.includes(H)?[]:{};$=$[H]}})},ee=(J,Z,Q)=>{function Y($,H=[],K=[]){Object.entries($).forEach(([B,q])=>{if(!Q||Q&&!Q([...H,B])){if(q!==void 0&&q!==null)if(typeof q==="object"&&Object.keys(q).length>0)Y(q,[...H,B],Array.isArray(q)?[...K,B]:K);else Z([...H,B],q,K)}})}Y(J)},J11=(J,Z)=>{if(typeof Z==="number"){if(["lineHeight","fontWeight","opacity","zIndex"].some((Y)=>J.includes(Y)))return Z;if(J[J.length-1].toLowerCase().includes("opacity"))return Z;return`${Z}px`}return Z};function Sz(J,Z){let{prefix:Q,shouldSkipGeneratingVar:Y}=Z||{},$={},H={},K={};return ee(J,(B,q,L)=>{if(typeof q==="string"||typeof q==="number"){if(!Y||!Y(B,q)){let O=`--${Q?`${Q}-`:""}${B.join("-")}`,z=J11(B,q);Object.assign($,{[O]:z}),bf(H,B,`var(${O})`,L),bf(K,B,`var(${O}, ${z})`,L)}}},(B)=>B[0]==="vars"),{css:$,vars:H,varsWithDefaults:K}}function Z11(J,Z={}){let{getSelector:Q=D,disableCssColorScheme:Y,colorSchemeSelector:$,enableContrastVars:H}=Z,{colorSchemes:K={},components:B,defaultColorScheme:q="light",...L}=J,{vars:O,css:z,varsWithDefaults:F}=Sz(L,Z),V=F,A={},{[q]:M,...j}=K;if(Object.entries(j||{}).forEach(([I,b])=>{let{vars:E,css:k,varsWithDefaults:T}=Sz(b,Z);V=e5(V,T),A[I]={css:k,vars:E}}),M){let{css:I,vars:b,varsWithDefaults:E}=Sz(M,Z);V=e5(V,E),A[q]={css:I,vars:b}}function D(I,b){let E=$;if($==="class")E=".%s";if($==="data")E="[data-%s]";if($?.startsWith("data-")&&!$.includes("%s"))E=`[${$}="%s"]`;if(I){if(E==="media"){if(J.defaultColorScheme===I)return":root";return{[`@media (prefers-color-scheme: ${K[I]?.palette?.mode||I})`]:{":root":b}}}if(E){if(J.defaultColorScheme===I)return`:root, ${E.replace("%s",String(I))}`;return E.replace("%s",String(I))}}return":root"}return{vars:V,generateThemeVars:()=>{let I={...O};return Object.entries(A).forEach(([,{vars:b}])=>{I=e5(I,b)}),I},generateStyleSheets:()=>{let I=[],b=J.defaultColorScheme||"light";function E(S,d){if(Object.keys(d).length)I.push(typeof S==="string"?{[S]:{...d}}:S)}E(Q(void 0,{...z}),z);let{[b]:k,...T}=A;if(k){let{css:S}=k,d=K[b]?.palette?.mode,o=!Y&&d?{colorScheme:d,...S}:{...S};E(Q(b,{...o}),o)}if(Object.entries(T).forEach(([S,{css:d}])=>{let o=K[S]?.palette?.mode,v=!Y&&o?{colorScheme:o,...d}:{...d};E(Q(S,{...v}),v)}),H)I.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}});return I}}}var Pj=Z11;function gj(J){return function(Q){if(J==="media"){if(Q!=="light"&&Q!=="dark")console.error(`MUI: @media (prefers-color-scheme) supports only 'light' or 'dark', but receive '${Q}'.`);return`@media (prefers-color-scheme: ${Q})`}if(J){if(J.startsWith("data-")&&!J.includes("%s"))return`[${J}="${Q}"] &`;if(J==="class")return`.${Q} &`;if(J==="data")return`[data-${Q}] &`;return`${J.replace("%s",Q)} &`}return"&"}}var vf=e(J0(),1),P6=e(l0(),1);function R0(J,Z,Q=void 0){let Y={};for(let $ in J){let H=J[$],K="",B=!0;for(let q=0;q<H.length;q+=1){let L=H[q];if(L){if(K+=(B===!0?"":" ")+Z(L),B=!1,Q&&Q[L])K+=" "+Q[L]}}Y[$]=K}return Y}var ff=e(F0(),1),Q11=e8(),X11=AW("div",{name:"MuiContainer",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[`maxWidth${r8(String(Q.maxWidth))}`],Q.fixed&&Z.fixed,Q.disableGutters&&Z.disableGutters]}}),Y11=(J)=>OG({props:J,name:"MuiContainer",defaultTheme:Q11}),G11=(J,Z)=>{let Q=(q)=>{return k0(Z,q)},{classes:Y,fixed:$,disableGutters:H,maxWidth:K}=J,B={root:["root",K&&`maxWidth${r8(String(K))}`,$&&"fixed",H&&"disableGutters"]};return R0(B,Q,Y)};function tA(J={}){let{createStyledComponent:Z=X11,useThemeProps:Q=Y11,componentName:Y="MuiContainer"}=J,$=Z(({theme:K,ownerState:B})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!B.disableGutters&&{paddingLeft:K.spacing(2),paddingRight:K.spacing(2),[K.breakpoints.up("sm")]:{paddingLeft:K.spacing(3),paddingRight:K.spacing(3)}}}),({theme:K,ownerState:B})=>B.fixed&&Object.keys(K.breakpoints.values).reduce((q,L)=>{let O=L,z=K.breakpoints.values[O];if(z!==0)q[K.breakpoints.up(O)]={maxWidth:`${z}${K.breakpoints.unit}`};return q},{}),({theme:K,ownerState:B})=>({...B.maxWidth==="xs"&&{[K.breakpoints.up("xs")]:{maxWidth:Math.max(K.breakpoints.values.xs,444)}},...B.maxWidth&&B.maxWidth!=="xs"&&{[K.breakpoints.up(B.maxWidth)]:{maxWidth:`${K.breakpoints.values[B.maxWidth]}${K.breakpoints.unit}`}}})),H=vf.forwardRef(function(B,q){let L=Q(B),{className:O,component:z="div",disableGutters:F=!1,fixed:V=!1,maxWidth:A="lg",classes:M,...j}=L,D={...L,component:z,disableGutters:F,fixed:V,maxWidth:A},w=G11(D,Y);return ff.jsx($,{as:z,ownerState:D,className:L0(w.root,O),ref:q,...j})});return H.propTypes={children:P6.default.node,classes:P6.default.object,className:P6.default.string,component:P6.default.elementType,disableGutters:P6.default.bool,fixed:P6.default.bool,maxWidth:P6.default.oneOfType([P6.default.oneOf(["xs","sm","md","lg","xl",!1]),P6.default.string]),sx:P6.default.oneOfType([P6.default.arrayOf(P6.default.oneOfType([P6.default.func,P6.default.object,P6.default.bool])),P6.default.func,P6.default.object])},H}var AG=e(J0(),1),q2=e(l0(),1);var Sf=e(J0(),1);function MU(J,Z){return Sf.isValidElement(J)&&Z.indexOf(J.type.muiName??J.type?._payload?.value?.muiName)!==-1}var $11=(J,Z)=>J.filter((Q)=>Z.includes(Q)),MW=(J,Z,Q)=>{let Y=J.keys[0];if(Array.isArray(Z))Z.forEach(($,H)=>{Q((K,B)=>{if(H<=J.keys.length-1)if(H===0)Object.assign(K,B);else K[J.up(J.keys[H])]=B},$)});else if(Z&&typeof Z==="object")(Object.keys(Z).length>J.keys.length?J.keys:$11(J.keys,Object.keys(Z))).forEach((H)=>{if(J.keys.includes(H)){let K=Z[H];if(K!==void 0)Q((B,q)=>{if(Y===H)Object.assign(B,q);else B[J.up(H)]=q},K)}});else if(typeof Z==="number"||typeof Z==="string")Q(($,H)=>{Object.assign($,H)},Z)};function eA(J){return`--Grid-${J}Spacing`}function JM(J){return`--Grid-parent-${J}Spacing`}var Tf="--Grid-columns",_U="--Grid-parent-columns",Pf=({theme:J,ownerState:Z})=>{let Q={};return MW(J.breakpoints,Z.size,(Y,$)=>{let H={};if($==="grow")H={flexBasis:0,flexGrow:1,maxWidth:"100%"};if($==="auto")H={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};if(typeof $==="number")H={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${$} / var(${_U}) - (var(${_U}) - ${$}) * (var(${JM("column")}) / var(${_U})))`};Y(Q,H)}),Q},gf=({theme:J,ownerState:Z})=>{let Q={};return MW(J.breakpoints,Z.offset,(Y,$)=>{let H={};if($==="auto")H={marginLeft:"auto"};if(typeof $==="number")H={marginLeft:$===0?"0px":`calc(100% * ${$} / var(${_U}) + var(${JM("column")}) * ${$} / var(${_U}))`};Y(Q,H)}),Q},yf=({theme:J,ownerState:Z})=>{if(!Z.container)return{};let Q={[Tf]:12};return MW(J.breakpoints,Z.columns,(Y,$)=>{let H=$??12;Y(Q,{[Tf]:H,"> *":{[_U]:H}})}),Q},hf=({theme:J,ownerState:Z})=>{if(!Z.container)return{};let Q={};return MW(J.breakpoints,Z.rowSpacing,(Y,$)=>{let H=typeof $==="string"?$:J.spacing?.($);Y(Q,{[eA("row")]:H,"> *":{[JM("row")]:H}})}),Q},uf=({theme:J,ownerState:Z})=>{if(!Z.container)return{};let Q={};return MW(J.breakpoints,Z.columnSpacing,(Y,$)=>{let H=typeof $==="string"?$:J.spacing?.($);Y(Q,{[eA("column")]:H,"> *":{[JM("column")]:H}})}),Q},df=({theme:J,ownerState:Z})=>{if(!Z.container)return{};let Q={};return MW(J.breakpoints,Z.direction,(Y,$)=>{Y(Q,{flexDirection:$})}),Q},mf=({ownerState:J})=>{return{minWidth:0,boxSizing:"border-box",...J.container&&{display:"flex",flexWrap:"wrap",...J.wrap&&J.wrap!=="wrap"&&{flexWrap:J.wrap},gap:`var(${eA("row")}) var(${eA("column")})`}}},cf=(J)=>{let Z=[];return Object.entries(J).forEach(([Q,Y])=>{if(Y!==!1&&Y!==void 0)Z.push(`grid-${Q}-${String(Y)}`)}),Z},pf=(J,Z="xs")=>{function Q(Y){if(Y===void 0)return!1;return typeof Y==="string"&&!Number.isNaN(Number(Y))||typeof Y==="number"&&Y>0}if(Q(J))return[`spacing-${Z}-${String(J)}`];if(typeof J==="object"&&!Array.isArray(J)){let Y=[];return Object.entries(J).forEach(([$,H])=>{if(Q(H))Y.push(`spacing-${$}-${String(H)}`)}),Y}return[]},lf=(J)=>{if(J===void 0)return[];if(typeof J==="object")return Object.entries(J).map(([Z,Q])=>`direction-${Z}-${Q}`);return[`direction-xs-${String(J)}`]};var H11=(J)=>{if(["item","zeroMinWidth"].includes(J))return`The \`${J}\` prop has been removed and is no longer necessary. You can safely remove it.`;return`The \`${J}\` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.`},nf=[];function yj(J,Z){let Q=[];if(J.item!==void 0)delete J.item,Q.push("item");if(J.zeroMinWidth!==void 0)delete J.zeroMinWidth,Q.push("zeroMinWidth");Z.keys.forEach((Y)=>{if(J[Y]!==void 0)Q.push(Y),delete J[Y]}),Q.forEach((Y)=>{if(!nf.includes(Y))nf.push(Y),console.warn(`MUI Grid: ${H11(Y)}
`)})}var af=e(F0(),1),W11=e8(),K11=AW("div",{name:"MuiGrid",slot:"Root"});function B11(J){return OG({props:J,name:"MuiGrid",defaultTheme:W11})}function ZM(J={}){let{createStyledComponent:Z=K11,useThemeProps:Q=B11,useTheme:Y=$J,componentName:$="MuiGrid"}=J,H=(L,O)=>{let{container:z,direction:F,spacing:V,wrap:A,size:M}=L,j={root:["root",z&&"container",A!=="wrap"&&`wrap-xs-${String(A)}`,...lf(F),...cf(M),...z?pf(V,O.breakpoints.keys[0]):[]]};return R0(j,(D)=>k0($,D),{})};function K(L,O,z=()=>!0){let F={};if(L===null)return F;if(Array.isArray(L))L.forEach((V,A)=>{if(V!==null&&z(V)&&O.keys[A])F[O.keys[A]]=V});else if(typeof L==="object")Object.keys(L).forEach((V)=>{let A=L[V];if(A!==null&&A!==void 0&&z(A))F[V]=A});else F[O.keys[0]]=L;return F}let B=Z(yf,uf,hf,Pf,df,mf,gf),q=AG.forwardRef(function(O,z){let F=Y(),V=Q(O),A=KQ(V);yj(A,F.breakpoints);let{className:M,children:j,columns:D=12,container:w=!1,component:C="div",direction:I="row",wrap:b="wrap",size:E={},offset:k={},spacing:T=0,rowSpacing:S=T,columnSpacing:d=T,unstable_level:o=0,...v}=A,y=K(E,F.breakpoints,(g)=>g!==!1),i=K(k,F.breakpoints),p=O.columns??(o?void 0:D),l=O.spacing??(o?void 0:T),t=O.rowSpacing??O.spacing??(o?void 0:S),Q1=O.columnSpacing??O.spacing??(o?void 0:d),m={...A,level:o,columns:p,container:w,direction:I,wrap:b,spacing:l,rowSpacing:t,columnSpacing:Q1,size:y,offset:i},K1=H(m,F);return af.jsx(B,{ref:z,as:C,ownerState:m,className:L0(K1.root,M),...v,children:AG.Children.map(j,(g)=>{if(AG.isValidElement(g)&&MU(g,["Grid"])&&w&&g.props.container)return AG.cloneElement(g,{unstable_level:g.props?.unstable_level??o+1});return g})})});return q.propTypes={children:q2.default.node,className:q2.default.string,columns:q2.default.oneOfType([q2.default.arrayOf(q2.default.number),q2.default.number,q2.default.object]),columnSpacing:q2.default.oneOfType([q2.default.arrayOf(q2.default.oneOfType([q2.default.number,q2.default.string])),q2.default.number,q2.default.object,q2.default.string]),component:q2.default.elementType,container:q2.default.bool,direction:q2.default.oneOfType([q2.default.oneOf(["column-reverse","column","row-reverse","row"]),q2.default.arrayOf(q2.default.oneOf(["column-reverse","column","row-reverse","row"])),q2.default.object]),offset:q2.default.oneOfType([q2.default.string,q2.default.number,q2.default.arrayOf(q2.default.oneOfType([q2.default.string,q2.default.number])),q2.default.object]),rowSpacing:q2.default.oneOfType([q2.default.arrayOf(q2.default.oneOfType([q2.default.number,q2.default.string])),q2.default.number,q2.default.object,q2.default.string]),size:q2.default.oneOfType([q2.default.string,q2.default.bool,q2.default.number,q2.default.arrayOf(q2.default.oneOfType([q2.default.string,q2.default.bool,q2.default.number])),q2.default.object]),spacing:q2.default.oneOfType([q2.default.arrayOf(q2.default.oneOfType([q2.default.number,q2.default.string])),q2.default.number,q2.default.object,q2.default.string]),sx:q2.default.oneOfType([q2.default.arrayOf(q2.default.oneOfType([q2.default.func,q2.default.object,q2.default.bool])),q2.default.func,q2.default.object]),wrap:q2.default.oneOf(["nowrap","wrap-reverse","wrap"])},q.muiName="Grid",q}var VU=e(J0(),1),H7=e(l0(),1);var sf=e(F0(),1),q11=e8(),U11=AW("div",{name:"MuiStack",slot:"Root"});function L11(J){return OG({props:J,name:"MuiStack",defaultTheme:q11})}function O11(J,Z){let Q=VU.Children.toArray(J).filter(Boolean);return Q.reduce((Y,$,H)=>{if(Y.push($),H<Q.length-1)Y.push(VU.cloneElement(Z,{key:`separator-${H}`}));return Y},[])}var z11=(J)=>{return{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[J]},N11=({ownerState:J,theme:Z})=>{let Q={display:"flex",flexDirection:"column",...T6({theme:Z},PA({values:J.direction,breakpoints:Z.breakpoints.values}),(Y)=>({flexDirection:Y}))};if(J.spacing){let Y=zW(Z),$=Object.keys(Z.breakpoints.values).reduce((q,L)=>{if(typeof J.spacing==="object"&&J.spacing[L]!=null||typeof J.direction==="object"&&J.direction[L]!=null)q[L]=!0;return q},{}),H=PA({values:J.direction,base:$}),K=PA({values:J.spacing,base:$});if(typeof H==="object")Object.keys(H).forEach((q,L,O)=>{if(!H[q]){let F=L>0?H[O[L-1]]:"column";H[q]=F}});Q=e5(Q,T6({theme:Z},K,(q,L)=>{if(J.useFlexGap)return{gap:HQ(Y,q)};return{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${z11(L?H[L]:J.direction)}`]:HQ(Y,q)}}}))}return Q=Wf(Z.breakpoints,Q),Q};function QM(J={}){let{createStyledComponent:Z=U11,useThemeProps:Q=L11,componentName:Y="MuiStack"}=J,$=()=>{return R0({root:["root"]},(q)=>k0(Y,q),{})},H=Z(N11),K=VU.forwardRef(function(q,L){let O=Q(q),z=KQ(O),{component:F="div",direction:V="column",spacing:A=0,divider:M,children:j,className:D,useFlexGap:w=!1,...C}=z,I={direction:V,spacing:A,useFlexGap:w},b=$();return sf.jsx(H,{as:F,ownerState:I,ref:L,className:L0(b.root,D),...C,children:M?O11(j,M):j})});return K.propTypes={children:H7.default.node,direction:H7.default.oneOfType([H7.default.oneOf(["column-reverse","column","row-reverse","row"]),H7.default.arrayOf(H7.default.oneOf(["column-reverse","column","row-reverse","row"])),H7.default.object]),divider:H7.default.node,spacing:H7.default.oneOfType([H7.default.arrayOf(H7.default.oneOfType([H7.default.number,H7.default.string])),H7.default.number,H7.default.object,H7.default.string]),sx:H7.default.oneOfType([H7.default.arrayOf(H7.default.oneOfType([H7.default.func,H7.default.object,H7.default.bool])),H7.default.func,H7.default.object])},K}function tf(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pq.white,default:pq.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:0.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:0.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:0.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:0.12,activatedOpacity:0.12}}}var hj=tf();function ef(){return{text:{primary:pq.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pq.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:0.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:0.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:0.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:0.12,activatedOpacity:0.24}}}var XM=ef();function of(J,Z,Q,Y){let $=Y.light||Y,H=Y.dark||Y*1.5;if(!J[Z]){if(J.hasOwnProperty(Q))J[Z]=J[Q];else if(Z==="light")J.light=AU(J.main,$);else if(Z==="dark")J.dark=FU(J.main,H)}}function rf(J,Z,Q,Y,$){let H=$.light||$,K=$.dark||$*1.5;if(!Z[Q]){if(Z.hasOwnProperty(Y))Z[Q]=Z[Y];else if(Q==="light")Z.light=`color-mix(in ${J}, ${Z.main}, #fff ${(H*100).toFixed(0)}%)`;else if(Q==="dark")Z.dark=`color-mix(in ${J}, ${Z.main}, #000 ${(K*100).toFixed(0)}%)`}}function F11(J="light"){if(J==="dark")return{main:QW[200],light:QW[50],dark:QW[400]};return{main:QW[700],light:QW[400],dark:QW[800]}}function A11(J="light"){if(J==="dark")return{main:ZW[200],light:ZW[50],dark:ZW[400]};return{main:ZW[500],light:ZW[300],dark:ZW[700]}}function M11(J="light"){if(J==="dark")return{main:JW[500],light:JW[300],dark:JW[700]};return{main:JW[700],light:JW[400],dark:JW[800]}}function _11(J="light"){if(J==="dark")return{main:XW[400],light:XW[300],dark:XW[700]};return{main:XW[700],light:XW[500],dark:XW[900]}}function V11(J="light"){if(J==="dark")return{main:YW[400],light:YW[300],dark:YW[700]};return{main:YW[800],light:YW[500],dark:YW[900]}}function I11(J="light"){if(J==="dark")return{main:lq[400],light:lq[300],dark:lq[700]};return{main:"#ed6c02",light:lq[500],dark:lq[900]}}function j11(J){return`oklch(from ${J} var(--__l) 0 h / var(--__a))`}function _W(J){let{mode:Z="light",contrastThreshold:Q=3,tonalOffset:Y=0.2,colorSpace:$,...H}=J,K=J.primary||F11(Z),B=J.secondary||A11(Z),q=J.error||M11(Z),L=J.info||_11(Z),O=J.success||V11(Z),z=J.warning||I11(Z);function F(j){if($)return j11(j);let D=bj(j,XM.text.primary)>=Q?XM.text.primary:hj.text.primary;{let w=bj(j,D);if(w<3)console.error([`MUI: The contrast ratio of ${w}:1 for ${D} on ${j}`,"falls below the WCAG recommended absolute minimum contrast ratio of 3:1.","https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`))}return D}let V=({color:j,name:D,mainShade:w=500,lightShade:C=300,darkShade:I=700})=>{if(j={...j},!j.main&&j[w])j.main=j[w];if(!j.hasOwnProperty("main"))throw Error(`MUI: The color${D?` (${D})`:""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${w}\` property.`);if(typeof j.main!=="string")throw Error(`MUI: The color${D?` (${D})`:""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(j.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });`);if($)rf($,j,"light",C,Y),rf($,j,"dark",I,Y);else of(j,"light",C,Y),of(j,"dark",I,Y);if(!j.contrastText)j.contrastText=F(j.main);return j},A;if(Z==="light")A=tf();else if(Z==="dark")A=ef();if(!A)console.error(`MUI: The palette mode \`${Z}\` is not supported.`);return e5({common:{...pq},mode:Z,primary:V({color:K,name:"primary"}),secondary:V({color:B,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:V({color:q,name:"error"}),warning:V({color:z,name:"warning"}),info:V({color:L,name:"info"}),success:V({color:O,name:"success"}),grey:lb,contrastThreshold:Q,getContrastText:F,augmentColor:V,tonalOffset:Y,...A},H)}function YM(J){let Z={};return Object.entries(J).forEach((Y)=>{let[$,H]=Y;if(typeof H==="object")Z[$]=`${H.fontStyle?`${H.fontStyle} `:""}${H.fontVariant?`${H.fontVariant} `:""}${H.fontWeight?`${H.fontWeight} `:""}${H.fontStretch?`${H.fontStretch} `:""}${H.fontSize||""}${H.lineHeight?`/${H.lineHeight} `:""}${H.fontFamily||""}`}),Z}function uj(J,Z){return{toolbar:{minHeight:56,[J.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[J.up("sm")]:{minHeight:64}},...Z}}function D11(J){return Math.round(J*1e5)/1e5}var JS={textTransform:"uppercase"},ZS='"Roboto", "Helvetica", "Arial", sans-serif';function dj(J,Z){let{fontFamily:Q=ZS,fontSize:Y=14,fontWeightLight:$=300,fontWeightRegular:H=400,fontWeightMedium:K=500,fontWeightBold:B=700,htmlFontSize:q=16,allVariants:L,pxToRem:O,...z}=typeof Z==="function"?Z(J):Z;if(typeof Y!=="number")console.error("MUI: `fontSize` is required to be a number.");if(typeof q!=="number")console.error("MUI: `htmlFontSize` is required to be a number.");let F=Y/14,V=O||((j)=>`${j/q*F}rem`),A=(j,D,w,C,I)=>({fontFamily:Q,fontWeight:j,fontSize:V(D),lineHeight:w,...Q===ZS?{letterSpacing:`${D11(C/D)}em`}:{},...I,...L}),M={h1:A($,96,1.167,-1.5),h2:A($,60,1.2,-0.5),h3:A(H,48,1.167,0),h4:A(H,34,1.235,0.25),h5:A(H,24,1.334,0),h6:A(K,20,1.6,0.15),subtitle1:A(H,16,1.75,0.15),subtitle2:A(K,14,1.57,0.1),body1:A(H,16,1.5,0.15),body2:A(H,14,1.43,0.15),button:A(K,14,1.75,0.4,JS),caption:A(H,12,1.66,0.4),overline:A(H,12,2.66,1,JS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return e5({htmlFontSize:q,pxToRem:V,fontFamily:Q,fontSize:Y,fontWeightLight:$,fontWeightRegular:H,fontWeightMedium:K,fontWeightBold:B,...M},z,{clone:!1})}function W7(...J){return[`${J[0]}px ${J[1]}px ${J[2]}px ${J[3]}px rgba(0,0,0,0.2)`,`${J[4]}px ${J[5]}px ${J[6]}px ${J[7]}px rgba(0,0,0,0.14)`,`${J[8]}px ${J[9]}px ${J[10]}px ${J[11]}px rgba(0,0,0,0.12)`].join(",")}var w11=["none",W7(0,2,1,-1,0,1,1,0,0,1,3,0),W7(0,3,1,-2,0,2,2,0,0,1,5,0),W7(0,3,3,-2,0,3,4,0,0,1,8,0),W7(0,2,4,-1,0,4,5,0,0,1,10,0),W7(0,3,5,-1,0,5,8,0,0,1,14,0),W7(0,3,5,-1,0,6,10,0,0,1,18,0),W7(0,4,5,-2,0,7,10,1,0,2,16,1),W7(0,5,5,-3,0,8,10,1,0,3,14,2),W7(0,5,6,-3,0,9,12,1,0,3,16,2),W7(0,6,6,-3,0,10,14,1,0,4,18,3),W7(0,6,7,-4,0,11,15,1,0,4,20,3),W7(0,7,8,-4,0,12,17,2,0,5,22,4),W7(0,7,8,-4,0,13,19,2,0,5,24,4),W7(0,7,9,-4,0,14,21,2,0,5,26,4),W7(0,8,9,-5,0,15,22,2,0,6,28,5),W7(0,8,10,-5,0,16,24,2,0,6,30,5),W7(0,8,11,-5,0,17,26,2,0,6,32,5),W7(0,9,11,-5,0,18,28,2,0,7,34,6),W7(0,9,12,-6,0,19,29,2,0,7,36,6),W7(0,10,13,-6,0,20,31,3,0,8,38,7),W7(0,10,13,-6,0,21,33,3,0,8,40,7),W7(0,10,14,-6,0,22,35,3,0,8,42,7),W7(0,11,14,-7,0,23,36,3,0,9,44,8),W7(0,11,15,-7,0,24,38,3,0,9,46,8)],QS=w11;var E11={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},k11={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XS(J){return`${Math.round(J)}ms`}function x11(J){if(!J)return 0;let Z=J/36;return Math.min(Math.round((4+15*Z**0.25+Z/5)*10),3000)}function mj(J){let Z={...E11,...J.easing},Q={...k11,...J.duration};return{getAutoHeightDuration:x11,create:($=["all"],H={})=>{let{duration:K=Q.standard,easing:B=Z.easeInOut,delay:q=0,...L}=H;{let O=(F)=>typeof F==="string",z=(F)=>!Number.isNaN(parseFloat(F));if(!O($)&&!Array.isArray($))console.error('MUI: Argument "props" must be a string or Array.');if(!z(K)&&!O(K))console.error(`MUI: Argument "duration" must be a number or a string but found ${K}.`);if(!O(B))console.error('MUI: Argument "easing" must be a string.');if(!z(q)&&!O(q))console.error('MUI: Argument "delay" must be a number or a string.');if(typeof H!=="object")console.error(["MUI: Secong argument of transition.create must be an object.","Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`"].join(`
`));if(Object.keys(L).length!==0)console.error(`MUI: Unrecognized argument(s) [${Object.keys(L).join(",")}].`)}return(Array.isArray($)?$:[$]).map((O)=>`${O} ${typeof K==="string"?K:XS(K)} ${B} ${typeof q==="string"?q:XS(q)}`).join(",")},...J,easing:Z,duration:Q}}var R11={mobileStepper:1000,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},YS=R11;function C11(J){return s8(J)||typeof J>"u"||typeof J==="string"||typeof J==="boolean"||typeof J==="number"||Array.isArray(J)}function GM(J={}){let Z={...J};function Q(Y){let $=Object.entries(Y);for(let H=0;H<$.length;H++){let[K,B]=$[H];if(!C11(B)||K.startsWith("unstable_"))delete Y[K];else if(s8(B))Y[K]={...B},Q(Y[K])}}return Q(Z),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(Z,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function GS(J){if(typeof J==="number")return`${(J*100).toFixed(0)}%`;return`calc((${J}) * 100%)`}var b11=(J)=>{if(!Number.isNaN(+J))return+J;let Z=J.match(/\d*\.?\d+/g);if(!Z)return 0;let Q=0;for(let Y=0;Y<Z.length;Y+=1)Q+=+Z[Y];return Q};function v11(J){Object.assign(J,{alpha(Z,Q){let Y=this||J;if(Y.colorSpace)return`oklch(from ${Z} l c h / ${typeof Q==="string"?`calc(${Q})`:Q})`;if(Y.vars)return`rgba(${Z.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof Q==="string"?`calc(${Q})`:Q})`;return NU(Z,b11(Q))},lighten(Z,Q){let Y=this||J;if(Y.colorSpace)return`color-mix(in ${Y.colorSpace}, ${Z}, #fff ${GS(Q)})`;return AU(Z,Q)},darken(Z,Q){let Y=this||J;if(Y.colorSpace)return`color-mix(in ${Y.colorSpace}, ${Z}, #000 ${GS(Q)})`;return FU(Z,Q)}})}function f11(J={},...Z){let{breakpoints:Q,mixins:Y={},spacing:$,palette:H={},transitions:K={},typography:B={},shape:q,colorSpace:L,...O}=J;if(J.vars&&J.generateThemeVars===void 0)throw Error("MUI: `vars` is a private field used for CSS variables support.\nPlease use another name or follow the [docs](https://mui.com/material-ui/customization/css-theme-variables/usage/) to enable the feature.");let z=_W({...H,colorSpace:L}),F=e8(J),V=e5(F,{mixins:uj(F.breakpoints,Y),palette:z,shadows:QS.slice(),typography:dj(z,B),transitions:mj(K),zIndex:{...YS}});V=e5(V,O),V=Z.reduce((A,M)=>e5(A,M),V);{let A=["active","checked","completed","disabled","error","expanded","focused","focusVisible","required","selected"],M=(j,D)=>{let w;for(w in j){let C=j[w];if(A.includes(w)&&Object.keys(C).length>0){{let I=k0("",w);console.error([`MUI: The \`${D}\` component increases the CSS specificity of the \`${w}\` internal state.`,"You can not override it like this: ",JSON.stringify(j,null,2),"",`Instead, you need to use the '&.${I}' syntax:`,JSON.stringify({root:{[`&.${I}`]:C}},null,2),"","https://mui.com/r/state-classes-guide"].join(`
`))}j[w]={}}}};Object.keys(V.components).forEach((j)=>{let D=V.components[j].styleOverrides;if(D&&j.startsWith("Mui"))M(D,j)})}return V.unstable_sxConfig={...oJ,...O?.unstable_sxConfig},V.unstable_sx=function(M){return GJ({sx:M,theme:this})},V.toRuntimeSource=GM,v11(V),V}var Tz=f11;function IU(J){let Z;if(J<1)Z=5.11916*J**2;else Z=4.5*Math.log(J+1)+2;return Math.round(Z*10)/1000}var S11=[...Array(25)].map((J,Z)=>{if(Z===0)return"none";let Q=IU(Z);return`linear-gradient(rgba(255 255 255 / ${Q}), rgba(255 255 255 / ${Q}))`});function cj(J){return{inputPlaceholder:J==="dark"?0.5:0.42,inputUnderline:J==="dark"?0.7:0.42,switchTrackDisabled:J==="dark"?0.2:0.12,switchTrack:J==="dark"?0.3:0.38}}function pj(J){return J==="dark"?S11:[]}function lj(J){let{palette:Z={mode:"light"},opacity:Q,overlays:Y,colorSpace:$,...H}=J,K=_W({...Z,colorSpace:$});return{palette:K,opacity:{...cj(K.mode),...Q},overlays:Y||pj(K.mode),...H}}function ij(J){return!!J[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!J[0].match(/sxConfig$/)||J[0]==="palette"&&!!J[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}var T11=(J)=>[...[...Array(25)].map((Z,Q)=>`--${J?`${J}-`:""}overlays-${Q}`),`--${J?`${J}-`:""}palette-AppBar-darkBg`,`--${J?`${J}-`:""}palette-AppBar-darkColor`],$S=T11;var HS=(J)=>(Z,Q)=>{let Y=J.rootSelector||":root",$=J.colorSchemeSelector,H=$;if($==="class")H=".%s";if($==="data")H="[data-%s]";if($?.startsWith("data-")&&!$.includes("%s"))H=`[${$}="%s"]`;if(J.defaultColorScheme===Z){if(Z==="dark"){let K={};if($S(J.cssVarPrefix).forEach((B)=>{K[B]=Q[B],delete Q[B]}),H==="media")return{[Y]:Q,["@media (prefers-color-scheme: dark)"]:{[Y]:K}};if(H)return{[H.replace("%s",Z)]:K,[`${Y}, ${H.replace("%s",Z)}`]:Q};return{[Y]:{...Q,...K}}}if(H&&H!=="media")return`${Y}, ${H.replace("%s",String(Z))}`}else if(Z){if(H==="media")return{[`@media (prefers-color-scheme: ${String(Z)})`]:{[Y]:Q}};if(H)return H.replace("%s",String(Z))}return Y};function P11(J,Z){Z.forEach((Q)=>{if(!J[Q])J[Q]={}})}function U0(J,Z,Q){if(!J[Z]&&Q)J[Z]=Q}function Pz(J){if(typeof J!=="string"||!J.startsWith("hsl"))return J;return Cj(J)}function MX(J,Z){if(!(`${Z}Channel`in J))J[`${Z}Channel`]=zU(Pz(J[Z]),`MUI: Can't create \`palette.${Z}Channel\` because \`palette.${Z}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${Z}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`)}function g11(J){if(typeof J==="number")return`${J}px`;if(typeof J==="string"||typeof J==="function"||Array.isArray(J))return J;return"8px"}var LQ=(J)=>{try{return J()}catch(Z){}return},y11=(J="mui")=>rA(J);function nj(J,Z,Q,Y,$){if(!Q)return;Q=Q===!0?{}:Q;let H=$==="dark"?"dark":"light";if(!Y){Z[$]=lj({...Q,palette:{mode:H,...Q?.palette},colorSpace:J});return}let{palette:K,...B}=Tz({...Y,palette:{mode:H,...Q?.palette},colorSpace:J});return Z[$]={...Q,palette:K,opacity:{...cj(H),...Q?.opacity},overlays:Q?.overlays||pj(H)},B}function aj(J={},...Z){let{colorSchemes:Q={light:!0},defaultColorScheme:Y,disableCssColorScheme:$=!1,cssVarPrefix:H="mui",nativeColor:K=!1,shouldSkipGeneratingVar:B=ij,colorSchemeSelector:q=Q.light&&Q.dark?"media":void 0,rootSelector:L=":root",...O}=J,z=Object.keys(Q)[0],F=Y||(Q.light&&z!=="light"?"light":z),V=y11(H),{[F]:A,light:M,dark:j,...D}=Q,w={...D},C=A;if(F==="dark"&&!("dark"in Q)||F==="light"&&!("light"in Q))C=!0;if(!C)throw Error(`MUI: The \`colorSchemes.${F}\` option is either missing or invalid.`);let I;if(K)I="oklch";let b=nj(I,w,C,O,F);if(M&&!w.light)nj(I,w,M,void 0,"light");if(j&&!w.dark)nj(I,w,j,void 0,"dark");let E={defaultColorScheme:F,...b,cssVarPrefix:H,colorSchemeSelector:q,rootSelector:L,getCssVar:V,colorSchemes:w,font:{...YM(b.typography),...b.font},spacing:g11(O.spacing)};Object.keys(E.colorSchemes).forEach((o)=>{let v=E.colorSchemes[o].palette,y=(p)=>{let l=p.split("-"),t=l[1],Q1=l[2];return V(p,v[t][Q1])};if(v.mode==="light")U0(v.common,"background","#fff"),U0(v.common,"onBackground","#000");if(v.mode==="dark")U0(v.common,"background","#000"),U0(v.common,"onBackground","#fff");function i(p,l,t){if(I){let Q1;if(p===NG)Q1=`transparent ${((1-t)*100).toFixed(0)}%`;if(p===U4)Q1=`#000 ${(t*100).toFixed(0)}%`;if(p===L4)Q1=`#fff ${(t*100).toFixed(0)}%`;return`color-mix(in ${I}, ${l}, ${Q1})`}return p(l,t)}if(P11(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){U0(v.Alert,"errorColor",i(U4,v.error.light,0.6)),U0(v.Alert,"infoColor",i(U4,v.info.light,0.6)),U0(v.Alert,"successColor",i(U4,v.success.light,0.6)),U0(v.Alert,"warningColor",i(U4,v.warning.light,0.6)),U0(v.Alert,"errorFilledBg",y("palette-error-main")),U0(v.Alert,"infoFilledBg",y("palette-info-main")),U0(v.Alert,"successFilledBg",y("palette-success-main")),U0(v.Alert,"warningFilledBg",y("palette-warning-main")),U0(v.Alert,"errorFilledColor",LQ(()=>v.getContrastText(v.error.main))),U0(v.Alert,"infoFilledColor",LQ(()=>v.getContrastText(v.info.main))),U0(v.Alert,"successFilledColor",LQ(()=>v.getContrastText(v.success.main))),U0(v.Alert,"warningFilledColor",LQ(()=>v.getContrastText(v.warning.main))),U0(v.Alert,"errorStandardBg",i(L4,v.error.light,0.9)),U0(v.Alert,"infoStandardBg",i(L4,v.info.light,0.9)),U0(v.Alert,"successStandardBg",i(L4,v.success.light,0.9)),U0(v.Alert,"warningStandardBg",i(L4,v.warning.light,0.9)),U0(v.Alert,"errorIconColor",y("palette-error-main")),U0(v.Alert,"infoIconColor",y("palette-info-main")),U0(v.Alert,"successIconColor",y("palette-success-main")),U0(v.Alert,"warningIconColor",y("palette-warning-main")),U0(v.AppBar,"defaultBg",y("palette-grey-100")),U0(v.Avatar,"defaultBg",y("palette-grey-400")),U0(v.Button,"inheritContainedBg",y("palette-grey-300")),U0(v.Button,"inheritContainedHoverBg",y("palette-grey-A100")),U0(v.Chip,"defaultBorder",y("palette-grey-400")),U0(v.Chip,"defaultAvatarColor",y("palette-grey-700")),U0(v.Chip,"defaultIconColor",y("palette-grey-700")),U0(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),U0(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),U0(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),U0(v.LinearProgress,"primaryBg",i(L4,v.primary.main,0.62)),U0(v.LinearProgress,"secondaryBg",i(L4,v.secondary.main,0.62)),U0(v.LinearProgress,"errorBg",i(L4,v.error.main,0.62)),U0(v.LinearProgress,"infoBg",i(L4,v.info.main,0.62)),U0(v.LinearProgress,"successBg",i(L4,v.success.main,0.62)),U0(v.LinearProgress,"warningBg",i(L4,v.warning.main,0.62)),U0(v.Skeleton,"bg",I?i(NG,v.text.primary,0.11):`rgba(${y("palette-text-primaryChannel")} / 0.11)`),U0(v.Slider,"primaryTrack",i(L4,v.primary.main,0.62)),U0(v.Slider,"secondaryTrack",i(L4,v.secondary.main,0.62)),U0(v.Slider,"errorTrack",i(L4,v.error.main,0.62)),U0(v.Slider,"infoTrack",i(L4,v.info.main,0.62)),U0(v.Slider,"successTrack",i(L4,v.success.main,0.62)),U0(v.Slider,"warningTrack",i(L4,v.warning.main,0.62));let p=I?i(U4,v.background.default,0.6825):vz(v.background.default,0.8);U0(v.SnackbarContent,"bg",p),U0(v.SnackbarContent,"color",LQ(()=>I?XM.text.primary:v.getContrastText(p))),U0(v.SpeedDialAction,"fabHoverBg",vz(v.background.paper,0.15)),U0(v.StepConnector,"border",y("palette-grey-400")),U0(v.StepContent,"border",y("palette-grey-400")),U0(v.Switch,"defaultColor",y("palette-common-white")),U0(v.Switch,"defaultDisabledColor",y("palette-grey-100")),U0(v.Switch,"primaryDisabledColor",i(L4,v.primary.main,0.62)),U0(v.Switch,"secondaryDisabledColor",i(L4,v.secondary.main,0.62)),U0(v.Switch,"errorDisabledColor",i(L4,v.error.main,0.62)),U0(v.Switch,"infoDisabledColor",i(L4,v.info.main,0.62)),U0(v.Switch,"successDisabledColor",i(L4,v.success.main,0.62)),U0(v.Switch,"warningDisabledColor",i(L4,v.warning.main,0.62)),U0(v.TableCell,"border",i(L4,i(NG,v.divider,1),0.88)),U0(v.Tooltip,"bg",i(NG,v.grey[700],0.92))}if(v.mode==="dark"){U0(v.Alert,"errorColor",i(L4,v.error.light,0.6)),U0(v.Alert,"infoColor",i(L4,v.info.light,0.6)),U0(v.Alert,"successColor",i(L4,v.success.light,0.6)),U0(v.Alert,"warningColor",i(L4,v.warning.light,0.6)),U0(v.Alert,"errorFilledBg",y("palette-error-dark")),U0(v.Alert,"infoFilledBg",y("palette-info-dark")),U0(v.Alert,"successFilledBg",y("palette-success-dark")),U0(v.Alert,"warningFilledBg",y("palette-warning-dark")),U0(v.Alert,"errorFilledColor",LQ(()=>v.getContrastText(v.error.dark))),U0(v.Alert,"infoFilledColor",LQ(()=>v.getContrastText(v.info.dark))),U0(v.Alert,"successFilledColor",LQ(()=>v.getContrastText(v.success.dark))),U0(v.Alert,"warningFilledColor",LQ(()=>v.getContrastText(v.warning.dark))),U0(v.Alert,"errorStandardBg",i(U4,v.error.light,0.9)),U0(v.Alert,"infoStandardBg",i(U4,v.info.light,0.9)),U0(v.Alert,"successStandardBg",i(U4,v.success.light,0.9)),U0(v.Alert,"warningStandardBg",i(U4,v.warning.light,0.9)),U0(v.Alert,"errorIconColor",y("palette-error-main")),U0(v.Alert,"infoIconColor",y("palette-info-main")),U0(v.Alert,"successIconColor",y("palette-success-main")),U0(v.Alert,"warningIconColor",y("palette-warning-main")),U0(v.AppBar,"defaultBg",y("palette-grey-900")),U0(v.AppBar,"darkBg",y("palette-background-paper")),U0(v.AppBar,"darkColor",y("palette-text-primary")),U0(v.Avatar,"defaultBg",y("palette-grey-600")),U0(v.Button,"inheritContainedBg",y("palette-grey-800")),U0(v.Button,"inheritContainedHoverBg",y("palette-grey-700")),U0(v.Chip,"defaultBorder",y("palette-grey-700")),U0(v.Chip,"defaultAvatarColor",y("palette-grey-300")),U0(v.Chip,"defaultIconColor",y("palette-grey-300")),U0(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),U0(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),U0(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),U0(v.LinearProgress,"primaryBg",i(U4,v.primary.main,0.5)),U0(v.LinearProgress,"secondaryBg",i(U4,v.secondary.main,0.5)),U0(v.LinearProgress,"errorBg",i(U4,v.error.main,0.5)),U0(v.LinearProgress,"infoBg",i(U4,v.info.main,0.5)),U0(v.LinearProgress,"successBg",i(U4,v.success.main,0.5)),U0(v.LinearProgress,"warningBg",i(U4,v.warning.main,0.5)),U0(v.Skeleton,"bg",I?i(NG,v.text.primary,0.13):`rgba(${y("palette-text-primaryChannel")} / 0.13)`),U0(v.Slider,"primaryTrack",i(U4,v.primary.main,0.5)),U0(v.Slider,"secondaryTrack",i(U4,v.secondary.main,0.5)),U0(v.Slider,"errorTrack",i(U4,v.error.main,0.5)),U0(v.Slider,"infoTrack",i(U4,v.info.main,0.5)),U0(v.Slider,"successTrack",i(U4,v.success.main,0.5)),U0(v.Slider,"warningTrack",i(U4,v.warning.main,0.5));let p=I?i(L4,v.background.default,0.985):vz(v.background.default,0.98);U0(v.SnackbarContent,"bg",p),U0(v.SnackbarContent,"color",LQ(()=>I?hj.text.primary:v.getContrastText(p))),U0(v.SpeedDialAction,"fabHoverBg",vz(v.background.paper,0.15)),U0(v.StepConnector,"border",y("palette-grey-600")),U0(v.StepContent,"border",y("palette-grey-600")),U0(v.Switch,"defaultColor",y("palette-grey-300")),U0(v.Switch,"defaultDisabledColor",y("palette-grey-600")),U0(v.Switch,"primaryDisabledColor",i(U4,v.primary.main,0.55)),U0(v.Switch,"secondaryDisabledColor",i(U4,v.secondary.main,0.55)),U0(v.Switch,"errorDisabledColor",i(U4,v.error.main,0.55)),U0(v.Switch,"infoDisabledColor",i(U4,v.info.main,0.55)),U0(v.Switch,"successDisabledColor",i(U4,v.success.main,0.55)),U0(v.Switch,"warningDisabledColor",i(U4,v.warning.main,0.55)),U0(v.TableCell,"border",i(U4,i(NG,v.divider,1),0.68)),U0(v.Tooltip,"bg",i(NG,v.grey[700],0.92))}MX(v.background,"default"),MX(v.background,"paper"),MX(v.common,"background"),MX(v.common,"onBackground"),MX(v,"divider"),Object.keys(v).forEach((p)=>{let l=v[p];if(p!=="tonalOffset"&&l&&typeof l==="object"){if(l.main)U0(v[p],"mainChannel",zU(Pz(l.main)));if(l.light)U0(v[p],"lightChannel",zU(Pz(l.light)));if(l.dark)U0(v[p],"darkChannel",zU(Pz(l.dark)));if(l.contrastText)U0(v[p],"contrastTextChannel",zU(Pz(l.contrastText)));if(p==="text")MX(v[p],"primary"),MX(v[p],"secondary");if(p==="action"){if(l.active)MX(v[p],"active");if(l.selected)MX(v[p],"selected")}}})}),E=Z.reduce((o,v)=>e5(o,v),E);let k={prefix:H,disableCssColorScheme:$,shouldSkipGeneratingVar:B,getSelector:HS(E),enableContrastVars:K},{vars:T,generateThemeVars:S,generateStyleSheets:d}=Pj(E,k);return E.vars=T,Object.entries(E.colorSchemes[E.defaultColorScheme]).forEach(([o,v])=>{E[o]=v}),E.generateThemeVars=S,E.generateStyleSheets=d,E.generateSpacing=function(){return UU(O.spacing,zW(this))},E.getColorSchemeSelector=gj(q),E.spacing=E.generateSpacing(),E.shouldSkipGeneratingVar=B,E.unstable_sxConfig={...oJ,...O?.unstable_sxConfig},E.unstable_sx=function(v){return GJ({sx:v,theme:this})},E.toRuntimeSource=GM,E}function WS(J,Z,Q){if(!J.colorSchemes)return;if(Q)J.colorSchemes[Z]={...Q!==!0&&Q,palette:_W({...Q===!0?{}:Q.palette,mode:Z})}}function jU(J={},...Z){let{palette:Q,cssVariables:Y=!1,colorSchemes:$=!Q?{light:!0}:void 0,defaultColorScheme:H=Q?.mode,...K}=J,B=H||"light",q=$?.[B],L={...$,...Q?{[B]:{...typeof q!=="boolean"&&q,palette:Q}}:void 0};if(Y===!1){if(!("colorSchemes"in J))return Tz(J,...Z);let O=Q;if(!("palette"in J)){if(L[B]){if(L[B]!==!0)O=L[B].palette;else if(B==="dark")O={mode:"dark"}}}let z=Tz({...J,palette:O},...Z);if(z.defaultColorScheme=B,z.colorSchemes=L,z.palette.mode==="light")z.colorSchemes.light={...L.light!==!0&&L.light,palette:z.palette},WS(z,"dark",L.dark);if(z.palette.mode==="dark")z.colorSchemes.dark={...L.dark!==!0&&L.dark,palette:z.palette},WS(z,"light",L.light);return z}if(!Q&&!("light"in L)&&B==="light")L.light=!0;return aj({...K,colorSchemes:L,defaultColorScheme:B,...typeof Y!=="boolean"&&Y},...Z)}var KS=e(J0(),1);var h11=jU(),DU=h11;function I9(){let J=$J(DU);return KS.useDebugValue(J),J[qG]||J}function u11(J){return J!=="ownerState"&&J!=="theme"&&J!=="sx"&&J!=="as"}var wU=u11;var d11=(J)=>wU(J)&&J!=="classes",e4=d11;var m11=OU({themeId:qG,defaultTheme:DU,rootShouldForwardProp:e4}),o1=m11;var G0=r8;function gz(...J){return J.reduce((Z,Q)=>{if(Q==null)return Z;return function(...$){Z.apply(this,$),Q.apply(this,$)}},()=>{})}var KM=e(J0(),1);var $M=e(J0(),1),K7=e(l0(),1);var yE1=e(J0(),1);var bE1=e(J0(),1),MG=e(l0(),1);var BS=e(F0(),1);function qS(J){return BS.jsx(dA,{...J,defaultTheme:DU,themeId:qG})}qS.propTypes={styles:MG.default.oneOfType([MG.default.array,MG.default.func,MG.default.number,MG.default.object,MG.default.string,MG.default.bool])};var sj=qS;var US=e(F0(),1);function yz(J){return function(Q){return US.jsx(sj,{styles:typeof J==="function"?(Y)=>J({theme:Y,...Q}):J})}}function LS(){return KQ}var c11=oA,e0=c11;var nE1=e(J0(),1),oj=e(l0(),1);var OS=e(F0(),1);function p11(J){return OS.jsx(Tj,{...J})}p11.propTypes={children:oj.default.node,value:oj.default.object.isRequired};function b0(J){return Sj(J)}function zS(J){return k0("MuiSvgIcon",J)}var Zk1=x0("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var HM=e(F0(),1),l11=(J)=>{let{color:Z,fontSize:Q,classes:Y}=J,$={root:["root",Z!=="inherit"&&`color${G0(Z)}`,`fontSize${G0(Q)}`]};return R0($,zS,Y)},i11=o1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.color!=="inherit"&&Z[`color${G0(Q.color)}`],Z[`fontSize${G0(Q.fontSize)}`]]}})(e0(({theme:J})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:J.transitions?.create?.("fill",{duration:(J.vars??J).transitions?.duration?.shorter}),variants:[{props:(Z)=>!Z.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:J.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:J.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:J.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((J.vars??J).palette).filter(([,Z])=>Z&&Z.main).map(([Z])=>({props:{color:Z},style:{color:(J.vars??J).palette?.[Z]?.main}})),{props:{color:"action"},style:{color:(J.vars??J).palette?.action?.active}},{props:{color:"disabled"},style:{color:(J.vars??J).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),rj=$M.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiSvgIcon"}),{children:$,className:H,color:K="inherit",component:B="svg",fontSize:q="medium",htmlColor:L,inheritViewBox:O=!1,titleAccess:z,viewBox:F="0 0 24 24",...V}=Y,A=$M.isValidElement($)&&$.type==="svg",M={...Y,color:K,component:B,fontSize:q,instanceFontSize:Z.fontSize,inheritViewBox:O,viewBox:F,hasSvgAsChild:A},j={};if(!O)j.viewBox=F;let D=l11(M);return HM.jsxs(i11,{as:B,className:L0(D.root,H),focusable:"false",color:L,"aria-hidden":z?void 0:!0,role:z?"img":void 0,ref:Q,...j,...V,...A&&$.props,ownerState:M,children:[A?$.props.children:$,z?HM.jsx("title",{children:z}):null]})});rj.propTypes={children:K7.default.node,classes:K7.default.object,className:K7.default.string,color:K7.default.oneOfType([K7.default.oneOf(["inherit","action","disabled","primary","secondary","error","info","success","warning"]),K7.default.string]),component:K7.default.elementType,fontSize:K7.default.oneOfType([K7.default.oneOf(["inherit","large","medium","small"]),K7.default.string]),htmlColor:K7.default.string,inheritViewBox:K7.default.bool,shapeRendering:K7.default.string,sx:K7.default.oneOfType([K7.default.arrayOf(K7.default.oneOfType([K7.default.func,K7.default.object,K7.default.bool])),K7.default.func,K7.default.object]),titleAccess:K7.default.string,viewBox:K7.default.string};rj.muiName="SvgIcon";var WM=rj;var NS=e(F0(),1);function u0(J,Z){function Q(Y,$){return NS.jsx(WM,{"data-testid":`${Z}Icon`,ref:$,...Y,children:J})}return Q.displayName=`${Z}Icon`,Q.muiName=WM.muiName,KM.memo(KM.forwardRef(Q))}function EU(J,Z=166){let Q;function Y(...$){let H=()=>{J.apply(this,$)};clearTimeout(Q),Q=setTimeout(H,Z)}return Y.clear=()=>{clearTimeout(Q)},Y}var FS=EU;var VW=MU;function g7(J){return J&&J.ownerDocument||document}var IW=g7;function HJ(J){return g7(J).defaultView||window}var kU=HJ;function BM(J,Z){let Q=Z?{...Z.propTypes}:null;return($)=>(H,K,B,q,L,...O)=>{let z=L||K,F=Q?.[z];if(F){let V=F(H,K,B,q,L,...O);if(V)return V}if(typeof H[K]<"u"&&!H[$])return Error(`The prop \`${z}\` of \`${J}\` can only be used together with the \`${$}\` prop.`);return null}}var AS=BM;function hz(J,Z){if(typeof J==="function")J(Z);else if(J)J.current=Z}var xU=E8;var OQ=UQ;function qM(J,Z,Q,Y,$){let H=$||Z;if(typeof J[Z]<"u")return Error(`The prop \`${H}\` is not supported. Please remove it.`);return null}var MS=qM;var zQ=e(J0(),1);function UM(J){let{controlled:Z,default:Q,name:Y,state:$="value"}=J,{current:H}=zQ.useRef(Z!==void 0),[K,B]=zQ.useState(Q),q=H?Z:K;{zQ.useEffect(()=>{if(H!==(Z!==void 0))console.error([`MUI: A component is changing the ${H?"":"un"}controlled ${$} state of ${Y} to be ${H?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${Y} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join(`
`))},[$,Y,Z]);let{current:O}=zQ.useRef(Q);zQ.useEffect(()=>{if(!H&&JSON.stringify(Q)!==JSON.stringify(O))console.error([`MUI: A component is changing the default ${$} state of an uncontrolled ${Y} after being initialized. To suppress this warning opt to use a controlled ${Y}.`].join(`
`))},[JSON.stringify(Q)])}let L=zQ.useCallback((O)=>{if(!H)B(O)},[]);return[q,L]}var _G=UM;var tj=e(J0(),1);function n11(J){let Z=tj.useRef(J);return E8(()=>{Z.current=J}),tj.useRef((...Q)=>(0,Z.current)(...Q)).current}var J3=n11;var VG=J3;var RU=e(J0(),1);function X6(...J){let Z=RU.useRef(void 0),Q=RU.useCallback((Y)=>{let $=J.map((H)=>{if(H==null)return null;if(typeof H==="function"){let K=H,B=K(Y);return typeof B==="function"?B:()=>{K(null)}}return H.current=Y,()=>{H.current=null}});return()=>{$.forEach((H)=>H?.())}},J);return RU.useMemo(()=>{if(J.every((Y)=>Y==null))return null;return(Y)=>{if(Z.current)Z.current(),Z.current=void 0;if(Y!=null)Z.current=Q(Y)}},J)}var m4=X6;function a11(J,Z){let Q=J.charCodeAt(2);return J[0]==="o"&&J[1]==="n"&&Q>=65&&Q<=90&&typeof Z==="function"}function LM(J,Z){if(!J)return Z;function Q(K,B){let q={};return Object.keys(B).forEach((L)=>{if(a11(L,B[L])&&typeof K[L]==="function")q[L]=(...O)=>{K[L](...O),B[L](...O)}}),q}if(typeof J==="function"||typeof Z==="function")return(K)=>{let B=typeof Z==="function"?Z(K):Z,q=typeof J==="function"?J({...K,...B}):J,L=L0(K?.className,B?.className,q?.className),O=Q(q,B);return{...B,...q,...O,...!!L&&{className:L},...B?.style&&q?.style&&{style:{...B.style,...q.style}},...B?.sx&&q?.sx&&{sx:[...Array.isArray(B.sx)?B.sx:[B.sx],...Array.isArray(q.sx)?q.sx:[q.sx]]}}};let Y=Z,$=Q(J,Y),H=L0(Y?.className,J?.className);return{...Z,...J,...$,...!!H&&{className:H},...Y?.style&&J?.style&&{style:{...Y.style,...J.style}},...Y?.sx&&J?.sx&&{sx:[...Array.isArray(Y.sx)?Y.sx:[Y.sx],...Array.isArray(J.sx)?J.sx:[J.sx]]}}}function I7(J,Z){return function(...Y){return J(...Y)||Z(...Y)}}function OM(J,Z){if(J==null)return{};var Q={};for(var Y in J)if({}.hasOwnProperty.call(J,Y)){if(Z.indexOf(Y)!==-1)continue;Q[Y]=J[Y]}return Q}function zM(J,Z){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,Y){return Q.__proto__=Y,Q},zM(J,Z)}function NM(J,Z){J.prototype=Object.create(Z.prototype),J.prototype.constructor=J,zM(J,Z)}var B6=e(l0(),1),uz=e(J0(),1),dz=e(BA(),1);var ej={disabled:!1};var K6=e(l0(),1),_S=K6.default.oneOfType([K6.default.number,K6.default.shape({enter:K6.default.number,exit:K6.default.number,appear:K6.default.number}).isRequired]),fx1=K6.default.oneOfType([K6.default.string,K6.default.shape({enter:K6.default.string,exit:K6.default.string,active:K6.default.string}),K6.default.shape({enter:K6.default.string,enterDone:K6.default.string,enterActive:K6.default.string,exit:K6.default.string,exitDone:K6.default.string,exitActive:K6.default.string})]);var VS=e(J0(),1),CU=VS.default.createContext(null);var IS=function(Z){return Z.scrollTop};var mz="unmounted",jW="exited",DW="entering",vU="entered",JD="exiting",_X=function(J){NM(Z,J);function Z(Y,$){var H=J.call(this,Y,$)||this,K=$,B=K&&!K.isMounting?Y.enter:Y.appear,q;if(H.appearStatus=null,Y.in)if(B)q=jW,H.appearStatus=DW;else q=vU;else if(Y.unmountOnExit||Y.mountOnEnter)q=mz;else q=jW;return H.state={status:q},H.nextCallback=null,H}Z.getDerivedStateFromProps=function($,H){var K=$.in;if(K&&H.status===mz)return{status:jW};return null};var Q=Z.prototype;return Q.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Q.componentDidUpdate=function($){var H=null;if($!==this.props){var K=this.state.status;if(this.props.in){if(K!==DW&&K!==vU)H=DW}else if(K===DW||K===vU)H=JD}this.updateStatus(!1,H)},Q.componentWillUnmount=function(){this.cancelNextCallback()},Q.getTimeouts=function(){var $=this.props.timeout,H,K,B;if(H=K=B=$,$!=null&&typeof $!=="number")H=$.exit,K=$.enter,B=$.appear!==void 0?$.appear:K;return{exit:H,enter:K,appear:B}},Q.updateStatus=function($,H){if($===void 0)$=!1;if(H!==null)if(this.cancelNextCallback(),H===DW){if(this.props.unmountOnExit||this.props.mountOnEnter){var K=this.props.nodeRef?this.props.nodeRef.current:dz.default.findDOMNode(this);if(K)IS(K)}this.performEnter($)}else this.performExit();else if(this.props.unmountOnExit&&this.state.status===jW)this.setState({status:mz})},Q.performEnter=function($){var H=this,K=this.props.enter,B=this.context?this.context.isMounting:$,q=this.props.nodeRef?[B]:[dz.default.findDOMNode(this),B],L=q[0],O=q[1],z=this.getTimeouts(),F=B?z.appear:z.enter;if(!$&&!K||ej.disabled){this.safeSetState({status:vU},function(){H.props.onEntered(L)});return}this.props.onEnter(L,O),this.safeSetState({status:DW},function(){H.props.onEntering(L,O),H.onTransitionEnd(F,function(){H.safeSetState({status:vU},function(){H.props.onEntered(L,O)})})})},Q.performExit=function(){var $=this,H=this.props.exit,K=this.getTimeouts(),B=this.props.nodeRef?void 0:dz.default.findDOMNode(this);if(!H||ej.disabled){this.safeSetState({status:jW},function(){$.props.onExited(B)});return}this.props.onExit(B),this.safeSetState({status:JD},function(){$.props.onExiting(B),$.onTransitionEnd(K.exit,function(){$.safeSetState({status:jW},function(){$.props.onExited(B)})})})},Q.cancelNextCallback=function(){if(this.nextCallback!==null)this.nextCallback.cancel(),this.nextCallback=null},Q.safeSetState=function($,H){H=this.setNextCallback(H),this.setState($,H)},Q.setNextCallback=function($){var H=this,K=!0;return this.nextCallback=function(B){if(K)K=!1,H.nextCallback=null,$(B)},this.nextCallback.cancel=function(){K=!1},this.nextCallback},Q.onTransitionEnd=function($,H){this.setNextCallback(H);var K=this.props.nodeRef?this.props.nodeRef.current:dz.default.findDOMNode(this),B=$==null&&!this.props.addEndListener;if(!K||B){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var q=this.props.nodeRef?[this.nextCallback]:[K,this.nextCallback],L=q[0],O=q[1];this.props.addEndListener(L,O)}if($!=null)setTimeout(this.nextCallback,$)},Q.render=function(){var $=this.state.status;if($===mz)return null;var H=this.props,K=H.children,B=H.in,q=H.mountOnEnter,L=H.unmountOnExit,O=H.appear,z=H.enter,F=H.exit,V=H.timeout,A=H.addEndListener,M=H.onEnter,j=H.onEntering,D=H.onEntered,w=H.onExit,C=H.onExiting,I=H.onExited,b=H.nodeRef,E=OM(H,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return uz.default.createElement(CU.Provider,{value:null},typeof K==="function"?K($,E):uz.default.cloneElement(uz.default.Children.only(K),E))},Z}(uz.default.Component);_X.contextType=CU;_X.propTypes={nodeRef:B6.default.shape({current:typeof Element>"u"?B6.default.any:function(J,Z,Q,Y,$,H){var K=J[Z];return B6.default.instanceOf(K&&"ownerDocument"in K?K.ownerDocument.defaultView.Element:Element)(J,Z,Q,Y,$,H)}}),children:B6.default.oneOfType([B6.default.func.isRequired,B6.default.element.isRequired]).isRequired,in:B6.default.bool,mountOnEnter:B6.default.bool,unmountOnExit:B6.default.bool,appear:B6.default.bool,enter:B6.default.bool,exit:B6.default.bool,timeout:function(Z){var Q=_S;if(!Z.addEndListener)Q=Q.isRequired;for(var Y=arguments.length,$=Array(Y>1?Y-1:0),H=1;H<Y;H++)$[H-1]=arguments[H];return Q.apply(void 0,[Z].concat($))},addEndListener:B6.default.func,onEnter:B6.default.func,onEntering:B6.default.func,onEntered:B6.default.func,onExit:B6.default.func,onExiting:B6.default.func,onExited:B6.default.func};function bU(){}_X.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bU,onEntering:bU,onEntered:bU,onExit:bU,onExiting:bU,onExited:bU};_X.UNMOUNTED=mz;_X.EXITED=jW;_X.ENTERING=DW;_X.ENTERED=vU;_X.EXITING=JD;var cz=_X;function jS(J){if(J===void 0)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return J}var EW=e(l0(),1),pz=e(J0(),1);var WJ=e(J0(),1);function FM(J,Z){var Q=function(H){return Z&&WJ.isValidElement(H)?Z(H):H},Y=Object.create(null);if(J)WJ.Children.map(J,function($){return $}).forEach(function($){Y[$.key]=Q($)});return Y}function s11(J,Z){J=J||{},Z=Z||{};function Q(O){return O in Z?Z[O]:J[O]}var Y=Object.create(null),$=[];for(var H in J)if(H in Z){if($.length)Y[H]=$,$=[]}else $.push(H);var K,B={};for(var q in Z){if(Y[q])for(K=0;K<Y[q].length;K++){var L=Y[q][K];B[Y[q][K]]=Q(L)}B[q]=Q(q)}for(K=0;K<$.length;K++)B[$[K]]=Q($[K]);return B}function wW(J,Z,Q){return Q[Z]!=null?Q[Z]:J.props[Z]}function DS(J,Z){return FM(J.children,function(Q){return WJ.cloneElement(Q,{onExited:Z.bind(null,Q),in:!0,appear:wW(Q,"appear",J),enter:wW(Q,"enter",J),exit:wW(Q,"exit",J)})})}function wS(J,Z,Q){var Y=FM(J.children),$=s11(Z,Y);return Object.keys($).forEach(function(H){var K=$[H];if(!WJ.isValidElement(K))return;var B=H in Z,q=H in Y,L=Z[H],O=WJ.isValidElement(L)&&!L.props.in;if(q&&(!B||O))$[H]=WJ.cloneElement(K,{onExited:Q.bind(null,K),in:!0,exit:wW(K,"exit",J),enter:wW(K,"enter",J)});else if(!q&&B&&!O)$[H]=WJ.cloneElement(K,{in:!1});else if(q&&B&&WJ.isValidElement(L))$[H]=WJ.cloneElement(K,{onExited:Q.bind(null,K),in:L.props.in,exit:wW(K,"exit",J),enter:wW(K,"enter",J)})}),$}var o11=Object.values||function(J){return Object.keys(J).map(function(Z){return J[Z]})},r11={component:"div",childFactory:function(Z){return Z}},ZD=function(J){NM(Z,J);function Z(Y,$){var H=J.call(this,Y,$)||this,K=H.handleExited.bind(jS(H));return H.state={contextValue:{isMounting:!0},handleExited:K,firstRender:!0},H}var Q=Z.prototype;return Q.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},Q.componentWillUnmount=function(){this.mounted=!1},Z.getDerivedStateFromProps=function($,H){var{children:K,handleExited:B,firstRender:q}=H;return{children:q?DS($,B):wS($,K,B),firstRender:!1}},Q.handleExited=function($,H){var K=FM(this.props.children);if($.key in K)return;if($.props.onExited)$.props.onExited(H);if(this.mounted)this.setState(function(B){var q=GW({},B.children);return delete q[$.key],{children:q}})},Q.render=function(){var $=this.props,H=$.component,K=$.childFactory,B=OM($,["component","childFactory"]),q=this.state.contextValue,L=o11(this.state.children).map(K);if(delete B.appear,delete B.enter,delete B.exit,H===null)return pz.default.createElement(CU.Provider,{value:q},L);return pz.default.createElement(CU.Provider,{value:q},pz.default.createElement(H,B,L))},Z}(pz.default.Component);ZD.propTypes={component:EW.default.any,children:EW.default.node,appear:EW.default.bool,enter:EW.default.bool,exit:EW.default.bool,childFactory:EW.default.func};ZD.defaultProps=r11;var QD=ZD;var kS=e(J0(),1),ES={};function fU(J,Z){let Q=kS.useRef(ES);if(Q.current===ES)Q.current=J(Z);return Q}var xS=e(J0(),1),t11=[];function XD(J){xS.useEffect(J,t11)}class SU{static create(){return new SU}currentId=null;start(J,Z){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,Z()},J)}clear=()=>{if(this.currentId!==null)clearTimeout(this.currentId),this.currentId=null};disposeEffect=()=>{return this.clear}}function Z3(){let J=fU(SU.create).current;return XD(J.disposeEffect),J}var RS=e(l0(),1);function e11(J){let{prototype:Z={}}=J;return Boolean(Z.isReactComponent)}function J01(J,Z,Q,Y,$){let H=J[Z],K=$||Z;if(H==null||typeof window>"u")return null;let B;if(typeof H==="function"&&!e11(H))B="Did you accidentally provide a plain function component instead?";if(B!==void 0)return Error(`Invalid ${Y} \`${K}\` supplied to \`${Q}\`. Expected an element type that can hold a ref. ${B} For more information see https://mui.com/r/caveat-with-refs-guide`);return null}var VX=I7(RS.default.elementType,J01);var AM=(J)=>J.scrollTop;function TU(J,Z){let{timeout:Q,easing:Y,style:$={}}=J;return{duration:$.transitionDuration??(typeof Q==="number"?Q:Q[Z.mode]||0),easing:$.transitionTimingFunction??(typeof Y==="object"?Y[Z.mode]:Y),delay:$.transitionDelay}}var SS=e(J0(),1),g6=e(l0(),1);function Z01(J){let Z=typeof J;switch(Z){case"number":if(Number.isNaN(J))return"NaN";if(!Number.isFinite(J))return"Infinity";if(J!==Math.floor(J))return"float";return"number";case"object":if(J===null)return"null";return J.constructor.name;default:return Z}}function bS(J,Z,Q,Y){let $=J[Z];if($==null||!Number.isInteger($)){let H=Z01($);return RangeError(`Invalid ${Y} \`${Z}\` of type \`${H}\` supplied to \`${Q}\`, expected \`integer\`.`)}return null}function vS(J,Z,Q,Y){if(J[Z]===void 0)return null;return bS(J,Z,Q,Y)}function CS(){return null}vS.isRequired=bS;CS.isRequired=CS;var Q01=vS,lz=Q01;function fS(J){return k0("MuiPaper",J)}var VR1=x0("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var TS=e(F0(),1),X01=(J)=>{let{square:Z,elevation:Q,variant:Y,classes:$}=J,H={root:["root",Y,!Z&&"rounded",Y==="elevation"&&`elevation${Q}`]};return R0(H,fS,$)},Y01=o1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[Q.variant],!Q.square&&Z.rounded,Q.variant==="elevation"&&Z[`elevation${Q.elevation}`]]}})(e0(({theme:J})=>({backgroundColor:(J.vars||J).palette.background.paper,color:(J.vars||J).palette.text.primary,transition:J.transitions.create("box-shadow"),variants:[{props:({ownerState:Z})=>!Z.square,style:{borderRadius:J.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(J.vars||J).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),PS=SS.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiPaper"}),$=I9(),{className:H,component:K="div",elevation:B=1,square:q=!1,variant:L="elevation",...O}=Y,z={...Y,component:K,elevation:B,square:q,variant:L},F=X01(z);if($.shadows[B]===void 0)console.error([`MUI: The elevation provided <Paper elevation={${B}}> is not available in the theme.`,`Please make sure that \`theme.shadows[${B}]\` is defined.`].join(`
`));return TS.jsx(Y01,{as:K,ownerState:z,className:L0(F.root,H),ref:Q,...O,style:{...L==="elevation"&&{"--Paper-shadow":($.vars||$).shadows[B],...$.vars&&{"--Paper-overlay":$.vars.overlays?.[B]},...!$.vars&&$.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${NU("#fff",IU(B))}, ${NU("#fff",IU(B))})`}},...O.style}})});PS.propTypes={children:g6.default.node,classes:g6.default.object,className:g6.default.string,component:g6.default.elementType,elevation:I7(lz,(J)=>{let{elevation:Z,variant:Q}=J;if(Z>0&&Q==="outlined")return Error(`MUI: Combining \`elevation={${Z}}\` with \`variant="${Q}"\` has no effect. Either use \`elevation={0}\` or use a different \`variant\`.`);return null}),square:g6.default.bool,style:g6.default.object,sx:g6.default.oneOfType([g6.default.arrayOf(g6.default.oneOfType([g6.default.func,g6.default.object,g6.default.bool])),g6.default.func,g6.default.object]),variant:g6.default.oneOfType([g6.default.oneOf(["elevation","outlined"]),g6.default.string])};var K5=PS;function G01(J){return typeof J==="string"}var rJ=G01;function $01(J,Z,Q){if(J===void 0||rJ(J))return Z;return{...Z,ownerState:{...Z.ownerState,...Q}}}var iz=$01;function H01(J,Z,Q){if(typeof J==="function")return J(Z,Q);return J}var nz=H01;function W01(J,Z=[]){if(J===void 0)return{};let Q={};return Object.keys(J).filter((Y)=>Y.match(/^on[A-Z]/)&&typeof J[Y]==="function"&&!Z.includes(Y)).forEach((Y)=>{Q[Y]=J[Y]}),Q}var IG=W01;function K01(J){if(J===void 0)return{};let Z={};return Object.keys(J).filter((Q)=>!(Q.match(/^on[A-Z]/)&&typeof J[Q]==="function")).forEach((Q)=>{Z[Q]=J[Q]}),Z}var MM=K01;function B01(J){let{getSlotProps:Z,additionalProps:Q,externalSlotProps:Y,externalForwardedProps:$,className:H}=J;if(!Z){let V=L0(Q?.className,H,$?.className,Y?.className),A={...Q?.style,...$?.style,...Y?.style},M={...Q,...$,...Y};if(V.length>0)M.className=V;if(Object.keys(A).length>0)M.style=A;return{props:M,internalRef:void 0}}let K=IG({...$,...Y}),B=MM(Y),q=MM($),L=Z(K),O=L0(L?.className,Q?.className,H,$?.className,Y?.className),z={...L?.style,...Q?.style,...$?.style,...Y?.style},F={...L,...Q,...q,...B};if(O.length>0)F.className=O;if(Object.keys(z).length>0)F.style=z;return{props:F,internalRef:L.ref}}var az=B01;function V2(J,Z){let{className:Q,elementType:Y,ownerState:$,externalForwardedProps:H,internalForwardedProps:K,shouldForwardComponentProp:B=!1,...q}=Z,{component:L,slots:O={[J]:void 0},slotProps:z={[J]:void 0},...F}=H,V=O[J]||Y,A=nz(z[J],$),{props:{component:M,...j},internalRef:D}=az({className:Q,...q,externalForwardedProps:J==="root"?F:void 0,externalSlotProps:A}),w=X6(D,A?.ref,Z.ref),C=J==="root"?M||L:M,I=iz(V,{...J==="root"&&!L&&!O[J]&&K,...J!=="root"&&!O[J]&&K,...j,...C&&!B&&{as:C},...C&&B&&{component:C},ref:w},$);return[V,I]}var FQ=e(J0(),1),s2=e(l0(),1);var _M=e(l0(),1),q01=_M.default.oneOfType([_M.default.func,_M.default.object]),j7=q01;function tJ(J){try{return J.matches(":focus-visible")}catch(Z){if(!/jsdom/.test(window.navigator.userAgent))console.warn(["MUI: The `:focus-visible` pseudo class is not supported in this browser.","Some components rely on this feature to work properly."].join(`
`))}return!1}var IM=e(J0(),1);class VM{static create(){return new VM}static use(){let J=fU(VM.create).current,[Z,Q]=IM.useState(!1);return J.shouldMount=Z,J.setShouldMount=Q,IM.useEffect(J.mountEffect,[Z]),J}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){if(!this.mounted)this.mounted=U01(),this.shouldMount=!0,this.setShouldMount(this.shouldMount);return this.mounted}mountEffect=()=>{if(this.shouldMount&&!this.didMount){if(this.ref.current!==null)this.didMount=!0,this.mounted.resolve()}};start(...J){this.mount().then(()=>this.ref.current?.start(...J))}stop(...J){this.mount().then(()=>this.ref.current?.stop(...J))}pulsate(...J){this.mount().then(()=>this.ref.current?.pulsate(...J))}}function jM(){return VM.use()}function U01(){let J,Z,Q=new Promise((Y,$)=>{J=Y,Z=$});return Q.resolve=J,Q.reject=Z,Q}var I6=e(J0(),1),wM=e(l0(),1);var DM=e(J0(),1),NQ=e(l0(),1);var YD=e(F0(),1);function gS(J){let{className:Z,classes:Q,pulsate:Y=!1,rippleX:$,rippleY:H,rippleSize:K,in:B,onExited:q,timeout:L}=J,[O,z]=DM.useState(!1),F=L0(Z,Q.ripple,Q.rippleVisible,Y&&Q.ripplePulsate),V={width:K,height:K,top:-(K/2)+H,left:-(K/2)+$},A=L0(Q.child,O&&Q.childLeaving,Y&&Q.childPulsate);if(!B&&!O)z(!0);return DM.useEffect(()=>{if(!B&&q!=null){let M=setTimeout(q,L);return()=>{clearTimeout(M)}}return},[q,B,L]),YD.jsx("span",{className:F,style:V,children:YD.jsx("span",{className:A})})}gS.propTypes={classes:NQ.default.object.isRequired,className:NQ.default.string,in:NQ.default.bool,onExited:NQ.default.func,pulsate:NQ.default.bool,rippleSize:NQ.default.number,rippleX:NQ.default.number,rippleY:NQ.default.number,timeout:NQ.default.number.isRequired};var yS=gS;var L01=x0("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Q3=L01;var EM=e(F0(),1),GD=550,O01=80,z01=D8`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,N01=D8`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,F01=D8`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,A01=o1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),M01=o1(yS,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Q3.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${z01};
    animation-duration: ${GD}ms;
    animation-timing-function: ${({theme:J})=>J.transitions.easing.easeInOut};
  }

  &.${Q3.ripplePulsate} {
    animation-duration: ${({theme:J})=>J.transitions.duration.shorter}ms;
  }

  & .${Q3.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Q3.childLeaving} {
    opacity: 0;
    animation-name: ${N01};
    animation-duration: ${GD}ms;
    animation-timing-function: ${({theme:J})=>J.transitions.easing.easeInOut};
  }

  & .${Q3.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${F01};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:J})=>J.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,hS=I6.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiTouchRipple"}),{center:$=!1,classes:H={},className:K,...B}=Y,[q,L]=I6.useState([]),O=I6.useRef(0),z=I6.useRef(null);I6.useEffect(()=>{if(z.current)z.current(),z.current=null},[q]);let F=I6.useRef(!1),V=Z3(),A=I6.useRef(null),M=I6.useRef(null),j=I6.useCallback((I)=>{let{pulsate:b,rippleX:E,rippleY:k,rippleSize:T,cb:S}=I;L((d)=>[...d,EM.jsx(M01,{classes:{ripple:L0(H.ripple,Q3.ripple),rippleVisible:L0(H.rippleVisible,Q3.rippleVisible),ripplePulsate:L0(H.ripplePulsate,Q3.ripplePulsate),child:L0(H.child,Q3.child),childLeaving:L0(H.childLeaving,Q3.childLeaving),childPulsate:L0(H.childPulsate,Q3.childPulsate)},timeout:GD,pulsate:b,rippleX:E,rippleY:k,rippleSize:T},O.current)]),O.current+=1,z.current=S},[H]),D=I6.useCallback((I={},b={},E=()=>{})=>{let{pulsate:k=!1,center:T=$||b.pulsate,fakeElement:S=!1}=b;if(I?.type==="mousedown"&&F.current){F.current=!1;return}if(I?.type==="touchstart")F.current=!0;let d=S?null:M.current,o=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0},v,y,i;if(T||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)v=Math.round(o.width/2),y=Math.round(o.height/2);else{let{clientX:p,clientY:l}=I.touches&&I.touches.length>0?I.touches[0]:I;v=Math.round(p-o.left),y=Math.round(l-o.top)}if(T){if(i=Math.sqrt((2*o.width**2+o.height**2)/3),i%2===0)i+=1}else{let p=Math.max(Math.abs((d?d.clientWidth:0)-v),v)*2+2,l=Math.max(Math.abs((d?d.clientHeight:0)-y),y)*2+2;i=Math.sqrt(p**2+l**2)}if(I?.touches){if(A.current===null)A.current=()=>{j({pulsate:k,rippleX:v,rippleY:y,rippleSize:i,cb:E})},V.start(O01,()=>{if(A.current)A.current(),A.current=null})}else j({pulsate:k,rippleX:v,rippleY:y,rippleSize:i,cb:E})},[$,j,V]),w=I6.useCallback(()=>{D({},{pulsate:!0})},[D]),C=I6.useCallback((I,b)=>{if(V.clear(),I?.type==="touchend"&&A.current){A.current(),A.current=null,V.start(0,()=>{C(I,b)});return}A.current=null,L((E)=>{if(E.length>0)return E.slice(1);return E}),z.current=b},[V]);return I6.useImperativeHandle(Q,()=>({pulsate:w,start:D,stop:C}),[w,D,C]),EM.jsx(A01,{className:L0(Q3.root,H.root,K),ref:M,...B,children:EM.jsx(QD,{component:null,exit:!0,children:q})})});hS.propTypes={center:wM.default.bool,classes:wM.default.object,className:wM.default.string};var uS=hS;function dS(J){return k0("MuiButtonBase",J)}var _01=x0("MuiButtonBase",["root","disabled","focusVisible"]),mS=_01;var kM=e(F0(),1),V01=(J)=>{let{disabled:Z,focusVisible:Q,focusVisibleClassName:Y,classes:$}=J,K=R0({root:["root",Z&&"disabled",Q&&"focusVisible"]},dS,$);if(Q&&Y)K.root+=` ${Y}`;return K},I01=o1("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mS.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),cS=FQ.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiButtonBase"}),{action:$,centerRipple:H=!1,children:K,className:B,component:q="button",disabled:L=!1,disableRipple:O=!1,disableTouchRipple:z=!1,focusRipple:F=!1,focusVisibleClassName:V,LinkComponent:A="a",onBlur:M,onClick:j,onContextMenu:D,onDragLeave:w,onFocus:C,onFocusVisible:I,onKeyDown:b,onKeyUp:E,onMouseDown:k,onMouseLeave:T,onMouseUp:S,onTouchEnd:d,onTouchMove:o,onTouchStart:v,tabIndex:y=0,TouchRippleProps:i,touchRippleRef:p,type:l,...t}=Y,Q1=FQ.useRef(null),m=jM(),K1=m4(m.ref,p),[g,n]=FQ.useState(!1);if(L&&g)n(!1);FQ.useImperativeHandle($,()=>({focusVisible:()=>{n(!0),Q1.current.focus()}}),[]);let Z1=m.shouldMount&&!O&&!L;FQ.useEffect(()=>{if(g&&F&&!O)m.pulsate()},[O,F,g,m]);let J1=IX(m,"start",k,z),z1=IX(m,"stop",D,z),V1=IX(m,"stop",w,z),w1=IX(m,"stop",S,z),m1=IX(m,"stop",(P1)=>{if(g)P1.preventDefault();if(T)T(P1)},z),r1=IX(m,"start",v,z),h1=IX(m,"stop",d,z),G1=IX(m,"stop",o,z),a=IX(m,"stop",(P1)=>{if(!tJ(P1.target))n(!1);if(M)M(P1)},!1),M1=VG((P1)=>{if(!Q1.current)Q1.current=P1.currentTarget;if(tJ(P1.target)){if(n(!0),I)I(P1)}if(C)C(P1)}),D1=()=>{let P1=Q1.current;return q&&q!=="button"&&!(P1.tagName==="A"&&P1.href)},g1=VG((P1)=>{if(F&&!P1.repeat&&g&&P1.key===" ")m.stop(P1,()=>{m.start(P1)});if(P1.target===P1.currentTarget&&D1()&&P1.key===" ")P1.preventDefault();if(b)b(P1);if(P1.target===P1.currentTarget&&D1()&&P1.key==="Enter"&&!L){if(P1.preventDefault(),j)j(P1)}}),u1=VG((P1)=>{if(F&&P1.key===" "&&g&&!P1.defaultPrevented)m.stop(P1,()=>{m.pulsate(P1)});if(E)E(P1);if(j&&P1.target===P1.currentTarget&&D1()&&P1.key===" "&&!P1.defaultPrevented)j(P1)}),C1=q;if(C1==="button"&&(t.href||t.to))C1=A;let x1={};if(C1==="button")x1.type=l===void 0?"button":l,x1.disabled=L;else{if(!t.href&&!t.to)x1.role="button";if(L)x1["aria-disabled"]=L}let v1=m4(Q,Q1),p1={...Y,centerRipple:H,component:q,disabled:L,disableRipple:O,disableTouchRipple:z,focusRipple:F,tabIndex:y,focusVisible:g},y1=V01(p1);return kM.jsxs(I01,{as:C1,className:L0(y1.root,B),ownerState:p1,onBlur:a,onClick:j,onContextMenu:z1,onFocus:M1,onKeyDown:g1,onKeyUp:u1,onMouseDown:J1,onMouseLeave:m1,onMouseUp:w1,onDragLeave:V1,onTouchEnd:h1,onTouchMove:G1,onTouchStart:r1,ref:v1,tabIndex:L?-1:y,type:l,...x1,...t,children:[K,Z1?kM.jsx(uS,{ref:K1,center:H,...i}):null]})});function IX(J,Z,Q,Y=!1){return VG(($)=>{if(Q)Q($);if(!Y)J[Z]($);return!0})}cS.propTypes={action:j7,centerRipple:s2.default.bool,children:s2.default.node,classes:s2.default.object,className:s2.default.string,component:VX,disabled:s2.default.bool,disableRipple:s2.default.bool,disableTouchRipple:s2.default.bool,focusRipple:s2.default.bool,focusVisibleClassName:s2.default.string,href:s2.default.any,LinkComponent:s2.default.elementType,onBlur:s2.default.func,onClick:s2.default.func,onContextMenu:s2.default.func,onDragLeave:s2.default.func,onFocus:s2.default.func,onFocusVisible:s2.default.func,onKeyDown:s2.default.func,onKeyUp:s2.default.func,onMouseDown:s2.default.func,onMouseLeave:s2.default.func,onMouseUp:s2.default.func,onTouchEnd:s2.default.func,onTouchMove:s2.default.func,onTouchStart:s2.default.func,sx:s2.default.oneOfType([s2.default.arrayOf(s2.default.oneOfType([s2.default.func,s2.default.object,s2.default.bool])),s2.default.func,s2.default.object]),tabIndex:s2.default.number,TouchRippleProps:s2.default.object,touchRippleRef:s2.default.oneOfType([s2.default.func,s2.default.shape({current:s2.default.shape({pulsate:s2.default.func.isRequired,start:s2.default.func.isRequired,stop:s2.default.func.isRequired})})]),type:s2.default.oneOfType([s2.default.oneOf(["button","reset","submit"]),s2.default.string])};var KJ=cS;var HT=e(J0(),1),z2=e(l0(),1);function j01(J){return typeof J.main==="string"}function D01(J,Z=[]){if(!j01(J))return!1;for(let Q of Z)if(!J.hasOwnProperty(Q)||typeof J[Q]!=="string")return!1;return!0}function I5(J=[]){return([,Z])=>Z&&D01(Z,J)}function pS(J){return k0("MuiAlert",J)}var w01=x0("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),$D=w01;var gU=e(J0(),1),J7=e(l0(),1);var iS=e(J0(),1),y7=e(l0(),1);function lS(J){return k0("MuiCircularProgress",J)}var $b1=x0("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var xM=e(F0(),1),jG=44,HD=D8`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,WD=D8`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,E01=typeof HD!=="string"?aJ`
        animation: ${HD} 1.4s linear infinite;
      `:null,k01=typeof WD!=="string"?aJ`
        animation: ${WD} 1.4s ease-in-out infinite;
      `:null,x01=(J)=>{let{classes:Z,variant:Q,color:Y,disableShrink:$}=J,H={root:["root",Q,`color${G0(Y)}`],svg:["svg"],circle:["circle",`circle${G0(Q)}`,$&&"circleDisableShrink"]};return R0(H,lS,Z)},R01=o1("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[Q.variant],Z[`color${G0(Q.color)}`]]}})(e0(({theme:J})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:J.transitions.create("transform")}},{props:{variant:"indeterminate"},style:E01||{animation:`${HD} 1.4s linear infinite`}},...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{color:(J.vars||J).palette[Z].main}}))]}))),C01=o1("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),b01=o1("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.circle,Z[`circle${G0(Q.variant)}`],Q.disableShrink&&Z.circleDisableShrink]}})(e0(({theme:J})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:J.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:Z})=>Z.variant==="indeterminate"&&!Z.disableShrink,style:k01||{animation:`${WD} 1.4s ease-in-out infinite`}}]}))),nS=iS.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiCircularProgress"}),{className:$,color:H="primary",disableShrink:K=!1,size:B=40,style:q,thickness:L=3.6,value:O=0,variant:z="indeterminate",...F}=Y,V={...Y,color:H,disableShrink:K,size:B,thickness:L,value:O,variant:z},A=x01(V),M={},j={},D={};if(z==="determinate"){let w=2*Math.PI*((jG-L)/2);M.strokeDasharray=w.toFixed(3),D["aria-valuenow"]=Math.round(O),M.strokeDashoffset=`${((100-O)/100*w).toFixed(3)}px`,j.transform="rotate(-90deg)"}return xM.jsx(R01,{className:L0(A.root,$),style:{width:B,height:B,...j,...q},ownerState:V,ref:Q,role:"progressbar",...D,...F,children:xM.jsx(C01,{className:A.svg,ownerState:V,viewBox:`${jG/2} ${jG/2} ${jG} ${jG}`,children:xM.jsx(b01,{className:A.circle,style:M,ownerState:V,cx:jG,cy:jG,r:(jG-L)/2,fill:"none",strokeWidth:L})})})});nS.propTypes={classes:y7.default.object,className:y7.default.string,color:y7.default.oneOfType([y7.default.oneOf(["inherit","primary","secondary","error","info","success","warning"]),y7.default.string]),disableShrink:I7(y7.default.bool,(J)=>{if(J.disableShrink&&J.variant&&J.variant!=="indeterminate")return Error("MUI: You have provided the `disableShrink` prop with a variant other than `indeterminate`. This will have no effect.");return null}),size:y7.default.oneOfType([y7.default.number,y7.default.string]),style:y7.default.object,sx:y7.default.oneOfType([y7.default.arrayOf(y7.default.oneOfType([y7.default.func,y7.default.object,y7.default.bool])),y7.default.func,y7.default.object]),thickness:y7.default.number,value:y7.default.number,variant:y7.default.oneOf(["determinate","indeterminate"])};var eJ=nS;function aS(J){return k0("MuiIconButton",J)}var v01=x0("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),KD=v01;var PU=e(F0(),1),f01=(J)=>{let{classes:Z,disabled:Q,color:Y,edge:$,size:H,loading:K}=J,B={root:["root",K&&"loading",Q&&"disabled",Y!=="default"&&`color${G0(Y)}`,$&&`edge${G0($)}`,`size${G0(H)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return R0(B,aS,Z)},S01=o1(KJ,{name:"MuiIconButton",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.loading&&Z.loading,Q.color!=="default"&&Z[`color${G0(Q.color)}`],Q.edge&&Z[`edge${G0(Q.edge)}`],Z[`size${G0(Q.size)}`]]}})(e0(({theme:J})=>({textAlign:"center",flex:"0 0 auto",fontSize:J.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(J.vars||J).palette.action.active,transition:J.transitions.create("background-color",{duration:J.transitions.duration.shortest}),variants:[{props:(Z)=>!Z.disableRipple,style:{"--IconButton-hoverBg":J.alpha((J.vars||J).palette.action.active,(J.vars||J).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),e0(({theme:J})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{color:(J.vars||J).palette[Z].main}})),...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{"--IconButton-hoverBg":J.alpha((J.vars||J).palette[Z].main,(J.vars||J).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:J.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:J.typography.pxToRem(28)}}],[`&.${KD.disabled}`]:{backgroundColor:"transparent",color:(J.vars||J).palette.action.disabled},[`&.${KD.loading}`]:{color:"transparent"}}))),T01=o1("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:J})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(J.vars||J).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),sS=gU.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiIconButton"}),{edge:$=!1,children:H,className:K,color:B="default",disabled:q=!1,disableFocusRipple:L=!1,size:O="medium",id:z,loading:F=null,loadingIndicator:V,...A}=Y,M=OQ(z),j=V??PU.jsx(eJ,{"aria-labelledby":M,color:"inherit",size:16}),D={...Y,edge:$,color:B,disabled:q,disableFocusRipple:L,loading:F,loadingIndicator:j,size:O},w=f01(D);return PU.jsxs(S01,{id:F?M:z,className:L0(w.root,K),centerRipple:!0,focusRipple:!L,disabled:q||F,ref:Q,...A,ownerState:D,children:[typeof F==="boolean"&&PU.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:PU.jsx(T01,{className:w.loadingIndicator,ownerState:D,children:F&&j})}),H]})});sS.propTypes={children:I7(J7.default.node,(J)=>{if(gU.Children.toArray(J.children).some((Q)=>gU.isValidElement(Q)&&Q.props.onClick))return Error(["MUI: You are providing an onClick event listener to a child of a button element.","Prefer applying it to the IconButton directly.","This guarantees that the whole <button> will be responsive to click events."].join(`
`));return null}),classes:J7.default.object,className:J7.default.string,color:J7.default.oneOfType([J7.default.oneOf(["inherit","default","primary","secondary","error","info","success","warning"]),J7.default.string]),disabled:J7.default.bool,disableFocusRipple:J7.default.bool,disableRipple:J7.default.bool,edge:J7.default.oneOf(["end","start",!1]),id:J7.default.string,loading:J7.default.bool,loadingIndicator:J7.default.node,size:J7.default.oneOfType([J7.default.oneOf(["small","medium","large"]),J7.default.string]),sx:J7.default.oneOfType([J7.default.arrayOf(J7.default.oneOfType([J7.default.func,J7.default.object,J7.default.bool])),J7.default.func,J7.default.object])};var AQ=sS;var ub1=e(J0(),1);var oS=e(F0(),1),rS=u0(oS.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined");var cb1=e(J0(),1);var tS=e(F0(),1),eS=u0(tS.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined");var ib1=e(J0(),1);var JT=e(F0(),1),ZT=u0(JT.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");var sb1=e(J0(),1);var QT=e(F0(),1),XT=u0(QT.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var tb1=e(J0(),1);var YT=e(F0(),1),GT=u0(YT.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var X3=e(F0(),1),P01=(J)=>{let{variant:Z,color:Q,severity:Y,classes:$}=J,H={root:["root",`color${G0(Q||Y)}`,`${Z}${G0(Q||Y)}`,`${Z}`],icon:["icon"],message:["message"],action:["action"]};return R0(H,pS,$)},g01=o1(K5,{name:"MuiAlert",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[Q.variant],Z[`${Q.variant}${G0(Q.color||Q.severity)}`]]}})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?J.darken:J.lighten,Q=J.palette.mode==="light"?J.lighten:J.darken;return{...J.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(J.palette).filter(I5(["light"])).map(([Y])=>({props:{colorSeverity:Y,variant:"standard"},style:{color:J.vars?J.vars.palette.Alert[`${Y}Color`]:Z(J.palette[Y].light,0.6),backgroundColor:J.vars?J.vars.palette.Alert[`${Y}StandardBg`]:Q(J.palette[Y].light,0.9),[`& .${$D.icon}`]:J.vars?{color:J.vars.palette.Alert[`${Y}IconColor`]}:{color:J.palette[Y].main}}})),...Object.entries(J.palette).filter(I5(["light"])).map(([Y])=>({props:{colorSeverity:Y,variant:"outlined"},style:{color:J.vars?J.vars.palette.Alert[`${Y}Color`]:Z(J.palette[Y].light,0.6),border:`1px solid ${(J.vars||J).palette[Y].light}`,[`& .${$D.icon}`]:J.vars?{color:J.vars.palette.Alert[`${Y}IconColor`]}:{color:J.palette[Y].main}}})),...Object.entries(J.palette).filter(I5(["dark"])).map(([Y])=>({props:{colorSeverity:Y,variant:"filled"},style:{fontWeight:J.typography.fontWeightMedium,...J.vars?{color:J.vars.palette.Alert[`${Y}FilledColor`],backgroundColor:J.vars.palette.Alert[`${Y}FilledBg`]}:{backgroundColor:J.palette.mode==="dark"?J.palette[Y].dark:J.palette[Y].main,color:J.palette.getContrastText(J.palette[Y].main)}}}))]}})),y01=o1("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:0.9}),h01=o1("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),u01=o1("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$T={success:X3.jsx(rS,{fontSize:"inherit"}),warning:X3.jsx(eS,{fontSize:"inherit"}),error:X3.jsx(ZT,{fontSize:"inherit"}),info:X3.jsx(XT,{fontSize:"inherit"})},WT=HT.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiAlert"}),{action:$,children:H,className:K,closeText:B="Close",color:q,components:L={},componentsProps:O={},icon:z,iconMapping:F=$T,onClose:V,role:A="alert",severity:M="success",slotProps:j={},slots:D={},variant:w="standard",...C}=Y,I={...Y,color:q,severity:M,variant:w,colorSeverity:q||M},b=P01(I),E={slots:{closeButton:L.CloseButton,closeIcon:L.CloseIcon,...D},slotProps:{...O,...j}},[k,T]=V2("root",{ref:Q,shouldForwardComponentProp:!0,className:L0(b.root,K),elementType:g01,externalForwardedProps:{...E,...C},ownerState:I,additionalProps:{role:A,elevation:0}}),[S,d]=V2("icon",{className:b.icon,elementType:y01,externalForwardedProps:E,ownerState:I}),[o,v]=V2("message",{className:b.message,elementType:h01,externalForwardedProps:E,ownerState:I}),[y,i]=V2("action",{className:b.action,elementType:u01,externalForwardedProps:E,ownerState:I}),[p,l]=V2("closeButton",{elementType:AQ,externalForwardedProps:E,ownerState:I}),[t,Q1]=V2("closeIcon",{elementType:GT,externalForwardedProps:E,ownerState:I});return X3.jsxs(k,{...T,children:[z!==!1?X3.jsx(S,{...d,children:z||F[M]||$T[M]}):null,X3.jsx(o,{...v,children:H}),$!=null?X3.jsx(y,{...i,children:$}):null,$==null&&V?X3.jsx(y,{...i,children:X3.jsx(p,{size:"small","aria-label":B,title:B,color:"inherit",onClick:V,...l,children:X3.jsx(t,{fontSize:"small",...Q1})})}):null]})});WT.propTypes={action:z2.default.node,children:z2.default.node,classes:z2.default.object,className:z2.default.string,closeText:z2.default.string,color:z2.default.oneOfType([z2.default.oneOf(["error","info","success","warning"]),z2.default.string]),components:z2.default.shape({CloseButton:z2.default.elementType,CloseIcon:z2.default.elementType}),componentsProps:z2.default.shape({closeButton:z2.default.object,closeIcon:z2.default.object}),icon:z2.default.node,iconMapping:z2.default.shape({error:z2.default.node,info:z2.default.node,success:z2.default.node,warning:z2.default.node}),onClose:z2.default.func,role:z2.default.string,severity:z2.default.oneOfType([z2.default.oneOf(["error","info","success","warning"]),z2.default.string]),slotProps:z2.default.shape({action:z2.default.oneOfType([z2.default.func,z2.default.object]),closeButton:z2.default.oneOfType([z2.default.func,z2.default.object]),closeIcon:z2.default.oneOfType([z2.default.func,z2.default.object]),icon:z2.default.oneOfType([z2.default.func,z2.default.object]),message:z2.default.oneOfType([z2.default.func,z2.default.object]),root:z2.default.oneOfType([z2.default.func,z2.default.object])}),slots:z2.default.shape({action:z2.default.elementType,closeButton:z2.default.elementType,closeIcon:z2.default.elementType,icon:z2.default.elementType,message:z2.default.elementType,root:z2.default.elementType}),sx:z2.default.oneOfType([z2.default.arrayOf(z2.default.oneOfType([z2.default.func,z2.default.object,z2.default.bool])),z2.default.func,z2.default.object]),variant:z2.default.oneOfType([z2.default.oneOf(["filled","outlined","standard"]),z2.default.string])};var JZ=WT;var qT=e(J0(),1),Z7=e(l0(),1);function KT(J){return k0("MuiTypography",J)}var d01=x0("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),RM=d01;var UT=e(F0(),1),m01={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},c01=LS(),p01=(J)=>{let{align:Z,gutterBottom:Q,noWrap:Y,paragraph:$,variant:H,classes:K}=J,B={root:["root",H,J.align!=="inherit"&&`align${G0(Z)}`,Q&&"gutterBottom",Y&&"noWrap",$&&"paragraph"]};return R0(B,KT,K)},l01=o1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.variant&&Z[Q.variant],Q.align!=="inherit"&&Z[`align${G0(Q.align)}`],Q.noWrap&&Z.noWrap,Q.gutterBottom&&Z.gutterBottom,Q.paragraph&&Z.paragraph]}})(e0(({theme:J})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(J.typography).filter(([Z,Q])=>Z!=="inherit"&&Q&&typeof Q==="object").map(([Z,Q])=>({props:{variant:Z},style:Q})),...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{color:(J.vars||J).palette[Z].main}})),...Object.entries(J.palette?.text||{}).filter(([,Z])=>typeof Z==="string").map(([Z])=>({props:{color:`text${G0(Z)}`},style:{color:(J.vars||J).palette.text[Z]}})),{props:({ownerState:Z})=>Z.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:Z})=>Z.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:Z})=>Z.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:Z})=>Z.paragraph,style:{marginBottom:16}}]}))),BT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},LT=qT.forwardRef(function(Z,Q){let{color:Y,...$}=b0({props:Z,name:"MuiTypography"}),H=!m01[Y],K=c01({...$,...H&&{color:Y}}),{align:B="inherit",className:q,component:L,gutterBottom:O=!1,noWrap:z=!1,paragraph:F=!1,variant:V="body1",variantMapping:A=BT,...M}=K,j={...K,align:B,color:Y,className:q,component:L,gutterBottom:O,noWrap:z,paragraph:F,variant:V,variantMapping:A},D=L||(F?"p":A[V]||BT[V])||"span",w=p01(j);return UT.jsx(l01,{as:D,ref:Q,className:L0(w.root,q),...M,ownerState:j,style:{...B!=="inherit"&&{"--Typography-textAlign":B},...M.style}})});LT.propTypes={align:Z7.default.oneOf(["center","inherit","justify","left","right"]),children:Z7.default.node,classes:Z7.default.object,className:Z7.default.string,color:Z7.default.oneOfType([Z7.default.oneOf(["primary","secondary","success","error","info","warning","textPrimary","textSecondary","textDisabled"]),Z7.default.string]),component:Z7.default.elementType,gutterBottom:Z7.default.bool,noWrap:Z7.default.bool,paragraph:Z7.default.bool,style:Z7.default.object,sx:Z7.default.oneOfType([Z7.default.arrayOf(Z7.default.oneOfType([Z7.default.func,Z7.default.object,Z7.default.bool])),Z7.default.func,Z7.default.object]),variant:Z7.default.oneOfType([Z7.default.oneOf(["body1","body2","button","caption","h1","h2","h3","h4","h5","h6","inherit","overline","subtitle1","subtitle2"]),Z7.default.string]),variantMapping:Z7.default.object};var a1=LT;function G9(J,Z,Q,Y,$){let H=J[Z],K=$||Z;if(H==null)return null;if(H&&H.nodeType!==1)return Error(`Invalid ${Y} \`${K}\` supplied to \`${Q}\`. Expected an HTMLElement.`);return null}var P2=e(l0(),1),uT=e(J0(),1);var D9=e(J0(),1);var h7="top",j6="bottom",q6="right",Y6="left",CM="auto",DG=[h7,j6,q6,Y6],jX="start",kW="end",OT="clippingParents",bM="viewport",yU="popper",zT="reference",BD=DG.reduce(function(J,Z){return J.concat([Z+"-"+jX,Z+"-"+kW])},[]),vM=[].concat(DG,[CM]).reduce(function(J,Z){return J.concat([Z,Z+"-"+jX,Z+"-"+kW])},[]),i01="beforeRead",n01="read",a01="afterRead",s01="beforeMain",o01="main",r01="afterMain",t01="beforeWrite",e01="write",J21="afterWrite",NT=[i01,n01,a01,s01,o01,r01,t01,e01,J21];function y6(J){return J?(J.nodeName||"").toLowerCase():null}function B7(J){if(J==null)return window;if(J.toString()!=="[object Window]"){var Z=J.ownerDocument;return Z?Z.defaultView||window:window}return J}function BJ(J){var Z=B7(J).Element;return J instanceof Z||J instanceof Element}function D6(J){var Z=B7(J).HTMLElement;return J instanceof Z||J instanceof HTMLElement}function hU(J){if(typeof ShadowRoot>"u")return!1;var Z=B7(J).ShadowRoot;return J instanceof Z||J instanceof ShadowRoot}function Z21(J){var Z=J.state;Object.keys(Z.elements).forEach(function(Q){var Y=Z.styles[Q]||{},$=Z.attributes[Q]||{},H=Z.elements[Q];if(!D6(H)||!y6(H))return;Object.assign(H.style,Y),Object.keys($).forEach(function(K){var B=$[K];if(B===!1)H.removeAttribute(K);else H.setAttribute(K,B===!0?"":B)})})}function Q21(J){var Z=J.state,Q={popper:{position:Z.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};if(Object.assign(Z.elements.popper.style,Q.popper),Z.styles=Q,Z.elements.arrow)Object.assign(Z.elements.arrow.style,Q.arrow);return function(){Object.keys(Z.elements).forEach(function(Y){var $=Z.elements[Y],H=Z.attributes[Y]||{},K=Object.keys(Z.styles.hasOwnProperty(Y)?Z.styles[Y]:Q[Y]),B=K.reduce(function(q,L){return q[L]="",q},{});if(!D6($)||!y6($))return;Object.assign($.style,B),Object.keys(H).forEach(function(q){$.removeAttribute(q)})})}}var FT={name:"applyStyles",enabled:!0,phase:"write",fn:Z21,effect:Q21,requires:["computeStyles"]};function h6(J){return J.split("-")[0]}var{max:ZZ,min:xW,round:DX}=Math;function uU(){var J=navigator.userAgentData;if(J!=null&&J.brands&&Array.isArray(J.brands))return J.brands.map(function(Z){return Z.brand+"/"+Z.version}).join(" ");return navigator.userAgent}function sz(){return!/^((?!chrome|android).)*safari/i.test(uU())}function qJ(J,Z,Q){if(Z===void 0)Z=!1;if(Q===void 0)Q=!1;var Y=J.getBoundingClientRect(),$=1,H=1;if(Z&&D6(J))$=J.offsetWidth>0?DX(Y.width)/J.offsetWidth||1:1,H=J.offsetHeight>0?DX(Y.height)/J.offsetHeight||1:1;var K=BJ(J)?B7(J):window,B=K.visualViewport,q=!sz()&&Q,L=(Y.left+(q&&B?B.offsetLeft:0))/$,O=(Y.top+(q&&B?B.offsetTop:0))/H,z=Y.width/$,F=Y.height/H;return{width:z,height:F,top:O,right:L+z,bottom:O+F,left:L,x:L,y:O}}function RW(J){var Z=qJ(J),Q=J.offsetWidth,Y=J.offsetHeight;if(Math.abs(Z.width-Q)<=1)Q=Z.width;if(Math.abs(Z.height-Y)<=1)Y=Z.height;return{x:J.offsetLeft,y:J.offsetTop,width:Q,height:Y}}function oz(J,Z){var Q=Z.getRootNode&&Z.getRootNode();if(J.contains(Z))return!0;else if(Q&&hU(Q)){var Y=Z;do{if(Y&&J.isSameNode(Y))return!0;Y=Y.parentNode||Y.host}while(Y)}return!1}function X8(J){return B7(J).getComputedStyle(J)}function qD(J){return["table","td","th"].indexOf(y6(J))>=0}function $9(J){return((BJ(J)?J.ownerDocument:J.document)||window.document).documentElement}function wX(J){if(y6(J)==="html")return J;return J.assignedSlot||J.parentNode||(hU(J)?J.host:null)||$9(J)}function AT(J){if(!D6(J)||X8(J).position==="fixed")return null;return J.offsetParent}function X21(J){var Z=/firefox/i.test(uU()),Q=/Trident/i.test(uU());if(Q&&D6(J)){var Y=X8(J);if(Y.position==="fixed")return null}var $=wX(J);if(hU($))$=$.host;while(D6($)&&["html","body"].indexOf(y6($))<0){var H=X8($);if(H.transform!=="none"||H.perspective!=="none"||H.contain==="paint"||["transform","perspective"].indexOf(H.willChange)!==-1||Z&&H.willChange==="filter"||Z&&H.filter&&H.filter!=="none")return $;else $=$.parentNode}return null}function QZ(J){var Z=B7(J),Q=AT(J);while(Q&&qD(Q)&&X8(Q).position==="static")Q=AT(Q);if(Q&&(y6(Q)==="html"||y6(Q)==="body"&&X8(Q).position==="static"))return Z;return Q||X21(J)||Z}function CW(J){return["top","bottom"].indexOf(J)>=0?"x":"y"}function bW(J,Z,Q){return ZZ(J,xW(Z,Q))}function MT(J,Z,Q){var Y=bW(J,Z,Q);return Y>Q?Q:Y}function rz(){return{top:0,right:0,bottom:0,left:0}}function tz(J){return Object.assign({},rz(),J)}function ez(J,Z){return Z.reduce(function(Q,Y){return Q[Y]=J,Q},{})}var Y21=function(Z,Q){return Z=typeof Z==="function"?Z(Object.assign({},Q.rects,{placement:Q.placement})):Z,tz(typeof Z!=="number"?Z:ez(Z,DG))};function G21(J){var Z,Q=J.state,Y=J.name,$=J.options,H=Q.elements.arrow,K=Q.modifiersData.popperOffsets,B=h6(Q.placement),q=CW(B),L=[Y6,q6].indexOf(B)>=0,O=L?"height":"width";if(!H||!K)return;var z=Y21($.padding,Q),F=RW(H),V=q==="y"?h7:Y6,A=q==="y"?j6:q6,M=Q.rects.reference[O]+Q.rects.reference[q]-K[q]-Q.rects.popper[O],j=K[q]-Q.rects.reference[q],D=QZ(H),w=D?q==="y"?D.clientHeight||0:D.clientWidth||0:0,C=M/2-j/2,I=z[V],b=w-F[O]-z[A],E=w/2-F[O]/2+C,k=bW(I,E,b),T=q;Q.modifiersData[Y]=(Z={},Z[T]=k,Z.centerOffset=k-E,Z)}function $21(J){var{state:Z,options:Q}=J,Y=Q.element,$=Y===void 0?"[data-popper-arrow]":Y;if($==null)return;if(typeof $==="string"){if($=Z.elements.popper.querySelector($),!$)return}if(!oz(Z.elements.popper,$))return;Z.elements.arrow=$}var _T={name:"arrow",enabled:!0,phase:"main",fn:G21,effect:$21,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function UJ(J){return J.split("-")[1]}var H21={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W21(J,Z){var{x:Q,y:Y}=J,$=Z.devicePixelRatio||1;return{x:DX(Q*$)/$||0,y:DX(Y*$)/$||0}}function VT(J){var Z,Q=J.popper,Y=J.popperRect,$=J.placement,H=J.variation,K=J.offsets,B=J.position,q=J.gpuAcceleration,L=J.adaptive,O=J.roundOffsets,z=J.isFixed,F=K.x,V=F===void 0?0:F,A=K.y,M=A===void 0?0:A,j=typeof O==="function"?O({x:V,y:M}):{x:V,y:M};V=j.x,M=j.y;var D=K.hasOwnProperty("x"),w=K.hasOwnProperty("y"),C=Y6,I=h7,b=window;if(L){var E=QZ(Q),k="clientHeight",T="clientWidth";if(E===B7(Q)){if(E=$9(Q),X8(E).position!=="static"&&B==="absolute")k="scrollHeight",T="scrollWidth"}if(E=E,$===h7||($===Y6||$===q6)&&H===kW){I=j6;var S=z&&E===b&&b.visualViewport?b.visualViewport.height:E[k];M-=S-Y.height,M*=q?1:-1}if($===Y6||($===h7||$===j6)&&H===kW){C=q6;var d=z&&E===b&&b.visualViewport?b.visualViewport.width:E[T];V-=d-Y.width,V*=q?1:-1}}var o=Object.assign({position:B},L&&H21),v=O===!0?W21({x:V,y:M},B7(Q)):{x:V,y:M};if(V=v.x,M=v.y,q){var y;return Object.assign({},o,(y={},y[I]=w?"0":"",y[C]=D?"0":"",y.transform=(b.devicePixelRatio||1)<=1?"translate("+V+"px, "+M+"px)":"translate3d("+V+"px, "+M+"px, 0)",y))}return Object.assign({},o,(Z={},Z[I]=w?M+"px":"",Z[C]=D?V+"px":"",Z.transform="",Z))}function K21(J){var{state:Z,options:Q}=J,Y=Q.gpuAcceleration,$=Y===void 0?!0:Y,H=Q.adaptive,K=H===void 0?!0:H,B=Q.roundOffsets,q=B===void 0?!0:B,L={placement:h6(Z.placement),variation:UJ(Z.placement),popper:Z.elements.popper,popperRect:Z.rects.popper,gpuAcceleration:$,isFixed:Z.options.strategy==="fixed"};if(Z.modifiersData.popperOffsets!=null)Z.styles.popper=Object.assign({},Z.styles.popper,VT(Object.assign({},L,{offsets:Z.modifiersData.popperOffsets,position:Z.options.strategy,adaptive:K,roundOffsets:q})));if(Z.modifiersData.arrow!=null)Z.styles.arrow=Object.assign({},Z.styles.arrow,VT(Object.assign({},L,{offsets:Z.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:q})));Z.attributes.popper=Object.assign({},Z.attributes.popper,{"data-popper-placement":Z.placement})}var IT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:K21,data:{}};var fM={passive:!0};function B21(J){var{state:Z,instance:Q,options:Y}=J,$=Y.scroll,H=$===void 0?!0:$,K=Y.resize,B=K===void 0?!0:K,q=B7(Z.elements.popper),L=[].concat(Z.scrollParents.reference,Z.scrollParents.popper);if(H)L.forEach(function(O){O.addEventListener("scroll",Q.update,fM)});if(B)q.addEventListener("resize",Q.update,fM);return function(){if(H)L.forEach(function(O){O.removeEventListener("scroll",Q.update,fM)});if(B)q.removeEventListener("resize",Q.update,fM)}}var jT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B21,data:{}};var q21={left:"right",right:"left",bottom:"top",top:"bottom"};function dU(J){return J.replace(/left|right|bottom|top/g,function(Z){return q21[Z]})}var U21={start:"end",end:"start"};function SM(J){return J.replace(/start|end/g,function(Z){return U21[Z]})}function vW(J){var Z=B7(J),Q=Z.pageXOffset,Y=Z.pageYOffset;return{scrollLeft:Q,scrollTop:Y}}function fW(J){return qJ($9(J)).left+vW(J).scrollLeft}function UD(J,Z){var Q=B7(J),Y=$9(J),$=Q.visualViewport,H=Y.clientWidth,K=Y.clientHeight,B=0,q=0;if($){H=$.width,K=$.height;var L=sz();if(L||!L&&Z==="fixed")B=$.offsetLeft,q=$.offsetTop}return{width:H,height:K,x:B+fW(J),y:q}}function LD(J){var Z,Q=$9(J),Y=vW(J),$=(Z=J.ownerDocument)==null?void 0:Z.body,H=ZZ(Q.scrollWidth,Q.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),K=ZZ(Q.scrollHeight,Q.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),B=-Y.scrollLeft+fW(J),q=-Y.scrollTop;if(X8($||Q).direction==="rtl")B+=ZZ(Q.clientWidth,$?$.clientWidth:0)-H;return{width:H,height:K,x:B,y:q}}function SW(J){var Z=X8(J),Q=Z.overflow,Y=Z.overflowX,$=Z.overflowY;return/auto|scroll|overlay|hidden/.test(Q+$+Y)}function TM(J){if(["html","body","#document"].indexOf(y6(J))>=0)return J.ownerDocument.body;if(D6(J)&&SW(J))return J;return TM(wX(J))}function wG(J,Z){var Q;if(Z===void 0)Z=[];var Y=TM(J),$=Y===((Q=J.ownerDocument)==null?void 0:Q.body),H=B7(Y),K=$?[H].concat(H.visualViewport||[],SW(Y)?Y:[]):Y,B=Z.concat(K);return $?B:B.concat(wG(wX(K)))}function mU(J){return Object.assign({},J,{left:J.x,top:J.y,right:J.x+J.width,bottom:J.y+J.height})}function L21(J,Z){var Q=qJ(J,!1,Z==="fixed");return Q.top=Q.top+J.clientTop,Q.left=Q.left+J.clientLeft,Q.bottom=Q.top+J.clientHeight,Q.right=Q.left+J.clientWidth,Q.width=J.clientWidth,Q.height=J.clientHeight,Q.x=Q.left,Q.y=Q.top,Q}function DT(J,Z,Q){return Z===bM?mU(UD(J,Q)):BJ(Z)?L21(Z,Q):mU(LD($9(J)))}function O21(J){var Z=wG(wX(J)),Q=["absolute","fixed"].indexOf(X8(J).position)>=0,Y=Q&&D6(J)?QZ(J):J;if(!BJ(Y))return[];return Z.filter(function($){return BJ($)&&oz($,Y)&&y6($)!=="body"})}function OD(J,Z,Q,Y){var $=Z==="clippingParents"?O21(J):[].concat(Z),H=[].concat($,[Q]),K=H[0],B=H.reduce(function(q,L){var O=DT(J,L,Y);return q.top=ZZ(O.top,q.top),q.right=xW(O.right,q.right),q.bottom=xW(O.bottom,q.bottom),q.left=ZZ(O.left,q.left),q},DT(J,K,Y));return B.width=B.right-B.left,B.height=B.bottom-B.top,B.x=B.left,B.y=B.top,B}function JN(J){var{reference:Z,element:Q,placement:Y}=J,$=Y?h6(Y):null,H=Y?UJ(Y):null,K=Z.x+Z.width/2-Q.width/2,B=Z.y+Z.height/2-Q.height/2,q;switch($){case h7:q={x:K,y:Z.y-Q.height};break;case j6:q={x:K,y:Z.y+Z.height};break;case q6:q={x:Z.x+Z.width,y:B};break;case Y6:q={x:Z.x-Q.width,y:B};break;default:q={x:Z.x,y:Z.y}}var L=$?CW($):null;if(L!=null){var O=L==="y"?"height":"width";switch(H){case jX:q[L]=q[L]-(Z[O]/2-Q[O]/2);break;case kW:q[L]=q[L]+(Z[O]/2-Q[O]/2);break;default:}}return q}function XZ(J,Z){if(Z===void 0)Z={};var Q=Z,Y=Q.placement,$=Y===void 0?J.placement:Y,H=Q.strategy,K=H===void 0?J.strategy:H,B=Q.boundary,q=B===void 0?OT:B,L=Q.rootBoundary,O=L===void 0?bM:L,z=Q.elementContext,F=z===void 0?yU:z,V=Q.altBoundary,A=V===void 0?!1:V,M=Q.padding,j=M===void 0?0:M,D=tz(typeof j!=="number"?j:ez(j,DG)),w=F===yU?zT:yU,C=J.rects.popper,I=J.elements[A?w:F],b=OD(BJ(I)?I:I.contextElement||$9(J.elements.popper),q,O,K),E=qJ(J.elements.reference),k=JN({reference:E,element:C,strategy:"absolute",placement:$}),T=mU(Object.assign({},C,k)),S=F===yU?T:E,d={top:b.top-S.top+D.top,bottom:S.bottom-b.bottom+D.bottom,left:b.left-S.left+D.left,right:S.right-b.right+D.right},o=J.modifiersData.offset;if(F===yU&&o){var v=o[$];Object.keys(d).forEach(function(y){var i=[q6,j6].indexOf(y)>=0?1:-1,p=[h7,j6].indexOf(y)>=0?"y":"x";d[y]+=v[p]*i})}return d}function zD(J,Z){if(Z===void 0)Z={};var Q=Z,Y=Q.placement,$=Q.boundary,H=Q.rootBoundary,K=Q.padding,B=Q.flipVariations,q=Q.allowedAutoPlacements,L=q===void 0?vM:q,O=UJ(Y),z=O?B?BD:BD.filter(function(A){return UJ(A)===O}):DG,F=z.filter(function(A){return L.indexOf(A)>=0});if(F.length===0)F=z;var V=F.reduce(function(A,M){return A[M]=XZ(J,{placement:M,boundary:$,rootBoundary:H,padding:K})[h6(M)],A},{});return Object.keys(V).sort(function(A,M){return V[A]-V[M]})}function z21(J){if(h6(J)===CM)return[];var Z=dU(J);return[SM(J),Z,SM(Z)]}function N21(J){var{state:Z,options:Q,name:Y}=J;if(Z.modifiersData[Y]._skip)return;var $=Q.mainAxis,H=$===void 0?!0:$,K=Q.altAxis,B=K===void 0?!0:K,q=Q.fallbackPlacements,L=Q.padding,O=Q.boundary,z=Q.rootBoundary,F=Q.altBoundary,V=Q.flipVariations,A=V===void 0?!0:V,M=Q.allowedAutoPlacements,j=Z.options.placement,D=h6(j),w=D===j,C=q||(w||!A?[dU(j)]:z21(j)),I=[j].concat(C).reduce(function(J1,z1){return J1.concat(h6(z1)===CM?zD(Z,{placement:z1,boundary:O,rootBoundary:z,padding:L,flipVariations:A,allowedAutoPlacements:M}):z1)},[]),b=Z.rects.reference,E=Z.rects.popper,k=new Map,T=!0,S=I[0];for(var d=0;d<I.length;d++){var o=I[d],v=h6(o),y=UJ(o)===jX,i=[h7,j6].indexOf(v)>=0,p=i?"width":"height",l=XZ(Z,{placement:o,boundary:O,rootBoundary:z,altBoundary:F,padding:L}),t=i?y?q6:Y6:y?j6:h7;if(b[p]>E[p])t=dU(t);var Q1=dU(t),m=[];if(H)m.push(l[v]<=0);if(B)m.push(l[t]<=0,l[Q1]<=0);if(m.every(function(J1){return J1})){S=o,T=!1;break}k.set(o,m)}if(T){var K1=A?3:1,g=function(z1){var V1=I.find(function(w1){var m1=k.get(w1);if(m1)return m1.slice(0,z1).every(function(r1){return r1})});if(V1)return S=V1,"break"};for(var n=K1;n>0;n--){var Z1=g(n);if(Z1==="break")break}}if(Z.placement!==S)Z.modifiersData[Y]._skip=!0,Z.placement=S,Z.reset=!0}var wT={name:"flip",enabled:!0,phase:"main",fn:N21,requiresIfExists:["offset"],data:{_skip:!1}};function ET(J,Z,Q){if(Q===void 0)Q={x:0,y:0};return{top:J.top-Z.height-Q.y,right:J.right-Z.width+Q.x,bottom:J.bottom-Z.height+Q.y,left:J.left-Z.width-Q.x}}function kT(J){return[h7,q6,j6,Y6].some(function(Z){return J[Z]>=0})}function F21(J){var{state:Z,name:Q}=J,Y=Z.rects.reference,$=Z.rects.popper,H=Z.modifiersData.preventOverflow,K=XZ(Z,{elementContext:"reference"}),B=XZ(Z,{altBoundary:!0}),q=ET(K,Y),L=ET(B,$,H),O=kT(q),z=kT(L);Z.modifiersData[Q]={referenceClippingOffsets:q,popperEscapeOffsets:L,isReferenceHidden:O,hasPopperEscaped:z},Z.attributes.popper=Object.assign({},Z.attributes.popper,{"data-popper-reference-hidden":O,"data-popper-escaped":z})}var xT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F21};function A21(J,Z,Q){var Y=h6(J),$=[Y6,h7].indexOf(Y)>=0?-1:1,H=typeof Q==="function"?Q(Object.assign({},Z,{placement:J})):Q,K=H[0],B=H[1];return K=K||0,B=(B||0)*$,[Y6,q6].indexOf(Y)>=0?{x:B,y:K}:{x:K,y:B}}function M21(J){var{state:Z,options:Q,name:Y}=J,$=Q.offset,H=$===void 0?[0,0]:$,K=vM.reduce(function(O,z){return O[z]=A21(z,Z.rects,H),O},{}),B=K[Z.placement],q=B.x,L=B.y;if(Z.modifiersData.popperOffsets!=null)Z.modifiersData.popperOffsets.x+=q,Z.modifiersData.popperOffsets.y+=L;Z.modifiersData[Y]=K}var RT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:M21};function _21(J){var{state:Z,name:Q}=J;Z.modifiersData[Q]=JN({reference:Z.rects.reference,element:Z.rects.popper,strategy:"absolute",placement:Z.placement})}var CT={name:"popperOffsets",enabled:!0,phase:"read",fn:_21,data:{}};function ND(J){return J==="x"?"y":"x"}function V21(J){var{state:Z,options:Q,name:Y}=J,$=Q.mainAxis,H=$===void 0?!0:$,K=Q.altAxis,B=K===void 0?!1:K,q=Q.boundary,L=Q.rootBoundary,O=Q.altBoundary,z=Q.padding,F=Q.tether,V=F===void 0?!0:F,A=Q.tetherOffset,M=A===void 0?0:A,j=XZ(Z,{boundary:q,rootBoundary:L,padding:z,altBoundary:O}),D=h6(Z.placement),w=UJ(Z.placement),C=!w,I=CW(D),b=ND(I),E=Z.modifiersData.popperOffsets,k=Z.rects.reference,T=Z.rects.popper,S=typeof M==="function"?M(Object.assign({},Z.rects,{placement:Z.placement})):M,d=typeof S==="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),o=Z.modifiersData.offset?Z.modifiersData.offset[Z.placement]:null,v={x:0,y:0};if(!E)return;if(H){var y,i=I==="y"?h7:Y6,p=I==="y"?j6:q6,l=I==="y"?"height":"width",t=E[I],Q1=t+j[i],m=t-j[p],K1=V?-T[l]/2:0,g=w===jX?k[l]:T[l],n=w===jX?-T[l]:-k[l],Z1=Z.elements.arrow,J1=V&&Z1?RW(Z1):{width:0,height:0},z1=Z.modifiersData["arrow#persistent"]?Z.modifiersData["arrow#persistent"].padding:rz(),V1=z1[i],w1=z1[p],m1=bW(0,k[l],J1[l]),r1=C?k[l]/2-K1-m1-V1-d.mainAxis:g-m1-V1-d.mainAxis,h1=C?-k[l]/2+K1+m1+w1+d.mainAxis:n+m1+w1+d.mainAxis,G1=Z.elements.arrow&&QZ(Z.elements.arrow),a=G1?I==="y"?G1.clientTop||0:G1.clientLeft||0:0,M1=(y=o==null?void 0:o[I])!=null?y:0,D1=t+r1-M1-a,g1=t+h1-M1,u1=bW(V?xW(Q1,D1):Q1,t,V?ZZ(m,g1):m);E[I]=u1,v[I]=u1-t}if(B){var C1,x1=I==="x"?h7:Y6,v1=I==="x"?j6:q6,p1=E[b],y1=b==="y"?"height":"width",P1=p1+j[x1],T1=p1-j[v1],j0=[h7,Y6].indexOf(D)!==-1,N0=(C1=o==null?void 0:o[b])!=null?C1:0,E0=j0?P1:p1-k[y1]-T[y1]-N0+d.altAxis,H0=j0?p1+k[y1]+T[y1]-N0-d.altAxis:T1,A0=V&&j0?MT(E0,p1,H0):bW(V?E0:P1,p1,V?H0:T1);E[b]=A0,v[b]=A0-p1}Z.modifiersData[Y]=v}var bT={name:"preventOverflow",enabled:!0,phase:"main",fn:V21,requiresIfExists:["offset"]};function FD(J){return{scrollLeft:J.scrollLeft,scrollTop:J.scrollTop}}function AD(J){if(J===B7(J)||!D6(J))return vW(J);else return FD(J)}function I21(J){var Z=J.getBoundingClientRect(),Q=DX(Z.width)/J.offsetWidth||1,Y=DX(Z.height)/J.offsetHeight||1;return Q!==1||Y!==1}function MD(J,Z,Q){if(Q===void 0)Q=!1;var Y=D6(Z),$=D6(Z)&&I21(Z),H=$9(Z),K=qJ(J,$,Q),B={scrollLeft:0,scrollTop:0},q={x:0,y:0};if(Y||!Y&&!Q){if(y6(Z)!=="body"||SW(H))B=AD(Z);if(D6(Z))q=qJ(Z,!0),q.x+=Z.clientLeft,q.y+=Z.clientTop;else if(H)q.x=fW(H)}return{x:K.left+B.scrollLeft-q.x,y:K.top+B.scrollTop-q.y,width:K.width,height:K.height}}function j21(J){var Z=new Map,Q=new Set,Y=[];J.forEach(function(H){Z.set(H.name,H)});function $(H){Q.add(H.name);var K=[].concat(H.requires||[],H.requiresIfExists||[]);K.forEach(function(B){if(!Q.has(B)){var q=Z.get(B);if(q)$(q)}}),Y.push(H)}return J.forEach(function(H){if(!Q.has(H.name))$(H)}),Y}function _D(J){var Z=j21(J);return NT.reduce(function(Q,Y){return Q.concat(Z.filter(function($){return $.phase===Y}))},[])}function VD(J){var Z;return function(){if(!Z)Z=new Promise(function(Q){Promise.resolve().then(function(){Z=void 0,Q(J())})});return Z}}function ID(J){var Z=J.reduce(function(Q,Y){var $=Q[Y.name];return Q[Y.name]=$?Object.assign({},$,Y,{options:Object.assign({},$.options,Y.options),data:Object.assign({},$.data,Y.data)}):Y,Q},{});return Object.keys(Z).map(function(Q){return Z[Q]})}var vT={placement:"bottom",modifiers:[],strategy:"absolute"};function fT(){for(var J=arguments.length,Z=Array(J),Q=0;Q<J;Q++)Z[Q]=arguments[Q];return!Z.some(function(Y){return!(Y&&typeof Y.getBoundingClientRect==="function")})}function ST(J){if(J===void 0)J={};var Z=J,Q=Z.defaultModifiers,Y=Q===void 0?[]:Q,$=Z.defaultOptions,H=$===void 0?vT:$;return function(B,q,L){if(L===void 0)L=H;var O={placement:"bottom",orderedModifiers:[],options:Object.assign({},vT,H),modifiersData:{},elements:{reference:B,popper:q},attributes:{},styles:{}},z=[],F=!1,V={state:O,setOptions:function(D){var w=typeof D==="function"?D(O.options):D;M(),O.options=Object.assign({},H,O.options,w),O.scrollParents={reference:BJ(B)?wG(B):B.contextElement?wG(B.contextElement):[],popper:wG(q)};var C=_D(ID([].concat(Y,O.options.modifiers)));return O.orderedModifiers=C.filter(function(I){return I.enabled}),A(),V.update()},forceUpdate:function(){if(F)return;var D=O.elements,w=D.reference,C=D.popper;if(!fT(w,C))return;O.rects={reference:MD(w,QZ(C),O.options.strategy==="fixed"),popper:RW(C)},O.reset=!1,O.placement=O.options.placement,O.orderedModifiers.forEach(function(d){return O.modifiersData[d.name]=Object.assign({},d.data)});for(var I=0;I<O.orderedModifiers.length;I++){if(O.reset===!0){O.reset=!1,I=-1;continue}var b=O.orderedModifiers[I],E=b.fn,k=b.options,T=k===void 0?{}:k,S=b.name;if(typeof E==="function")O=E({state:O,options:T,name:S,instance:V})||O}},update:VD(function(){return new Promise(function(j){V.forceUpdate(),j(O)})}),destroy:function(){M(),F=!0}};if(!fT(B,q))return V;V.setOptions(L).then(function(j){if(!F&&L.onFirstUpdate)L.onFirstUpdate(j)});function A(){O.orderedModifiers.forEach(function(j){var{name:D,options:w}=j,C=w===void 0?{}:w,I=j.effect;if(typeof I==="function"){var b=I({state:O,name:D,instance:V,options:C}),E=function(){};z.push(b||E)}})}function M(){z.forEach(function(j){return j()}),z=[]}return V}}var D21=[jT,CT,IT,FT,RT,wT,bT,_T,xT],jD=ST({defaultModifiers:D21});var M5=e(l0(),1);function w21(J){let{elementType:Z,externalSlotProps:Q,ownerState:Y,skipResolvingSlotProps:$=!1,...H}=J,K=$?{}:nz(Q,Y),{props:B,internalRef:q}=az({...H,externalSlotProps:K}),L=X6(q,K?.ref,J.additionalProps?.ref);return iz(Z,{...B,ref:L},Y)}var ZN=w21;var EX=e(J0(),1),PT=e(BA(),1),QN=e(l0(),1);var TT=e(J0(),1);function j9(J){if(parseInt(TT.version,10)>=19)return J?.props?.ref||null;return J?.ref||null}function E21(J){return typeof J==="function"?J():J}var XN=EX.forwardRef(function(Z,Q){let{children:Y,container:$,disablePortal:H=!1}=Z,[K,B]=EX.useState(null),q=X6(EX.isValidElement(Y)?j9(Y):null,Q);if(E8(()=>{if(!H)B(E21($)||document.body)},[$,H]),E8(()=>{if(K&&!H)return hz(Q,K),()=>{hz(Q,null)};return},[Q,K,H]),H){if(EX.isValidElement(Y))return EX.cloneElement(Y,{ref:q});return Y}return K?PT.createPortal(Y,K):K});XN.propTypes={children:QN.default.node,container:QN.default.oneOfType([G9,QN.default.func]),disablePortal:QN.default.bool};XN.propTypes=FG(XN.propTypes);var YN=XN;function gT(J){return k0("MuiPopper",J)}var Jg1=x0("MuiPopper",["root"]);var PM=e(F0(),1);function k21(J,Z){if(Z==="ltr")return J;switch(J){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return J}}function gM(J){return typeof J==="function"?J():J}function yM(J){return J.nodeType!==void 0}function x21(J){return!yM(J)}var R21=(J)=>{let{classes:Z}=J;return R0({root:["root"]},gT,Z)},C21={},b21=D9.forwardRef(function(Z,Q){let{anchorEl:Y,children:$,direction:H,disablePortal:K,modifiers:B,open:q,placement:L,popperOptions:O,popperRef:z,slotProps:F={},slots:V={},TransitionProps:A,ownerState:M,...j}=Z,D=D9.useRef(null),w=X6(D,Q),C=D9.useRef(null),I=X6(C,z),b=D9.useRef(I);E8(()=>{b.current=I},[I]),D9.useImperativeHandle(z,()=>C.current,[]);let E=k21(L,H),[k,T]=D9.useState(E),[S,d]=D9.useState(gM(Y));D9.useEffect(()=>{if(C.current)C.current.forceUpdate()}),D9.useEffect(()=>{if(Y)d(gM(Y))},[Y]),E8(()=>{if(!S||!q)return;let p=(Q1)=>{T(Q1.placement)};if(S&&yM(S)&&S.nodeType===1){let Q1=S.getBoundingClientRect();if(Q1.top===0&&Q1.left===0&&Q1.right===0&&Q1.bottom===0)console.warn(["MUI: The `anchorEl` prop provided to the component is invalid.","The anchor element should be part of the document layout.","Make sure the element is present in the document or that it's not display none."].join(`
`))}let l=[{name:"preventOverflow",options:{altBoundary:K}},{name:"flip",options:{altBoundary:K}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q1})=>{p(Q1)}}];if(B!=null)l=l.concat(B);if(O&&O.modifiers!=null)l=l.concat(O.modifiers);let t=jD(S,D.current,{placement:E,...O,modifiers:l});return b.current(t),()=>{t.destroy(),b.current(null)}},[S,K,B,q,O,E]);let o={placement:k};if(A!==null)o.TransitionProps=A;let v=R21(Z),y=V.root??"div",i=ZN({elementType:y,externalSlotProps:F.root,externalForwardedProps:j,additionalProps:{role:"tooltip",ref:w},ownerState:Z,className:v.root});return PM.jsx(y,{...i,children:typeof $==="function"?$(o):$})}),yT=D9.forwardRef(function(Z,Q){let{anchorEl:Y,children:$,container:H,direction:K="ltr",disablePortal:B=!1,keepMounted:q=!1,modifiers:L,open:O,placement:z="bottom",popperOptions:F=C21,popperRef:V,style:A,transition:M=!1,slotProps:j={},slots:D={},...w}=Z,[C,I]=D9.useState(!0),b=()=>{I(!1)},E=()=>{I(!0)};if(!q&&!O&&(!M||C))return null;let k;if(H)k=H;else if(Y){let d=gM(Y);k=d&&yM(d)?g7(d).body:g7(null).body}let T=!O&&q&&(!M||C)?"none":void 0,S=M?{in:O,onEnter:b,onExited:E}:void 0;return PM.jsx(YN,{disablePortal:B,container:k,children:PM.jsx(b21,{anchorEl:Y,direction:K,disablePortal:B,modifiers:L,ref:Q,open:M?!C:O,placement:z,popperOptions:F,popperRef:V,slotProps:j,slots:D,...w,style:{position:"fixed",top:0,left:0,display:T,...A},TransitionProps:S,children:$})})});yT.propTypes={anchorEl:I7(M5.default.oneOfType([G9,M5.default.object,M5.default.func]),(J)=>{if(J.open){let Z=gM(J.anchorEl);if(Z&&yM(Z)&&Z.nodeType===1){let Q=Z.getBoundingClientRect();if(Q.top===0&&Q.left===0&&Q.right===0&&Q.bottom===0)return Error(["MUI: The `anchorEl` prop provided to the component is invalid.","The anchor element should be part of the document layout.","Make sure the element is present in the document or that it's not display none."].join(`
`))}else if(!Z||typeof Z.getBoundingClientRect!=="function"||x21(Z)&&Z.contextElement!=null&&Z.contextElement.nodeType!==1)return Error(["MUI: The `anchorEl` prop provided to the component is invalid.","It should be an HTML element instance or a virtualElement ","(https://popper.js.org/docs/v2/virtual-elements/)."].join(`
`))}return null}),children:M5.default.oneOfType([M5.default.node,M5.default.func]),container:M5.default.oneOfType([G9,M5.default.func]),direction:M5.default.oneOf(["ltr","rtl"]),disablePortal:M5.default.bool,keepMounted:M5.default.bool,modifiers:M5.default.arrayOf(M5.default.shape({data:M5.default.object,effect:M5.default.func,enabled:M5.default.bool,fn:M5.default.func,name:M5.default.any,options:M5.default.object,phase:M5.default.oneOf(["afterMain","afterRead","afterWrite","beforeMain","beforeRead","beforeWrite","main","read","write"]),requires:M5.default.arrayOf(M5.default.string),requiresIfExists:M5.default.arrayOf(M5.default.string)})),open:M5.default.bool.isRequired,placement:M5.default.oneOf(["auto-end","auto-start","auto","bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),popperOptions:M5.default.shape({modifiers:M5.default.array,onFirstUpdate:M5.default.func,placement:M5.default.oneOf(["auto-end","auto-start","auto","bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),strategy:M5.default.oneOf(["absolute","fixed"])}),popperRef:j7,slotProps:M5.default.shape({root:M5.default.oneOfType([M5.default.func,M5.default.object])}),slots:M5.default.shape({root:M5.default.elementType}),transition:M5.default.bool};var hT=yT;var dT=e(F0(),1),v21=o1(hT,{name:"MuiPopper",slot:"Root"})({}),mT=uT.forwardRef(function(Z,Q){let Y=qQ(),$=b0({props:Z,name:"MuiPopper"}),{anchorEl:H,component:K,components:B,componentsProps:q,container:L,disablePortal:O,keepMounted:z,modifiers:F,open:V,placement:A,popperOptions:M,popperRef:j,transition:D,slots:w,slotProps:C,...I}=$,b=w?.root??B?.Root,E={anchorEl:H,container:L,disablePortal:O,keepMounted:z,modifiers:F,open:V,placement:A,popperOptions:M,popperRef:j,transition:D,...I};return dT.jsx(v21,{as:K,direction:Y?"rtl":"ltr",slots:{root:b},slotProps:C??q,...E,ref:Q})});mT.propTypes={anchorEl:P2.default.oneOfType([G9,P2.default.object,P2.default.func]),children:P2.default.oneOfType([P2.default.node,P2.default.func]),component:P2.default.elementType,components:P2.default.shape({Root:P2.default.elementType}),componentsProps:P2.default.shape({root:P2.default.oneOfType([P2.default.func,P2.default.object])}),container:P2.default.oneOfType([G9,P2.default.func]),disablePortal:P2.default.bool,keepMounted:P2.default.bool,modifiers:P2.default.arrayOf(P2.default.shape({data:P2.default.object,effect:P2.default.func,enabled:P2.default.bool,fn:P2.default.func,name:P2.default.any,options:P2.default.object,phase:P2.default.oneOf(["afterMain","afterRead","afterWrite","beforeMain","beforeRead","beforeWrite","main","read","write"]),requires:P2.default.arrayOf(P2.default.string),requiresIfExists:P2.default.arrayOf(P2.default.string)})),open:P2.default.bool.isRequired,placement:P2.default.oneOf(["auto-end","auto-start","auto","bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),popperOptions:P2.default.shape({modifiers:P2.default.array,onFirstUpdate:P2.default.func,placement:P2.default.oneOf(["auto-end","auto-start","auto","bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),strategy:P2.default.oneOf(["absolute","fixed"])}),popperRef:j7,slotProps:P2.default.shape({root:P2.default.oneOfType([P2.default.func,P2.default.object])}),slots:P2.default.shape({root:P2.default.elementType}),sx:P2.default.oneOfType([P2.default.arrayOf(P2.default.oneOfType([P2.default.func,P2.default.object,P2.default.bool])),P2.default.func,P2.default.object]),transition:P2.default.bool};var hM=mT;var Y3=e(J0(),1),$5=e(l0(),1);var Dg1=e(J0(),1);var cT=e(F0(),1),pT=u0(cT.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function lT(J){return k0("MuiChip",J)}var f21=x0("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),j5=f21;var GN=e(F0(),1),S21=(J)=>{let{classes:Z,disabled:Q,size:Y,color:$,iconColor:H,onDelete:K,clickable:B,variant:q}=J,L={root:["root",q,Q&&"disabled",`size${G0(Y)}`,`color${G0($)}`,B&&"clickable",B&&`clickableColor${G0($)}`,K&&"deletable",K&&`deletableColor${G0($)}`,`${q}${G0($)}`],label:["label",`label${G0(Y)}`],avatar:["avatar",`avatar${G0(Y)}`,`avatarColor${G0($)}`],icon:["icon",`icon${G0(Y)}`,`iconColor${G0(H)}`],deleteIcon:["deleteIcon",`deleteIcon${G0(Y)}`,`deleteIconColor${G0($)}`,`deleteIcon${G0(q)}Color${G0($)}`]};return R0(L,lT,Z)},T21=o1("div",{name:"MuiChip",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J,{color:Y,iconColor:$,clickable:H,onDelete:K,size:B,variant:q}=Q;return[{[`& .${j5.avatar}`]:Z.avatar},{[`& .${j5.avatar}`]:Z[`avatar${G0(B)}`]},{[`& .${j5.avatar}`]:Z[`avatarColor${G0(Y)}`]},{[`& .${j5.icon}`]:Z.icon},{[`& .${j5.icon}`]:Z[`icon${G0(B)}`]},{[`& .${j5.icon}`]:Z[`iconColor${G0($)}`]},{[`& .${j5.deleteIcon}`]:Z.deleteIcon},{[`& .${j5.deleteIcon}`]:Z[`deleteIcon${G0(B)}`]},{[`& .${j5.deleteIcon}`]:Z[`deleteIconColor${G0(Y)}`]},{[`& .${j5.deleteIcon}`]:Z[`deleteIcon${G0(q)}Color${G0(Y)}`]},Z.root,Z[`size${G0(B)}`],Z[`color${G0(Y)}`],H&&Z.clickable,H&&Y!=="default"&&Z[`clickableColor${G0(Y)})`],K&&Z.deletable,K&&Y!=="default"&&Z[`deletableColor${G0(Y)}`],Z[q],Z[`${q}${G0(Y)}`]]}})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?J.palette.grey[700]:J.palette.grey[300];return{maxWidth:"100%",fontFamily:J.typography.fontFamily,fontSize:J.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(J.vars||J).palette.text.primary,backgroundColor:(J.vars||J).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:J.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${j5.disabled}`]:{opacity:(J.vars||J).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${j5.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:J.vars?J.vars.palette.Chip.defaultAvatarColor:Z,fontSize:J.typography.pxToRem(12)},[`& .${j5.avatarColorPrimary}`]:{color:(J.vars||J).palette.primary.contrastText,backgroundColor:(J.vars||J).palette.primary.dark},[`& .${j5.avatarColorSecondary}`]:{color:(J.vars||J).palette.secondary.contrastText,backgroundColor:(J.vars||J).palette.secondary.dark},[`& .${j5.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:J.typography.pxToRem(10)},[`& .${j5.icon}`]:{marginLeft:5,marginRight:-6},[`& .${j5.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:J.alpha((J.vars||J).palette.text.primary,0.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:J.alpha((J.vars||J).palette.text.primary,0.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${j5.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${j5.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(J.palette).filter(I5(["contrastText"])).map(([Q])=>{return{props:{color:Q},style:{backgroundColor:(J.vars||J).palette[Q].main,color:(J.vars||J).palette[Q].contrastText,[`& .${j5.deleteIcon}`]:{color:J.alpha((J.vars||J).palette[Q].contrastText,0.7),"&:hover, &:active":{color:(J.vars||J).palette[Q].contrastText}}}}}),{props:(Q)=>Q.iconColor===Q.color,style:{[`& .${j5.icon}`]:{color:J.vars?J.vars.palette.Chip.defaultIconColor:Z}}},{props:(Q)=>Q.iconColor===Q.color&&Q.color!=="default",style:{[`& .${j5.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${j5.focusVisible}`]:{backgroundColor:J.alpha((J.vars||J).palette.action.selected,`${(J.vars||J).palette.action.selectedOpacity} + ${(J.vars||J).palette.action.focusOpacity}`)}}},...Object.entries(J.palette).filter(I5(["dark"])).map(([Q])=>{return{props:{color:Q,onDelete:!0},style:{[`&.${j5.focusVisible}`]:{background:(J.vars||J).palette[Q].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:J.alpha((J.vars||J).palette.action.selected,`${(J.vars||J).palette.action.selectedOpacity} + ${(J.vars||J).palette.action.hoverOpacity}`)},[`&.${j5.focusVisible}`]:{backgroundColor:J.alpha((J.vars||J).palette.action.selected,`${(J.vars||J).palette.action.selectedOpacity} + ${(J.vars||J).palette.action.focusOpacity}`)},"&:active":{boxShadow:(J.vars||J).shadows[1]}}},...Object.entries(J.palette).filter(I5(["dark"])).map(([Q])=>({props:{color:Q,clickable:!0},style:{[`&:hover, &.${j5.focusVisible}`]:{backgroundColor:(J.vars||J).palette[Q].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:J.vars?`1px solid ${J.vars.palette.Chip.defaultBorder}`:`1px solid ${J.palette.mode==="light"?J.palette.grey[400]:J.palette.grey[700]}`,[`&.${j5.clickable}:hover`]:{backgroundColor:(J.vars||J).palette.action.hover},[`&.${j5.focusVisible}`]:{backgroundColor:(J.vars||J).palette.action.focus},[`& .${j5.avatar}`]:{marginLeft:4},[`& .${j5.avatarSmall}`]:{marginLeft:2},[`& .${j5.icon}`]:{marginLeft:4},[`& .${j5.iconSmall}`]:{marginLeft:2},[`& .${j5.deleteIcon}`]:{marginRight:5},[`& .${j5.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(J.palette).filter(I5()).map(([Q])=>({props:{variant:"outlined",color:Q},style:{color:(J.vars||J).palette[Q].main,border:`1px solid ${J.alpha((J.vars||J).palette[Q].main,0.7)}`,[`&.${j5.clickable}:hover`]:{backgroundColor:J.alpha((J.vars||J).palette[Q].main,(J.vars||J).palette.action.hoverOpacity)},[`&.${j5.focusVisible}`]:{backgroundColor:J.alpha((J.vars||J).palette[Q].main,(J.vars||J).palette.action.focusOpacity)},[`& .${j5.deleteIcon}`]:{color:J.alpha((J.vars||J).palette[Q].main,0.7),"&:hover, &:active":{color:(J.vars||J).palette[Q].main}}}}))]}})),P21=o1("span",{name:"MuiChip",slot:"Label",overridesResolver:(J,Z)=>{let{ownerState:Q}=J,{size:Y}=Q;return[Z.label,Z[`label${G0(Y)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function iT(J){return J.key==="Backspace"||J.key==="Delete"}var nT=Y3.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiChip"}),{avatar:$,className:H,clickable:K,color:B="default",component:q,deleteIcon:L,disabled:O=!1,icon:z,label:F,onClick:V,onDelete:A,onKeyDown:M,onKeyUp:j,size:D="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:I=!1,slots:b={},slotProps:E={},...k}=Y,T=Y3.useRef(null),S=m4(T,Q),d=(V1)=>{if(V1.stopPropagation(),A)A(V1)},o=(V1)=>{if(V1.currentTarget===V1.target&&iT(V1))V1.preventDefault();if(M)M(V1)},v=(V1)=>{if(V1.currentTarget===V1.target){if(A&&iT(V1))A(V1)}if(j)j(V1)},y=K!==!1&&V?!0:K,i=y||A?KJ:q||"div",p={...Y,component:i,disabled:O,size:D,color:B,iconColor:Y3.isValidElement(z)?z.props.color||B:B,onDelete:!!A,clickable:y,variant:w},l=S21(p),t=i===KJ?{component:q||"div",focusVisibleClassName:l.focusVisible,...A&&{disableRipple:!0}}:{},Q1=null;if(A)Q1=L&&Y3.isValidElement(L)?Y3.cloneElement(L,{className:L0(L.props.className,l.deleteIcon),onClick:d}):GN.jsx(pT,{className:l.deleteIcon,onClick:d});let m=null;if($&&Y3.isValidElement($))m=Y3.cloneElement($,{className:L0(l.avatar,$.props.className)});let K1=null;if(z&&Y3.isValidElement(z))K1=Y3.cloneElement(z,{className:L0(l.icon,z.props.className)});if(m&&K1)console.error("MUI: The Chip component can not handle the avatar and the icon prop at the same time. Pick one.");let g={slots:b,slotProps:E},[n,Z1]=V2("root",{elementType:T21,externalForwardedProps:{...g,...k},ownerState:p,shouldForwardComponentProp:!0,ref:S,className:L0(l.root,H),additionalProps:{disabled:y&&O?!0:void 0,tabIndex:I&&O?-1:C,...t},getSlotProps:(V1)=>({...V1,onClick:(w1)=>{V1.onClick?.(w1),V?.(w1)},onKeyDown:(w1)=>{V1.onKeyDown?.(w1),o(w1)},onKeyUp:(w1)=>{V1.onKeyUp?.(w1),v(w1)}})}),[J1,z1]=V2("label",{elementType:P21,externalForwardedProps:g,ownerState:p,className:l.label});return GN.jsxs(n,{as:i,...Z1,children:[m||K1,GN.jsx(J1,{...z1,children:F}),Q1]})});nT.propTypes={avatar:$5.default.element,children:MS,classes:$5.default.object,className:$5.default.string,clickable:$5.default.bool,color:$5.default.oneOfType([$5.default.oneOf(["default","primary","secondary","error","info","success","warning"]),$5.default.string]),component:$5.default.elementType,deleteIcon:$5.default.element,disabled:$5.default.bool,icon:$5.default.element,label:$5.default.node,onClick:$5.default.func,onDelete:$5.default.func,onKeyDown:$5.default.func,onKeyUp:$5.default.func,size:$5.default.oneOfType([$5.default.oneOf(["medium","small"]),$5.default.string]),skipFocusWhenDisabled:$5.default.bool,slotProps:$5.default.shape({label:$5.default.oneOfType([$5.default.func,$5.default.object]),root:$5.default.oneOfType([$5.default.func,$5.default.object])}),slots:$5.default.shape({label:$5.default.elementType,root:$5.default.elementType}),sx:$5.default.oneOfType([$5.default.arrayOf($5.default.oneOfType([$5.default.func,$5.default.object,$5.default.bool])),$5.default.func,$5.default.object]),tabIndex:$5.default.number,variant:$5.default.oneOfType([$5.default.oneOf(["filled","outlined"]),$5.default.string])};var B5=nT;var H9=e(J0(),1),U2=e(l0(),1);var G3=e(J0(),1),w9=e(l0(),1);var $N=e(F0(),1);function uM(J){return parseInt(J,10)||0}var g21={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function y21(J){for(let Z in J)return!1;return!0}function aT(J){return y21(J)||J.outerHeightStyle===0&&!J.overflowing}var sT=G3.forwardRef(function(Z,Q){let{onChange:Y,maxRows:$,minRows:H=1,style:K,value:B,...q}=Z,{current:L}=G3.useRef(B!=null),O=G3.useRef(null),z=X6(Q,O),F=G3.useRef(null),V=G3.useRef(null),A=G3.useCallback(()=>{let C=O.current,I=V.current;if(!C||!I)return;let E=HJ(C).getComputedStyle(C);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};if(I.style.width=E.width,I.value=C.value||Z.placeholder||"x",I.value.slice(-1)===`
`)I.value+=" ";let k=E.boxSizing,T=uM(E.paddingBottom)+uM(E.paddingTop),S=uM(E.borderBottomWidth)+uM(E.borderTopWidth),d=I.scrollHeight;I.value="x";let o=I.scrollHeight,v=d;if(H)v=Math.max(Number(H)*o,v);if($)v=Math.min(Number($)*o,v);v=Math.max(v,o);let y=v+(k==="border-box"?T+S:0),i=Math.abs(v-d)<=1;return{outerHeightStyle:y,overflowing:i}},[$,H,Z.placeholder]),M=J3(()=>{let C=O.current,I=A();if(!C||!I||aT(I))return!1;let b=I.outerHeightStyle;return F.current!=null&&F.current!==b}),j=G3.useCallback(()=>{let C=O.current,I=A();if(!C||!I||aT(I))return;let b=I.outerHeightStyle;if(F.current!==b)F.current=b,C.style.height=`${b}px`;C.style.overflow=I.overflowing?"hidden":""},[A]),D=G3.useRef(-1);return E8(()=>{let C=EU(j),I=O?.current;if(!I)return;let b=HJ(I);b.addEventListener("resize",C);let E;if(typeof ResizeObserver<"u")E=new ResizeObserver(()=>{if(M())E.unobserve(I),cancelAnimationFrame(D.current),j(),D.current=requestAnimationFrame(()=>{E.observe(I)})}),E.observe(I);return()=>{if(C.clear(),cancelAnimationFrame(D.current),b.removeEventListener("resize",C),E)E.disconnect()}},[A,j,M]),E8(()=>{j()}),$N.jsxs(G3.Fragment,{children:[$N.jsx("textarea",{value:B,onChange:(C)=>{if(!L)j();let I=C.target,b=I.value.length,E=I.value.endsWith(`
`),k=I.selectionStart===b;if(E&&k)I.setSelectionRange(b,b);if(Y)Y(C)},ref:z,rows:H,style:K,...q}),$N.jsx("textarea",{"aria-hidden":!0,className:Z.className,readOnly:!0,ref:V,tabIndex:-1,style:{...g21.shadow,...K,paddingTop:0,paddingBottom:0}})]})});sT.propTypes={className:w9.default.string,maxRows:w9.default.oneOfType([w9.default.number,w9.default.string]),minRows:w9.default.oneOfType([w9.default.number,w9.default.string]),onChange:w9.default.func,placeholder:w9.default.string,style:w9.default.object,value:w9.default.oneOfType([w9.default.arrayOf(w9.default.string),w9.default.number,w9.default.string])};var DD=sT;function $3({props:J,states:Z,muiFormControl:Q}){return Z.reduce((Y,$)=>{if(Y[$]=J[$],Q){if(typeof J[$]>"u")Y[$]=Q[$]}return Y},{})}var oT=e(J0(),1),rT=oT.createContext(void 0);rT.displayName="FormControlContext";var cU=rT;var tT=e(J0(),1);function H3(){return tT.useContext(cU)}function eT(J){return J!=null&&!(Array.isArray(J)&&J.length===0)}function TW(J,Z=!1){return J&&(eT(J.value)&&J.value!==""||Z&&eT(J.defaultValue)&&J.defaultValue!=="")}function JP(J){return J.startAdornment}function ZP(J){return k0("MuiInputBase",J)}var h21=x0("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),YZ=h21;var PW=e(F0(),1),QP,gW=(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.formControl&&Z.formControl,Q.startAdornment&&Z.adornedStart,Q.endAdornment&&Z.adornedEnd,Q.error&&Z.error,Q.size==="small"&&Z.sizeSmall,Q.multiline&&Z.multiline,Q.color&&Z[`color${G0(Q.color)}`],Q.fullWidth&&Z.fullWidth,Q.hiddenLabel&&Z.hiddenLabel]},yW=(J,Z)=>{let{ownerState:Q}=J;return[Z.input,Q.size==="small"&&Z.inputSizeSmall,Q.multiline&&Z.inputMultiline,Q.type==="search"&&Z.inputTypeSearch,Q.startAdornment&&Z.inputAdornedStart,Q.endAdornment&&Z.inputAdornedEnd,Q.hiddenLabel&&Z.inputHiddenLabel]},u21=(J)=>{let{classes:Z,color:Q,disabled:Y,error:$,endAdornment:H,focused:K,formControl:B,fullWidth:q,hiddenLabel:L,multiline:O,readOnly:z,size:F,startAdornment:V,type:A}=J,M={root:["root",`color${G0(Q)}`,Y&&"disabled",$&&"error",q&&"fullWidth",K&&"focused",B&&"formControl",F&&F!=="medium"&&`size${G0(F)}`,O&&"multiline",V&&"adornedStart",H&&"adornedEnd",L&&"hiddenLabel",z&&"readOnly"],input:["input",Y&&"disabled",A==="search"&&"inputTypeSearch",O&&"inputMultiline",F==="small"&&"inputSizeSmall",L&&"inputHiddenLabel",V&&"inputAdornedStart",H&&"inputAdornedEnd",z&&"readOnly"]};return R0(M,ZP,Z)},hW=o1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gW})(e0(({theme:J})=>({...J.typography.body1,color:(J.vars||J).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${YZ.disabled}`]:{color:(J.vars||J).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:Z})=>Z.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:Z,size:Q})=>Z.multiline&&Q==="small",style:{paddingTop:1}},{props:({ownerState:Z})=>Z.fullWidth,style:{width:"100%"}}]}))),uW=o1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:yW})(e0(({theme:J})=>{let Z=J.palette.mode==="light",Q={color:"currentColor",...J.vars?{opacity:J.vars.opacity.inputPlaceholder}:{opacity:Z?0.42:0.5},transition:J.transitions.create("opacity",{duration:J.transitions.duration.shorter})},Y={opacity:"0 !important"},$=J.vars?{opacity:J.vars.opacity.inputPlaceholder}:{opacity:Z?0.42:0.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":Q,"&::-moz-placeholder":Q,"&::-ms-input-placeholder":Q,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${YZ.formControl} &`]:{"&::-webkit-input-placeholder":Y,"&::-moz-placeholder":Y,"&::-ms-input-placeholder":Y,"&:focus::-webkit-input-placeholder":$,"&:focus::-moz-placeholder":$,"&:focus::-ms-input-placeholder":$},[`&.${YZ.disabled}`]:{opacity:1,WebkitTextFillColor:(J.vars||J).palette.text.disabled},variants:[{props:({ownerState:H})=>!H.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:H})=>H.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),XP=yz({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),YP=H9.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiInputBase"}),{"aria-describedby":$,autoComplete:H,autoFocus:K,className:B,color:q,components:L={},componentsProps:O={},defaultValue:z,disabled:F,disableInjectingGlobalStyles:V,endAdornment:A,error:M,fullWidth:j=!1,id:D,inputComponent:w="input",inputProps:C={},inputRef:I,margin:b,maxRows:E,minRows:k,multiline:T=!1,name:S,onBlur:d,onChange:o,onClick:v,onFocus:y,onKeyDown:i,onKeyUp:p,placeholder:l,readOnly:t,renderSuffix:Q1,rows:m,size:K1,slotProps:g={},slots:n={},startAdornment:Z1,type:J1="text",value:z1,...V1}=Y,w1=C.value!=null?C.value:z1,{current:m1}=H9.useRef(w1!=null),r1=H9.useRef(),h1=H9.useCallback((_0)=>{if(_0&&_0.nodeName!=="INPUT"&&!_0.focus)console.error(["MUI: You have provided a `inputComponent` to the input component","that does not correctly handle the `ref` prop.","Make sure the `ref` prop is called with a HTMLInputElement."].join(`
`))},[]),G1=m4(r1,I,C.ref,h1),[a,M1]=H9.useState(!1),D1=H3();H9.useEffect(()=>{if(D1)return D1.registerEffect();return},[D1]);let g1=$3({props:Y,muiFormControl:D1,states:["color","disabled","error","hiddenLabel","size","required","filled"]});g1.focused=D1?D1.focused:a,H9.useEffect(()=>{if(!D1&&F&&a){if(M1(!1),d)d()}},[D1,F,a,d]);let u1=D1&&D1.onFilled,C1=D1&&D1.onEmpty,x1=H9.useCallback((_0)=>{if(TW(_0)){if(u1)u1()}else if(C1)C1()},[u1,C1]);xU(()=>{if(m1)x1({value:w1})},[w1,x1,m1]);let v1=(_0)=>{if(y)y(_0);if(C.onFocus)C.onFocus(_0);if(D1&&D1.onFocus)D1.onFocus(_0);else M1(!0)},p1=(_0)=>{if(d)d(_0);if(C.onBlur)C.onBlur(_0);if(D1&&D1.onBlur)D1.onBlur(_0);else M1(!1)},y1=(_0,...W2)=>{if(!m1){let Z2=_0.target||r1.current;if(Z2==null)throw Error("MUI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.");x1({value:Z2.value})}if(C.onChange)C.onChange(_0,...W2);if(o)o(_0,...W2)};H9.useEffect(()=>{x1(r1.current)},[]);let P1=(_0)=>{if(r1.current&&_0.currentTarget===_0.target)r1.current.focus();if(v)v(_0)},T1=w,j0=C;if(T&&T1==="input"){if(m){if(k||E)console.warn("MUI: You can not use the `minRows` or `maxRows` props when the input `rows` prop is set.");j0={type:void 0,minRows:m,maxRows:m,...j0}}else j0={type:void 0,maxRows:E,minRows:k,...j0};T1=DD}let N0=(_0)=>{x1(_0.animationName==="mui-auto-fill-cancel"?r1.current:{value:"x"})};H9.useEffect(()=>{if(D1)D1.setAdornedStart(Boolean(Z1))},[D1,Z1]);let E0={...Y,color:g1.color||"primary",disabled:g1.disabled,endAdornment:A,error:g1.error,focused:g1.focused,formControl:D1,fullWidth:j,hiddenLabel:g1.hiddenLabel,multiline:T,size:g1.size,startAdornment:Z1,type:J1},H0=u21(E0),A0=n.root||L.Root||hW,i0=g.root||O.root||{},D0=n.input||L.Input||uW;return j0={...j0,...g.input??O.input},PW.jsxs(H9.Fragment,{children:[!V&&typeof XP==="function"&&(QP||(QP=PW.jsx(XP,{}))),PW.jsxs(A0,{...i0,ref:Q,onClick:P1,...V1,...!rJ(A0)&&{ownerState:{...E0,...i0.ownerState}},className:L0(H0.root,i0.className,B,t&&"MuiInputBase-readOnly"),children:[Z1,PW.jsx(cU.Provider,{value:null,children:PW.jsx(D0,{"aria-invalid":g1.error,"aria-describedby":$,autoComplete:H,autoFocus:K,defaultValue:z,disabled:g1.disabled,id:D,onAnimationStart:N0,name:S,placeholder:l,readOnly:t,required:g1.required,rows:m,value:w1,onKeyDown:i,onKeyUp:p,type:J1,...j0,...!rJ(D0)&&{as:T1,ownerState:{...E0,...j0.ownerState}},ref:G1,className:L0(H0.input,j0.className,t&&"MuiInputBase-readOnly"),onBlur:p1,onChange:y1,onFocus:v1})}),A,Q1?Q1({...g1,startAdornment:Z1}):null]})]})});YP.propTypes={"aria-describedby":U2.default.string,autoComplete:U2.default.string,autoFocus:U2.default.bool,classes:U2.default.object,className:U2.default.string,color:U2.default.oneOfType([U2.default.oneOf(["primary","secondary","error","info","success","warning"]),U2.default.string]),components:U2.default.shape({Input:U2.default.elementType,Root:U2.default.elementType}),componentsProps:U2.default.shape({input:U2.default.object,root:U2.default.object}),defaultValue:U2.default.any,disabled:U2.default.bool,disableInjectingGlobalStyles:U2.default.bool,endAdornment:U2.default.node,error:U2.default.bool,fullWidth:U2.default.bool,id:U2.default.string,inputComponent:VX,inputProps:U2.default.object,inputRef:j7,margin:U2.default.oneOf(["dense","none"]),maxRows:U2.default.oneOfType([U2.default.number,U2.default.string]),minRows:U2.default.oneOfType([U2.default.number,U2.default.string]),multiline:U2.default.bool,name:U2.default.string,onBlur:U2.default.func,onChange:U2.default.func,onClick:U2.default.func,onFocus:U2.default.func,onInvalid:U2.default.func,onKeyDown:U2.default.func,onKeyUp:U2.default.func,placeholder:U2.default.string,readOnly:U2.default.bool,renderSuffix:U2.default.func,required:U2.default.bool,rows:U2.default.oneOfType([U2.default.number,U2.default.string]),size:U2.default.oneOfType([U2.default.oneOf(["medium","small"]),U2.default.string]),slotProps:U2.default.shape({input:U2.default.object,root:U2.default.object}),slots:U2.default.shape({input:U2.default.elementType,root:U2.default.elementType}),startAdornment:U2.default.node,sx:U2.default.oneOfType([U2.default.arrayOf(U2.default.oneOfType([U2.default.func,U2.default.object,U2.default.bool])),U2.default.func,U2.default.object]),type:U2.default.string,value:U2.default.any};var dW=YP;function GP(J){return k0("MuiInput",J)}var d21={...YZ,...x0("MuiInput",["root","underline","input"])},pU=d21;function $P(J){return k0("MuiOutlinedInput",J)}var m21={...YZ,...x0("MuiOutlinedInput",["root","notchedOutline","input"])},GZ=m21;function HP(J){return k0("MuiFilledInput",J)}var c21={...YZ,...x0("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},EG=c21;var cy1=e(J0(),1);var WP=e(F0(),1),KP=u0(WP.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var zP=e(J0(),1),f5=e(l0(),1);var lU=e(J0(),1),u7=e(l0(),1);var wD=e(l0(),1);function p21(J){let{prototype:Z={}}=J;return Boolean(Z.isReactComponent)}function BP(J,Z,Q,Y,$){let H=J[Z],K=$||Z;if(H==null||typeof window>"u")return null;let B,q=H.type;if(typeof q==="function"&&!p21(q))B="Did you accidentally use a plain function component for an element instead?";if(B!==void 0)return Error(`Invalid ${Y} \`${K}\` supplied to \`${Q}\`. Expected an element that can hold a ref. ${B} For more information see https://mui.com/r/caveat-with-refs-guide`);return null}var qP=I7(wD.default.element,BP);qP.isRequired=I7(wD.default.element.isRequired,BP);var W3=qP;var UP=e(F0(),1),l21={entering:{opacity:1},entered:{opacity:1}},LP=lU.forwardRef(function(Z,Q){let Y=I9(),$={enter:Y.transitions.duration.enteringScreen,exit:Y.transitions.duration.leavingScreen},{addEndListener:H,appear:K=!0,children:B,easing:q,in:L,onEnter:O,onEntered:z,onEntering:F,onExit:V,onExited:A,onExiting:M,style:j,timeout:D=$,TransitionComponent:w=cz,...C}=Z,I=!0,b=lU.useRef(null),E=m4(b,j9(B),Q),k=(p)=>(l)=>{if(p){let t=b.current;if(l===void 0)p(t);else p(t,l)}},T=k(F),S=k((p,l)=>{AM(p);let t=TU({style:j,timeout:D,easing:q},{mode:"enter"});if(p.style.webkitTransition=Y.transitions.create("opacity",t),p.style.transition=Y.transitions.create("opacity",t),O)O(p,l)}),d=k(z),o=k(M),v=k((p)=>{let l=TU({style:j,timeout:D,easing:q},{mode:"exit"});if(p.style.webkitTransition=Y.transitions.create("opacity",l),p.style.transition=Y.transitions.create("opacity",l),V)V(p)}),y=k(A);return UP.jsx(w,{appear:K,in:L,nodeRef:b,onEnter:S,onEntered:d,onEntering:T,onExit:v,onExited:y,onExiting:o,addEndListener:(p)=>{if(H)H(b.current,p)},timeout:D,...C,children:(p,{ownerState:l,...t})=>{return lU.cloneElement(B,{style:{opacity:0,visibility:p==="exited"&&!L?"hidden":void 0,...l21[p],...j,...B.props.style},ref:E,...t})}})});LP.propTypes={addEndListener:u7.default.func,appear:u7.default.bool,children:W3.isRequired,easing:u7.default.oneOfType([u7.default.shape({enter:u7.default.string,exit:u7.default.string}),u7.default.string]),in:u7.default.bool,onEnter:u7.default.func,onEntered:u7.default.func,onEntering:u7.default.func,onExit:u7.default.func,onExited:u7.default.func,onExiting:u7.default.func,style:u7.default.object,timeout:u7.default.oneOfType([u7.default.number,u7.default.shape({appear:u7.default.number,enter:u7.default.number,exit:u7.default.number})])};var iU=LP;function OP(J){return k0("MuiBackdrop",J)}var Hh1=x0("MuiBackdrop",["root","invisible"]);var ED=e(F0(),1),i21=(J)=>{let{classes:Z,invisible:Q}=J;return R0({root:["root",Q&&"invisible"]},OP,Z)},n21=o1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.invisible&&Z.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),NP=zP.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiBackdrop"}),{children:$,className:H,component:K="div",invisible:B=!1,open:q,components:L={},componentsProps:O={},slotProps:z={},slots:F={},TransitionComponent:V,transitionDuration:A,...M}=Y,j={...Y,component:K,invisible:B},D=i21(j),w={transition:V,root:L.Root,...F},C={...O,...z},I={component:K,slots:w,slotProps:C},[b,E]=V2("root",{elementType:n21,externalForwardedProps:I,className:L0(D.root,H),ownerState:j}),[k,T]=V2("transition",{elementType:iU,externalForwardedProps:I,ownerState:j});return ED.jsx(k,{in:q,timeout:A,...M,...T,children:ED.jsx(b,{"aria-hidden":!0,...E,classes:D,ref:Q,children:$})})});NP.propTypes={children:f5.default.node,classes:f5.default.object,className:f5.default.string,component:f5.default.elementType,components:f5.default.shape({Root:f5.default.elementType}),componentsProps:f5.default.shape({root:f5.default.object}),invisible:f5.default.bool,open:f5.default.bool.isRequired,slotProps:f5.default.shape({root:f5.default.oneOfType([f5.default.func,f5.default.object]),transition:f5.default.oneOfType([f5.default.func,f5.default.object])}),slots:f5.default.shape({root:f5.default.elementType,transition:f5.default.elementType}),sx:f5.default.oneOfType([f5.default.arrayOf(f5.default.oneOfType([f5.default.func,f5.default.object,f5.default.bool])),f5.default.func,f5.default.object]),TransitionComponent:f5.default.elementType,transitionDuration:f5.default.oneOfType([f5.default.number,f5.default.shape({appear:f5.default.number,enter:f5.default.number,exit:f5.default.number})])};var HN=NP;var $Z=e(l0(),1);var a21=x0("MuiBox",["root"]),FP=a21;var s21=jU(),AP=Rz({themeId:qG,defaultTheme:s21,defaultClassName:FP.root,generateClassName:LU.generate});AP.propTypes={children:$Z.default.node,component:$Z.default.elementType,sx:$Z.default.oneOfType([$Z.default.arrayOf($Z.default.oneOfType([$Z.default.func,$Z.default.object,$Z.default.bool])),$Z.default.func,$Z.default.object])};var I0=AP;var WN=e(J0(),1),D5=e(l0(),1);function MP(J){return k0("MuiButton",J)}var o21=x0("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),kG=o21;var _P=e(J0(),1),VP=_P.createContext({});VP.displayName="ButtonGroupContext";var dM=VP;var IP=e(J0(),1),jP=IP.createContext(void 0);jP.displayName="ButtonGroupButtonContext";var mM=jP;var MQ=e(F0(),1),r21=(J)=>{let{color:Z,disableElevation:Q,fullWidth:Y,size:$,variant:H,loading:K,loadingPosition:B,classes:q}=J,L={root:["root",K&&"loading",H,`${H}${G0(Z)}`,`size${G0($)}`,`${H}Size${G0($)}`,`color${G0(Z)}`,Q&&"disableElevation",Y&&"fullWidth",K&&`loadingPosition${G0(B)}`],startIcon:["icon","startIcon",`iconSize${G0($)}`],endIcon:["icon","endIcon",`iconSize${G0($)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},O=R0(L,MP,q);return{...q,...O}},wP=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],t21=o1(KJ,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiButton",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[Q.variant],Z[`${Q.variant}${G0(Q.color)}`],Z[`size${G0(Q.size)}`],Z[`${Q.variant}Size${G0(Q.size)}`],Q.color==="inherit"&&Z.colorInherit,Q.disableElevation&&Z.disableElevation,Q.fullWidth&&Z.fullWidth,Q.loading&&Z.loading]}})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?J.palette.grey[300]:J.palette.grey[800],Q=J.palette.mode==="light"?J.palette.grey.A100:J.palette.grey[700];return{...J.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(J.vars||J).shape.borderRadius,transition:J.transitions.create(["background-color","box-shadow","border-color","color"],{duration:J.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${kG.disabled}`]:{color:(J.vars||J).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(J.vars||J).shadows[2],"&:hover":{boxShadow:(J.vars||J).shadows[4],"@media (hover: none)":{boxShadow:(J.vars||J).shadows[2]}},"&:active":{boxShadow:(J.vars||J).shadows[8]},[`&.${kG.focusVisible}`]:{boxShadow:(J.vars||J).shadows[6]},[`&.${kG.disabled}`]:{color:(J.vars||J).palette.action.disabled,boxShadow:(J.vars||J).shadows[0],backgroundColor:(J.vars||J).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${kG.disabled}`]:{border:`1px solid ${(J.vars||J).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(J.palette).filter(I5()).map(([Y])=>({props:{color:Y},style:{"--variant-textColor":(J.vars||J).palette[Y].main,"--variant-outlinedColor":(J.vars||J).palette[Y].main,"--variant-outlinedBorder":J.alpha((J.vars||J).palette[Y].main,0.5),"--variant-containedColor":(J.vars||J).palette[Y].contrastText,"--variant-containedBg":(J.vars||J).palette[Y].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(J.vars||J).palette[Y].dark,"--variant-textBg":J.alpha((J.vars||J).palette[Y].main,(J.vars||J).palette.action.hoverOpacity),"--variant-outlinedBorder":(J.vars||J).palette[Y].main,"--variant-outlinedBg":J.alpha((J.vars||J).palette[Y].main,(J.vars||J).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":J.vars?J.vars.palette.Button.inheritContainedBg:Z,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":J.vars?J.vars.palette.Button.inheritContainedHoverBg:Q,"--variant-textBg":J.alpha((J.vars||J).palette.text.primary,(J.vars||J).palette.action.hoverOpacity),"--variant-outlinedBg":J.alpha((J.vars||J).palette.text.primary,(J.vars||J).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:J.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:J.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:J.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:J.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:J.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:J.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${kG.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${kG.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:J.transitions.create(["background-color","box-shadow","border-color"],{duration:J.transitions.duration.short}),[`&.${kG.loading}`]:{color:"transparent"}}}]}})),e21=o1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.startIcon,Q.loading&&Z.startIconLoadingStart,Z[`iconSize${G0(Q.size)}`]]}})(({theme:J})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:J.transitions.create(["opacity"],{duration:J.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...wP]})),J51=o1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.endIcon,Q.loading&&Z.endIconLoadingEnd,Z[`iconSize${G0(Q.size)}`]]}})(({theme:J})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:J.transitions.create(["opacity"],{duration:J.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...wP]})),Z51=o1("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:J})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(J.vars||J).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),DP=o1("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),EP=WN.forwardRef(function(Z,Q){let Y=WN.useContext(dM),$=WN.useContext(mM),H=BQ(Y,Z),K=b0({props:H,name:"MuiButton"}),{children:B,color:q="primary",component:L="button",className:O,disabled:z=!1,disableElevation:F=!1,disableFocusRipple:V=!1,endIcon:A,focusVisibleClassName:M,fullWidth:j=!1,id:D,loading:w=null,loadingIndicator:C,loadingPosition:I="center",size:b="medium",startIcon:E,type:k,variant:T="text",...S}=K,d=OQ(D),o=C??MQ.jsx(eJ,{"aria-labelledby":d,color:"inherit",size:16}),v={...K,color:q,component:L,disabled:z,disableElevation:F,disableFocusRipple:V,fullWidth:j,loading:w,loadingIndicator:o,loadingPosition:I,size:b,type:k,variant:T},y=r21(v),i=(E||w&&I==="start")&&MQ.jsx(e21,{className:y.startIcon,ownerState:v,children:E||MQ.jsx(DP,{className:y.loadingIconPlaceholder,ownerState:v})}),p=(A||w&&I==="end")&&MQ.jsx(J51,{className:y.endIcon,ownerState:v,children:A||MQ.jsx(DP,{className:y.loadingIconPlaceholder,ownerState:v})}),l=$||"",t=typeof w==="boolean"?MQ.jsx("span",{className:y.loadingWrapper,style:{display:"contents"},children:w&&MQ.jsx(Z51,{className:y.loadingIndicator,ownerState:v,children:o})}):null;return MQ.jsxs(t21,{ownerState:v,className:L0(Y.className,y.root,O,l),component:L,disabled:z||w,focusRipple:!V,focusVisibleClassName:L0(y.focusVisible,M),ref:Q,type:k,id:w?d:D,...S,classes:y,children:[i,I!=="end"&&t,B,I==="end"&&t,p]})});EP.propTypes={children:D5.default.node,classes:D5.default.object,className:D5.default.string,color:D5.default.oneOfType([D5.default.oneOf(["inherit","primary","secondary","success","error","info","warning"]),D5.default.string]),component:D5.default.elementType,disabled:D5.default.bool,disableElevation:D5.default.bool,disableFocusRipple:D5.default.bool,disableRipple:D5.default.bool,endIcon:D5.default.node,focusVisibleClassName:D5.default.string,fullWidth:D5.default.bool,href:D5.default.string,id:D5.default.string,loading:D5.default.bool,loadingIndicator:D5.default.node,loadingPosition:D5.default.oneOf(["center","end","start"]),size:D5.default.oneOfType([D5.default.oneOf(["small","medium","large"]),D5.default.string]),startIcon:D5.default.node,sx:D5.default.oneOfType([D5.default.arrayOf(D5.default.oneOfType([D5.default.func,D5.default.object,D5.default.bool])),D5.default.func,D5.default.object]),type:D5.default.oneOfType([D5.default.oneOf(["button","reset","submit"]),D5.default.string]),variant:D5.default.oneOfType([D5.default.oneOf(["contained","outlined","text"]),D5.default.string])};var o2=EP;var iM=e(J0(),1),j4=e(l0(),1);var cM=e(J0(),1);function pM(J){return cM.Children.toArray(J).filter((Z)=>cM.isValidElement(Z))}function kP(J){return k0("MuiButtonGroup",J)}var Q51=x0("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),q5=Q51;var lM=e(F0(),1),X51=(J,Z)=>{let{ownerState:Q}=J;return[{[`& .${q5.grouped}`]:Z.grouped},{[`& .${q5.grouped}`]:Z[`grouped${G0(Q.orientation)}`]},{[`& .${q5.grouped}`]:Z[`grouped${G0(Q.variant)}`]},{[`& .${q5.grouped}`]:Z[`grouped${G0(Q.variant)}${G0(Q.orientation)}`]},{[`& .${q5.grouped}`]:Z[`grouped${G0(Q.variant)}${G0(Q.color)}`]},{[`& .${q5.firstButton}`]:Z.firstButton},{[`& .${q5.lastButton}`]:Z.lastButton},{[`& .${q5.middleButton}`]:Z.middleButton},Z.root,Z[Q.variant],Q.disableElevation===!0&&Z.disableElevation,Q.fullWidth&&Z.fullWidth,Q.orientation==="vertical"&&Z.vertical]},Y51=(J)=>{let{classes:Z,color:Q,disabled:Y,disableElevation:$,fullWidth:H,orientation:K,variant:B}=J,q={root:["root",B,K,H&&"fullWidth",$&&"disableElevation",`color${G0(Q)}`],grouped:["grouped",`grouped${G0(K)}`,`grouped${G0(B)}`,`grouped${G0(B)}${G0(K)}`,`grouped${G0(B)}${G0(Q)}`,Y&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return R0(q,kP,Z)},G51=o1("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:X51})(e0(({theme:J})=>({display:"inline-flex",borderRadius:(J.vars||J).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(J.vars||J).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${q5.lastButton},& .${q5.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${q5.lastButton},& .${q5.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderRight:J.vars?`1px solid ${J.alpha(J.vars.palette.common.onBackground,0.23)}`:`1px solid ${J.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${q5.disabled}`]:{borderRight:`1px solid ${(J.vars||J).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderBottom:J.vars?`1px solid ${J.alpha(J.vars.palette.common.onBackground,0.23)}`:`1px solid ${J.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${q5.disabled}`]:{borderBottom:`1px solid ${(J.vars||J).palette.action.disabled}`}}}},...Object.entries(J.palette).filter(I5()).flatMap(([Z])=>[{props:{variant:"text",color:Z},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderColor:J.alpha((J.vars||J).palette[Z].main,0.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${q5.lastButton},& .${q5.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${q5.lastButton},& .${q5.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderRight:`1px solid ${(J.vars||J).palette.grey[400]}`,[`&.${q5.disabled}`]:{borderRight:`1px solid ${(J.vars||J).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderBottom:`1px solid ${(J.vars||J).palette.grey[400]}`,[`&.${q5.disabled}`]:{borderBottom:`1px solid ${(J.vars||J).palette.action.disabled}`}}}},...Object.entries(J.palette).filter(I5(["dark"])).map(([Z])=>({props:{variant:"contained",color:Z},style:{[`& .${q5.firstButton},& .${q5.middleButton}`]:{borderColor:(J.vars||J).palette[Z].dark}}}))],[`& .${q5.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),xP=iM.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiButtonGroup"}),{children:$,className:H,color:K="primary",component:B="div",disabled:q=!1,disableElevation:L=!1,disableFocusRipple:O=!1,disableRipple:z=!1,fullWidth:F=!1,orientation:V="horizontal",size:A="medium",variant:M="outlined",...j}=Y,D={...Y,color:K,component:B,disabled:q,disableElevation:L,disableFocusRipple:O,disableRipple:z,fullWidth:F,orientation:V,size:A,variant:M},w=Y51(D),C=iM.useMemo(()=>({className:w.grouped,color:K,disabled:q,disableElevation:L,disableFocusRipple:O,disableRipple:z,fullWidth:F,size:A,variant:M}),[K,q,L,O,z,F,A,M,w.grouped]),I=pM($),b=I.length,E=(k)=>{let T=k===0,S=k===b-1;if(T&&S)return"";if(T)return w.firstButton;if(S)return w.lastButton;return w.middleButton};return lM.jsx(G51,{as:B,role:"group",className:L0(w.root,H),ref:Q,ownerState:D,...j,children:lM.jsx(dM.Provider,{value:C,children:I.map((k,T)=>{return lM.jsx(mM.Provider,{value:E(T),children:k},T)})})})});xP.propTypes={children:j4.default.node,classes:j4.default.object,className:j4.default.string,color:j4.default.oneOfType([j4.default.oneOf(["inherit","primary","secondary","error","info","success","warning"]),j4.default.string]),component:j4.default.elementType,disabled:j4.default.bool,disableElevation:j4.default.bool,disableFocusRipple:j4.default.bool,disableRipple:j4.default.bool,fullWidth:j4.default.bool,orientation:j4.default.oneOf(["horizontal","vertical"]),size:j4.default.oneOfType([j4.default.oneOf(["small","medium","large"]),j4.default.string]),sx:j4.default.oneOfType([j4.default.arrayOf(j4.default.oneOfType([j4.default.func,j4.default.object,j4.default.bool])),j4.default.func,j4.default.object]),variant:j4.default.oneOfType([j4.default.oneOf(["contained","outlined","text"]),j4.default.string])};var nU=xP;var CP=e(J0(),1),K3=e(l0(),1);function RP(J){return k0("MuiCard",J)}var Eu1=x0("MuiCard",["root"]);var bP=e(F0(),1),$51=(J)=>{let{classes:Z}=J;return R0({root:["root"]},RP,Z)},H51=o1(K5,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),vP=CP.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiCard"}),{className:$,raised:H=!1,...K}=Y,B={...Y,raised:H},q=$51(B);return bP.jsx(H51,{className:L0(q.root,$),elevation:H?8:void 0,ref:Q,ownerState:B,...K})});vP.propTypes={children:K3.default.node,classes:K3.default.object,className:K3.default.string,raised:I7(K3.default.bool,(J)=>{if(J.raised&&J.variant==="outlined")return Error('MUI: Combining `raised={true}` with `variant="outlined"` has no effect.');return null}),sx:K3.default.oneOfType([K3.default.arrayOf(K3.default.oneOfType([K3.default.func,K3.default.object,K3.default.bool])),K3.default.func,K3.default.object])};var aU=vP;var SP=e(J0(),1),B3=e(l0(),1);function fP(J){return k0("MuiCardActions",J)}var du1=x0("MuiCardActions",["root","spacing"]);var TP=e(F0(),1),W51=(J)=>{let{classes:Z,disableSpacing:Q}=J;return R0({root:["root",!Q&&"spacing"]},fP,Z)},K51=o1("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,!Q.disableSpacing&&Z.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),PP=SP.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiCardActions"}),{disableSpacing:$=!1,className:H,...K}=Y,B={...Y,disableSpacing:$},q=W51(B);return TP.jsx(K51,{className:L0(q.root,H),ownerState:B,ref:Q,...K})});PP.propTypes={children:B3.default.node,classes:B3.default.object,className:B3.default.string,disableSpacing:B3.default.bool,sx:B3.default.oneOfType([B3.default.arrayOf(B3.default.oneOfType([B3.default.func,B3.default.object,B3.default.bool])),B3.default.func,B3.default.object])};var sU=PP;var yP=e(J0(),1),q3=e(l0(),1);function gP(J){return k0("MuiCardContent",J)}var Jd1=x0("MuiCardContent",["root"]);var hP=e(F0(),1),B51=(J)=>{let{classes:Z}=J;return R0({root:["root"]},gP,Z)},q51=o1("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),uP=yP.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiCardContent"}),{className:$,component:H="div",...K}=Y,B={...Y,component:H},q=B51(B);return hP.jsx(q51,{as:H,className:L0(q.root,$),ownerState:B,ref:Q,...K})});uP.propTypes={children:q3.default.node,classes:q3.default.object,className:q3.default.string,component:q3.default.elementType,sx:q3.default.oneOfType([q3.default.arrayOf(q3.default.oneOfType([q3.default.func,q3.default.object,q3.default.bool])),q3.default.func,q3.default.object])};var oU=uP;var HZ=e(J0(),1),KN=e(l0(),1);function dP(J){return J.substring(2).toLowerCase()}function U51(J,Z){return Z.documentElement.clientWidth<J.clientX||Z.documentElement.clientHeight<J.clientY}function mW(J){let{children:Z,disableReactTree:Q=!1,mouseEvent:Y="onClick",onClickAway:$,touchEvent:H="onTouchEnd"}=J,K=HZ.useRef(!1),B=HZ.useRef(null),q=HZ.useRef(!1),L=HZ.useRef(!1);HZ.useEffect(()=>{return setTimeout(()=>{q.current=!0},0),()=>{q.current=!1}},[]);let O=X6(j9(Z),B),z=J3((A)=>{let M=L.current;L.current=!1;let j=g7(B.current);if(!q.current||!B.current||"clientX"in A&&U51(A,j))return;if(K.current){K.current=!1;return}let D;if(A.composedPath)D=A.composedPath().includes(B.current);else D=!j.documentElement.contains(A.target)||B.current.contains(A.target);if(!D&&(Q||!M))$(A)}),F=(A)=>(M)=>{L.current=!0;let j=Z.props[A];if(j)j(M)},V={ref:O};if(H!==!1)V[H]=F(H);if(HZ.useEffect(()=>{if(H!==!1){let A=dP(H),M=g7(B.current),j=()=>{K.current=!0};return M.addEventListener(A,z),M.addEventListener("touchmove",j),()=>{M.removeEventListener(A,z),M.removeEventListener("touchmove",j)}}return},[z,H]),Y!==!1)V[Y]=F(Y);return HZ.useEffect(()=>{if(Y!==!1){let A=dP(Y),M=g7(B.current);return M.addEventListener(A,z),()=>{M.removeEventListener(A,z)}}return},[z,Y]),HZ.cloneElement(Z,V)}mW.propTypes={children:W3.isRequired,disableReactTree:KN.default.bool,mouseEvent:KN.default.oneOf(["onClick","onMouseDown","onMouseUp","onPointerDown","onPointerUp",!1]),onClickAway:KN.default.func.isRequired,touchEvent:KN.default.oneOf(["onTouchEnd","onTouchStart",!1])};mW.propTypes=FG(mW.propTypes);var W9=e(l0(),1);var mP=tA({createStyledComponent:o1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[`maxWidth${G0(String(Q.maxWidth))}`],Q.fixed&&Z.fixed,Q.disableGutters&&Z.disableGutters]}}),useThemeProps:(J)=>b0({props:J,name:"MuiContainer"})});mP.propTypes={children:W9.default.node,classes:W9.default.object,component:W9.default.elementType,disableGutters:W9.default.bool,fixed:W9.default.bool,maxWidth:W9.default.oneOfType([W9.default.oneOf(["xs","sm","md","lg","xl",!1]),W9.default.string]),sx:W9.default.oneOfType([W9.default.arrayOf(W9.default.oneOfType([W9.default.func,W9.default.object,W9.default.bool])),W9.default.func,W9.default.object])};var LJ=mP;var cP=e(J0(),1),kD=e(l0(),1);var BN=e(F0(),1),xD=typeof yz({})==="function",L51=(J,Z)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...Z&&!J.vars&&{colorScheme:J.palette.mode}}),O51=(J)=>({color:(J.vars||J).palette.text.primary,...J.typography.body1,backgroundColor:(J.vars||J).palette.background.default,"@media print":{backgroundColor:(J.vars||J).palette.common.white}}),pP=(J,Z=!1)=>{let Q={};if(Z&&J.colorSchemes&&typeof J.getColorSchemeSelector==="function")Object.entries(J.colorSchemes).forEach(([H,K])=>{let B=J.getColorSchemeSelector(H);if(B.startsWith("@"))Q[B]={":root":{colorScheme:K.palette?.mode}};else Q[B.replace(/\s*&/,"")]={colorScheme:K.palette?.mode}});let Y={html:L51(J,Z),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:J.typography.fontWeightBold},body:{margin:0,...O51(J),"&::backdrop":{backgroundColor:(J.vars||J).palette.background.default}},...Q},$=J.components?.MuiCssBaseline?.styleOverrides;if($)Y=[Y,$];return Y},nM="mui-ecs",z51=(J)=>{let Z=pP(J,!1),Q=Array.isArray(Z)?Z[0]:Z;if(!J.vars&&Q)Q.html[`:root:has(${nM})`]={colorScheme:J.palette.mode};if(J.colorSchemes)Object.entries(J.colorSchemes).forEach(([Y,$])=>{let H=J.getColorSchemeSelector(Y);if(H.startsWith("@"))Q[H]={[`:root:not(:has(.${nM}))`]:{colorScheme:$.palette?.mode}};else Q[H.replace(/\s*&/,"")]={[`&:not(:has(.${nM}))`]:{colorScheme:$.palette?.mode}}});return Z},N51=yz(xD?({theme:J,enableColorScheme:Z})=>pP(J,Z):({theme:J})=>z51(J));function lP(J){let Z=b0({props:J,name:"MuiCssBaseline"}),{children:Q,enableColorScheme:Y=!1}=Z;return BN.jsxs(cP.Fragment,{children:[xD&&BN.jsx(N51,{enableColorScheme:Y}),!xD&&!Y&&BN.jsx("span",{className:nM,style:{display:"none"}}),Q]})}lP.propTypes={children:kD.default.node,enableColorScheme:kD.default.bool};var RD=lP;var ZL=e(J0(),1),F2=e(l0(),1);function rU(J=window){let Z=J.document.documentElement.clientWidth;return J.innerWidth-Z}function F51(J){let Z=g7(J);if(Z.body===J)return HJ(J).innerWidth>Z.documentElement.clientWidth;return J.scrollHeight>J.clientHeight}function tU(J,Z){if(Z)J.setAttribute("aria-hidden","true");else J.removeAttribute("aria-hidden")}function iP(J){return parseInt(HJ(J).getComputedStyle(J).paddingRight,10)||0}function A51(J){let Q=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(J.tagName),Y=J.tagName==="INPUT"&&J.getAttribute("type")==="hidden";return Q||Y}function nP(J,Z,Q,Y,$){let H=[Z,Q,...Y];[].forEach.call(J.children,(K)=>{let B=!H.includes(K),q=!A51(K);if(B&&q)tU(K,$)})}function CD(J,Z){let Q=-1;return J.some((Y,$)=>{if(Z(Y))return Q=$,!0;return!1}),Q}function M51(J,Z){let Q=[],Y=J.container;if(!Z.disableScrollLock){if(F51(Y)){let K=rU(HJ(Y));Q.push({value:Y.style.paddingRight,property:"padding-right",el:Y}),Y.style.paddingRight=`${iP(Y)+K}px`;let B=g7(Y).querySelectorAll(".mui-fixed");[].forEach.call(B,(q)=>{Q.push({value:q.style.paddingRight,property:"padding-right",el:q}),q.style.paddingRight=`${iP(q)+K}px`})}let H;if(Y.parentNode instanceof DocumentFragment)H=g7(Y).body;else{let K=Y.parentElement,B=HJ(Y);H=K?.nodeName==="HTML"&&B.getComputedStyle(K).overflowY==="scroll"?K:Y}Q.push({value:H.style.overflow,property:"overflow",el:H},{value:H.style.overflowX,property:"overflow-x",el:H},{value:H.style.overflowY,property:"overflow-y",el:H}),H.style.overflow="hidden"}return()=>{Q.forEach(({value:H,el:K,property:B})=>{if(H)K.style.setProperty(B,H);else K.style.removeProperty(B)})}}function _51(J){let Z=[];return[].forEach.call(J.children,(Q)=>{if(Q.getAttribute("aria-hidden")==="true")Z.push(Q)}),Z}class bD{constructor(){this.modals=[],this.containers=[]}add(J,Z){let Q=this.modals.indexOf(J);if(Q!==-1)return Q;if(Q=this.modals.length,this.modals.push(J),J.modalRef)tU(J.modalRef,!1);let Y=_51(Z);nP(Z,J.mount,J.modalRef,Y,!0);let $=CD(this.containers,(H)=>H.container===Z);if($!==-1)return this.containers[$].modals.push(J),Q;return this.containers.push({modals:[J],container:Z,restore:null,hiddenSiblings:Y}),Q}mount(J,Z){let Q=CD(this.containers,($)=>$.modals.includes(J)),Y=this.containers[Q];if(!Y.restore)Y.restore=M51(Y,Z)}remove(J,Z=!0){let Q=this.modals.indexOf(J);if(Q===-1)return Q;let Y=CD(this.containers,(H)=>H.modals.includes(J)),$=this.containers[Y];if($.modals.splice($.modals.indexOf(J),1),this.modals.splice(Q,1),$.modals.length===0){if($.restore)$.restore();if(J.modalRef)tU(J.modalRef,Z);nP($.container,J.mount,J.modalRef,$.hiddenSiblings,!1),this.containers.splice(Y,1)}else{let H=$.modals[$.modals.length-1];if(H.modalRef)tU(H.modalRef,!1)}return Q}isTopModal(J){return this.modals.length>0&&this.modals[this.modals.length-1]===J}}var sM=e(J0(),1),l2=e(l0(),1);var K9=e(J0(),1),cW=e(l0(),1);var UN=e(F0(),1),V51=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function I51(J){let Z=parseInt(J.getAttribute("tabindex")||"",10);if(!Number.isNaN(Z))return Z;if(J.contentEditable==="true"||(J.nodeName==="AUDIO"||J.nodeName==="VIDEO"||J.nodeName==="DETAILS")&&J.getAttribute("tabindex")===null)return 0;return J.tabIndex}function j51(J){if(J.tagName!=="INPUT"||J.type!=="radio")return!1;if(!J.name)return!1;let Z=(Y)=>J.ownerDocument.querySelector(`input[type="radio"]${Y}`),Q=Z(`[name="${J.name}"]:checked`);if(!Q)Q=Z(`[name="${J.name}"]`);return Q!==J}function D51(J){if(J.disabled||J.tagName==="INPUT"&&J.type==="hidden"||j51(J))return!1;return!0}function w51(J){let Z=[],Q=[];return Array.from(J.querySelectorAll(V51)).forEach((Y,$)=>{let H=I51(Y);if(H===-1||!D51(Y))return;if(H===0)Z.push(Y);else Q.push({documentOrder:$,tabIndex:H,node:Y})}),Q.sort((Y,$)=>Y.tabIndex===$.tabIndex?Y.documentOrder-$.documentOrder:Y.tabIndex-$.tabIndex).map((Y)=>Y.node).concat(Z)}function E51(){return!0}function qN(J){let{children:Z,disableAutoFocus:Q=!1,disableEnforceFocus:Y=!1,disableRestoreFocus:$=!1,getTabbable:H=w51,isEnabled:K=E51,open:B}=J,q=K9.useRef(!1),L=K9.useRef(null),O=K9.useRef(null),z=K9.useRef(null),F=K9.useRef(null),V=K9.useRef(!1),A=K9.useRef(null),M=X6(j9(Z),A),j=K9.useRef(null);K9.useEffect(()=>{if(!B||!A.current)return;V.current=!Q},[Q,B]),K9.useEffect(()=>{if(!B||!A.current)return;let C=g7(A.current);if(!A.current.contains(C.activeElement)){if(!A.current.hasAttribute("tabIndex"))console.error(["MUI: The modal content node does not accept focus.",'For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'].join(`
`)),A.current.setAttribute("tabIndex","-1");if(V.current)A.current.focus()}return()=>{if(!$){if(z.current&&z.current.focus)q.current=!0,z.current.focus();z.current=null}}},[B]),K9.useEffect(()=>{if(!B||!A.current)return;let C=g7(A.current),I=(k)=>{if(j.current=k,Y||!K()||k.key!=="Tab")return;if(C.activeElement===A.current&&k.shiftKey){if(q.current=!0,O.current)O.current.focus()}},b=()=>{let k=A.current;if(k===null)return;if(!C.hasFocus()||!K()||q.current){q.current=!1;return}if(k.contains(C.activeElement))return;if(Y&&C.activeElement!==L.current&&C.activeElement!==O.current)return;if(C.activeElement!==F.current)F.current=null;else if(F.current!==null)return;if(!V.current)return;let T=[];if(C.activeElement===L.current||C.activeElement===O.current)T=H(A.current);if(T.length>0){let S=Boolean(j.current?.shiftKey&&j.current?.key==="Tab"),d=T[0],o=T[T.length-1];if(typeof d!=="string"&&typeof o!=="string")if(S)o.focus();else d.focus()}else k.focus()};C.addEventListener("focusin",b),C.addEventListener("keydown",I,!0);let E=setInterval(()=>{if(C.activeElement&&C.activeElement.tagName==="BODY")b()},50);return()=>{clearInterval(E),C.removeEventListener("focusin",b),C.removeEventListener("keydown",I,!0)}},[Q,Y,$,K,B,H]);let D=(C)=>{if(z.current===null)z.current=C.relatedTarget;V.current=!0,F.current=C.target;let I=Z.props.onFocus;if(I)I(C)},w=(C)=>{if(z.current===null)z.current=C.relatedTarget;V.current=!0};return UN.jsxs(K9.Fragment,{children:[UN.jsx("div",{tabIndex:B?0:-1,onFocus:w,ref:L,"data-testid":"sentinelStart"}),K9.cloneElement(Z,{ref:M,onFocus:D}),UN.jsx("div",{tabIndex:B?0:-1,onFocus:w,ref:O,"data-testid":"sentinelEnd"})]})}qN.propTypes={children:W3,disableAutoFocus:cW.default.bool,disableEnforceFocus:cW.default.bool,disableRestoreFocus:cW.default.bool,getTabbable:cW.default.func,isEnabled:cW.default.func,open:cW.default.bool.isRequired};qN.propTypes=FG(qN.propTypes);var vD=qN;var WZ=e(J0(),1);function k51(J){return typeof J==="function"?J():J}function x51(J){return J?J.props.hasOwnProperty("in"):!1}var aP=()=>{},aM=new bD;function R51(J){let{container:Z,disableEscapeKeyDown:Q=!1,disableScrollLock:Y=!1,closeAfterTransition:$=!1,onTransitionEnter:H,onTransitionExited:K,children:B,onClose:q,open:L,rootRef:O}=J,z=WZ.useRef({}),F=WZ.useRef(null),V=WZ.useRef(null),A=X6(V,O),[M,j]=WZ.useState(!L),D=x51(B),w=!0;if(J["aria-hidden"]==="false"||J["aria-hidden"]===!1)w=!1;let C=()=>g7(F.current),I=()=>{return z.current.modalRef=V.current,z.current.mount=F.current,z.current},b=()=>{if(aM.mount(I(),{disableScrollLock:Y}),V.current)V.current.scrollTop=0},E=J3(()=>{let p=k51(Z)||C().body;if(aM.add(I(),p),V.current)b()}),k=()=>aM.isTopModal(I()),T=J3((p)=>{if(F.current=p,!p)return;if(L&&k())b();else if(V.current)tU(V.current,w)}),S=WZ.useCallback(()=>{aM.remove(I(),w)},[w]);WZ.useEffect(()=>{return()=>{S()}},[S]),WZ.useEffect(()=>{if(L)E();else if(!D||!$)S()},[L,S,D,$,E]);let d=(p)=>(l)=>{if(p.onKeyDown?.(l),l.key!=="Escape"||l.which===229||!k())return;if(!Q){if(l.stopPropagation(),q)q(l,"escapeKeyDown")}},o=(p)=>(l)=>{if(p.onClick?.(l),l.target!==l.currentTarget)return;if(q)q(l,"backdropClick")};return{getRootProps:(p={})=>{let l=IG(J);delete l.onTransitionEnter,delete l.onTransitionExited;let t={...l,...p};return{role:"presentation",...t,onKeyDown:d(t),ref:A}},getBackdropProps:(p={})=>{let l=p;return{"aria-hidden":!0,...l,onClick:o(l),open:L}},getTransitionProps:()=>{let p=()=>{if(j(!1),H)H()},l=()=>{if(j(!0),K)K();if($)S()};return{onEnter:gz(p,B?.props.onEnter??aP),onExited:gz(l,B?.props.onExited??aP)}},rootRef:A,portalRef:T,isTopModal:k,exited:M,hasTransition:D}}var sP=R51;function oP(J){return k0("MuiModal",J)}var Xm1=x0("MuiModal",["root","hidden","backdrop"]);var eU=e(F0(),1),C51=(J)=>{let{open:Z,exited:Q,classes:Y}=J;return R0({root:["root",!Z&&Q&&"hidden"],backdrop:["backdrop"]},oP,Y)},b51=o1("div",{name:"MuiModal",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,!Q.open&&Q.exited&&Z.hidden]}})(e0(({theme:J})=>({position:"fixed",zIndex:(J.vars||J).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:Z})=>!Z.open&&Z.exited,style:{visibility:"hidden"}}]}))),v51=o1(HN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),rP=sM.forwardRef(function(Z,Q){let Y=b0({name:"MuiModal",props:Z}),{BackdropComponent:$=v51,BackdropProps:H,classes:K,className:B,closeAfterTransition:q=!1,children:L,container:O,component:z,components:F={},componentsProps:V={},disableAutoFocus:A=!1,disableEnforceFocus:M=!1,disableEscapeKeyDown:j=!1,disablePortal:D=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:I=!1,keepMounted:b=!1,onClose:E,onTransitionEnter:k,onTransitionExited:T,open:S,slotProps:d={},slots:o={},theme:v,...y}=Y,i={...Y,closeAfterTransition:q,disableAutoFocus:A,disableEnforceFocus:M,disableEscapeKeyDown:j,disablePortal:D,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:I,keepMounted:b},{getRootProps:p,getBackdropProps:l,getTransitionProps:t,portalRef:Q1,isTopModal:m,exited:K1,hasTransition:g}=sP({...i,rootRef:Q}),n={...i,exited:K1},Z1=C51(n),J1={};if(L.props.tabIndex===void 0)J1.tabIndex="-1";if(g){let{onEnter:h1,onExited:G1}=t();J1.onEnter=h1,J1.onExited=G1}let z1={slots:{root:F.Root,backdrop:F.Backdrop,...o},slotProps:{...V,...d}},[V1,w1]=V2("root",{ref:Q,elementType:b51,externalForwardedProps:{...z1,...y,component:z},getSlotProps:p,ownerState:n,className:L0(B,Z1?.root,!n.open&&n.exited&&Z1?.hidden)}),[m1,r1]=V2("backdrop",{ref:H?.ref,elementType:$,externalForwardedProps:z1,shouldForwardComponentProp:!0,additionalProps:H,getSlotProps:(h1)=>{return l({...h1,onClick:(G1)=>{if(h1?.onClick)h1.onClick(G1)}})},className:L0(H?.className,Z1?.backdrop),ownerState:n});if(!b&&!S&&(!g||K1))return null;return eU.jsx(YN,{ref:Q1,container:O,disablePortal:D,children:eU.jsxs(V1,{...w1,children:[!I&&$?eU.jsx(m1,{...r1}):null,eU.jsx(vD,{disableEnforceFocus:M,disableAutoFocus:A,disableRestoreFocus:w,isEnabled:m,open:S,children:sM.cloneElement(L,J1)})]})})});rP.propTypes={BackdropComponent:l2.default.elementType,BackdropProps:l2.default.object,children:W3.isRequired,classes:l2.default.object,className:l2.default.string,closeAfterTransition:l2.default.bool,component:l2.default.elementType,components:l2.default.shape({Backdrop:l2.default.elementType,Root:l2.default.elementType}),componentsProps:l2.default.shape({backdrop:l2.default.oneOfType([l2.default.func,l2.default.object]),root:l2.default.oneOfType([l2.default.func,l2.default.object])}),container:l2.default.oneOfType([G9,l2.default.func]),disableAutoFocus:l2.default.bool,disableEnforceFocus:l2.default.bool,disableEscapeKeyDown:l2.default.bool,disablePortal:l2.default.bool,disableRestoreFocus:l2.default.bool,disableScrollLock:l2.default.bool,hideBackdrop:l2.default.bool,keepMounted:l2.default.bool,onClose:l2.default.func,onTransitionEnter:l2.default.func,onTransitionExited:l2.default.func,open:l2.default.bool.isRequired,slotProps:l2.default.shape({backdrop:l2.default.oneOfType([l2.default.func,l2.default.object]),root:l2.default.oneOfType([l2.default.func,l2.default.object])}),slots:l2.default.shape({backdrop:l2.default.elementType,root:l2.default.elementType}),sx:l2.default.oneOfType([l2.default.arrayOf(l2.default.oneOfType([l2.default.func,l2.default.object,l2.default.bool])),l2.default.func,l2.default.object])};var LN=rP;function tP(J){return k0("MuiDialog",J)}var f51=x0("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),oM=f51;var eP=e(J0(),1),Jg=eP.createContext({});Jg.displayName="DialogContext";var rM=Jg;var JL=e(F0(),1),S51=o1(HN,{name:"MuiDialog",slot:"Backdrop",overrides:(J,Z)=>Z.backdrop})({zIndex:-1}),T51=(J)=>{let{classes:Z,scroll:Q,maxWidth:Y,fullWidth:$,fullScreen:H}=J,K={root:["root"],container:["container",`scroll${G0(Q)}`],paper:["paper",`paperScroll${G0(Q)}`,`paperWidth${G0(String(Y))}`,$&&"paperFullWidth",H&&"paperFullScreen"]};return R0(K,tP,Z)},P51=o1(LN,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),g51=o1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.container,Z[`scroll${G0(Q.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),y51=o1(K5,{name:"MuiDialog",slot:"Paper",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.paper,Z[`scrollPaper${G0(Q.scroll)}`],Z[`paperWidth${G0(String(Q.maxWidth))}`],Q.fullWidth&&Z.paperFullWidth,Q.fullScreen&&Z.paperFullScreen]}})(e0(({theme:J})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:Z})=>!Z.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:J.breakpoints.unit==="px"?Math.max(J.breakpoints.values.xs,444):`max(${J.breakpoints.values.xs}${J.breakpoints.unit}, 444px)`,[`&.${oM.paperScrollBody}`]:{[J.breakpoints.down(Math.max(J.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(J.breakpoints.values).filter((Z)=>Z!=="xs").map((Z)=>({props:{maxWidth:Z},style:{maxWidth:`${J.breakpoints.values[Z]}${J.breakpoints.unit}`,[`&.${oM.paperScrollBody}`]:{[J.breakpoints.down(J.breakpoints.values[Z]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:Z})=>Z.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:Z})=>Z.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${oM.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Zg=ZL.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiDialog"}),$=I9(),H={enter:$.transitions.duration.enteringScreen,exit:$.transitions.duration.leavingScreen},{"aria-describedby":K,"aria-labelledby":B,"aria-modal":q=!0,BackdropComponent:L,BackdropProps:O,children:z,className:F,disableEscapeKeyDown:V=!1,fullScreen:A=!1,fullWidth:M=!1,maxWidth:j="sm",onClick:D,onClose:w,open:C,PaperComponent:I=K5,PaperProps:b={},scroll:E="paper",slots:k={},slotProps:T={},TransitionComponent:S=iU,transitionDuration:d=H,TransitionProps:o,...v}=Y,y={...Y,disableEscapeKeyDown:V,fullScreen:A,fullWidth:M,maxWidth:j,scroll:E},i=T51(y),p=ZL.useRef(),l=(M1)=>{p.current=M1.target===M1.currentTarget},t=(M1)=>{if(D)D(M1);if(!p.current)return;if(p.current=null,w)w(M1,"backdropClick")},Q1=UQ(B),m=ZL.useMemo(()=>{return{titleId:Q1}},[Q1]),K1={transition:S,...k},g={transition:o,paper:b,backdrop:O,...T},n={slots:K1,slotProps:g},[Z1,J1]=V2("root",{elementType:P51,shouldForwardComponentProp:!0,externalForwardedProps:n,ownerState:y,className:L0(i.root,F),ref:Q}),[z1,V1]=V2("backdrop",{elementType:S51,shouldForwardComponentProp:!0,externalForwardedProps:n,ownerState:y}),[w1,m1]=V2("paper",{elementType:y51,shouldForwardComponentProp:!0,externalForwardedProps:n,ownerState:y,className:L0(i.paper,b.className)}),[r1,h1]=V2("container",{elementType:g51,externalForwardedProps:n,ownerState:y,className:i.container}),[G1,a]=V2("transition",{elementType:iU,externalForwardedProps:n,ownerState:y,additionalProps:{appear:!0,in:C,timeout:d,role:"presentation"}});return JL.jsx(Z1,{closeAfterTransition:!0,slots:{backdrop:z1},slotProps:{backdrop:{transitionDuration:d,as:L,...V1}},disableEscapeKeyDown:V,onClose:w,open:C,onClick:t,...J1,...v,children:JL.jsx(G1,{...a,children:JL.jsx(r1,{onMouseDown:l,...h1,children:JL.jsx(w1,{as:I,elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":Q1,"aria-modal":q,...m1,children:JL.jsx(rM.Provider,{value:m,children:z})})})})})});Zg.propTypes={"aria-describedby":F2.default.string,"aria-labelledby":F2.default.string,"aria-modal":F2.default.oneOfType([F2.default.oneOf(["false","true"]),F2.default.bool]),BackdropComponent:F2.default.elementType,BackdropProps:F2.default.object,children:F2.default.node,classes:F2.default.object,className:F2.default.string,disableEscapeKeyDown:F2.default.bool,fullScreen:F2.default.bool,fullWidth:F2.default.bool,maxWidth:F2.default.oneOfType([F2.default.oneOf(["xs","sm","md","lg","xl",!1]),F2.default.string]),onClick:F2.default.func,onClose:F2.default.func,open:F2.default.bool.isRequired,PaperComponent:F2.default.elementType,PaperProps:F2.default.object,scroll:F2.default.oneOf(["body","paper"]),slotProps:F2.default.shape({backdrop:F2.default.oneOfType([F2.default.func,F2.default.object]),container:F2.default.oneOfType([F2.default.func,F2.default.object]),paper:F2.default.oneOfType([F2.default.func,F2.default.object]),root:F2.default.oneOfType([F2.default.func,F2.default.object]),transition:F2.default.oneOfType([F2.default.func,F2.default.object])}),slots:F2.default.shape({backdrop:F2.default.elementType,container:F2.default.elementType,paper:F2.default.elementType,root:F2.default.elementType,transition:F2.default.elementType}),sx:F2.default.oneOfType([F2.default.arrayOf(F2.default.oneOfType([F2.default.func,F2.default.object,F2.default.bool])),F2.default.func,F2.default.object]),TransitionComponent:F2.default.elementType,transitionDuration:F2.default.oneOfType([F2.default.number,F2.default.shape({appear:F2.default.number,enter:F2.default.number,exit:F2.default.number})]),TransitionProps:F2.default.object};var k8=Zg;var Xg=e(J0(),1),U3=e(l0(),1);function Qg(J){return k0("MuiDialogActions",J)}var im1=x0("MuiDialogActions",["root","spacing"]);var Yg=e(F0(),1),h51=(J)=>{let{classes:Z,disableSpacing:Q}=J;return R0({root:["root",!Q&&"spacing"]},Qg,Z)},u51=o1("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,!Q.disableSpacing&&Z.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:J})=>!J.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Gg=Xg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiDialogActions"}),{className:$,disableSpacing:H=!1,...K}=Y,B={...Y,disableSpacing:H},q=h51(B);return Yg.jsx(u51,{className:L0(q.root,$),ownerState:B,ref:Q,...K})});Gg.propTypes={children:U3.default.node,classes:U3.default.object,className:U3.default.string,disableSpacing:U3.default.bool,sx:U3.default.oneOfType([U3.default.arrayOf(U3.default.oneOfType([U3.default.func,U3.default.object,U3.default.bool])),U3.default.func,U3.default.object])};var OJ=Gg;var Kg=e(J0(),1),L3=e(l0(),1);function $g(J){return k0("MuiDialogContent",J)}var Gc1=x0("MuiDialogContent",["root","dividers"]);function Hg(J){return k0("MuiDialogTitle",J)}var d51=x0("MuiDialogTitle",["root"]),Wg=d51;var Bg=e(F0(),1),m51=(J)=>{let{classes:Z,dividers:Q}=J;return R0({root:["root",Q&&"dividers"]},$g,Z)},c51=o1("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.dividers&&Z.dividers]}})(e0(({theme:J})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:Z})=>Z.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(J.vars||J).palette.divider}`,borderBottom:`1px solid ${(J.vars||J).palette.divider}`}},{props:({ownerState:Z})=>!Z.dividers,style:{[`.${Wg.root} + &`]:{paddingTop:0}}}]}))),qg=Kg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiDialogContent"}),{className:$,dividers:H=!1,...K}=Y,B={...Y,dividers:H},q=m51(B);return Bg.jsx(c51,{className:L0(q.root,$),ownerState:B,ref:Q,...K})});qg.propTypes={children:L3.default.node,classes:L3.default.object,className:L3.default.string,dividers:L3.default.bool,sx:L3.default.oneOfType([L3.default.arrayOf(L3.default.oneOfType([L3.default.func,L3.default.object,L3.default.bool])),L3.default.func,L3.default.object])};var zJ=qg;var tM=e(J0(),1),O3=e(l0(),1);var Ug=e(F0(),1),p51=(J)=>{let{classes:Z}=J;return R0({root:["root"]},Hg,Z)},l51=o1(a1,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Lg=tM.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiDialogTitle"}),{className:$,id:H,...K}=Y,B=Y,q=p51(B),{titleId:L=H}=tM.useContext(rM);return Ug.jsx(l51,{component:"h2",className:L0(q.root,$),ownerState:B,ref:Q,variant:"h6",id:H??L,...K})});Lg.propTypes={children:O3.default.node,classes:O3.default.object,className:O3.default.string,id:O3.default.string,sx:O3.default.oneOfType([O3.default.arrayOf(O3.default.oneOfType([O3.default.func,O3.default.object,O3.default.bool])),O3.default.func,O3.default.object])};var NJ=Lg;var zg=e(J0(),1),d7=e(l0(),1);function Og(J){return k0("MuiDivider",J)}var i51=x0("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),eM=i51;var fD=e(F0(),1),n51=(J)=>{let{absolute:Z,children:Q,classes:Y,flexItem:$,light:H,orientation:K,textAlign:B,variant:q}=J;return R0({root:["root",Z&&"absolute",q,H&&"light",K==="vertical"&&"vertical",$&&"flexItem",Q&&"withChildren",Q&&K==="vertical"&&"withChildrenVertical",B==="right"&&K!=="vertical"&&"textAlignRight",B==="left"&&K!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",K==="vertical"&&"wrapperVertical"]},Og,Y)},a51=o1("div",{name:"MuiDivider",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.absolute&&Z.absolute,Z[Q.variant],Q.light&&Z.light,Q.orientation==="vertical"&&Z.vertical,Q.flexItem&&Z.flexItem,Q.children&&Z.withChildren,Q.children&&Q.orientation==="vertical"&&Z.withChildrenVertical,Q.textAlign==="right"&&Q.orientation!=="vertical"&&Z.textAlignRight,Q.textAlign==="left"&&Q.orientation!=="vertical"&&Z.textAlignLeft]}})(e0(({theme:J})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(J.vars||J).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:J.alpha((J.vars||J).palette.divider,0.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:J.spacing(2),marginRight:J.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:J.spacing(1),marginBottom:J.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:Z})=>!!Z.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:Z})=>Z.children&&Z.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(J.vars||J).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:Z})=>Z.orientation==="vertical"&&Z.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(J.vars||J).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:Z})=>Z.textAlign==="right"&&Z.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:Z})=>Z.textAlign==="left"&&Z.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),s51=o1("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.wrapper,Q.orientation==="vertical"&&Z.wrapperVertical]}})(e0(({theme:J})=>({display:"inline-block",paddingLeft:`calc(${J.spacing(1)} * 1.2)`,paddingRight:`calc(${J.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${J.spacing(1)} * 1.2)`,paddingBottom:`calc(${J.spacing(1)} * 1.2)`}}]}))),J_=zg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiDivider"}),{absolute:$=!1,children:H,className:K,orientation:B="horizontal",component:q=H||B==="vertical"?"div":"hr",flexItem:L=!1,light:O=!1,role:z=q!=="hr"?"separator":void 0,textAlign:F="center",variant:V="fullWidth",...A}=Y,M={...Y,absolute:$,component:q,flexItem:L,light:O,orientation:B,role:z,textAlign:F,variant:V},j=n51(M);return fD.jsx(a51,{as:q,className:L0(j.root,K),role:z,ref:Q,ownerState:M,"aria-orientation":z==="separator"&&(q!=="hr"||B==="vertical")?B:void 0,...A,children:H?fD.jsx(s51,{className:j.wrapper,ownerState:M,children:H}):null})});if(J_)J_.muiSkipListHighlight=!0;J_.propTypes={absolute:d7.default.bool,children:d7.default.node,classes:d7.default.object,className:d7.default.string,component:d7.default.elementType,flexItem:d7.default.bool,light:d7.default.bool,orientation:d7.default.oneOf(["horizontal","vertical"]),role:d7.default.string,sx:d7.default.oneOfType([d7.default.arrayOf(d7.default.oneOfType([d7.default.func,d7.default.object,d7.default.bool])),d7.default.func,d7.default.object]),textAlign:d7.default.oneOf(["center","left","right"]),variant:d7.default.oneOfType([d7.default.oneOf(["fullWidth","inset","middle"]),d7.default.string])};var u6=J_;var Fg=e(J0(),1),b4=e(l0(),1);function Ng(J){return k0("MuiFab",J)}var o51=x0("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),SD=o51;var Ag=e(F0(),1),r51=(J)=>{let{color:Z,variant:Q,classes:Y,size:$}=J,H={root:["root",Q,`size${G0($)}`,Z==="inherit"?"colorInherit":Z]},K=R0(H,Ng,Y);return{...Y,...K}},t51=o1(KJ,{name:"MuiFab",slot:"Root",shouldForwardProp:(J)=>e4(J)||J==="classes",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[Q.variant],Z[`size${G0(Q.size)}`],Q.color==="inherit"&&Z.colorInherit,Z[G0(Q.size)],Z[Q.color]]}})(e0(({theme:J})=>({...J.typography.button,minHeight:36,transition:J.transitions.create(["background-color","box-shadow","border-color"],{duration:J.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(J.vars||J).zIndex.fab,boxShadow:(J.vars||J).shadows[6],"&:active":{boxShadow:(J.vars||J).shadows[12]},color:J.vars?J.vars.palette.grey[900]:J.palette.getContrastText?.(J.palette.grey[300]),backgroundColor:(J.vars||J).palette.grey[300],"&:hover":{backgroundColor:(J.vars||J).palette.grey.A100,"@media (hover: none)":{backgroundColor:(J.vars||J).palette.grey[300]},textDecoration:"none"},[`&.${SD.focusVisible}`]:{boxShadow:(J.vars||J).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),e0(({theme:J})=>({variants:[...Object.entries(J.palette).filter(I5(["dark","contrastText"])).map(([Z])=>({props:{color:Z},style:{color:(J.vars||J).palette[Z].contrastText,backgroundColor:(J.vars||J).palette[Z].main,"&:hover":{backgroundColor:(J.vars||J).palette[Z].dark,"@media (hover: none)":{backgroundColor:(J.vars||J).palette[Z].main}}}}))]})),e0(({theme:J})=>({[`&.${SD.disabled}`]:{color:(J.vars||J).palette.action.disabled,boxShadow:(J.vars||J).shadows[0],backgroundColor:(J.vars||J).palette.action.disabledBackground}}))),Mg=Fg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiFab"}),{children:$,className:H,color:K="default",component:B="button",disabled:q=!1,disableFocusRipple:L=!1,focusVisibleClassName:O,size:z="large",variant:F="circular",...V}=Y,A={...Y,color:K,component:B,disabled:q,disableFocusRipple:L,size:z,variant:F},M=r51(A);return Ag.jsx(t51,{className:L0(M.root,H),component:B,disabled:q,focusRipple:!L,focusVisibleClassName:L0(M.focusVisible,O),ownerState:A,ref:Q,...V,classes:M,children:$})});Mg.propTypes={children:b4.default.node,classes:b4.default.object,className:b4.default.string,color:b4.default.oneOfType([b4.default.oneOf(["default","error","info","inherit","primary","secondary","success","warning"]),b4.default.string]),component:b4.default.elementType,disabled:b4.default.bool,disableFocusRipple:b4.default.bool,disableRipple:b4.default.bool,focusVisibleClassName:b4.default.string,href:b4.default.string,size:b4.default.oneOfType([b4.default.oneOf(["small","medium","large"]),b4.default.string]),sx:b4.default.oneOfType([b4.default.arrayOf(b4.default.oneOfType([b4.default.func,b4.default.object,b4.default.bool])),b4.default.func,b4.default.object]),variant:b4.default.oneOfType([b4.default.oneOf(["circular","extended"]),b4.default.string])};var Z_=Mg;var _g=e(J0(),1);var b2=e(l0(),1);var Vg=e(F0(),1),e51=(J)=>{let{classes:Z,disableUnderline:Q,startAdornment:Y,endAdornment:$,size:H,hiddenLabel:K,multiline:B}=J,q={root:["root",!Q&&"underline",Y&&"adornedStart",$&&"adornedEnd",H==="small"&&`size${G0(H)}`,K&&"hiddenLabel",B&&"multiline"],input:["input"]},L=R0(q,HP,Z);return{...Z,...L}},J41=o1(hW,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[...gW(J,Z),!Q.disableUnderline&&Z.underline]}})(e0(({theme:J})=>{let Z=J.palette.mode==="light",Q=Z?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",Y=Z?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",$=Z?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",H=Z?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:J.vars?J.vars.palette.FilledInput.bg:Y,borderTopLeftRadius:(J.vars||J).shape.borderRadius,borderTopRightRadius:(J.vars||J).shape.borderRadius,transition:J.transitions.create("background-color",{duration:J.transitions.duration.shorter,easing:J.transitions.easing.easeOut}),"&:hover":{backgroundColor:J.vars?J.vars.palette.FilledInput.hoverBg:$,"@media (hover: none)":{backgroundColor:J.vars?J.vars.palette.FilledInput.bg:Y}},[`&.${EG.focused}`]:{backgroundColor:J.vars?J.vars.palette.FilledInput.bg:Y},[`&.${EG.disabled}`]:{backgroundColor:J.vars?J.vars.palette.FilledInput.disabledBg:H},variants:[{props:({ownerState:K})=>!K.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:J.transitions.create("transform",{duration:J.transitions.duration.shorter,easing:J.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${EG.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${EG.error}`]:{"&::before, &::after":{borderBottomColor:(J.vars||J).palette.error.main}},"&::before":{borderBottom:`1px solid ${J.vars?J.alpha(J.vars.palette.common.onBackground,J.vars.opacity.inputUnderline):Q}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:J.transitions.create("border-bottom-color",{duration:J.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${EG.disabled}, .${EG.error}):before`]:{borderBottom:`1px solid ${(J.vars||J).palette.text.primary}`},[`&.${EG.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(J.palette).filter(I5()).map(([K])=>({props:{disableUnderline:!1,color:K},style:{"&::after":{borderBottom:`2px solid ${(J.vars||J).palette[K]?.main}`}}})),{props:({ownerState:K})=>K.startAdornment,style:{paddingLeft:12}},{props:({ownerState:K})=>K.endAdornment,style:{paddingRight:12}},{props:({ownerState:K})=>K.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:K,size:B})=>K.multiline&&B==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:K})=>K.multiline&&K.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:K})=>K.multiline&&K.hiddenLabel&&K.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Z41=o1(uW,{name:"MuiFilledInput",slot:"Input",overridesResolver:yW})(e0(({theme:J})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!J.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:J.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:J.palette.mode==="light"?null:"#fff",caretColor:J.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...J.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[J.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:Z})=>Z.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:Z})=>Z.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Z})=>Z.endAdornment,style:{paddingRight:0}},{props:({ownerState:Z})=>Z.hiddenLabel&&Z.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:Z})=>Z.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),TD=_g.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiFilledInput"}),{disableUnderline:$=!1,components:H={},componentsProps:K,fullWidth:B=!1,hiddenLabel:q,inputComponent:L="input",multiline:O=!1,slotProps:z,slots:F={},type:V="text",...A}=Y,M={...Y,disableUnderline:$,fullWidth:B,inputComponent:L,multiline:O,type:V},j=e51(Y),D={root:{ownerState:M},input:{ownerState:M}},w=z??K?e5(D,z??K):D,C=F.root??H.Root??J41,I=F.input??H.Input??Z41;return Vg.jsx(dW,{slots:{root:C,input:I},slotProps:w,fullWidth:B,inputComponent:L,multiline:O,ref:Q,type:V,...A,classes:j})});TD.propTypes={autoComplete:b2.default.string,autoFocus:b2.default.bool,classes:b2.default.object,color:b2.default.oneOfType([b2.default.oneOf(["primary","secondary"]),b2.default.string]),components:b2.default.shape({Input:b2.default.elementType,Root:b2.default.elementType}),componentsProps:b2.default.shape({input:b2.default.object,root:b2.default.object}),defaultValue:b2.default.any,disabled:b2.default.bool,disableUnderline:b2.default.bool,endAdornment:b2.default.node,error:b2.default.bool,fullWidth:b2.default.bool,hiddenLabel:b2.default.bool,id:b2.default.string,inputComponent:b2.default.elementType,inputProps:b2.default.object,inputRef:j7,margin:b2.default.oneOf(["dense","none"]),maxRows:b2.default.oneOfType([b2.default.number,b2.default.string]),minRows:b2.default.oneOfType([b2.default.number,b2.default.string]),multiline:b2.default.bool,name:b2.default.string,onChange:b2.default.func,placeholder:b2.default.string,readOnly:b2.default.bool,required:b2.default.bool,rows:b2.default.oneOfType([b2.default.number,b2.default.string]),slotProps:b2.default.shape({input:b2.default.object,root:b2.default.object}),slots:b2.default.shape({input:b2.default.elementType,root:b2.default.elementType}),startAdornment:b2.default.node,sx:b2.default.oneOfType([b2.default.arrayOf(b2.default.oneOfType([b2.default.func,b2.default.object,b2.default.bool])),b2.default.func,b2.default.object]),type:b2.default.string,value:b2.default.any};TD.muiName="Input";var ON=TD;var E9=e(J0(),1),v4=e(l0(),1);function Ig(J){return k0("MuiFormControl",J)}var kp1=x0("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var PD=e(F0(),1),Q41=(J)=>{let{classes:Z,margin:Q,fullWidth:Y}=J,$={root:["root",Q!=="none"&&`margin${G0(Q)}`,Y&&"fullWidth"]};return R0($,Ig,Z)},X41=o1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[`margin${G0(Q.margin)}`],Q.fullWidth&&Z.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),jg=E9.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiFormControl"}),{children:$,className:H,color:K="primary",component:B="div",disabled:q=!1,error:L=!1,focused:O,fullWidth:z=!1,hiddenLabel:F=!1,margin:V="none",required:A=!1,size:M="medium",variant:j="outlined",...D}=Y,w={...Y,color:K,component:B,disabled:q,error:L,fullWidth:z,hiddenLabel:F,margin:V,required:A,size:M,variant:j},C=Q41(w),[I,b]=E9.useState(()=>{let l=!1;if($)E9.Children.forEach($,(t)=>{if(!VW(t,["Input","Select"]))return;let Q1=VW(t,["Select"])?t.props.input:t;if(Q1&&JP(Q1.props))l=!0});return l}),[E,k]=E9.useState(()=>{let l=!1;if($)E9.Children.forEach($,(t)=>{if(!VW(t,["Input","Select"]))return;if(TW(t.props,!0)||TW(t.props.inputProps,!0))l=!0});return l}),[T,S]=E9.useState(!1);if(q&&T)S(!1);let d=O!==void 0&&!q?O:T,o,v=E9.useRef(!1);o=()=>{if(v.current)console.error(["MUI: There are multiple `InputBase` components inside a FormControl.","This creates visual inconsistencies, only use one `InputBase`."].join(`
`));return v.current=!0,()=>{v.current=!1}};let y=E9.useCallback(()=>{k(!0)},[]),i=E9.useCallback(()=>{k(!1)},[]),p=E9.useMemo(()=>{return{adornedStart:I,setAdornedStart:b,color:K,disabled:q,error:L,filled:E,focused:d,fullWidth:z,hiddenLabel:F,size:M,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onEmpty:i,onFilled:y,registerEffect:o,required:A,variant:j}},[I,K,q,L,E,d,z,F,o,i,y,A,M,j]);return PD.jsx(cU.Provider,{value:p,children:PD.jsx(X41,{as:B,ownerState:w,className:L0(C.root,H),ref:Q,...D,children:$})})});jg.propTypes={children:v4.default.node,classes:v4.default.object,className:v4.default.string,color:v4.default.oneOfType([v4.default.oneOf(["primary","secondary","error","info","success","warning"]),v4.default.string]),component:v4.default.elementType,disabled:v4.default.bool,error:v4.default.bool,focused:v4.default.bool,fullWidth:v4.default.bool,hiddenLabel:v4.default.bool,margin:v4.default.oneOf(["dense","none","normal"]),required:v4.default.bool,size:v4.default.oneOfType([v4.default.oneOf(["medium","small"]),v4.default.string]),sx:v4.default.oneOfType([v4.default.arrayOf(v4.default.oneOfType([v4.default.func,v4.default.object,v4.default.bool])),v4.default.func,v4.default.object]),variant:v4.default.oneOf(["filled","outlined","standard"])};var xG=jg;var Eg=e(J0(),1),m7=e(l0(),1);function Dg(J){return k0("MuiFormHelperText",J)}var Y41=x0("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),gD=Y41;var yD=e(F0(),1),wg,G41=(J)=>{let{classes:Z,contained:Q,size:Y,disabled:$,error:H,filled:K,focused:B,required:q}=J,L={root:["root",$&&"disabled",H&&"error",Y&&`size${G0(Y)}`,Q&&"contained",B&&"focused",K&&"filled",q&&"required"]};return R0(L,Dg,Z)},$41=o1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.size&&Z[`size${G0(Q.size)}`],Q.contained&&Z.contained,Q.filled&&Z.filled]}})(e0(({theme:J})=>({color:(J.vars||J).palette.text.secondary,...J.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${gD.disabled}`]:{color:(J.vars||J).palette.text.disabled},[`&.${gD.error}`]:{color:(J.vars||J).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:Z})=>Z.contained,style:{marginLeft:14,marginRight:14}}]}))),kg=Eg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiFormHelperText"}),{children:$,className:H,component:K="p",disabled:B,error:q,filled:L,focused:O,margin:z,required:F,variant:V,...A}=Y,M=H3(),j=$3({props:Y,muiFormControl:M,states:["variant","size","disabled","error","filled","focused","required"]}),D={...Y,component:K,contained:j.variant==="filled"||j.variant==="outlined",variant:j.variant,size:j.size,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required};delete D.ownerState;let w=G41(D);return yD.jsx($41,{as:K,className:L0(w.root,H),ref:Q,...A,ownerState:D,children:$===" "?wg||(wg=yD.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):$})});kg.propTypes={children:m7.default.node,classes:m7.default.object,className:m7.default.string,component:m7.default.elementType,disabled:m7.default.bool,error:m7.default.bool,filled:m7.default.bool,focused:m7.default.bool,margin:m7.default.oneOf(["dense"]),required:m7.default.bool,sx:m7.default.oneOfType([m7.default.arrayOf(m7.default.oneOfType([m7.default.func,m7.default.object,m7.default.bool])),m7.default.func,m7.default.object]),variant:m7.default.oneOfType([m7.default.oneOf(["filled","outlined","standard"]),m7.default.string])};var hD=kg;var Rg=e(J0(),1),G6=e(l0(),1);function xg(J){return k0("MuiFormLabel",J)}var H41=x0("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),RG=H41;var uD=e(F0(),1),W41=(J)=>{let{classes:Z,color:Q,focused:Y,disabled:$,error:H,filled:K,required:B}=J,q={root:["root",`color${G0(Q)}`,$&&"disabled",H&&"error",K&&"filled",Y&&"focused",B&&"required"],asterisk:["asterisk",H&&"error"]};return R0(q,xg,Z)},K41=o1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.color==="secondary"&&Z.colorSecondary,Q.filled&&Z.filled]}})(e0(({theme:J})=>({color:(J.vars||J).palette.text.secondary,...J.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{[`&.${RG.focused}`]:{color:(J.vars||J).palette[Z].main}}})),{props:{},style:{[`&.${RG.disabled}`]:{color:(J.vars||J).palette.text.disabled},[`&.${RG.error}`]:{color:(J.vars||J).palette.error.main}}}]}))),B41=o1("span",{name:"MuiFormLabel",slot:"Asterisk"})(e0(({theme:J})=>({[`&.${RG.error}`]:{color:(J.vars||J).palette.error.main}}))),Cg=Rg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiFormLabel"}),{children:$,className:H,color:K,component:B="label",disabled:q,error:L,filled:O,focused:z,required:F,...V}=Y,A=H3(),M=$3({props:Y,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),j={...Y,color:M.color||"primary",component:B,disabled:M.disabled,error:M.error,filled:M.filled,focused:M.focused,required:M.required},D=W41(j);return uD.jsxs(K41,{as:B,ownerState:j,className:L0(D.root,H),ref:Q,...V,children:[$,M.required&&uD.jsxs(B41,{ownerState:j,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]})});Cg.propTypes={children:G6.default.node,classes:G6.default.object,className:G6.default.string,color:G6.default.oneOfType([G6.default.oneOf(["error","info","primary","secondary","success","warning"]),G6.default.string]),component:G6.default.elementType,disabled:G6.default.bool,error:G6.default.bool,filled:G6.default.bool,focused:G6.default.bool,required:G6.default.bool,sx:G6.default.oneOfType([G6.default.arrayOf(G6.default.oneOfType([G6.default.func,G6.default.object,G6.default.bool])),G6.default.func,G6.default.object])};var dD=Cg;var L2=e(l0(),1);var mD=ZM({createStyledComponent:o1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.container&&Z.container]}}),componentName:"MuiGrid",useThemeProps:(J)=>b0({props:J,name:"MuiGrid"}),useTheme:I9});mD.propTypes={children:L2.default.node,columns:L2.default.oneOfType([L2.default.arrayOf(L2.default.number),L2.default.number,L2.default.object]),columnSpacing:L2.default.oneOfType([L2.default.arrayOf(L2.default.oneOfType([L2.default.number,L2.default.string])),L2.default.number,L2.default.object,L2.default.string]),container:L2.default.bool,direction:L2.default.oneOfType([L2.default.oneOf(["column-reverse","column","row-reverse","row"]),L2.default.arrayOf(L2.default.oneOf(["column-reverse","column","row-reverse","row"])),L2.default.object]),offset:L2.default.oneOfType([L2.default.string,L2.default.number,L2.default.arrayOf(L2.default.oneOfType([L2.default.string,L2.default.number])),L2.default.object]),rowSpacing:L2.default.oneOfType([L2.default.arrayOf(L2.default.oneOfType([L2.default.number,L2.default.string])),L2.default.number,L2.default.object,L2.default.string]),size:L2.default.oneOfType([L2.default.string,L2.default.bool,L2.default.number,L2.default.arrayOf(L2.default.oneOfType([L2.default.string,L2.default.bool,L2.default.number])),L2.default.object]),spacing:L2.default.oneOfType([L2.default.arrayOf(L2.default.oneOfType([L2.default.number,L2.default.string])),L2.default.number,L2.default.object,L2.default.string]),sx:L2.default.oneOfType([L2.default.arrayOf(L2.default.oneOfType([L2.default.func,L2.default.object,L2.default.bool])),L2.default.func,L2.default.object]),unstable_level:L2.default.number,wrap:L2.default.oneOf(["nowrap","wrap-reverse","wrap"])};{let J=mD,Z=AS("Grid",J);J.propTypes={...J.propTypes,direction:Z("container"),spacing:Z("container"),wrap:Z("container")}}var x5=mD;var pW=e(J0(),1),D7=e(l0(),1);var bg=e(F0(),1);function pD(J){return`scale(${J}, ${J**2})`}var q41={entering:{opacity:1,transform:pD(1)},entered:{opacity:1,transform:"none"}},cD=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Q_=pW.forwardRef(function(Z,Q){let{addEndListener:Y,appear:$=!0,children:H,easing:K,in:B,onEnter:q,onEntered:L,onEntering:O,onExit:z,onExited:F,onExiting:V,style:A,timeout:M="auto",TransitionComponent:j=cz,...D}=Z,w=Z3(),C=pW.useRef(),I=I9(),b=pW.useRef(null),E=m4(b,j9(H),Q),k=(p)=>(l)=>{if(p){let t=b.current;if(l===void 0)p(t);else p(t,l)}},T=k(O),S=k((p,l)=>{AM(p);let{duration:t,delay:Q1,easing:m}=TU({style:A,timeout:M,easing:K},{mode:"enter"}),K1;if(M==="auto")K1=I.transitions.getAutoHeightDuration(p.clientHeight),C.current=K1;else K1=t;if(p.style.transition=[I.transitions.create("opacity",{duration:K1,delay:Q1}),I.transitions.create("transform",{duration:cD?K1:K1*0.666,delay:Q1,easing:m})].join(","),q)q(p,l)}),d=k(L),o=k(V),v=k((p)=>{let{duration:l,delay:t,easing:Q1}=TU({style:A,timeout:M,easing:K},{mode:"exit"}),m;if(M==="auto")m=I.transitions.getAutoHeightDuration(p.clientHeight),C.current=m;else m=l;if(p.style.transition=[I.transitions.create("opacity",{duration:m,delay:t}),I.transitions.create("transform",{duration:cD?m:m*0.666,delay:cD?t:t||m*0.333,easing:Q1})].join(","),p.style.opacity=0,p.style.transform=pD(0.75),z)z(p)}),y=k(F);return bg.jsx(j,{appear:$,in:B,nodeRef:b,onEnter:S,onEntered:d,onEntering:T,onExit:v,onExited:y,onExiting:o,addEndListener:(p)=>{if(M==="auto")w.start(C.current||0,p);if(Y)Y(b.current,p)},timeout:M==="auto"?null:M,...D,children:(p,{ownerState:l,...t})=>{return pW.cloneElement(H,{style:{opacity:0,transform:pD(0.75),visibility:p==="exited"&&!B?"hidden":void 0,...q41[p],...A,...H.props.style},ref:E,...t})}})});Q_.propTypes={addEndListener:D7.default.func,appear:D7.default.bool,children:W3.isRequired,easing:D7.default.oneOfType([D7.default.shape({enter:D7.default.string,exit:D7.default.string}),D7.default.string]),in:D7.default.bool,onEnter:D7.default.func,onEntered:D7.default.func,onEntering:D7.default.func,onExit:D7.default.func,onExited:D7.default.func,onExiting:D7.default.func,style:D7.default.object,timeout:D7.default.oneOfType([D7.default.oneOf(["auto"]),D7.default.number,D7.default.shape({appear:D7.default.number,enter:D7.default.number,exit:D7.default.number})])};if(Q_)Q_.muiSupportAuto=!0;var lW=Q_;var vg=e(J0(),1),f2=e(l0(),1);var fg=e(F0(),1),U41=(J)=>{let{classes:Z,disableUnderline:Q}=J,$=R0({root:["root",!Q&&"underline"],input:["input"]},GP,Z);return{...Z,...$}},L41=o1(hW,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiInput",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[...gW(J,Z),!Q.disableUnderline&&Z.underline]}})(e0(({theme:J})=>{let Q=J.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";if(J.vars)Q=J.alpha(J.vars.palette.common.onBackground,J.vars.opacity.inputUnderline);return{position:"relative",variants:[{props:({ownerState:Y})=>Y.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:Y})=>!Y.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:J.transitions.create("transform",{duration:J.transitions.duration.shorter,easing:J.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pU.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pU.error}`]:{"&::before, &::after":{borderBottomColor:(J.vars||J).palette.error.main}},"&::before":{borderBottom:`1px solid ${Q}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:J.transitions.create("border-bottom-color",{duration:J.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pU.disabled}, .${pU.error}):before`]:{borderBottom:`2px solid ${(J.vars||J).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${Q}`}},[`&.${pU.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(J.palette).filter(I5()).map(([Y])=>({props:{color:Y,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(J.vars||J).palette[Y].main}`}}}))]}})),O41=o1(uW,{name:"MuiInput",slot:"Input",overridesResolver:yW})({}),lD=vg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiInput"}),{disableUnderline:$=!1,components:H={},componentsProps:K,fullWidth:B=!1,inputComponent:q="input",multiline:L=!1,slotProps:O,slots:z={},type:F="text",...V}=Y,A=U41(Y),j={root:{ownerState:{disableUnderline:$}}},D=O??K?e5(O??K,j):j,w=z.root??H.Root??L41,C=z.input??H.Input??O41;return fg.jsx(dW,{slots:{root:w,input:C},slotProps:D,fullWidth:B,inputComponent:q,multiline:L,ref:Q,type:F,...V,classes:A})});lD.propTypes={autoComplete:f2.default.string,autoFocus:f2.default.bool,classes:f2.default.object,color:f2.default.oneOfType([f2.default.oneOf(["primary","secondary"]),f2.default.string]),components:f2.default.shape({Input:f2.default.elementType,Root:f2.default.elementType}),componentsProps:f2.default.shape({input:f2.default.object,root:f2.default.object}),defaultValue:f2.default.any,disabled:f2.default.bool,disableUnderline:f2.default.bool,endAdornment:f2.default.node,error:f2.default.bool,fullWidth:f2.default.bool,id:f2.default.string,inputComponent:f2.default.elementType,inputProps:f2.default.object,inputRef:j7,margin:f2.default.oneOf(["dense","none"]),maxRows:f2.default.oneOfType([f2.default.number,f2.default.string]),minRows:f2.default.oneOfType([f2.default.number,f2.default.string]),multiline:f2.default.bool,name:f2.default.string,onChange:f2.default.func,placeholder:f2.default.string,readOnly:f2.default.bool,required:f2.default.bool,rows:f2.default.oneOfType([f2.default.number,f2.default.string]),slotProps:f2.default.shape({input:f2.default.object,root:f2.default.object}),slots:f2.default.shape({input:f2.default.elementType,root:f2.default.elementType}),startAdornment:f2.default.node,sx:f2.default.oneOfType([f2.default.arrayOf(f2.default.oneOfType([f2.default.func,f2.default.object,f2.default.bool])),f2.default.func,f2.default.object]),type:f2.default.string,value:f2.default.any};lD.muiName="Input";var zN=lD;var Tg=e(J0(),1),c4=e(l0(),1);function Sg(J){return k0("MuiInputLabel",J)}var $i1=x0("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Pg=e(F0(),1),z41=(J)=>{let{classes:Z,formControl:Q,size:Y,shrink:$,disableAnimation:H,variant:K,required:B}=J,q={root:["root",Q&&"formControl",!H&&"animated",$&&"shrink",Y&&Y!=="medium"&&`size${G0(Y)}`,K],asterisk:[B&&"asterisk"]},L=R0(q,Sg,Z);return{...Z,...L}},N41=o1(dD,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[{[`& .${RG.asterisk}`]:Z.asterisk},Z.root,Q.formControl&&Z.formControl,Q.size==="small"&&Z.sizeSmall,Q.shrink&&Z.shrink,!Q.disableAnimation&&Z.animated,Q.focused&&Z.focused,Z[Q.variant]]}})(e0(({theme:J})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:Z})=>Z.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:Z})=>Z.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:Z})=>!Z.disableAnimation,style:{transition:J.transitions.create(["color","transform","max-width"],{duration:J.transitions.duration.shorter,easing:J.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:Z,ownerState:Q})=>Z==="filled"&&Q.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:Z,ownerState:Q,size:Y})=>Z==="filled"&&Q.shrink&&Y==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:Z,ownerState:Q})=>Z==="outlined"&&Q.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),gg=Tg.forwardRef(function(Z,Q){let Y=b0({name:"MuiInputLabel",props:Z}),{disableAnimation:$=!1,margin:H,shrink:K,variant:B,className:q,...L}=Y,O=H3(),z=K;if(typeof z>"u"&&O)z=O.filled||O.focused||O.adornedStart;let F=$3({props:Y,muiFormControl:O,states:["size","variant","required","focused"]}),V={...Y,disableAnimation:$,formControl:O,shrink:z,size:F.size,variant:F.variant,required:F.required,focused:F.focused},A=z41(V);return Pg.jsx(N41,{"data-shrink":z,ref:Q,className:L0(A.root,q),...L,ownerState:V,classes:A})});gg.propTypes={children:c4.default.node,classes:c4.default.object,className:c4.default.string,color:c4.default.oneOfType([c4.default.oneOf(["error","info","primary","secondary","success","warning"]),c4.default.string]),disableAnimation:c4.default.bool,disabled:c4.default.bool,error:c4.default.bool,focused:c4.default.bool,margin:c4.default.oneOf(["dense"]),required:c4.default.bool,shrink:c4.default.bool,size:c4.default.oneOfType([c4.default.oneOf(["medium","small"]),c4.default.string]),sx:c4.default.oneOfType([c4.default.arrayOf(c4.default.oneOfType([c4.default.func,c4.default.object,c4.default.bool])),c4.default.func,c4.default.object]),variant:c4.default.oneOf(["filled","outlined","standard"])};var CG=gg;var hg=e(J0(),1),B9=e(l0(),1);function yg(J){return k0("MuiLinearProgress",J)}var wi1=x0("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var QL=e(F0(),1),iD=4,nD=D8`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,F41=typeof nD!=="string"?aJ`
        animation: ${nD} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,aD=D8`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,A41=typeof aD!=="string"?aJ`
        animation: ${aD} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,sD=D8`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,M41=typeof sD!=="string"?aJ`
        animation: ${sD} 3s infinite linear;
      `:null,_41=(J)=>{let{classes:Z,variant:Q,color:Y}=J,$={root:["root",`color${G0(Y)}`,Q],dashed:["dashed",`dashedColor${G0(Y)}`],bar1:["bar","bar1",`barColor${G0(Y)}`,(Q==="indeterminate"||Q==="query")&&"bar1Indeterminate",Q==="determinate"&&"bar1Determinate",Q==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",Q!=="buffer"&&`barColor${G0(Y)}`,Q==="buffer"&&`color${G0(Y)}`,(Q==="indeterminate"||Q==="query")&&"bar2Indeterminate",Q==="buffer"&&"bar2Buffer"]};return R0($,yg,Z)},oD=(J,Z)=>{if(J.vars)return J.vars.palette.LinearProgress[`${Z}Bg`];return J.palette.mode==="light"?J.lighten(J.palette[Z].main,0.62):J.darken(J.palette[Z].main,0.5)},V41=o1("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[`color${G0(Q.color)}`],Z[Q.variant]]}})(e0(({theme:J})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{backgroundColor:oD(J,Z)}})),{props:({ownerState:Z})=>Z.color==="inherit"&&Z.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:0.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),I41=o1("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.dashed,Z[`dashedColor${G0(Q.color)}`]]}})(e0(({theme:J})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:0.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(J.palette).filter(I5()).map(([Z])=>{let Q=oD(J,Z);return{props:{color:Z},style:{backgroundImage:`radial-gradient(${Q} 0%, ${Q} 16%, transparent 42%)`}}})]})),M41||{animation:`${sD} 3s infinite linear`}),j41=o1("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.bar,Z.bar1,Z[`barColor${G0(Q.color)}`],(Q.variant==="indeterminate"||Q.variant==="query")&&Z.bar1Indeterminate,Q.variant==="determinate"&&Z.bar1Determinate,Q.variant==="buffer"&&Z.bar1Buffer]}})(e0(({theme:J})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{backgroundColor:(J.vars||J).palette[Z].main}})),{props:{variant:"determinate"},style:{transition:`transform .${iD}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${iD}s linear`}},{props:({ownerState:Z})=>Z.variant==="indeterminate"||Z.variant==="query",style:{width:"auto"}},{props:({ownerState:Z})=>Z.variant==="indeterminate"||Z.variant==="query",style:F41||{animation:`${nD} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),D41=o1("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.bar,Z.bar2,Z[`barColor${G0(Q.color)}`],(Q.variant==="indeterminate"||Q.variant==="query")&&Z.bar2Indeterminate,Q.variant==="buffer"&&Z.bar2Buffer]}})(e0(({theme:J})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z},style:{"--LinearProgressBar2-barColor":(J.vars||J).palette[Z].main}})),{props:({ownerState:Z})=>Z.variant!=="buffer"&&Z.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:Z})=>Z.variant!=="buffer"&&Z.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:0.3}},...Object.entries(J.palette).filter(I5()).map(([Z])=>({props:{color:Z,variant:"buffer"},style:{backgroundColor:oD(J,Z),transition:`transform .${iD}s linear`}})),{props:({ownerState:Z})=>Z.variant==="indeterminate"||Z.variant==="query",style:{width:"auto"}},{props:({ownerState:Z})=>Z.variant==="indeterminate"||Z.variant==="query",style:A41||{animation:`${aD} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ug=hg.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiLinearProgress"}),{className:$,color:H="primary",value:K,valueBuffer:B,variant:q="indeterminate",...L}=Y,O={...Y,color:H,variant:q},z=_41(O),F=qQ(),V={},A={bar1:{},bar2:{}};if(q==="determinate"||q==="buffer")if(K!==void 0){V["aria-valuenow"]=Math.round(K),V["aria-valuemin"]=0,V["aria-valuemax"]=100;let M=K-100;if(F)M=-M;A.bar1.transform=`translateX(${M}%)`}else console.error("MUI: You need to provide a value prop when using the determinate or buffer variant of LinearProgress .");if(q==="buffer")if(B!==void 0){let M=(B||0)-100;if(F)M=-M;A.bar2.transform=`translateX(${M}%)`}else console.error("MUI: You need to provide a valueBuffer prop when using the buffer variant of LinearProgress.");return QL.jsxs(V41,{className:L0(z.root,$),ownerState:O,role:"progressbar",...V,ref:Q,...L,children:[q==="buffer"?QL.jsx(I41,{className:z.dashed,ownerState:O}):null,QL.jsx(j41,{className:z.bar1,ownerState:O,style:A.bar1}),q==="determinate"?null:QL.jsx(D41,{className:z.bar2,ownerState:O,style:A.bar2})]})});ug.propTypes={classes:B9.default.object,className:B9.default.string,color:B9.default.oneOfType([B9.default.oneOf(["inherit","primary","secondary"]),B9.default.string]),sx:B9.default.oneOfType([B9.default.arrayOf(B9.default.oneOfType([B9.default.func,B9.default.object,B9.default.bool])),B9.default.func,B9.default.object]),value:B9.default.number,valueBuffer:B9.default.number,variant:B9.default.oneOf(["buffer","determinate","indeterminate","query"])};var bG=ug;var X_=e(J0(),1),k9=e(l0(),1);var dg=e(J0(),1),mg=dg.createContext({});mg.displayName="ListContext";var z3=mg;function cg(J){return k0("MuiList",J)}var ci1=x0("MuiList",["root","padding","dense","subheader"]);var Y_=e(F0(),1),w41=(J)=>{let{classes:Z,disablePadding:Q,dense:Y,subheader:$}=J;return R0({root:["root",!Q&&"padding",Y&&"dense",$&&"subheader"]},cg,Z)},E41=o1("ul",{name:"MuiList",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,!Q.disablePadding&&Z.padding,Q.dense&&Z.dense,Q.subheader&&Z.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:J})=>!J.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:J})=>J.subheader,style:{paddingTop:0}}]}),pg=X_.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiList"}),{children:$,className:H,component:K="ul",dense:B=!1,disablePadding:q=!1,subheader:L,...O}=Y,z=X_.useMemo(()=>({dense:B}),[B]),F={...Y,component:K,dense:B,disablePadding:q},V=w41(F);return Y_.jsx(z3.Provider,{value:z,children:Y_.jsxs(E41,{as:K,className:L0(V.root,H),ref:Q,ownerState:F,...O,children:[L,$]})})});pg.propTypes={children:k9.default.node,classes:k9.default.object,className:k9.default.string,component:k9.default.elementType,dense:k9.default.bool,disablePadding:k9.default.bool,subheader:k9.default.node,sx:k9.default.oneOfType([k9.default.arrayOf(k9.default.oneOfType([k9.default.func,k9.default.object,k9.default.bool])),k9.default.func,k9.default.object])};var kX=pg;var KZ=e(J0(),1),D4=e(l0(),1);function lg(J){return k0("MuiListItem",J)}var Xn1=x0("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);var k41=x0("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),rD=k41;var G_=e(J0(),1),FJ=e(l0(),1);function ig(J){return k0("MuiListItemSecondaryAction",J)}var Un1=x0("MuiListItemSecondaryAction",["root","disableGutters"]);var ng=e(F0(),1),x41=(J)=>{let{disableGutters:Z,classes:Q}=J;return R0({root:["root",Z&&"disableGutters"]},ig,Q)},R41=o1("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.disableGutters&&Z.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:J})=>J.disableGutters,style:{right:0}}]}),tD=G_.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiListItemSecondaryAction"}),{className:$,...H}=Y,K=G_.useContext(z3),B={...Y,disableGutters:K.disableGutters},q=x41(B);return ng.jsx(R41,{className:L0(q.root,$),ownerState:B,ref:Q,...H})});tD.propTypes={children:FJ.default.node,classes:FJ.default.object,className:FJ.default.string,sx:FJ.default.oneOfType([FJ.default.arrayOf(FJ.default.oneOfType([FJ.default.func,FJ.default.object,FJ.default.bool])),FJ.default.func,FJ.default.object])};tD.muiName="ListItemSecondaryAction";var eD=tD;var vG=e(F0(),1),C41=(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.dense&&Z.dense,Q.alignItems==="flex-start"&&Z.alignItemsFlexStart,Q.divider&&Z.divider,!Q.disableGutters&&Z.gutters,!Q.disablePadding&&Z.padding,Q.hasSecondaryAction&&Z.secondaryAction]},b41=(J)=>{let{alignItems:Z,classes:Q,dense:Y,disableGutters:$,disablePadding:H,divider:K,hasSecondaryAction:B}=J;return R0({root:["root",Y&&"dense",!$&&"gutters",!H&&"padding",K&&"divider",Z==="flex-start"&&"alignItemsFlexStart",B&&"secondaryAction"],container:["container"]},lg,Q)},v41=o1("div",{name:"MuiListItem",slot:"Root",overridesResolver:C41})(e0(({theme:J})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:Z})=>!Z.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:Z})=>!Z.disablePadding&&Z.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:Z})=>!Z.disablePadding&&!Z.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:Z})=>!Z.disablePadding&&!!Z.secondaryAction,style:{paddingRight:48}},{props:({ownerState:Z})=>!!Z.secondaryAction,style:{[`& > .${rD.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:Z})=>Z.divider,style:{borderBottom:`1px solid ${(J.vars||J).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:Z})=>Z.button,style:{transition:J.transitions.create("background-color",{duration:J.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(J.vars||J).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:Z})=>Z.hasSecondaryAction,style:{paddingRight:48}}]}))),f41=o1("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),ag=KZ.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiListItem"}),{alignItems:$="center",children:H,className:K,component:B,components:q={},componentsProps:L={},ContainerComponent:O="li",ContainerProps:{className:z,...F}={},dense:V=!1,disableGutters:A=!1,disablePadding:M=!1,divider:j=!1,secondaryAction:D,slotProps:w={},slots:C={},...I}=Y,b=KZ.useContext(z3),E=KZ.useMemo(()=>({dense:V||b.dense||!1,alignItems:$,disableGutters:A}),[$,b.dense,V,A]),k=KZ.useRef(null),T=KZ.Children.toArray(H),S=T.length&&VW(T[T.length-1],["ListItemSecondaryAction"]),d={...Y,alignItems:$,dense:E.dense,disableGutters:A,disablePadding:M,divider:j,hasSecondaryAction:S},o=b41(d),v=m4(k,Q),y=C.root||q.Root||v41,i=w.root||L.root||{},p={className:L0(o.root,i.className,K),...I},l=B||"li";if(S){if(l=!p.component&&!B?"div":l,O==="li"){if(l==="li")l="div";else if(p.component==="li")p.component="div"}return vG.jsx(z3.Provider,{value:E,children:vG.jsxs(f41,{as:O,className:L0(o.container,z),ref:v,ownerState:d,...F,children:[vG.jsx(y,{...i,...!rJ(y)&&{as:l,ownerState:{...d,...i.ownerState}},...p,children:T}),T.pop()]})})}return vG.jsx(z3.Provider,{value:E,children:vG.jsxs(y,{...i,as:l,ref:v,...!rJ(y)&&{ownerState:{...d,...i.ownerState}},...p,children:[T,D&&vG.jsx(eD,{children:D})]})})});ag.propTypes={alignItems:D4.default.oneOf(["center","flex-start"]),children:I7(D4.default.node,(J)=>{let Z=KZ.Children.toArray(J.children),Q=-1;for(let Y=Z.length-1;Y>=0;Y-=1){let $=Z[Y];if(VW($,["ListItemSecondaryAction"])){Q=Y;break}}if(Q!==-1&&Q!==Z.length-1)return Error("MUI: You used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem.");return null}),classes:D4.default.object,className:D4.default.string,component:D4.default.elementType,components:D4.default.shape({Root:D4.default.elementType}),componentsProps:D4.default.shape({root:D4.default.object}),ContainerComponent:VX,ContainerProps:D4.default.object,dense:D4.default.bool,disableGutters:D4.default.bool,disablePadding:D4.default.bool,divider:D4.default.bool,secondaryAction:D4.default.node,slotProps:D4.default.shape({root:D4.default.object}),slots:D4.default.shape({root:D4.default.elementType}),sx:D4.default.oneOfType([D4.default.arrayOf(D4.default.oneOfType([D4.default.func,D4.default.object,D4.default.bool])),D4.default.func,D4.default.object])};var xX=ag;var S41=x0("MuiListItemIcon",["root","alignItemsFlexStart"]),$_=S41;var H_=e(J0(),1),J4=e(l0(),1);function sg(J){return k0("MuiListItemText",J)}var T41=x0("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),RX=T41;var NN=e(F0(),1),P41=(J)=>{let{classes:Z,inset:Q,primary:Y,secondary:$,dense:H}=J;return R0({root:["root",Q&&"inset",H&&"dense",Y&&$&&"multiline"],primary:["primary"],secondary:["secondary"]},sg,Z)},g41=o1("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[{[`& .${RX.primary}`]:Z.primary},{[`& .${RX.secondary}`]:Z.secondary},Z.root,Q.inset&&Z.inset,Q.primary&&Q.secondary&&Z.multiline,Q.dense&&Z.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${RM.root}:where(& .${RX.primary})`]:{display:"block"},[`.${RM.root}:where(& .${RX.secondary})`]:{display:"block"},variants:[{props:({ownerState:J})=>J.primary&&J.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:J})=>J.inset,style:{paddingLeft:56}}]}),og=H_.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiListItemText"}),{children:$,className:H,disableTypography:K=!1,inset:B=!1,primary:q,primaryTypographyProps:L,secondary:O,secondaryTypographyProps:z,slots:F={},slotProps:V={},...A}=Y,{dense:M}=H_.useContext(z3),j=q!=null?q:$,D=O,w={...Y,disableTypography:K,inset:B,primary:!!j,secondary:!!D,dense:M},C=P41(w),I={slots:F,slotProps:{primary:L,secondary:z,...V}},[b,E]=V2("root",{className:L0(C.root,H),elementType:g41,externalForwardedProps:{...I,...A},ownerState:w,ref:Q}),[k,T]=V2("primary",{className:C.primary,elementType:a1,externalForwardedProps:I,ownerState:w}),[S,d]=V2("secondary",{className:C.secondary,elementType:a1,externalForwardedProps:I,ownerState:w});if(j!=null&&j.type!==a1&&!K)j=NN.jsx(k,{variant:M?"body2":"body1",component:T?.variant?void 0:"span",...T,children:j});if(D!=null&&D.type!==a1&&!K)D=NN.jsx(S,{variant:"body2",color:"textSecondary",...d,children:D});return NN.jsxs(b,{...E,children:[j,D]})});og.propTypes={children:J4.default.node,classes:J4.default.object,className:J4.default.string,disableTypography:J4.default.bool,inset:J4.default.bool,primary:J4.default.node,primaryTypographyProps:J4.default.object,secondary:J4.default.node,secondaryTypographyProps:J4.default.object,slotProps:J4.default.shape({primary:J4.default.oneOfType([J4.default.func,J4.default.object]),root:J4.default.oneOfType([J4.default.func,J4.default.object]),secondary:J4.default.oneOfType([J4.default.func,J4.default.object])}),slots:J4.default.shape({primary:J4.default.elementType,root:J4.default.elementType,secondary:J4.default.elementType}),sx:J4.default.oneOfType([J4.default.arrayOf(J4.default.oneOfType([J4.default.func,J4.default.object,J4.default.bool])),J4.default.func,J4.default.object])};var CX=og;var fG=e(J0(),1),Ky=e(KU(),1),h2=e(l0(),1);var x8=e(J0(),1),eg=e(KU(),1),bX=e(l0(),1);var rg=rU;var Jy=e(F0(),1);function Jw(J,Z,Q){if(J===Z)return J.firstChild;if(Z&&Z.nextElementSibling)return Z.nextElementSibling;return Q?null:J.firstChild}function tg(J,Z,Q){if(J===Z)return Q?J.firstChild:J.lastChild;if(Z&&Z.previousElementSibling)return Z.previousElementSibling;return Q?null:J.lastChild}function Zy(J,Z){if(Z===void 0)return!0;let Q=J.innerText;if(Q===void 0)Q=J.textContent;if(Q=Q.trim().toLowerCase(),Q.length===0)return!1;if(Z.repeating)return Q[0]===Z.keys[0];return Q.startsWith(Z.keys.join(""))}function FN(J,Z,Q,Y,$,H){let K=!1,B=$(J,Z,Z?Q:!1);while(B){if(B===J.firstChild){if(K)return!1;K=!0}let q=Y?!1:B.disabled||B.getAttribute("aria-disabled")==="true";if(!B.hasAttribute("tabindex")||!Zy(B,H)||q)B=$(J,B,Q);else return B.focus(),!0}return!1}var Qy=x8.forwardRef(function(Z,Q){let{actions:Y,autoFocus:$=!1,autoFocusItem:H=!1,children:K,className:B,disabledItemsFocusable:q=!1,disableListWrap:L=!1,onKeyDown:O,variant:z="selectedMenu",...F}=Z,V=x8.useRef(null),A=x8.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xU(()=>{if($)V.current.focus()},[$]),x8.useImperativeHandle(Y,()=>({adjustStyleForScrollbar:(C,{direction:I})=>{let b=!V.current.style.width;if(C.clientHeight<V.current.clientHeight&&b){let E=`${rg(kU(C))}px`;V.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=E,V.current.style.width=`calc(100% + ${E})`}return V.current}}),[]);let M=(C)=>{let I=V.current,b=C.key;if(C.ctrlKey||C.metaKey||C.altKey){if(O)O(C);return}let k=IW(I).activeElement;if(b==="ArrowDown")C.preventDefault(),FN(I,k,L,q,Jw);else if(b==="ArrowUp")C.preventDefault(),FN(I,k,L,q,tg);else if(b==="Home")C.preventDefault(),FN(I,null,L,q,Jw);else if(b==="End")C.preventDefault(),FN(I,null,L,q,tg);else if(b.length===1){let T=A.current,S=b.toLowerCase(),d=performance.now();if(T.keys.length>0){if(d-T.lastTime>500)T.keys=[],T.repeating=!0,T.previousKeyMatched=!0;else if(T.repeating&&S!==T.keys[0])T.repeating=!1}T.lastTime=d,T.keys.push(S);let o=k&&!T.repeating&&Zy(k,T);if(T.previousKeyMatched&&(o||FN(I,k,!1,q,Jw,T)))C.preventDefault();else T.previousKeyMatched=!1}if(O)O(C)},j=m4(V,Q),D=-1;x8.Children.forEach(K,(C,I)=>{if(!x8.isValidElement(C)){if(D===I){if(D+=1,D>=K.length)D=-1}return}if(eg.isFragment(C))console.error(["MUI: The Menu component doesn't accept a Fragment as a child.","Consider providing an array instead."].join(`
`));if(!C.props.disabled){if(z==="selectedMenu"&&C.props.selected)D=I;else if(D===-1)D=I}if(D===I&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)){if(D+=1,D>=K.length)D=-1}});let w=x8.Children.map(K,(C,I)=>{if(I===D){let b={};if(H)b.autoFocus=!0;if(C.props.tabIndex===void 0&&z==="selectedMenu")b.tabIndex=0;return x8.cloneElement(C,b)}return C});return Jy.jsx(kX,{role:"menu",ref:j,className:B,onKeyDown:M,tabIndex:$?0:-1,...F,children:w})});Qy.propTypes={autoFocus:bX.default.bool,autoFocusItem:bX.default.bool,children:bX.default.node,className:bX.default.string,disabledItemsFocusable:bX.default.bool,disableListWrap:bX.default.bool,onKeyDown:bX.default.func,variant:bX.default.oneOf(["menu","selectedMenu"])};var Zw=Qy;var q9=e(J0(),1),G2=e(l0(),1);function Xy(J){return k0("MuiPopover",J)}var Ia1=x0("MuiPopover",["root","paper"]);var W_=e(F0(),1);function Yy(J,Z){let Q=0;if(typeof Z==="number")Q=Z;else if(Z==="center")Q=J.height/2;else if(Z==="bottom")Q=J.height;return Q}function Gy(J,Z){let Q=0;if(typeof Z==="number")Q=Z;else if(Z==="center")Q=J.width/2;else if(Z==="right")Q=J.width;return Q}function $y(J){return[J.horizontal,J.vertical].map((Z)=>typeof Z==="number"?`${Z}px`:Z).join(" ")}function AN(J){return typeof J==="function"?J():J}var y41=(J)=>{let{classes:Z}=J;return R0({root:["root"],paper:["paper"]},Xy,Z)},h41=o1(LN,{name:"MuiPopover",slot:"Root"})({}),Qw=o1(K5,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Hy=q9.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiPopover"}),{action:$,anchorEl:H,anchorOrigin:K={vertical:"top",horizontal:"left"},anchorPosition:B,anchorReference:q="anchorEl",children:L,className:O,container:z,elevation:F=8,marginThreshold:V=16,open:A,PaperProps:M={},slots:j={},slotProps:D={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:I="auto",TransitionProps:b={},disableScrollLock:E=!1,...k}=Y,T=q9.useRef(),S={...Y,anchorOrigin:K,anchorReference:q,elevation:F,marginThreshold:V,transformOrigin:w,TransitionComponent:C,transitionDuration:I,TransitionProps:b},d=y41(S),o=q9.useCallback(()=>{if(q==="anchorPosition"){if(!B)console.error('MUI: You need to provide a `anchorPosition` prop when using <Popover anchorReference="anchorPosition" />.');return B}let h1=AN(H),G1=h1&&h1.nodeType===1?h1:IW(T.current).body,a=G1.getBoundingClientRect();{let M1=G1.getBoundingClientRect();if(M1.top===0&&M1.left===0&&M1.right===0&&M1.bottom===0)console.warn(["MUI: The `anchorEl` prop provided to the component is invalid.","The anchor element should be part of the document layout.","Make sure the element is present in the document or that it's not display none."].join(`
`))}return{top:a.top+Yy(a,K.vertical),left:a.left+Gy(a,K.horizontal)}},[H,K.horizontal,K.vertical,B,q]),v=q9.useCallback((h1)=>{return{vertical:Yy(h1,w.vertical),horizontal:Gy(h1,w.horizontal)}},[w.horizontal,w.vertical]),y=q9.useCallback((h1)=>{let G1={width:h1.offsetWidth,height:h1.offsetHeight},a=v(G1);if(q==="none")return{top:null,left:null,transformOrigin:$y(a)};let M1=o(),D1=M1.top-a.vertical,g1=M1.left-a.horizontal,u1=D1+G1.height,C1=g1+G1.width,x1=kU(AN(H)),v1=x1.innerHeight-V,p1=x1.innerWidth-V;if(V!==null&&D1<V){let y1=D1-V;D1-=y1,a.vertical+=y1}else if(V!==null&&u1>v1){let y1=u1-v1;D1-=y1,a.vertical+=y1}if(G1.height>v1&&G1.height&&v1)console.error(["MUI: The popover component is too tall.",`Some part of it can not be seen on the screen (${G1.height-v1}px).`,"Please consider adding a `max-height` to improve the user-experience."].join(`
`));if(V!==null&&g1<V){let y1=g1-V;g1-=y1,a.horizontal+=y1}else if(C1>p1){let y1=C1-p1;g1-=y1,a.horizontal+=y1}return{top:`${Math.round(D1)}px`,left:`${Math.round(g1)}px`,transformOrigin:$y(a)}},[H,q,o,v,V]),[i,p]=q9.useState(A),l=q9.useCallback(()=>{let h1=T.current;if(!h1)return;let G1=y(h1);if(G1.top!==null)h1.style.setProperty("top",G1.top);if(G1.left!==null)h1.style.left=G1.left;h1.style.transformOrigin=G1.transformOrigin,p(!0)},[y]);q9.useEffect(()=>{if(E)window.addEventListener("scroll",l);return()=>window.removeEventListener("scroll",l)},[H,E,l]);let t=()=>{l()},Q1=()=>{p(!1)};q9.useEffect(()=>{if(A)l()}),q9.useImperativeHandle($,()=>A?{updatePosition:()=>{l()}}:null,[A,l]),q9.useEffect(()=>{if(!A)return;let h1=FS(()=>{l()}),G1=kU(AN(H));return G1.addEventListener("resize",h1),()=>{h1.clear(),G1.removeEventListener("resize",h1)}},[H,A,l]);let m=I,K1={slots:{transition:C,...j},slotProps:{transition:b,paper:M,...D}},[g,n]=V2("transition",{elementType:lW,externalForwardedProps:K1,ownerState:S,getSlotProps:(h1)=>({...h1,onEntering:(G1,a)=>{h1.onEntering?.(G1,a),t()},onExited:(G1)=>{h1.onExited?.(G1),Q1()}}),additionalProps:{appear:!0,in:A}});if(I==="auto"&&!g.muiSupportAuto)m=void 0;let Z1=z||(H?IW(AN(H)).body:void 0),[J1,{slots:z1,slotProps:V1,...w1}]=V2("root",{ref:Q,elementType:h41,externalForwardedProps:{...K1,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:j.backdrop},slotProps:{backdrop:LM(typeof D.backdrop==="function"?D.backdrop(S):D.backdrop,{invisible:!0})},container:Z1,open:A},ownerState:S,className:L0(d.root,O)}),[m1,r1]=V2("paper",{ref:T,className:d.paper,elementType:Qw,externalForwardedProps:K1,shouldForwardComponentProp:!0,additionalProps:{elevation:F,style:i?void 0:{opacity:0}},ownerState:S});return W_.jsx(J1,{...w1,...!rJ(J1)&&{slots:z1,slotProps:V1,disableScrollLock:E},children:W_.jsx(g,{...n,timeout:m,children:W_.jsx(m1,{...r1,children:L})})})});Hy.propTypes={action:j7,anchorEl:I7(G2.default.oneOfType([G9,G2.default.func]),(J)=>{if(J.open&&(!J.anchorReference||J.anchorReference==="anchorEl")){let Z=AN(J.anchorEl);if(Z&&Z.nodeType===1){let Q=Z.getBoundingClientRect();if(Q.top===0&&Q.left===0&&Q.right===0&&Q.bottom===0)return Error(["MUI: The `anchorEl` prop provided to the component is invalid.","The anchor element should be part of the document layout.","Make sure the element is present in the document or that it's not display none."].join(`
`))}else return Error(["MUI: The `anchorEl` prop provided to the component is invalid.",`It should be an Element or PopoverVirtualElement instance but it's \`${Z}\` instead.`].join(`
`))}return null}),anchorOrigin:G2.default.shape({horizontal:G2.default.oneOfType([G2.default.oneOf(["center","left","right"]),G2.default.number]).isRequired,vertical:G2.default.oneOfType([G2.default.oneOf(["bottom","center","top"]),G2.default.number]).isRequired}),anchorPosition:G2.default.shape({left:G2.default.number.isRequired,top:G2.default.number.isRequired}),anchorReference:G2.default.oneOf(["anchorEl","anchorPosition","none"]),BackdropComponent:G2.default.elementType,BackdropProps:G2.default.object,children:G2.default.node,classes:G2.default.object,className:G2.default.string,container:G2.default.oneOfType([G9,G2.default.func]),disableScrollLock:G2.default.bool,elevation:lz,marginThreshold:G2.default.number,onClose:G2.default.func,open:G2.default.bool.isRequired,PaperProps:G2.default.shape({component:VX}),slotProps:G2.default.shape({backdrop:G2.default.oneOfType([G2.default.func,G2.default.object]),paper:G2.default.oneOfType([G2.default.func,G2.default.object]),root:G2.default.oneOfType([G2.default.func,G2.default.object]),transition:G2.default.oneOfType([G2.default.func,G2.default.object])}),slots:G2.default.shape({backdrop:G2.default.elementType,paper:G2.default.elementType,root:G2.default.elementType,transition:G2.default.elementType}),sx:G2.default.oneOfType([G2.default.arrayOf(G2.default.oneOfType([G2.default.func,G2.default.object,G2.default.bool])),G2.default.func,G2.default.object]),transformOrigin:G2.default.shape({horizontal:G2.default.oneOfType([G2.default.oneOf(["center","left","right"]),G2.default.number]).isRequired,vertical:G2.default.oneOfType([G2.default.oneOf(["bottom","center","top"]),G2.default.number]).isRequired}),TransitionComponent:G2.default.elementType,transitionDuration:G2.default.oneOfType([G2.default.oneOf(["auto"]),G2.default.number,G2.default.shape({appear:G2.default.number,enter:G2.default.number,exit:G2.default.number})]),TransitionProps:G2.default.object};var Xw=Hy;function Wy(J){return k0("MuiMenu",J)}var oa1=x0("MuiMenu",["root","paper","list"]);var Yw=e(F0(),1),u41={vertical:"top",horizontal:"right"},d41={vertical:"top",horizontal:"left"},m41=(J)=>{let{classes:Z}=J;return R0({root:["root"],paper:["paper"],list:["list"]},Wy,Z)},c41=o1(Xw,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiMenu",slot:"Root"})({}),p41=o1(Qw,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),l41=o1(Zw,{name:"MuiMenu",slot:"List"})({outline:0}),By=fG.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiMenu"}),{autoFocus:$=!0,children:H,className:K,disableAutoFocusItem:B=!1,MenuListProps:q={},onClose:L,open:O,PaperProps:z={},PopoverClasses:F,transitionDuration:V="auto",TransitionProps:{onEntering:A,...M}={},variant:j="selectedMenu",slots:D={},slotProps:w={},...C}=Y,I=qQ(),b={...Y,autoFocus:$,disableAutoFocusItem:B,MenuListProps:q,onEntering:A,PaperProps:z,transitionDuration:V,TransitionProps:M,variant:j},E=m41(b),k=$&&!B&&O,T=fG.useRef(null),S=(m,K1)=>{if(T.current)T.current.adjustStyleForScrollbar(m,{direction:I?"rtl":"ltr"});if(A)A(m,K1)},d=(m)=>{if(m.key==="Tab"){if(m.preventDefault(),L)L(m,"tabKeyDown")}},o=-1;fG.Children.map(H,(m,K1)=>{if(!fG.isValidElement(m))return;if(Ky.isFragment(m))console.error(["MUI: The Menu component doesn't accept a Fragment as a child.","Consider providing an array instead."].join(`
`));if(!m.props.disabled){if(j==="selectedMenu"&&m.props.selected)o=K1;else if(o===-1)o=K1}});let v={slots:D,slotProps:{list:q,transition:M,paper:z,...w}},y=ZN({elementType:D.root,externalSlotProps:w.root,ownerState:b,className:[E.root,K]}),[i,p]=V2("paper",{className:E.paper,elementType:p41,externalForwardedProps:v,shouldForwardComponentProp:!0,ownerState:b}),[l,t]=V2("list",{className:L0(E.list,q.className),elementType:l41,shouldForwardComponentProp:!0,externalForwardedProps:v,getSlotProps:(m)=>({...m,onKeyDown:(K1)=>{d(K1),m.onKeyDown?.(K1)}}),ownerState:b}),Q1=typeof v.slotProps.transition==="function"?v.slotProps.transition(b):v.slotProps.transition;return Yw.jsx(c41,{onClose:L,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?u41:d41,slots:{root:D.root,paper:i,backdrop:D.backdrop,...D.transition&&{transition:D.transition}},slotProps:{root:y,paper:p,backdrop:typeof w.backdrop==="function"?w.backdrop(b):w.backdrop,transition:{...Q1,onEntering:(...m)=>{S(...m),Q1?.onEntering?.(...m)}}},open:O,ref:Q,transitionDuration:V,ownerState:b,...C,classes:F,children:Yw.jsx(l,{actions:T,autoFocus:$&&(o===-1||B),autoFocusItem:k,variant:j,...t,children:H})})});By.propTypes={anchorEl:h2.default.oneOfType([G9,h2.default.func]),autoFocus:h2.default.bool,children:h2.default.node,classes:h2.default.object,className:h2.default.string,disableAutoFocusItem:h2.default.bool,MenuListProps:h2.default.object,onClose:h2.default.func,open:h2.default.bool.isRequired,PaperProps:h2.default.object,PopoverClasses:h2.default.object,slotProps:h2.default.shape({backdrop:h2.default.oneOfType([h2.default.func,h2.default.object]),list:h2.default.oneOfType([h2.default.func,h2.default.object]),paper:h2.default.oneOfType([h2.default.func,h2.default.object]),root:h2.default.oneOfType([h2.default.func,h2.default.object]),transition:h2.default.oneOfType([h2.default.func,h2.default.object])}),slots:h2.default.shape({backdrop:h2.default.elementType,list:h2.default.elementType,paper:h2.default.elementType,root:h2.default.elementType,transition:h2.default.elementType}),sx:h2.default.oneOfType([h2.default.arrayOf(h2.default.oneOfType([h2.default.func,h2.default.object,h2.default.bool])),h2.default.func,h2.default.object]),transitionDuration:h2.default.oneOfType([h2.default.oneOf(["auto"]),h2.default.number,h2.default.shape({appear:h2.default.number,enter:h2.default.number,exit:h2.default.number})]),TransitionProps:h2.default.object,variant:h2.default.oneOf(["menu","selectedMenu"])};var qy=By;var SG=e(J0(),1),c7=e(l0(),1);function Uy(J){return k0("MuiMenuItem",J)}var i41=x0("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),XL=i41;var Gw=e(F0(),1),n41=(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Q.dense&&Z.dense,Q.divider&&Z.divider,!Q.disableGutters&&Z.gutters]},a41=(J)=>{let{disabled:Z,dense:Q,divider:Y,disableGutters:$,selected:H,classes:K}=J,q=R0({root:["root",Q&&"dense",Z&&"disabled",!$&&"gutters",Y&&"divider",H&&"selected"]},Uy,K);return{...K,...q}},s41=o1(KJ,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:n41})(e0(({theme:J})=>({...J.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(J.vars||J).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${XL.selected}`]:{backgroundColor:J.alpha((J.vars||J).palette.primary.main,(J.vars||J).palette.action.selectedOpacity),[`&.${XL.focusVisible}`]:{backgroundColor:J.alpha((J.vars||J).palette.primary.main,`${(J.vars||J).palette.action.selectedOpacity} + ${(J.vars||J).palette.action.focusOpacity}`)}},[`&.${XL.selected}:hover`]:{backgroundColor:J.alpha((J.vars||J).palette.primary.main,`${(J.vars||J).palette.action.selectedOpacity} + ${(J.vars||J).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:J.alpha((J.vars||J).palette.primary.main,(J.vars||J).palette.action.selectedOpacity)}},[`&.${XL.focusVisible}`]:{backgroundColor:(J.vars||J).palette.action.focus},[`&.${XL.disabled}`]:{opacity:(J.vars||J).palette.action.disabledOpacity},[`& + .${eM.root}`]:{marginTop:J.spacing(1),marginBottom:J.spacing(1)},[`& + .${eM.inset}`]:{marginLeft:52},[`& .${RX.root}`]:{marginTop:0,marginBottom:0},[`& .${RX.inset}`]:{paddingLeft:36},[`& .${$_.root}`]:{minWidth:36},variants:[{props:({ownerState:Z})=>!Z.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:Z})=>Z.divider,style:{borderBottom:`1px solid ${(J.vars||J).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:Z})=>!Z.dense,style:{[J.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:Z})=>Z.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...J.typography.body2,[`& .${$_.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ly=SG.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiMenuItem"}),{autoFocus:$=!1,component:H="li",dense:K=!1,divider:B=!1,disableGutters:q=!1,focusVisibleClassName:L,role:O="menuitem",tabIndex:z,className:F,...V}=Y,A=SG.useContext(z3),M=SG.useMemo(()=>({dense:K||A.dense||!1,disableGutters:q}),[A.dense,K,q]),j=SG.useRef(null);xU(()=>{if($)if(j.current)j.current.focus();else console.error("MUI: Unable to set focus to a MenuItem whose component has not been rendered.")},[$]);let D={...Y,dense:M.dense,divider:B,disableGutters:q},w=a41(Y),C=m4(j,Q),I;if(!Y.disabled)I=z!==void 0?z:-1;return Gw.jsx(z3.Provider,{value:M,children:Gw.jsx(s41,{ref:C,role:O,tabIndex:I,component:H,focusVisibleClassName:L0(w.focusVisible,L),className:L0(w.root,F),...V,ownerState:D,classes:w})})});Ly.propTypes={autoFocus:c7.default.bool,children:c7.default.node,classes:c7.default.object,className:c7.default.string,component:c7.default.elementType,dense:c7.default.bool,disabled:c7.default.bool,disableGutters:c7.default.bool,divider:c7.default.bool,focusVisibleClassName:c7.default.string,role:c7.default.string,selected:c7.default.bool,sx:c7.default.oneOfType([c7.default.arrayOf(c7.default.oneOfType([c7.default.func,c7.default.object,c7.default.bool])),c7.default.func,c7.default.object]),tabIndex:c7.default.number};var YL=Ly;var B_=e(J0(),1),AJ=e(l0(),1);function Oy(J){return k0("MuiNativeSelect",J)}var o41=x0("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),K_=o41;var MN=e(F0(),1),r41=(J)=>{let{classes:Z,variant:Q,disabled:Y,multiple:$,open:H,error:K}=J,B={select:["select",Q,Y&&"disabled",$&&"multiple",K&&"error"],icon:["icon",`icon${G0(Q)}`,H&&"iconOpen",Y&&"disabled"]};return R0(B,Oy,Z)},$w=o1("select",{name:"MuiNativeSelect"})(({theme:J})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${K_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(J.vars||J).palette.background.paper},variants:[{props:({ownerState:Z})=>Z.variant!=="filled"&&Z.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(J.vars||J).shape.borderRadius,"&:focus":{borderRadius:(J.vars||J).shape.borderRadius},"&&&":{paddingRight:32}}}]})),t41=o1($w,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:e4,overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.select,Z[Q.variant],Q.error&&Z.error,{[`&.${K_.multiple}`]:Z.multiple}]}})({}),Hw=o1("svg",{name:"MuiNativeSelect"})(({theme:J})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(J.vars||J).palette.action.active,[`&.${K_.disabled}`]:{color:(J.vars||J).palette.action.disabled},variants:[{props:({ownerState:Z})=>Z.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),e41=o1(Hw,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.icon,Q.variant&&Z[`icon${G0(Q.variant)}`],Q.open&&Z.iconOpen]}})({}),zy=B_.forwardRef(function(Z,Q){let{className:Y,disabled:$,error:H,IconComponent:K,inputRef:B,variant:q="standard",...L}=Z,O={...Z,disabled:$,variant:q,error:H},z=r41(O);return MN.jsxs(B_.Fragment,{children:[MN.jsx(t41,{ownerState:O,className:L0(z.select,Y),disabled:$,ref:B||Q,...L}),Z.multiple?null:MN.jsx(e41,{as:K,ownerState:O,className:z.icon})]})});zy.propTypes={children:AJ.default.node,classes:AJ.default.object,className:AJ.default.string,disabled:AJ.default.bool,error:AJ.default.bool,IconComponent:AJ.default.elementType.isRequired,inputRef:j7,multiple:AJ.default.bool,name:AJ.default.string,onChange:AJ.default.func,value:AJ.default.any,variant:AJ.default.oneOf(["standard","outlined","filled"])};var Ny=zy;var U_=e(J0(),1),k2=e(l0(),1);var cs1=e(J0(),1),iW=e(l0(),1);var _N=e(F0(),1),Fy,J71=o1("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:e4})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Z71=o1("legend",{name:"MuiNotchedOutlined",shouldForwardProp:e4})(e0(({theme:J})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:Z})=>!Z.withLabel,style:{padding:0,lineHeight:"11px",transition:J.transitions.create("width",{duration:150,easing:J.transitions.easing.easeOut})}},{props:({ownerState:Z})=>Z.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:0.01,transition:J.transitions.create("max-width",{duration:50,easing:J.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:Z})=>Z.withLabel&&Z.notched,style:{maxWidth:"100%",transition:J.transitions.create("max-width",{duration:100,easing:J.transitions.easing.easeOut,delay:50})}}]})));function q_(J){let{children:Z,classes:Q,className:Y,label:$,notched:H,...K}=J,B=$!=null&&$!=="",q={...J,notched:H,withLabel:B};return _N.jsx(J71,{"aria-hidden":!0,className:Y,ownerState:q,...K,children:_N.jsx(Z71,{ownerState:q,children:B?_N.jsx("span",{children:$}):Fy||(Fy=_N.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}q_.propTypes={children:iW.default.node,classes:iW.default.object,className:iW.default.string,label:iW.default.node,notched:iW.default.bool.isRequired,style:iW.default.object};var VN=e(F0(),1),Q71=(J)=>{let{classes:Z}=J,Y=R0({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$P,Z);return{...Z,...Y}},X71=o1(hW,{shouldForwardProp:(J)=>e4(J)||J==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gW})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(J.vars||J).shape.borderRadius,[`&:hover .${GZ.notchedOutline}`]:{borderColor:(J.vars||J).palette.text.primary},"@media (hover: none)":{[`&:hover .${GZ.notchedOutline}`]:{borderColor:J.vars?J.alpha(J.vars.palette.common.onBackground,0.23):Z}},[`&.${GZ.focused} .${GZ.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(J.palette).filter(I5()).map(([Q])=>({props:{color:Q},style:{[`&.${GZ.focused} .${GZ.notchedOutline}`]:{borderColor:(J.vars||J).palette[Q].main}}})),{props:{},style:{[`&.${GZ.error} .${GZ.notchedOutline}`]:{borderColor:(J.vars||J).palette.error.main},[`&.${GZ.disabled} .${GZ.notchedOutline}`]:{borderColor:(J.vars||J).palette.action.disabled}}},{props:({ownerState:Q})=>Q.startAdornment,style:{paddingLeft:14}},{props:({ownerState:Q})=>Q.endAdornment,style:{paddingRight:14}},{props:({ownerState:Q})=>Q.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:Q,size:Y})=>Q.multiline&&Y==="small",style:{padding:"8.5px 14px"}}]}})),Y71=o1(q_,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:J.vars?J.alpha(J.vars.palette.common.onBackground,0.23):Z}})),G71=o1(uW,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:yW})(e0(({theme:J})=>({padding:"16.5px 14px",...!J.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:J.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:J.palette.mode==="light"?null:"#fff",caretColor:J.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...J.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[J.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:Z})=>Z.multiline,style:{padding:0}},{props:({ownerState:Z})=>Z.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Z})=>Z.endAdornment,style:{paddingRight:0}}]}))),Ww=U_.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiOutlinedInput"}),{components:$={},fullWidth:H=!1,inputComponent:K="input",label:B,multiline:q=!1,notched:L,slots:O={},slotProps:z={},type:F="text",...V}=Y,A=Q71(Y),M=H3(),j=$3({props:Y,muiFormControl:M,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),D={...Y,color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:M,fullWidth:H,hiddenLabel:j.hiddenLabel,multiline:q,size:j.size,type:F},w=O.root??$.Root??X71,C=O.input??$.Input??G71,[I,b]=V2("notchedOutline",{elementType:Y71,className:A.notchedOutline,shouldForwardComponentProp:!0,ownerState:D,externalForwardedProps:{slots:O,slotProps:z},additionalProps:{label:B!=null&&B!==""&&j.required?VN.jsxs(U_.Fragment,{children:[B," ","*"]}):B}});return VN.jsx(dW,{slots:{root:w,input:C},slotProps:z,renderSuffix:(E)=>VN.jsx(I,{...b,notched:typeof L<"u"?L:Boolean(E.startAdornment||E.filled||E.focused)}),fullWidth:H,inputComponent:K,multiline:q,ref:Q,type:F,...V,classes:{...A,notchedOutline:null}})});Ww.propTypes={autoComplete:k2.default.string,autoFocus:k2.default.bool,classes:k2.default.object,color:k2.default.oneOfType([k2.default.oneOf(["primary","secondary"]),k2.default.string]),components:k2.default.shape({Input:k2.default.elementType,Root:k2.default.elementType}),defaultValue:k2.default.any,disabled:k2.default.bool,endAdornment:k2.default.node,error:k2.default.bool,fullWidth:k2.default.bool,id:k2.default.string,inputComponent:k2.default.elementType,inputProps:k2.default.object,inputRef:j7,label:k2.default.node,margin:k2.default.oneOf(["dense","none"]),maxRows:k2.default.oneOfType([k2.default.number,k2.default.string]),minRows:k2.default.oneOfType([k2.default.number,k2.default.string]),multiline:k2.default.bool,name:k2.default.string,notched:k2.default.bool,onChange:k2.default.func,placeholder:k2.default.string,readOnly:k2.default.bool,required:k2.default.bool,rows:k2.default.oneOfType([k2.default.number,k2.default.string]),slotProps:k2.default.shape({input:k2.default.object,notchedOutline:k2.default.oneOfType([k2.default.func,k2.default.object]),root:k2.default.object}),slots:k2.default.shape({input:k2.default.elementType,notchedOutline:k2.default.elementType,root:k2.default.elementType}),startAdornment:k2.default.node,sx:k2.default.oneOfType([k2.default.arrayOf(k2.default.oneOfType([k2.default.func,k2.default.object,k2.default.bool])),k2.default.func,k2.default.object]),type:k2.default.string,value:k2.default.any};Ww.muiName="Input";var IN=Ww;var _Q=e(J0(),1),r0=e(l0(),1);var $71={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},Kw=$71;var Oo1=e(J0(),1);var Ay=e(F0(),1),My=u0(Ay.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");var Fo1=e(J0(),1);var _y=e(F0(),1),Vy=u0(_y.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Iy(J){return k0("MuiRating",J)}var H71=x0("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),GL=H71;var U9=e(F0(),1),jy=e(J0(),1);function W71(J){let Z=J.toString().split(".")[1];return Z?Z.length:0}function Bw(J,Z){if(J==null)return J;let Q=Math.round(J/Z)*Z;return Number(Q.toFixed(W71(Z)))}var K71=(J)=>{let{classes:Z,size:Q,readOnly:Y,disabled:$,emptyValueFocused:H,focusVisible:K}=J,B={root:["root",`size${G0(Q)}`,$&&"disabled",K&&"focusVisible",Y&&"readOnly"],label:["label","pristine"],labelEmptyValue:[H&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return R0(B,Iy,Z)},B71=o1("span",{name:"MuiRating",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[{[`& .${GL.visuallyHidden}`]:Z.visuallyHidden},Z.root,Z[`size${G0(Q.size)}`],Q.readOnly&&Z.readOnly]}})(e0(({theme:J})=>({display:"inline-flex",position:"relative",fontSize:J.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${GL.disabled}`]:{opacity:(J.vars||J).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${GL.focusVisible} .${GL.iconActive}`]:{outline:"1px solid #999"},[`& .${GL.visuallyHidden}`]:Kw,variants:[{props:{size:"small"},style:{fontSize:J.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:J.typography.pxToRem(30)}},{props:({ownerState:Z})=>Z.readOnly,style:{pointerEvents:"none"}}]}))),Dy=o1("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:J},Z)=>[Z.label,J.emptyValueFocused&&Z.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:J})=>J.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),q71=o1("span",{name:"MuiRating",slot:"Icon",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.icon,Q.iconEmpty&&Z.iconEmpty,Q.iconFilled&&Z.iconFilled,Q.iconHover&&Z.iconHover,Q.iconFocus&&Z.iconFocus,Q.iconActive&&Z.iconActive]}})(e0(({theme:J})=>({display:"flex",transition:J.transitions.create("transform",{duration:J.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:Z})=>Z.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:Z})=>Z.iconEmpty,style:{color:(J.vars||J).palette.action.disabled}}]}))),U71=o1("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:(J)=>wU(J)&&J!=="iconActive",overridesResolver:(J,Z)=>{let{iconActive:Q}=J;return[Z.decimal,Q&&Z.iconActive]}})({position:"relative",variants:[{props:({iconActive:J})=>J,style:{transform:"scale(1.2)"}}]});function wy(J){let{value:Z,...Q}=J;return U9.jsx("span",{...Q})}wy.propTypes={value:r0.default.number.isRequired};function qw(J){let{classes:Z,disabled:Q,emptyIcon:Y,focus:$,getLabelText:H,highlightSelectedOnly:K,hover:B,icon:q,IconContainerComponent:L,isActive:O,itemValue:z,labelProps:F,name:V,onBlur:A,onChange:M,onClick:j,onFocus:D,readOnly:w,ownerState:C,ratingValue:I,ratingValueRounded:b,slots:E={},slotProps:k={}}=J,T=K?z===I:z<=I,S=z<=B,d=z<=$,o=z===b,v=`${V}-${OQ()}`,y={slots:E,slotProps:k},[i,p]=V2("icon",{elementType:q71,className:L0(Z.icon,T?Z.iconFilled:Z.iconEmpty,S&&Z.iconHover,d&&Z.iconFocus,O&&Z.iconActive),externalForwardedProps:y,ownerState:{...C,iconEmpty:!T,iconFilled:T,iconHover:S,iconFocus:d,iconActive:O},additionalProps:{value:z},internalForwardedProps:{as:L}}),[l,t]=V2("label",{elementType:Dy,externalForwardedProps:y,ownerState:{...C,emptyValueFocused:void 0},additionalProps:{style:F?.style,htmlFor:v}}),Q1=U9.jsx(i,{...p,children:Y&&!T?Y:q});if(w)return U9.jsx("span",{...F,children:Q1});return U9.jsxs(_Q.Fragment,{children:[U9.jsxs(l,{...t,children:[Q1,U9.jsx("span",{className:Z.visuallyHidden,children:H(z)})]}),U9.jsx("input",{className:Z.visuallyHidden,onFocus:D,onBlur:A,onChange:M,onClick:j,disabled:Q,value:z,id:v,type:"radio",name:V,checked:o})]})}qw.propTypes={classes:r0.default.object.isRequired,disabled:r0.default.bool.isRequired,emptyIcon:r0.default.node,focus:r0.default.number.isRequired,getLabelText:r0.default.func.isRequired,highlightSelectedOnly:r0.default.bool.isRequired,hover:r0.default.number.isRequired,icon:r0.default.node,IconContainerComponent:r0.default.elementType.isRequired,isActive:r0.default.bool.isRequired,itemValue:r0.default.number.isRequired,labelProps:r0.default.object,name:r0.default.string,onBlur:r0.default.func.isRequired,onChange:r0.default.func.isRequired,onClick:r0.default.func.isRequired,onFocus:r0.default.func.isRequired,ownerState:r0.default.object.isRequired,ratingValue:r0.default.number,ratingValueRounded:r0.default.number,readOnly:r0.default.bool.isRequired,slotProps:r0.default.object,slots:r0.default.object};var L71=U9.jsx(My,{fontSize:"inherit"}),O71=U9.jsx(Vy,{fontSize:"inherit"});function z71(J){return`${J||"0"} Star${J!==1?"s":""}`}var Ey=_Q.forwardRef(function(Z,Q){let Y=b0({name:"MuiRating",props:Z}),{component:$="span",className:H,defaultValue:K=null,disabled:B=!1,emptyIcon:q=O71,emptyLabelText:L="Empty",getLabelText:O=z71,highlightSelectedOnly:z=!1,icon:F=L71,IconContainerComponent:V=wy,max:A=5,name:M,onChange:j,onChangeActive:D,onMouseLeave:w,onMouseMove:C,precision:I=1,readOnly:b=!1,size:E="medium",value:k,slots:T={},slotProps:S={},...d}=Y,o=OQ(M),[v,y]=_G({controlled:k,default:K,name:"Rating"}),i=Bw(v,I),p=qQ(),[{hover:l,focus:t},Q1]=_Q.useState({hover:-1,focus:-1}),m=i;if(l!==-1)m=l;if(t!==-1)m=t;let[K1,g]=_Q.useState(!1),n=_Q.useRef(),Z1=m4(n,Q),J1=(y1)=>{if(C)C(y1);let P1=n.current,{right:T1,left:j0,width:N0}=P1.getBoundingClientRect(),E0;if(p)E0=(T1-y1.clientX)/N0;else E0=(y1.clientX-j0)/N0;let H0=Bw(A*E0+I/2,I);if(H0=bz(H0,I,A),Q1((A0)=>A0.hover===H0&&A0.focus===H0?A0:{hover:H0,focus:H0}),g(!1),D&&l!==H0)D(y1,H0)},z1=(y1)=>{if(w)w(y1);let P1=-1;if(Q1({hover:P1,focus:P1}),D&&l!==P1)D(y1,P1)},V1=(y1)=>{let P1=y1.target.value===""?null:parseFloat(y1.target.value);if(l!==-1)P1=l;if(y(P1),j)j(y1,P1)},w1=(y1)=>{if(y1.clientX===0&&y1.clientY===0)return;if(Q1({hover:-1,focus:-1}),y(null),j&&parseFloat(y1.target.value)===i)j(y1,null)},m1=(y1)=>{if(tJ(y1.target))g(!0);let P1=parseFloat(y1.target.value);Q1((T1)=>({hover:T1.hover,focus:P1}))},r1=(y1)=>{if(l!==-1)return;if(!tJ(y1.target))g(!1);let P1=-1;Q1((T1)=>({hover:T1.hover,focus:P1}))},[h1,G1]=_Q.useState(!1),a={...Y,component:$,defaultValue:K,disabled:B,emptyIcon:q,emptyLabelText:L,emptyValueFocused:h1,focusVisible:K1,getLabelText:O,icon:F,IconContainerComponent:V,max:A,precision:I,readOnly:b,size:E},M1=K71(a),D1={slots:T,slotProps:S},[g1,u1]=V2("root",{ref:Z1,className:L0(M1.root,H),elementType:B71,externalForwardedProps:{...D1,...d,component:$},getSlotProps:(y1)=>({...y1,onMouseMove:(P1)=>{J1(P1),y1.onMouseMove?.(P1)},onMouseLeave:(P1)=>{z1(P1),y1.onMouseLeave?.(P1)}}),ownerState:a,additionalProps:{role:b?"img":null,"aria-label":b?O(m):null}}),[C1,x1]=V2("label",{className:L0(M1.label,M1.labelEmptyValue),elementType:Dy,externalForwardedProps:D1,ownerState:a}),[v1,p1]=V2("decimal",{className:M1.decimal,elementType:U71,externalForwardedProps:D1,ownerState:a});return U9.jsxs(g1,{...u1,children:[Array.from(Array(A)).map((y1,P1)=>{let T1=P1+1,j0={classes:M1,disabled:B,emptyIcon:q,focus:t,getLabelText:O,highlightSelectedOnly:z,hover:l,icon:F,IconContainerComponent:V,name:o,onBlur:r1,onChange:V1,onClick:w1,onFocus:m1,ratingValue:m,ratingValueRounded:i,readOnly:b,ownerState:a,slots:T,slotProps:S},N0=T1===Math.ceil(m)&&(l!==-1||t!==-1);if(I<1){let E0=Array.from(Array(1/I));return jy.createElement(v1,{...p1,key:T1,className:L0(p1.className,N0&&M1.iconActive),iconActive:N0},E0.map((H0,A0)=>{let i0=Bw(T1-1+(A0+1)*I,I);return U9.jsx(qw,{...j0,isActive:!1,itemValue:i0,labelProps:{style:E0.length-1===A0?{}:{width:i0===m?`${(A0+1)*I*100}%`:"0%",overflow:"hidden",position:"absolute"}}},i0)}))}return U9.jsx(qw,{...j0,isActive:N0,itemValue:T1},T1)}),!b&&!B&&U9.jsxs(C1,{...x1,children:[U9.jsx("input",{className:M1.visuallyHidden,value:"",id:`${o}-empty`,type:"radio",name:o,checked:i==null,onFocus:()=>G1(!0),onBlur:()=>G1(!1),onChange:V1}),U9.jsx("span",{className:M1.visuallyHidden,children:L})]})]})});Ey.propTypes={children:r0.default.node,classes:r0.default.object,className:r0.default.string,component:r0.default.elementType,defaultValue:r0.default.number,disabled:r0.default.bool,emptyIcon:r0.default.node,emptyLabelText:r0.default.node,getLabelText:r0.default.func,highlightSelectedOnly:r0.default.bool,icon:r0.default.node,IconContainerComponent:r0.default.elementType,max:r0.default.number,name:r0.default.string,onChange:r0.default.func,onChangeActive:r0.default.func,onMouseLeave:r0.default.func,onMouseMove:r0.default.func,precision:I7(r0.default.number,(J)=>{if(J.precision<0.1)return Error(["MUI: The prop `precision` should be above 0.1.","A value below this limit has an imperceptible impact."].join(`
`));return null}),readOnly:r0.default.bool,size:r0.default.oneOfType([r0.default.oneOf(["small","medium","large"]),r0.default.string]),slotProps:r0.default.shape({decimal:r0.default.oneOfType([r0.default.func,r0.default.object]),icon:r0.default.oneOfType([r0.default.func,r0.default.object]),label:r0.default.oneOfType([r0.default.func,r0.default.object]),root:r0.default.oneOfType([r0.default.func,r0.default.object])}),slots:r0.default.shape({decimal:r0.default.elementType,icon:r0.default.elementType,label:r0.default.elementType,root:r0.default.elementType}),sx:r0.default.oneOfType([r0.default.arrayOf(r0.default.oneOfType([r0.default.func,r0.default.object,r0.default.bool])),r0.default.func,r0.default.object]),value:r0.default.number};var L_=Ey;var HL=e(J0(),1),S5=e(l0(),1);var p4=e(J0(),1),Ry=e(KU(),1),c5=e(l0(),1);function O_(J){return k0("MuiSelect",J)}var N71=x0("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$L=N71;var TG=e(F0(),1),ky,F71=o1($w,{name:"MuiSelect",slot:"Select",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[{[`&.${$L.select}`]:Z.select},{[`&.${$L.select}`]:Z[Q.variant]},{[`&.${$L.error}`]:Z.error},{[`&.${$L.multiple}`]:Z.multiple}]}})({[`&.${$L.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),A71=o1(Hw,{name:"MuiSelect",slot:"Icon",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.icon,Q.variant&&Z[`icon${G0(Q.variant)}`],Q.open&&Z.iconOpen]}})({}),M71=o1("input",{shouldForwardProp:(J)=>wU(J)&&J!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xy(J,Z){if(typeof Z==="object"&&Z!==null)return J===Z;return String(J)===String(Z)}function _71(J){return J==null||typeof J==="string"&&!J.trim()}var V71=(J)=>{let{classes:Z,variant:Q,disabled:Y,multiple:$,open:H,error:K}=J,B={select:["select",Q,Y&&"disabled",$&&"multiple",K&&"error"],icon:["icon",`icon${G0(Q)}`,H&&"iconOpen",Y&&"disabled"],nativeInput:["nativeInput"]};return R0(B,O_,Z)},Cy=p4.forwardRef(function(Z,Q){let{"aria-describedby":Y,"aria-label":$,autoFocus:H,autoWidth:K,children:B,className:q,defaultOpen:L,defaultValue:O,disabled:z,displayEmpty:F,error:V=!1,IconComponent:A,inputRef:M,labelId:j,MenuProps:D={},multiple:w,name:C,onBlur:I,onChange:b,onClose:E,onFocus:k,onOpen:T,open:S,readOnly:d,renderValue:o,required:v,SelectDisplayProps:y={},tabIndex:i,type:p,value:l,variant:t="standard",...Q1}=Z,[m,K1]=_G({controlled:l,default:O,name:"Select"}),[g,n]=_G({controlled:S,default:L,name:"Select"}),Z1=p4.useRef(null),J1=p4.useRef(null),[z1,V1]=p4.useState(null),{current:w1}=p4.useRef(S!=null),[m1,r1]=p4.useState(),h1=m4(Q,M),G1=p4.useCallback((N1)=>{if(J1.current=N1,N1)V1(N1)},[]),a=z1?.parentNode;p4.useImperativeHandle(h1,()=>({focus:()=>{J1.current.focus()},node:Z1.current,value:m}),[m]),p4.useEffect(()=>{if(L&&g&&z1&&!w1)r1(K?null:a.clientWidth),J1.current.focus()},[z1,K]),p4.useEffect(()=>{if(H)J1.current.focus()},[H]),p4.useEffect(()=>{if(!j)return;let N1=IW(J1.current).getElementById(j);if(N1){let Q0=()=>{if(getSelection().isCollapsed)J1.current.focus()};return N1.addEventListener("click",Q0),()=>{N1.removeEventListener("click",Q0)}}return},[j]);let M1=(N1,Q0)=>{if(N1){if(T)T(Q0)}else if(E)E(Q0);if(!w1)r1(K?null:a.clientWidth),n(N1)},D1=(N1)=>{if(N1.button!==0)return;N1.preventDefault(),J1.current.focus(),M1(!0,N1)},g1=(N1)=>{M1(!1,N1)},u1=p4.Children.toArray(B),C1=(N1)=>{let Q0=u1.find((Z0)=>Z0.props.value===N1.target.value);if(Q0===void 0)return;if(K1(Q0.props.value),b)b(N1,Q0)},x1=(N1)=>(Q0)=>{let Z0;if(!Q0.currentTarget.hasAttribute("tabindex"))return;if(w){Z0=Array.isArray(m)?m.slice():[];let g0=m.indexOf(N1.props.value);if(g0===-1)Z0.push(N1.props.value);else Z0.splice(g0,1)}else Z0=N1.props.value;if(N1.props.onClick)N1.props.onClick(Q0);if(m!==Z0){if(K1(Z0),b){let g0=Q0.nativeEvent||Q0,M2=new g0.constructor(g0.type,g0);Object.defineProperty(M2,"target",{writable:!0,value:{value:Z0,name:C}}),b(M2,N1)}}if(!w)M1(!1,Q0)},v1=(N1)=>{if(!d){if([" ","ArrowUp","ArrowDown","Enter"].includes(N1.key))N1.preventDefault(),M1(!0,N1)}},p1=z1!==null&&g,y1=(N1)=>{if(!p1&&I)Object.defineProperty(N1,"target",{writable:!0,value:{value:m,name:C}}),I(N1)};delete Q1["aria-invalid"];let P1,T1,j0=[],N0=!1,E0=!1;if(TW({value:m})||F)if(o)P1=o(m);else N0=!0;let H0=u1.map((N1)=>{if(!p4.isValidElement(N1))return null;if(Ry.isFragment(N1))console.error(["MUI: The Select component doesn't accept a Fragment as a child.","Consider providing an array instead."].join(`
`));let Q0;if(w){if(!Array.isArray(m))throw Error("MUI: The `value` prop must be an array when using the `Select` component with `multiple`.");if(Q0=m.some((Z0)=>xy(Z0,N1.props.value)),Q0&&N0)j0.push(N1.props.children)}else if(Q0=xy(m,N1.props.value),Q0&&N0)T1=N1.props.children;if(Q0)E0=!0;return p4.cloneElement(N1,{"aria-selected":Q0?"true":"false",onClick:x1(N1),onKeyUp:(Z0)=>{if(Z0.key===" ")Z0.preventDefault();if(N1.props.onKeyUp)N1.props.onKeyUp(Z0)},role:"option",selected:Q0,value:void 0,"data-value":N1.props.value})});if(p4.useEffect(()=>{if(!E0&&!w&&m!==""){let N1=u1.map((Q0)=>Q0.props.value);console.warn([`MUI: You have provided an out-of-range value \`${m}\` for the select ${C?`(name="${C}") `:""}component.`,"Consider providing a value that matches one of the available options or ''.",`The available values are ${N1.filter((Q0)=>Q0!=null).map((Q0)=>`\`${Q0}\``).join(", ")||'""'}.`].join(`
`))}},[E0,u1,w,C,m]),N0)if(w)if(j0.length===0)P1=null;else P1=j0.reduce((N1,Q0,Z0)=>{if(N1.push(Q0),Z0<j0.length-1)N1.push(", ");return N1},[]);else P1=T1;let A0=m1;if(!K&&w1&&z1)A0=a.clientWidth;let i0;if(typeof i<"u")i0=i;else i0=z?null:0;let D0=y.id||(C?`mui-component-select-${C}`:void 0),_0={...Z,variant:t,value:m,open:p1,error:V},W2=V71(_0),Z2={...D.PaperProps,...typeof D.slotProps?.paper==="function"?D.slotProps.paper(_0):D.slotProps?.paper},t2={...D.MenuListProps,...typeof D.slotProps?.list==="function"?D.slotProps.list(_0):D.slotProps?.list},Y1=UQ();return TG.jsxs(p4.Fragment,{children:[TG.jsx(F71,{as:"div",ref:G1,tabIndex:i0,role:"combobox","aria-controls":p1?Y1:void 0,"aria-disabled":z?"true":void 0,"aria-expanded":p1?"true":"false","aria-haspopup":"listbox","aria-label":$,"aria-labelledby":[j,D0].filter(Boolean).join(" ")||void 0,"aria-describedby":Y,"aria-required":v?"true":void 0,"aria-invalid":V?"true":void 0,onKeyDown:v1,onMouseDown:z||d?null:D1,onBlur:y1,onFocus:k,...y,ownerState:_0,className:L0(y.className,W2.select,q),id:D0,children:_71(P1)?ky||(ky=TG.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):P1}),TG.jsx(M71,{"aria-invalid":V,value:Array.isArray(m)?m.join(","):m,name:C,ref:Z1,"aria-hidden":!0,onChange:C1,tabIndex:-1,disabled:z,className:W2.nativeInput,autoFocus:H,required:v,...Q1,ownerState:_0}),TG.jsx(A71,{as:A,className:W2.icon,ownerState:_0}),TG.jsx(qy,{id:`menu-${C||""}`,anchorEl:a,open:p1,onClose:g1,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...D,slotProps:{...D.slotProps,list:{"aria-labelledby":j,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Y1,...t2},paper:{...Z2,style:{minWidth:A0,...Z2!=null?Z2.style:null}}},children:H0})]})});Cy.propTypes={"aria-describedby":c5.default.string,"aria-label":c5.default.string,autoFocus:c5.default.bool,autoWidth:c5.default.bool,children:c5.default.node,classes:c5.default.object,className:c5.default.string,defaultOpen:c5.default.bool,defaultValue:c5.default.any,disabled:c5.default.bool,displayEmpty:c5.default.bool,error:c5.default.bool,IconComponent:c5.default.elementType.isRequired,inputRef:j7,labelId:c5.default.string,MenuProps:c5.default.object,multiple:c5.default.bool,name:c5.default.string,onBlur:c5.default.func,onChange:c5.default.func,onClose:c5.default.func,onFocus:c5.default.func,onOpen:c5.default.func,open:c5.default.bool,readOnly:c5.default.bool,renderValue:c5.default.func,required:c5.default.bool,SelectDisplayProps:c5.default.object,tabIndex:c5.default.oneOfType([c5.default.number,c5.default.string]),type:c5.default.any,value:c5.default.any,variant:c5.default.oneOf(["standard","outlined","filled"])};var by=Cy;var jN=e(F0(),1),I71=(J)=>{let{classes:Z}=J,Y=R0({root:["root"]},O_,Z);return{...Z,...Y}},Uw={name:"MuiSelect",slot:"Root",shouldForwardProp:(J)=>e4(J)&&J!=="variant"},j71=o1(zN,Uw)(""),D71=o1(IN,Uw)(""),w71=o1(ON,Uw)(""),Lw=HL.forwardRef(function(Z,Q){let Y=b0({name:"MuiSelect",props:Z}),{autoWidth:$=!1,children:H,classes:K={},className:B,defaultOpen:q=!1,displayEmpty:L=!1,IconComponent:O=KP,id:z,input:F,inputProps:V,label:A,labelId:M,MenuProps:j,multiple:D=!1,native:w=!1,onClose:C,onOpen:I,open:b,renderValue:E,SelectDisplayProps:k,variant:T="outlined",...S}=Y,d=w?Ny:by,o=H3(),v=$3({props:Y,muiFormControl:o,states:["variant","error"]}),y=v.variant||T,i={...Y,variant:y,classes:K},p=I71(i),{root:l,...t}=p,Q1=F||{standard:jN.jsx(j71,{ownerState:i}),outlined:jN.jsx(D71,{label:A,ownerState:i}),filled:jN.jsx(w71,{ownerState:i})}[y],m=m4(Q,j9(Q1));return jN.jsx(HL.Fragment,{children:HL.cloneElement(Q1,{inputComponent:d,inputProps:{children:H,error:v.error,IconComponent:O,variant:y,type:void 0,multiple:D,...w?{id:z}:{autoWidth:$,defaultOpen:q,displayEmpty:L,labelId:M,MenuProps:j,onClose:C,onOpen:I,open:b,renderValue:E,SelectDisplayProps:{id:z,...k}},...V,classes:V?e5(t,V.classes):t,...F?F.props.inputProps:{}},...(D&&w||L)&&y==="outlined"?{notched:!0}:{},ref:m,className:L0(Q1.props.className,B,p.root),...!F&&{variant:y},...S})})});Lw.propTypes={autoWidth:S5.default.bool,children:S5.default.node,classes:S5.default.object,className:S5.default.string,defaultOpen:S5.default.bool,defaultValue:S5.default.any,displayEmpty:S5.default.bool,IconComponent:S5.default.elementType,id:S5.default.string,input:S5.default.element,inputProps:S5.default.object,label:S5.default.node,labelId:S5.default.string,MenuProps:S5.default.object,multiple:S5.default.bool,native:S5.default.bool,onChange:S5.default.func,onClose:S5.default.func,onOpen:S5.default.func,open:S5.default.bool,renderValue:S5.default.func,SelectDisplayProps:S5.default.object,sx:S5.default.oneOfType([S5.default.arrayOf(S5.default.oneOfType([S5.default.func,S5.default.object,S5.default.bool])),S5.default.func,S5.default.object]),value:S5.default.oneOfType([S5.default.oneOf([""]),S5.default.any]),variant:S5.default.oneOf(["filled","outlined","standard"])};Lw.muiName="Select";var PG=Lw;var z_=e(J0(),1),T2=e(l0(),1);var WL=e(J0(),1);function E71(J={}){let{autoHideDuration:Z=null,disableWindowBlurListener:Q=!1,onClose:Y,open:$,resumeHideDuration:H}=J,K=Z3();WL.useEffect(()=>{if(!$)return;function D(w){if(!w.defaultPrevented){if(w.key==="Escape")Y?.(w,"escapeKeyDown")}}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[$,Y]);let B=J3((D,w)=>{Y?.(D,w)}),q=J3((D)=>{if(!Y||D==null)return;K.start(D,()=>{B(null,"timeout")})});WL.useEffect(()=>{if($)q(Z);return K.clear},[$,Z,q,K]);let L=(D)=>{Y?.(D,"clickaway")},O=K.clear,z=WL.useCallback(()=>{if(Z!=null)q(H!=null?H:Z*0.5)},[Z,H,q]),F=(D)=>(w)=>{let C=D.onBlur;C?.(w),z()},V=(D)=>(w)=>{let C=D.onFocus;C?.(w),O()},A=(D)=>(w)=>{let C=D.onMouseEnter;C?.(w),O()},M=(D)=>(w)=>{let C=D.onMouseLeave;C?.(w),z()};return WL.useEffect(()=>{if(!Q&&$)return window.addEventListener("focus",z),window.addEventListener("blur",O),()=>{window.removeEventListener("focus",z),window.removeEventListener("blur",O)};return},[Q,$,z,O]),{getRootProps:(D={})=>{let w={...IG(J),...IG(D)};return{role:"presentation",...D,...w,onBlur:F(w),onFocus:V(w),onMouseEnter:A(w),onMouseLeave:M(w)}},onClickAway:L}}var vy=E71;var Sy=e(J0(),1),R8=e(l0(),1);function fy(J){return k0("MuiSnackbarContent",J)}var Sr1=x0("MuiSnackbarContent",["root","message","action"]);var DN=e(F0(),1),k71=(J)=>{let{classes:Z}=J;return R0({root:["root"],action:["action"],message:["message"]},fy,Z)},x71=o1(K5,{name:"MuiSnackbarContent",slot:"Root"})(e0(({theme:J})=>{let Z=J.palette.mode==="light"?0.8:0.98;return{...J.typography.body2,color:J.vars?J.vars.palette.SnackbarContent.color:J.palette.getContrastText(nA(J.palette.background.default,Z)),backgroundColor:J.vars?J.vars.palette.SnackbarContent.bg:nA(J.palette.background.default,Z),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[J.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),R71=o1("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),C71=o1("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Ty=Sy.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiSnackbarContent"}),{action:$,className:H,message:K,role:B="alert",...q}=Y,L=Y,O=k71(L);return DN.jsxs(x71,{role:B,elevation:6,className:L0(O.root,H),ownerState:L,ref:Q,...q,children:[DN.jsx(R71,{className:O.message,ownerState:L,children:K}),$?DN.jsx(C71,{className:O.action,ownerState:L,children:$}):null]})});Ty.propTypes={action:R8.default.node,classes:R8.default.object,className:R8.default.string,message:R8.default.node,role:R8.default.string,sx:R8.default.oneOfType([R8.default.arrayOf(R8.default.oneOfType([R8.default.func,R8.default.object,R8.default.bool])),R8.default.func,R8.default.object])};var Ow=Ty;function Py(J){return k0("MuiSnackbar",J)}var or1=x0("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var wN=e(F0(),1),b71=(J)=>{let{classes:Z,anchorOrigin:Q}=J,Y={root:["root",`anchorOrigin${G0(Q.vertical)}${G0(Q.horizontal)}`]};return R0(Y,Py,Z)},v71=o1("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.root,Z[`anchorOrigin${G0(Q.anchorOrigin.vertical)}${G0(Q.anchorOrigin.horizontal)}`]]}})(e0(({theme:J})=>({zIndex:(J.vars||J).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:Z})=>Z.anchorOrigin.vertical==="top",style:{top:8,[J.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:Z})=>Z.anchorOrigin.vertical!=="top",style:{bottom:8,[J.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:Z})=>Z.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[J.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:Z})=>Z.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[J.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:Z})=>Z.anchorOrigin.horizontal==="center",style:{[J.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),gy=z_.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiSnackbar"}),$=I9(),H={enter:$.transitions.duration.enteringScreen,exit:$.transitions.duration.leavingScreen},{action:K,anchorOrigin:{vertical:B,horizontal:q}={vertical:"bottom",horizontal:"left"},autoHideDuration:L=null,children:O,className:z,ClickAwayListenerProps:F,ContentProps:V,disableWindowBlurListener:A=!1,message:M,onBlur:j,onClose:D,onFocus:w,onMouseEnter:C,onMouseLeave:I,open:b,resumeHideDuration:E,slots:k={},slotProps:T={},TransitionComponent:S,transitionDuration:d=H,TransitionProps:{onEnter:o,onExited:v,...y}={},...i}=Y,p={...Y,anchorOrigin:{vertical:B,horizontal:q},autoHideDuration:L,disableWindowBlurListener:A,TransitionComponent:S,transitionDuration:d},l=b71(p),{getRootProps:t,onClickAway:Q1}=vy({...p}),[m,K1]=z_.useState(!0),g=(M1)=>{if(K1(!0),v)v(M1)},n=(M1,D1)=>{if(K1(!1),o)o(M1,D1)},Z1={slots:{transition:S,...k},slotProps:{content:V,clickAwayListener:F,transition:y,...T}},[J1,z1]=V2("root",{ref:Q,className:[l.root,z],elementType:v71,getSlotProps:t,externalForwardedProps:{...Z1,...i},ownerState:p}),[V1,{ownerState:w1,...m1}]=V2("clickAwayListener",{elementType:mW,externalForwardedProps:Z1,getSlotProps:(M1)=>({onClickAway:(...D1)=>{let g1=D1[0];if(M1.onClickAway?.(...D1),g1?.defaultMuiPrevented)return;Q1(...D1)}}),ownerState:p}),[r1,h1]=V2("content",{elementType:Ow,shouldForwardComponentProp:!0,externalForwardedProps:Z1,additionalProps:{message:M,action:K},ownerState:p}),[G1,a]=V2("transition",{elementType:lW,externalForwardedProps:Z1,getSlotProps:(M1)=>({onEnter:(...D1)=>{M1.onEnter?.(...D1),n(...D1)},onExited:(...D1)=>{M1.onExited?.(...D1),g(...D1)}}),additionalProps:{appear:!0,in:b,timeout:d,direction:B==="top"?"down":"up"},ownerState:p});if(!b&&m)return null;return wN.jsx(V1,{...m1,...k.clickAwayListener&&{ownerState:w1},children:wN.jsx(J1,{...z1,children:wN.jsx(G1,{...a,children:O||wN.jsx(r1,{...h1})})})})});gy.propTypes={action:T2.default.node,anchorOrigin:T2.default.shape({horizontal:T2.default.oneOf(["center","left","right"]).isRequired,vertical:T2.default.oneOf(["bottom","top"]).isRequired}),autoHideDuration:T2.default.number,children:T2.default.element,classes:T2.default.object,className:T2.default.string,ClickAwayListenerProps:T2.default.object,ContentProps:T2.default.object,disableWindowBlurListener:T2.default.bool,key:()=>null,message:T2.default.node,onBlur:T2.default.func,onClose:T2.default.func,onFocus:T2.default.func,onMouseEnter:T2.default.func,onMouseLeave:T2.default.func,open:T2.default.bool,resumeHideDuration:T2.default.number,slotProps:T2.default.shape({clickAwayListener:T2.default.oneOfType([T2.default.func,T2.default.object]),content:T2.default.oneOfType([T2.default.func,T2.default.object]),root:T2.default.oneOfType([T2.default.func,T2.default.object]),transition:T2.default.oneOfType([T2.default.func,T2.default.object])}),slots:T2.default.shape({clickAwayListener:T2.default.elementType,content:T2.default.elementType,root:T2.default.elementType,transition:T2.default.elementType}),sx:T2.default.oneOfType([T2.default.arrayOf(T2.default.oneOfType([T2.default.func,T2.default.object,T2.default.bool])),T2.default.func,T2.default.object]),TransitionComponent:T2.default.elementType,transitionDuration:T2.default.oneOfType([T2.default.number,T2.default.shape({appear:T2.default.number,enter:T2.default.number,exit:T2.default.number})]),TransitionProps:T2.default.object};var KL=gy;var q7=e(J0(),1),A2=e(l0(),1);function yy(J){return k0("MuiTooltip",J)}var f71=x0("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),w7=f71;var gG=e(F0(),1);function S71(J){return Math.round(J*1e5)/1e5}var T71=(J)=>{let{classes:Z,disableInteractive:Q,arrow:Y,touch:$,placement:H}=J,K={popper:["popper",!Q&&"popperInteractive",Y&&"popperArrow"],tooltip:["tooltip",Y&&"tooltipArrow",$&&"touch",`tooltipPlacement${G0(H.split("-")[0])}`],arrow:["arrow"]};return R0(K,yy,Z)},P71=o1(hM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.popper,!Q.disableInteractive&&Z.popperInteractive,Q.arrow&&Z.popperArrow,!Q.open&&Z.popperClose]}})(e0(({theme:J})=>({zIndex:(J.vars||J).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:Z})=>!Z.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:Z})=>!Z,style:{pointerEvents:"none"}},{props:({ownerState:Z})=>Z.arrow,style:{[`&[data-popper-placement*="bottom"] .${w7.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${w7.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${w7.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${w7.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:Z})=>Z.arrow&&!Z.isRtl,style:{[`&[data-popper-placement*="right"] .${w7.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:Z})=>Z.arrow&&!!Z.isRtl,style:{[`&[data-popper-placement*="right"] .${w7.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:Z})=>Z.arrow&&!Z.isRtl,style:{[`&[data-popper-placement*="left"] .${w7.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:Z})=>Z.arrow&&!!Z.isRtl,style:{[`&[data-popper-placement*="left"] .${w7.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),g71=o1("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(J,Z)=>{let{ownerState:Q}=J;return[Z.tooltip,Q.touch&&Z.touch,Q.arrow&&Z.tooltipArrow,Z[`tooltipPlacement${G0(Q.placement.split("-")[0])}`]]}})(e0(({theme:J})=>({backgroundColor:J.vars?J.vars.palette.Tooltip.bg:J.alpha(J.palette.grey[700],0.92),borderRadius:(J.vars||J).shape.borderRadius,color:(J.vars||J).palette.common.white,fontFamily:J.typography.fontFamily,padding:"4px 8px",fontSize:J.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:J.typography.fontWeightMedium,[`.${w7.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${w7.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${w7.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${w7.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:Z})=>Z.arrow,style:{position:"relative",margin:0}},{props:({ownerState:Z})=>Z.touch,style:{padding:"8px 16px",fontSize:J.typography.pxToRem(14),lineHeight:`${S71(1.1428571428571428)}em`,fontWeight:J.typography.fontWeightRegular}},{props:({ownerState:Z})=>!Z.isRtl,style:{[`.${w7.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${w7.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:Z})=>!Z.isRtl&&Z.touch,style:{[`.${w7.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${w7.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:Z})=>!!Z.isRtl,style:{[`.${w7.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${w7.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:Z})=>!!Z.isRtl&&Z.touch,style:{[`.${w7.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${w7.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:Z})=>Z.touch,style:{[`.${w7.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:Z})=>Z.touch,style:{[`.${w7.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),y71=o1("span",{name:"MuiTooltip",slot:"Arrow"})(e0(({theme:J})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:J.vars?J.vars.palette.Tooltip.bg:J.alpha(J.palette.grey[700],0.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}))),N_=!1,hy=new SU,EN={x:0,y:0};function F_(J,Z){return(Q,...Y)=>{if(Z)Z(Q,...Y);J(Q,...Y)}}var uy=q7.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiTooltip"}),{arrow:$=!1,children:H,classes:K,components:B={},componentsProps:q={},describeChild:L=!1,disableFocusListener:O=!1,disableHoverListener:z=!1,disableInteractive:F=!1,disableTouchListener:V=!1,enterDelay:A=100,enterNextDelay:M=0,enterTouchDelay:j=700,followCursor:D=!1,id:w,leaveDelay:C=0,leaveTouchDelay:I=1500,onClose:b,onOpen:E,open:k,placement:T="bottom",PopperComponent:S,PopperProps:d={},slotProps:o={},slots:v={},title:y,TransitionComponent:i,TransitionProps:p,...l}=Y,t=q7.isValidElement(H)?H:gG.jsx("span",{children:H}),Q1=I9(),m=qQ(),[K1,g]=q7.useState(),[n,Z1]=q7.useState(null),J1=q7.useRef(!1),z1=F||D,V1=Z3(),w1=Z3(),m1=Z3(),r1=Z3(),[h1,G1]=_G({controlled:k,default:!1,name:"Tooltip",state:"open"}),a=h1;{let{current:z0}=q7.useRef(k!==void 0);q7.useEffect(()=>{if(K1&&K1.disabled&&!z0&&y!==""&&K1.tagName.toLowerCase()==="button")console.warn(["MUI: You are providing a disabled `button` child to the Tooltip component.","A disabled element does not fire events.","Tooltip needs to listen to the child element's events to display the title.","","Add a simple wrapper element, such as a `span`."].join(`
`))},[y,K1,z0])}let M1=OQ(w),D1=q7.useRef(),g1=VG(()=>{if(D1.current!==void 0)document.body.style.WebkitUserSelect=D1.current,D1.current=void 0;r1.clear()});q7.useEffect(()=>g1,[g1]);let u1=(z0)=>{if(hy.clear(),N_=!0,G1(!0),E&&!a)E(z0)},C1=VG((z0)=>{if(hy.start(800+C,()=>{N_=!1}),G1(!1),b&&a)b(z0);V1.start(Q1.transitions.duration.shortest,()=>{J1.current=!1})}),x1=(z0)=>{if(J1.current&&z0.type!=="touchstart")return;if(K1)K1.removeAttribute("title");if(w1.clear(),m1.clear(),A||N_&&M)w1.start(N_?M:A,()=>{u1(z0)});else u1(z0)},v1=(z0)=>{w1.clear(),m1.start(C,()=>{C1(z0)})},[,p1]=q7.useState(!1),y1=(z0)=>{if(!tJ(z0.target))p1(!1),v1(z0)},P1=(z0)=>{if(!K1)g(z0.currentTarget);if(tJ(z0.target))p1(!0),x1(z0)},T1=(z0)=>{J1.current=!0;let L7=t.props;if(L7.onTouchStart)L7.onTouchStart(z0)},j0=(z0)=>{T1(z0),m1.clear(),V1.clear(),g1(),D1.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",r1.start(j,()=>{document.body.style.WebkitUserSelect=D1.current,x1(z0)})},N0=(z0)=>{if(t.props.onTouchEnd)t.props.onTouchEnd(z0);g1(),m1.start(I,()=>{C1(z0)})};q7.useEffect(()=>{if(!a)return;function z0(L7){if(L7.key==="Escape")C1(L7)}return document.addEventListener("keydown",z0),()=>{document.removeEventListener("keydown",z0)}},[C1,a]);let E0=m4(j9(t),g,Q);if(!y&&y!==0)a=!1;let H0=q7.useRef(),A0=(z0)=>{let L7=t.props;if(L7.onMouseMove)L7.onMouseMove(z0);if(EN={x:z0.clientX,y:z0.clientY},H0.current)H0.current.update()},i0={},D0=typeof y==="string";if(L)i0.title=!a&&D0&&!z?y:null,i0["aria-describedby"]=a?M1:null;else i0["aria-label"]=D0?y:null,i0["aria-labelledby"]=a&&!D0?M1:null;let _0={...i0,...l,...t.props,className:L0(l.className,t.props.className),onTouchStart:T1,ref:E0,...D?{onMouseMove:A0}:{}};_0["data-mui-internal-clone-element"]=!0,q7.useEffect(()=>{if(K1&&!K1.getAttribute("data-mui-internal-clone-element"))console.error(["MUI: The `children` component of the Tooltip is not forwarding its props correctly.","Please make sure that props are spread on the same element that the ref is applied to."].join(`
`))},[K1]);let W2={};if(!V)_0.onTouchStart=j0,_0.onTouchEnd=N0;if(!z){if(_0.onMouseOver=F_(x1,_0.onMouseOver),_0.onMouseLeave=F_(v1,_0.onMouseLeave),!z1)W2.onMouseOver=x1,W2.onMouseLeave=v1}if(!O){if(_0.onFocus=F_(P1,_0.onFocus),_0.onBlur=F_(y1,_0.onBlur),!z1)W2.onFocus=P1,W2.onBlur=y1}if(t.props.title)console.error(["MUI: You have provided a `title` prop to the child of <Tooltip />.",`Remove this title prop \`${t.props.title}\` or the Tooltip component.`].join(`
`));let Z2={...Y,isRtl:m,arrow:$,disableInteractive:z1,placement:T,PopperComponentProp:S,touch:J1.current},t2=typeof o.popper==="function"?o.popper(Z2):o.popper,Y1=q7.useMemo(()=>{let z0=[{name:"arrow",enabled:Boolean(n),options:{element:n,padding:4}}];if(d.popperOptions?.modifiers)z0=z0.concat(d.popperOptions.modifiers);if(t2?.popperOptions?.modifiers)z0=z0.concat(t2.popperOptions.modifiers);return{...d.popperOptions,...t2?.popperOptions,modifiers:z0}},[n,d.popperOptions,t2?.popperOptions]),N1=T71(Z2),Q0=typeof o.transition==="function"?o.transition(Z2):o.transition,Z0={slots:{popper:B.Popper,transition:B.Transition??i,tooltip:B.Tooltip,arrow:B.Arrow,...v},slotProps:{arrow:o.arrow??q.arrow,popper:{...d,...t2??q.popper},tooltip:o.tooltip??q.tooltip,transition:{...p,...Q0??q.transition}}},[g0,M2]=V2("popper",{elementType:P71,externalForwardedProps:Z0,ownerState:Z2,className:L0(N1.popper,d?.className)}),[_2,e2]=V2("transition",{elementType:lW,externalForwardedProps:Z0,ownerState:Z2}),[I2,t0]=V2("tooltip",{elementType:g71,className:N1.tooltip,externalForwardedProps:Z0,ownerState:Z2}),[S4,T4]=V2("arrow",{elementType:y71,className:N1.arrow,externalForwardedProps:Z0,ownerState:Z2,ref:Z1});return gG.jsxs(q7.Fragment,{children:[q7.cloneElement(t,_0),gG.jsx(g0,{as:S??hM,placement:T,anchorEl:D?{getBoundingClientRect:()=>({top:EN.y,left:EN.x,right:EN.x,bottom:EN.y,width:0,height:0})}:K1,popperRef:H0,open:K1?a:!1,id:M1,transition:!0,...W2,...M2,popperOptions:Y1,children:({TransitionProps:z0})=>gG.jsx(_2,{timeout:Q1.transitions.duration.shorter,...z0,...e2,children:gG.jsxs(I2,{...t0,children:[y,$?gG.jsx(S4,{...T4}):null]})})})]})});uy.propTypes={arrow:A2.default.bool,children:W3.isRequired,classes:A2.default.object,className:A2.default.string,components:A2.default.shape({Arrow:A2.default.elementType,Popper:A2.default.elementType,Tooltip:A2.default.elementType,Transition:A2.default.elementType}),componentsProps:A2.default.shape({arrow:A2.default.object,popper:A2.default.object,tooltip:A2.default.object,transition:A2.default.object}),describeChild:A2.default.bool,disableFocusListener:A2.default.bool,disableHoverListener:A2.default.bool,disableInteractive:A2.default.bool,disableTouchListener:A2.default.bool,enterDelay:A2.default.number,enterNextDelay:A2.default.number,enterTouchDelay:A2.default.number,followCursor:A2.default.bool,id:A2.default.string,leaveDelay:A2.default.number,leaveTouchDelay:A2.default.number,onClose:A2.default.func,onOpen:A2.default.func,open:A2.default.bool,placement:A2.default.oneOf(["auto-end","auto-start","auto","bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),PopperComponent:A2.default.elementType,PopperProps:A2.default.object,slotProps:A2.default.shape({arrow:A2.default.oneOfType([A2.default.func,A2.default.object]),popper:A2.default.oneOfType([A2.default.func,A2.default.object]),tooltip:A2.default.oneOfType([A2.default.func,A2.default.object]),transition:A2.default.oneOfType([A2.default.func,A2.default.object])}),slots:A2.default.shape({arrow:A2.default.elementType,popper:A2.default.elementType,tooltip:A2.default.elementType,transition:A2.default.elementType}),sx:A2.default.oneOfType([A2.default.arrayOf(A2.default.oneOfType([A2.default.func,A2.default.object,A2.default.bool])),A2.default.func,A2.default.object]),title:A2.default.node,TransitionComponent:A2.default.elementType,TransitionProps:A2.default.object};var VQ=uy;var l4=e(l0(),1);var dy=QM({createStyledComponent:o1("div",{name:"MuiStack",slot:"Root"}),useThemeProps:(J)=>b0({props:J,name:"MuiStack"})});dy.propTypes={children:l4.default.node,component:l4.default.elementType,direction:l4.default.oneOfType([l4.default.oneOf(["column-reverse","column","row-reverse","row"]),l4.default.arrayOf(l4.default.oneOf(["column-reverse","column","row-reverse","row"])),l4.default.object]),divider:l4.default.node,spacing:l4.default.oneOfType([l4.default.arrayOf(l4.default.oneOfType([l4.default.number,l4.default.string])),l4.default.number,l4.default.object,l4.default.string]),sx:l4.default.oneOfType([l4.default.arrayOf(l4.default.oneOfType([l4.default.func,l4.default.object,l4.default.bool])),l4.default.func,l4.default.object]),useFlexGap:l4.default.bool};var E7=dy;var cy=e(J0(),1),s0=e(l0(),1);function my(J){return k0("MuiTextField",J)}var nt1=x0("MuiTextField",["root"]);var nW=e(F0(),1),h71={standard:zN,filled:ON,outlined:IN},u71=(J)=>{let{classes:Z}=J;return R0({root:["root"]},my,Z)},d71=o1(xG,{name:"MuiTextField",slot:"Root"})({}),py=cy.forwardRef(function(Z,Q){let Y=b0({props:Z,name:"MuiTextField"}),{autoComplete:$,autoFocus:H=!1,children:K,className:B,color:q="primary",defaultValue:L,disabled:O=!1,error:z=!1,FormHelperTextProps:F,fullWidth:V=!1,helperText:A,id:M,InputLabelProps:j,inputProps:D,InputProps:w,inputRef:C,label:I,maxRows:b,minRows:E,multiline:k=!1,name:T,onBlur:S,onChange:d,onFocus:o,placeholder:v,required:y=!1,rows:i,select:p=!1,SelectProps:l,slots:t={},slotProps:Q1={},type:m,value:K1,variant:g="outlined",...n}=Y,Z1={...Y,autoFocus:H,color:q,disabled:O,error:z,fullWidth:V,multiline:k,required:y,select:p,variant:g},J1=u71(Z1);if(p&&!K)console.error("MUI: `children` must be passed when using the `TextField` component with `select`.");let z1=UQ(M),V1=A&&z1?`${z1}-helper-text`:void 0,w1=I&&z1?`${z1}-label`:void 0,m1=h71[g],r1={slots:t,slotProps:{input:w,inputLabel:j,htmlInput:D,formHelperText:F,select:l,...Q1}},h1={},G1=r1.slotProps.inputLabel;if(g==="outlined"){if(G1&&typeof G1.shrink<"u")h1.notched=G1.shrink;h1.label=I}if(p){if(!l||!l.native)h1.id=void 0;h1["aria-describedby"]=void 0}let[a,M1]=V2("root",{elementType:d71,shouldForwardComponentProp:!0,externalForwardedProps:{...r1,...n},ownerState:Z1,className:L0(J1.root,B),ref:Q,additionalProps:{disabled:O,error:z,fullWidth:V,required:y,color:q,variant:g}}),[D1,g1]=V2("input",{elementType:m1,externalForwardedProps:r1,additionalProps:h1,ownerState:Z1}),[u1,C1]=V2("inputLabel",{elementType:CG,externalForwardedProps:r1,ownerState:Z1}),[x1,v1]=V2("htmlInput",{elementType:"input",externalForwardedProps:r1,ownerState:Z1}),[p1,y1]=V2("formHelperText",{elementType:hD,externalForwardedProps:r1,ownerState:Z1}),[P1,T1]=V2("select",{elementType:PG,externalForwardedProps:r1,ownerState:Z1}),j0=nW.jsx(D1,{"aria-describedby":V1,autoComplete:$,autoFocus:H,defaultValue:L,fullWidth:V,multiline:k,name:T,rows:i,maxRows:b,minRows:E,type:m,value:K1,id:z1,inputRef:C,onBlur:S,onChange:d,onFocus:o,placeholder:v,inputProps:v1,slots:{input:t.htmlInput?x1:void 0},...g1});return nW.jsxs(a,{...M1,children:[I!=null&&I!==""&&nW.jsx(u1,{htmlFor:z1,id:w1,...C1,children:I}),p?nW.jsx(P1,{"aria-describedby":V1,id:z1,labelId:w1,value:K1,input:j0,...T1,children:K}):j0,A&&nW.jsx(p1,{id:V1,...y1,children:A})]})});py.propTypes={autoComplete:s0.default.string,autoFocus:s0.default.bool,children:s0.default.node,classes:s0.default.object,className:s0.default.string,color:s0.default.oneOfType([s0.default.oneOf(["primary","secondary","error","info","success","warning"]),s0.default.string]),defaultValue:s0.default.any,disabled:s0.default.bool,error:s0.default.bool,FormHelperTextProps:s0.default.object,fullWidth:s0.default.bool,helperText:s0.default.node,id:s0.default.string,InputLabelProps:s0.default.object,inputProps:s0.default.object,InputProps:s0.default.object,inputRef:j7,label:s0.default.node,margin:s0.default.oneOf(["dense","none","normal"]),maxRows:s0.default.oneOfType([s0.default.number,s0.default.string]),minRows:s0.default.oneOfType([s0.default.number,s0.default.string]),multiline:s0.default.bool,name:s0.default.string,onBlur:s0.default.func,onChange:s0.default.func,onFocus:s0.default.func,placeholder:s0.default.string,required:s0.default.bool,rows:s0.default.oneOfType([s0.default.number,s0.default.string]),select:s0.default.bool,SelectProps:s0.default.object,size:s0.default.oneOfType([s0.default.oneOf(["medium","small"]),s0.default.string]),slotProps:s0.default.shape({formHelperText:s0.default.oneOfType([s0.default.func,s0.default.object]),htmlInput:s0.default.oneOfType([s0.default.func,s0.default.object]),input:s0.default.oneOfType([s0.default.func,s0.default.object]),inputLabel:s0.default.oneOfType([s0.default.func,s0.default.object]),select:s0.default.oneOfType([s0.default.func,s0.default.object])}),slots:s0.default.shape({formHelperText:s0.default.elementType,htmlInput:s0.default.elementType,input:s0.default.elementType,inputLabel:s0.default.elementType,root:s0.default.elementType,select:s0.default.elementType}),sx:s0.default.oneOfType([s0.default.arrayOf(s0.default.oneOfType([s0.default.func,s0.default.object,s0.default.bool])),s0.default.func,s0.default.object]),type:s0.default.string,value:s0.default.any,variant:s0.default.oneOf(["filled","outlined","standard"])};var N3=py;var vX=e(x2(),1);function zw(){return vX.jsxDEV(LJ,{children:vX.jsxDEV(kX,{children:[vX.jsxDEV(xX,{component:NX,to:"/foo",children:vX.jsxDEV(CX,{children:"Link to Foo"},void 0,!1,void 0,this)},void 0,!1,void 0,this),vX.jsxDEV(xX,{component:NX,to:"/dungeon-generator",children:vX.jsxDEV(CX,{children:"Dungeon Generator"},void 0,!1,void 0,this)},void 0,!1,void 0,this),vX.jsxDEV(xX,{component:NX,to:"/dungeon-crawler",children:vX.jsxDEV(CX,{children:"Dungeon Crawler Game"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var A_=e(x2(),1);function Nw(){return A_.jsxDEV(LJ,{children:[A_.jsxDEV("h1",{children:"Foo"},void 0,!1,void 0,this),A_.jsxDEV("p",{children:"This is the Foo project page."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var qZ=e(J0(),1);function ly(J,Z){return Math.abs(J.x-Z.x)+Math.abs(J.y-Z.y)}function l71(J,Z){return J.x>=0&&J.x<Z&&J.y>=0&&J.y<Z}function i71(J,Z,Q,Y){let $=`${J.x},${J.y}`;if(J.x===Z.x&&J.y===Z.y||J.x===Q.x&&J.y===Q.y)return!1;return Y.has($)}function n71(J,Z){let Q=[],Y=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}];for(let $ of Y){let H={x:J.x+$.x,y:J.y+$.y};if(l71(H,Z))Q.push(H)}return Q}function a71(J){let Z=[],Q=J;while(Q)Z.unshift(Q.position),Q=Q.parent;return Z}function s71(J,Z,Q,Y){let $=[],H=new Set,K={position:J,gCost:0,hCost:ly(J,Z),fCost:0};K.fCost=K.gCost+K.hCost,$.push(K);while($.length>0){let B=$[0];if(!B)throw Error("Pathfinding error: openSet corrupted");let q=B,L=0;for(let F=1;F<$.length;F++){let V=$[F];if(!V)throw Error("Pathfinding error: openSet corrupted");if(V.fCost<q.fCost)q=V,L=F}$.splice(L,1);let O=`${q.position.x},${q.position.y}`;if(H.add(O),q.position.x===Z.x&&q.position.y===Z.y)return a71(q);let z=n71(q.position,Y);for(let F of z){let V=`${F.x},${F.y}`;if(H.has(V)||i71(F,J,Z,Q))continue;let A=q.gCost+1,M=ly(F,Z),j=A+M,D=$.find((w)=>w.position.x===F.x&&w.position.y===F.y);if(!D)$.push({position:F,gCost:A,hCost:M,fCost:j,parent:q});else if(A<D.gCost)D.gCost=A,D.fCost=A+D.hCost,D.parent=q}}return[]}function Fw(J,Z){if(Z.x>J.x)return"horizontal";if(Z.x<J.x)return"horizontal";if(Z.y>J.y)return"vertical";if(Z.y<J.y)return"vertical";return"horizontal"}function iy(J,Z){let Q=Z.x-J.x,Y=Z.y-J.y;if(Math.abs(Q)>Math.abs(Y))return Q>0?"east":"west";else return Y>0?"south":"north"}function o71(J,Z){if(J.length<2)return null;let Q=J[0],Y=J[J.length-1];if(!Q||!Y)throw Error("Corridor creation error: invalid path endpoints");let $=Fw(Q,Y),H=J.length;return{id:`corridor-${Z.value++}`,type:"straight",direction:$,position:Q,length:H,width:1,connectionPoints:[{direction:iy(Q,Y),position:Q},{direction:iy(Y,Q),position:Y}],path:J}}function r71(J,Z,Q){if(J.length<2)return[];let Y=[],$=0;for(let H=1;H<J.length;H++){let K=J[H],B=J[H-1];if(!K||!B)throw Error("Path generation error: invalid path structure");let q=H+1<J.length?J[H+1]:null;if(!q||q&&Fw(B,K)!==Fw(K,q)){let O=J.slice($,H+1),z=o71(O,Q);if(z){Y.push(z);for(let F of O)Z.add(`${F.x},${F.y}`)}$=H}}return Y}function M_(J,Z,Q,Y,$){let H=s71(J,Z,Q,Y);if(H.length===0)return[];return r71(H,Q,$)}function MJ(J,Z,Q){let Y=[];for(let $=0;$<Z;$++){Y[$]=[];for(let H=0;H<J;H++){let K=Y[$];if(!K)throw Error("no grid cell");K[H]=Q[$]?.[H]==="#"}}return Y}var e71=[{id:"entrance-01",name:"Simple Entrance",shape:"rectangle",type:"entrance",size:"medium",width:6,height:4,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"south",position:{x:3,y:3}}],gridPattern:MJ(6,4,["######","######","######","######"])},{id:"entrance-02",name:"T-Entrance",shape:"t-shape",type:"entrance",size:"medium",width:7,height:5,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"east",position:{x:6,y:2}},{direction:"west",position:{x:0,y:2}}],gridPattern:MJ(7,5,["\t #	 ","\t #	 ","#######","\t #	 ","\t #	 "])},{id:"entrance-03",name:"L-Entrance",shape:"l-shape",type:"entrance",size:"large",width:6,height:6,connectionPoints:[{direction:"north",position:{x:2,y:0}},{direction:"east",position:{x:5,y:3}},{direction:"south",position:{x:5,y:5}}],gridPattern:MJ(6,6,["####	","####	","####	","######","######","######"])}],J61=[{id:"room-square-small",name:"Small Square Room",shape:"square",type:"standard",size:"small",width:4,height:4,connectionPoints:[{direction:"north",position:{x:2,y:0}},{direction:"south",position:{x:2,y:3}},{direction:"east",position:{x:3,y:2}},{direction:"west",position:{x:0,y:2}}],gridPattern:MJ(4,4,["####","####","####","####"])},{id:"room-rectangle-medium",name:"Medium Rectangle Room",shape:"rectangle",type:"standard",size:"medium",width:6,height:4,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"south",position:{x:3,y:3}},{direction:"east",position:{x:5,y:2}},{direction:"west",position:{x:0,y:2}}],gridPattern:MJ(6,4,["######","######","######","######"])},{id:"room-circle-medium",name:"Circular Room",shape:"circle",type:"standard",size:"medium",width:5,height:5,connectionPoints:[{direction:"north",position:{x:2,y:0}},{direction:"south",position:{x:2,y:4}},{direction:"east",position:{x:4,y:2}},{direction:"west",position:{x:0,y:2}}],gridPattern:MJ(5,5,[" ### ","#####","#####","#####"," ### "])},{id:"room-l-large",name:"L-Shaped Room",shape:"l-shape",type:"standard",size:"large",width:6,height:6,connectionPoints:[{direction:"north",position:{x:2,y:0}},{direction:"east",position:{x:5,y:4}},{direction:"south",position:{x:5,y:5}},{direction:"west",position:{x:0,y:1}}],gridPattern:MJ(6,6,["####	","####	","####	","######","######","######"])},{id:"room-t-large",name:"T-Shaped Room",shape:"t-shape",type:"standard",size:"large",width:7,height:5,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"south",position:{x:3,y:4}},{direction:"east",position:{x:6,y:2}},{direction:"west",position:{x:0,y:2}}],gridPattern:MJ(7,5,["\t###	","\t###	","#######","\t###	","\t###	"])},{id:"room-cross-large",name:"Cross-Shaped Room",shape:"cross",type:"standard",size:"large",width:7,height:7,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"south",position:{x:3,y:6}},{direction:"east",position:{x:6,y:3}},{direction:"west",position:{x:0,y:3}}],gridPattern:MJ(7,7,["\t###	","\t###	","\t###	","#######","\t###	","\t###	","\t###	"])},{id:"room-octagon-large",name:"Octagonal Room",shape:"octagon",type:"standard",size:"large",width:6,height:6,connectionPoints:[{direction:"north",position:{x:3,y:0}},{direction:"south",position:{x:3,y:5}},{direction:"east",position:{x:5,y:3}},{direction:"west",position:{x:0,y:3}}],gridPattern:MJ(6,6,[" #### ","######","######","######","######"," #### "])}],Z61=[{id:"junction-cross",name:"Cross Junction",shape:"cross",type:"junction",size:"small",width:3,height:3,connectionPoints:[{direction:"north",position:{x:1,y:0}},{direction:"south",position:{x:1,y:2}},{direction:"east",position:{x:2,y:1}},{direction:"west",position:{x:0,y:1}}],gridPattern:MJ(3,3,[" # ","###"," # "])},{id:"junction-t",name:"T Junction",shape:"t-shape",type:"junction",size:"small",width:3,height:3,connectionPoints:[{direction:"north",position:{x:1,y:0}},{direction:"east",position:{x:2,y:1}},{direction:"west",position:{x:0,y:1}}],gridPattern:MJ(3,3,[" # ","###","\t "])}],ny=[...e71,...J61,...Z61];function ay(J){return ny.find((Z)=>Z.id===J)}function Q61(J){return ny.filter((Z)=>Z.type===J)}function sy(J,Z){let Q=Q61(Z);if(Q.length===0)throw Error(`No room templates found for type: ${Z}`);let Y=J%Q.length,$=Q[Y];if(!$)throw Error(`Template selection error for type: ${Z}`);return $}function F3(J){return!!J.connectedElementId}function fX(J,Z){J.connectedElementId=Z}class Mw{seed;current;constructor(J){if(typeof J==="string")this.seed=this.hashString(J);else if(typeof J==="number")this.seed=J;else this.seed=Math.floor(Math.random()*2147483647);this.current=this.seed}next(){return this.current=(this.current*1664525+1013904223)%2147483647,this.current/2147483647}nextInt(J,Z){if(J>Z)throw Error("min cannot be greater than max");let Q=Z-J+1;return Math.floor(this.next()*Q)+J}nextIntMax(J){return Math.floor(this.next()*J)}choice(J){if(J.length===0)throw Error("Cannot choose from empty array");let Z=this.nextIntMax(J.length),Q=J[Z];if(Q===void 0)throw Error("Array element selection error");return Q}shuffle(J){for(let Z=J.length-1;Z>0;Z--){let Q=this.nextIntMax(Z+1);[J[Z],J[Q]]=[J[Q],J[Z]]}return J}getSeed(){return this.seed}getSeedString(){return this.seed.toString()}reset(){this.current=this.seed}hashString(J){let Z=0;for(let Q=0;Q<J.length;Q++){let Y=J.charCodeAt(Q);Z=(Z<<5)-Z+Y,Z=Z&Z}return Math.abs(Z)%2147483647}}function kN(){return Math.floor(Math.random()*2147483647).toString()}function _w(J){return`${J.x},${J.y}`}function X61(J,Z,Q){for(let Y of J.path){let $=_w(Y);if(Q.get($)?.has(Z.id))return!0}return!1}function Y61(J){let Z=new Map;for(let Q of J)for(let Y of Q.path){let $=_w(Y);if(!Z.has($))Z.set($,new Set);Z.get($).add(Q.id)}return Z}function G61(J){let Z=new Set,Q=[],Y=Y61(J);function $(H,K){if(Z.has(H.id))return;Z.add(H.id),K.push(H);for(let B of J)if(!Z.has(B.id)&&X61(H,B,Y))$(B,K)}for(let H of J)if(!Z.has(H.id)){let K=[];$(H,K),Q.push(K)}return Q}function $61(J){let Z=new Set,Q=new Map;for(let Y of J)for(let $ of Y.path){let H=_w($);if(!Z.has(H))Z.add(H),Q.set(H,$)}return Array.from(Q.values())}function H61(J){let Z=[],Q=new Set;for(let Y of J)for(let $ of Y.connectionPoints){let H=`${$.position.x},${$.position.y}-${$.direction}`;if(!Q.has(H))Q.add(H),Z.push({...$})}return Z}function W61(J,Z){let Q=$61(J),Y=H61(J);return{id:`merged-corridor-${Z}`,segments:[...J],path:Q,connectionPoints:Y,get totalLength(){return Q.length},get segmentCount(){return J.length},get boundingBox(){if(Q.length===0)return{minX:0,minY:0,maxX:0,maxY:0};let $=Q[0];if(!$)return{minX:0,minY:0,maxX:0,maxY:0};let{x:H,x:K,y:B,y:q}=$;for(let L of Q)H=Math.min(H,L.x),K=Math.max(K,L.x),B=Math.min(B,L.y),q=Math.max(q,L.y);return{minX:H,minY:B,maxX:K,maxY:q}}}}function oy(J){if(J.length===0)return[];return G61(J).map((Q,Y)=>W61(Q,Y))}function K61(J){let Z=J.seed||kN();return{rooms:[],corridors:[],entranceDoor:void 0,occupiedPositions:new Set,rng:new Mw(Z),idCounter:1}}function sW(J,Z){return Math.abs(J.x-Z.x)+Math.abs(J.y-Z.y)}function B61(J,Z,Q){let Y={x:Z.position.x+Math.floor(Z.width/2),y:Z.position.y+Math.floor(Z.height/2)},$=Y.x-J.x,H=Y.y-J.y,K=Math.max(Math.abs($),Math.abs(H));if(K===0)return!0;let B=0,q=Math.floor(K*0.3);for(let L=1;L<K;L++){let O=L/K,z=Math.round(J.x+$*O),F=Math.round(J.y+H*O);if(Q.has(`${z},${F}`)){if(B++,B>q)return!1}}return!0}function q61(J,Z,Q){let Y=[],$={x:J.position.x+Math.floor(J.width/2),y:J.position.y+Math.floor(J.height/2)},H=[{edge:"north",pos:{x:$.x,y:0},dir:"south"},{edge:"south",pos:{x:$.x,y:Z.gridSize-1},dir:"north"},{edge:"east",pos:{x:Z.gridSize-1,y:$.y},dir:"west"},{edge:"west",pos:{x:0,y:$.y},dir:"east"}];for(let K of H){if(K.pos.x=Math.max(0,Math.min(Z.gridSize-1,K.pos.x)),K.pos.y=Math.max(0,Math.min(Z.gridSize-1,K.pos.y)),sW(K.pos,$)>Z.gridSize*0.7)continue;if(B61(K.pos,J,Q))Y.push({position:K.pos,direction:K.dir})}return Y}function U61(J,Z){let Q=[];for(let Y of J.rooms){let $=q61(Y,Z,J.occupiedPositions);if($.length>0)Q.push({room:Y,entrancePositions:$})}return Q.sort((Y,$)=>$.entrancePositions.length-Y.entrancePositions.length),Q}function Jh(J,Z){let Q=null,Y=1/0,$=!1;for(let H of J.connectionPoints)if(!F3(H)){let K=sW(Z,H.position);if(K<Y)Y=K,Q=H,$=!0}if(!$){Y=1/0;for(let H of J.connectionPoints){let K=sW(Z,H.position);if(K<Y)Y=K,Q=H}}return Q}function L61(J,Z,Q,Y,$){let H=Jh(Q,Y);if(!H)return!1;let K=M_(Y,H.position,J.occupiedPositions,Z.gridSize,{value:J.idCounter});if(K.length===0)return!1;if(J.entranceDoor={position:Y,direction:$,connectedElementId:Q.id},J.corridors.push(...K),!F3(H))fX(H,J.entranceDoor.connectedElementId);return!0}function O61(J,Z,Q,Y){for(let $ of Y)if(L61(J,Z,Q,$.position,$.direction))return!0;return!1}function ry(J,Z){let Q=[],Y=Z.x-J.x,$=Z.y-J.y,H=Math.max(Math.abs(Y),Math.abs($));for(let K=0;K<=H;K++){let B=H>0?K/H:0;Q.push({x:Math.round(J.x+Y*B),y:Math.round(J.y+$*B)})}return Q}function z61(J,Z,Q){let Y=Jh(Q,Z.position);if(!Y)return;let $=Z.position,H=Y.position,K=[];if($.x!==H.x){let B=`corridor-entrance-h-${J.idCounter++}`;K.push({id:B,type:"straight",direction:"horizontal",position:{x:Math.min($.x,H.x),y:$.y},length:Math.abs(H.x-$.x)+1,width:1,connectionPoints:[],path:ry({x:$.x,y:$.y},{x:H.x,y:$.y})})}if($.y!==H.y){let B=`corridor-entrance-v-${J.idCounter++}`;K.push({id:B,type:"straight",direction:"vertical",position:{x:H.x,y:Math.min($.y,H.y)},length:Math.abs(H.y-$.y)+1,width:1,connectionPoints:[],path:ry({x:H.x,y:$.y},{x:H.x,y:H.y})})}if(J.corridors.push(...K),!F3(Y))fX(Y,"entrance-corridor")}function ty(J,Z,Q){let Y=null,$=1/0;for(let q of Q){let L={x:q.position.x+Math.floor(q.width/2),y:q.position.y+Math.floor(q.height/2)},O=[L.y,Z.gridSize-1-L.y,L.x,Z.gridSize-1-L.x],z=Math.min(...O);if(z<$)$=z,Y=q}if(!Y)return;let H={x:Y.position.x+Math.floor(Y.width/2),y:Y.position.y+Math.floor(Y.height/2)},K=[{pos:{x:H.x,y:0},dir:"south"},{pos:{x:H.x,y:Z.gridSize-1},dir:"north"},{pos:{x:0,y:H.y},dir:"east"},{pos:{x:Z.gridSize-1,y:H.y},dir:"west"}];K.sort((q,L)=>{let O=sW(q.pos,H),z=sW(L.pos,H);return O-z});let B=K[0];if(!B)throw Error("No valid edge options for entrance creation");J.entranceDoor={position:B.pos,direction:B.dir,connectedElementId:Y.id},z61(J,J.entranceDoor,Y)}function N61(J,Z){if(J.rooms.length===0)return;let Q=U61(J,Z);if(Q.length===0){let Y=[...J.rooms];if(Y.length>0)ty(J,Z,Y);return}for(let Y of Q)if(O61(J,Z,Y.room,Y.entrancePositions))return;ty(J,Z,[...J.rooms])}function F61(J,Z,Q,Y){if(Z.x+J.width>=Q.gridSize||Z.y+J.height>=Q.gridSize)return!1;let $=Q.roomSpacing;for(let H=Z.x-$;H<Z.x+J.width+$;H++)for(let K=Z.y-$;K<Z.y+J.height+$;K++)if(Y.has(`${H},${K}`))return!1;return!0}function A61(J,Z,Q){for(let $=0;$<50;$++){let H={x:J.rng.nextInt(1,Q.gridSize-Z.width-2),y:J.rng.nextInt(1,Q.gridSize-Z.height-2)};if(F61(Z,H,Q,J.occupiedPositions))return H}return null}function M61(J,Z,Q){let Y=Z.connectionPoints.map(($)=>({...$,position:{x:Q.x+$.position.x,y:Q.y+$.position.y}}));return{id:`room-${J.idCounter++}`,shape:Z.shape,type:Z.type,size:Z.size,position:Q,width:Z.width,height:Z.height,connectionPoints:Y,templateId:Z.id}}function _61(J,Z){for(let Q=Z.position.x;Q<Z.position.x+Z.width;Q++)for(let Y=Z.position.y;Y<Z.position.y+Z.height;Y++)J.occupiedPositions.add(`${Q},${Y}`)}function V61(J,Z,Q){let Y=0,$=Q*10;while(J.rooms.length<Q&&Y<$){Y++;let H=sy(J.idCounter%4,"standard"),K=A61(J,H,Z);if(K){let B=M61(J,H,K);J.rooms.push(B),_61(J,B)}}}function __(J,Z,Q){for(let Y of J.connectionPoints)if(Y.position.x===Z.x&&Y.position.y===Z.y){fX(Y,Q);break}}function I61(J,Z){for(let Q of J.connectionPoints)for(let Y of Z.connectionPoints)if(Q.position.x===Y.position.x&&Q.position.y===Y.position.y)fX(Q,Z.id),fX(Y,J.id)}function j61(J,Z,Q,Y,$){if(J.length===0)return;let H=J[0],K=J[J.length-1];if(H)__(H,Z.position,Y);if(K&&J.length>1)__(K,Q.position,$);else if(H&&J.length===1)__(H,Q.position,$);for(let B=0;B<J.length-1;B++){let q=J[B],L=J[B+1];if(q&&L)I61(q,L)}}function ey(J,Z,Q,Y){let $=null;for(let H of Q.connectionPoints){if(F3(H))continue;for(let K of Y.connectionPoints){if(F3(K))continue;let B=sW(H.position,K.position);if(!$||B<$.distance)$={point1:H,point2:K,distance:B}}}if($){let H={value:J.idCounter},K=M_($.point1.position,$.point2.position,J.occupiedPositions,Z.gridSize,H);if(J.idCounter=H.value,K.length>0){J.corridors.push(...K);let B=K[0],q=K[K.length-1];if(B&&q)fX($.point1,B.id),fX($.point2,q.id);j61(K,$.point1,$.point2,Q.id,Y.id)}}}function D61(J,Z){if(J.rooms.length<2)return;let Q=new Set,Y=J.rooms[0];if(!Y)throw Error("No rooms available for connection");Q.add(Y.id);while(Q.size<J.rooms.length){let H=null;for(let K of J.rooms){if(Q.has(K.id))continue;for(let B of J.rooms){if(!Q.has(B.id))continue;let q=sW(K.position,B.position);if(!H||q<H.distance)H={from:B,to:K,distance:q}}}if(H)ey(J,Z,H.from,H.to),Q.add(H.to.id);else break}let $=Math.floor(J.rooms.length/3);for(let H=0;H<$;H++){let K=J.rooms[J.rng.nextIntMax(J.rooms.length)],B=J.rooms[J.rng.nextIntMax(J.rooms.length)];if(K&&B&&K.id!==B.id)ey(J,Z,K,B)}}function w61(J){let Z=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}];return J.rng.choice(Z)}function E61(J,Z){return J.x>=0&&J.x<Z.gridSize&&J.y>=0&&J.y<Z.gridSize}function k61(J,Z){let Q=Math.floor(J.rooms.length/2);for(let Y=0;Y<Q;Y++){let $=[];for(let H of J.rooms)for(let K of H.connectionPoints)if(!F3(K))$.push({room:H,point:K});if($.length>0){let H=J.rng.choice($),K=J.rng.nextInt(3,7),B=w61(J),q={x:H.point.position.x+B.x*K,y:H.point.position.y+B.y*K};if(E61(q,Z)){let L={value:J.idCounter},O=M_(H.point.position,q,J.occupiedPositions,Z.gridSize,L);J.idCounter=L.value;let[z]=O;if(z)J.corridors.push(...O),fX(H.point,z.id),__(z,H.point.position,H.room.id)}}}}function x61(J,Z){let Q=oy(J.corridors);return{id:`geomorph-dungeon-${J.idCounter++}`,name:`Geomorph Dungeon ${new Date().toLocaleDateString()}`,rooms:J.rooms,corridors:J.corridors,mergedCorridors:Q,entranceDoor:J.entranceDoor,createdAt:new Date,gridSize:Z.gridSize,totalRooms:J.rooms.length,seed:Z.seed}}function Zh(J){let Z={...J,seed:J.seed||kN()},Q=K61(Z);return V61(Q,Z,Z.roomCount),D61(Q,Z),k61(Q,Z),N61(Q,Z),x61(Q,Z)}var xN={MAX_ROOMS:12,MIN_ROOMS:6,GRID_SIZE:30,ROOM_SPACING:1},oW={MIN_ROOMS_LIMIT:1,MAX_ROOMS_LIMIT:50,MIN_GRID_SIZE:20,MAX_GRID_SIZE:50,MIN_ROOM_SPACING:1,MAX_ROOM_SPACING:5};var p5={GRID_SQUARE_SIZE:20,DOOR_WIDTH_RATIO:0.6,DOOR_HEIGHT_RATIO:0.2,STROKE_WIDTH:1,ROOM_STROKE_WIDTH:2,SELECTED_STROKE_WIDTH:3,INNER_GRID_STROKE_WIDTH:0.5,CANVAS_SIZE:800},BZ={ROOM_FILL:"#ffffff",ROOM_STROKE:"#000000",ROOM_INNER_GRID:"#cccccc",ROOM_SELECTED:"#ff6b6b",ROOM_SELECTED_FILL:"#e3f2fd",CORRIDOR_FILL:"#f0f0f0",CORRIDOR_STROKE:"#666666",DOOR_FILL:"#8B4513",ENTRANCE_FILL:"#228B22",GRID_LIGHT:"#e0e0e0",GRID_DARK:"#cccccc",TEXT_FILL:"#333333"};function Qh(J){return Zh(J)}var Xh={roomCount:Math.floor((xN.MIN_ROOMS+xN.MAX_ROOMS)/2),gridSize:xN.GRID_SIZE,roomSpacing:xN.ROOM_SPACING,seed:""};var $h=e(J0(),1);function Yh(J,Z=p5.GRID_SQUARE_SIZE){let Q=J.position.x*Z,Y=J.position.y*Z;switch(J.direction){case"north":return{x:Q+(Z-Z*p5.DOOR_WIDTH_RATIO)/2,y:Y-Z*p5.DOOR_HEIGHT_RATIO/2,width:Z*p5.DOOR_WIDTH_RATIO,height:Z*p5.DOOR_HEIGHT_RATIO};case"south":return{x:Q+(Z-Z*p5.DOOR_WIDTH_RATIO)/2,y:Y+Z-Z*p5.DOOR_HEIGHT_RATIO/2,width:Z*p5.DOOR_WIDTH_RATIO,height:Z*p5.DOOR_HEIGHT_RATIO};case"east":return{x:Q+Z-Z*p5.DOOR_HEIGHT_RATIO/2,y:Y+(Z-Z*p5.DOOR_WIDTH_RATIO)/2,width:Z*p5.DOOR_HEIGHT_RATIO,height:Z*p5.DOOR_WIDTH_RATIO};case"west":return{x:Q-Z*p5.DOOR_HEIGHT_RATIO/2,y:Y+(Z-Z*p5.DOOR_WIDTH_RATIO)/2,width:Z*p5.DOOR_HEIGHT_RATIO,height:Z*p5.DOOR_WIDTH_RATIO};default:return{x:Q+(Z-Z*p5.DOOR_HEIGHT_RATIO)/2,y:Y+(Z-Z*p5.DOOR_HEIGHT_RATIO)/2,width:Z*p5.DOOR_HEIGHT_RATIO,height:Z*p5.DOOR_HEIGHT_RATIO}}}function Gh(J,Z,Q,Y,$=p5.GRID_SQUARE_SIZE){return{x:J+Q*$/2,y:Z+Y*$/2}}var Z4=e(x2(),1);function Hh(J){let{dungeonMap:Z,selectedRoomId:Q,onRoomSelect:Y}=J,$=p5.CANVAS_SIZE,H=Z?$/Z.gridSize:p5.GRID_SQUARE_SIZE,K=$h.useMemo(()=>{if(!Z?.mergedCorridors)return new Set;let A=new Set;return Z.mergedCorridors.forEach((M)=>{M.path.forEach((j)=>{A.add(`${j.x},${j.y}`)})}),A},[Z?.mergedCorridors]),B=(A)=>{let M=A.position.x*H,j=A.position.y*H,D=A.id===Q,w=A.templateId?ay(A.templateId):null,C={fill:D?"#e3f2fd":BZ.ROOM_FILL,stroke:D?BZ.ROOM_SELECTED:BZ.ROOM_STROKE,strokeWidth:D?p5.SELECTED_STROKE_WIDTH:p5.ROOM_STROKE_WIDTH},I=[];if(w){for(let k=0;k<w.gridPattern.length;k++){let T=w.gridPattern[k];if(!T)continue;for(let S=0;S<T.length;S++)if(T[S])I.push(Z4.jsxDEV("rect",{x:M+S*H,y:j+k*H,width:H,height:H,fill:C.fill,stroke:BZ.ROOM_INNER_GRID,strokeWidth:p5.INNER_GRID_STROKE_WIDTH,style:{cursor:"pointer"},onClick:()=>Y(A.id)},`${A.id}-${k}-${S}`,!1,void 0,this))}for(let k=0;k<w.gridPattern.length;k++){let T=w.gridPattern[k];if(!T)continue;for(let S=0;S<T.length;S++)if(T[S]){let d=L(A.id,M+S*H,j+k*H,k,S,w.gridPattern,C);I.push(...d)}}}else I.push(Z4.jsxDEV("rect",{x:M,y:j,width:A.width*H,height:A.height*H,fill:C.fill,stroke:C.stroke,strokeWidth:C.strokeWidth,style:{cursor:"pointer"},onClick:()=>Y(A.id)},A.id,!1,void 0,this));let b=A.connectionPoints?.filter((k)=>F3(k)).map((k,T)=>q(A.id,k,T,H))||[],E=Gh(M,j,A.width,A.height,H);return Z4.jsxDEV("g",{children:[I,b,Z4.jsxDEV("text",{x:E.x,y:E.y,textAnchor:"middle",dominantBaseline:"central",fontSize:Math.max(10,H/3),fill:BZ.TEXT_FILL,fontWeight:"bold",pointerEvents:"none",children:A.id.split("-")[1]?.slice(0,4)||"R"},void 0,!1,void 0,this)]},A.id,!0,void 0,this)},q=(A,M,j,D)=>{let w=Yh(M,D);return Z4.jsxDEV("rect",{x:w.x,y:w.y,width:w.width,height:w.height,fill:BZ.ROOM_FILL,stroke:BZ.ROOM_STROKE,strokeWidth:p5.STROKE_WIDTH+p5.INNER_GRID_STROKE_WIDTH},`${A}-door-${j}`,!1,void 0,this)},L=(A,M,j,D,w,C,I)=>{let b=[];return[{condition:D===0||!C[D-1]?.[w],coords:[M,j,M+H,j],edgeName:"top"},{condition:D===C.length-1||!C[D+1]?.[w],coords:[M,j+H,M+H,j+H],edgeName:"bottom"},{condition:w===0||!C[D]?.[w-1],coords:[M,j,M,j+H],edgeName:"left"},{condition:w===(C[D]?.length??0)-1||!C[D]?.[w+1],coords:[M+H,j,M+H,j+H],edgeName:"right"}].forEach(({condition:k,coords:T,edgeName:S})=>{if(k)b.push(Z4.jsxDEV("line",{x1:T[0],y1:T[1],x2:T[2],y2:T[3],stroke:I.stroke,strokeWidth:I.strokeWidth},`${A}-${S}-${D}-${w}`,!1,void 0,this))}),b},O=(A,M,j,D)=>{let w=M.x*H,C=M.y*H,I=[];return[[0,-1,w,C,w+H,C,"top"],[0,1,w,C+H,w+H,C+H,"bottom"],[-1,0,w,C,w,C+H,"left"],[1,0,w+H,C,w+H,C+H,"right"]].forEach(([E,k,T,S,d,o,v])=>{if(!D.has(`${M.x+E},${M.y+k}`))I.push(Z4.jsxDEV("line",{x1:T,y1:S,x2:d,y2:o,stroke:BZ.CORRIDOR_STROKE,strokeWidth:p5.STROKE_WIDTH},`${A}-${v}-${j}`,!1,void 0,this))}),I},z=(A,M,j)=>{let D=[];return M.forEach((w,C)=>{D.push(Z4.jsxDEV("rect",{x:w.x*H,y:w.y*H,width:H,height:H,fill:BZ.CORRIDOR_FILL,stroke:BZ.ROOM_INNER_GRID,strokeWidth:p5.INNER_GRID_STROKE_WIDTH},`${A}-${C}`,!1,void 0,this))}),M.forEach((w,C)=>{let I=O(A,w,C,j);D.push(...I)}),Z4.jsxDEV("g",{children:D},A,!1,void 0,this)},F=(A,M)=>z(A.id,A.path,M),V=(A)=>{let M=A.position.x*H,j=A.position.y*H,D,w,C,I;switch(A.direction){case"south":D=H*0.8,w=H*0.3,C=M+(H-D)/2,I=j-w/2;break;case"north":D=H*0.8,w=H*0.3,C=M+(H-D)/2,I=j+H-w/2;break;case"west":D=H*0.3,w=H*0.8,C=M+H-D/2,I=j+(H-w)/2;break;case"east":D=H*0.3,w=H*0.8,C=M-D/2,I=j+(H-w)/2;break;default:D=H*0.4,w=H*0.4,C=M+(H-D)/2,I=j+(H-w)/2}return Z4.jsxDEV("g",{children:[Z4.jsxDEV("rect",{x:C,y:I,width:D,height:w,fill:"#4caf50",stroke:"#2e7d32",strokeWidth:3},void 0,!1,void 0,this),Z4.jsxDEV("text",{x:M+H/2,y:j+H/2,textAnchor:"middle",dominantBaseline:"central",fontSize:Math.max(8,H/5),fill:"#fff",fontWeight:"bold",pointerEvents:"none",children:"ENT"},void 0,!1,void 0,this)]},"exterior-entrance",!0,void 0,this)};return Z4.jsxDEV(K5,{elevation:3,sx:{p:2,height:$+40,overflow:"hidden"},children:Z4.jsxDEV(I0,{sx:{width:$,height:$,border:"1px solid #ccc",backgroundColor:"#fafafa",position:"relative",overflow:"hidden"},children:Z?Z4.jsxDEV("svg",{width:$,height:$,children:[Z4.jsxDEV("rect",{width:"100%",height:"100%",fill:"#ffffff",stroke:"#000",strokeWidth:"2"},void 0,!1,void 0,this),Z4.jsxDEV("defs",{children:[Z4.jsxDEV("pattern",{id:"majorGrid",width:H*5,height:H*5,patternUnits:"userSpaceOnUse",children:Z4.jsxDEV("path",{d:`M ${H*5} 0 L 0 0 0 ${H*5}`,fill:"none",stroke:"#666666",strokeWidth:"1"},void 0,!1,void 0,this)},void 0,!1,void 0,this),Z4.jsxDEV("pattern",{id:"minorGrid",width:H,height:H,patternUnits:"userSpaceOnUse",children:Z4.jsxDEV("path",{d:`M ${H} 0 L 0 0 0 ${H}`,fill:"none",stroke:"#dddddd",strokeWidth:p5.INNER_GRID_STROKE_WIDTH},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Z4.jsxDEV("rect",{width:"100%",height:"100%",fill:"url(#minorGrid)"},void 0,!1,void 0,this),Z4.jsxDEV("rect",{width:"100%",height:"100%",fill:"url(#majorGrid)"},void 0,!1,void 0,this),Array.from({length:Math.ceil(Z.gridSize/5)+1},(A,M)=>M*5).map((A)=>Z4.jsxDEV("g",{children:[A<=Z.gridSize&&Z4.jsxDEV("text",{x:A*H,y:-5,textAnchor:"middle",fontSize:"10",fill:"#666",children:A},void 0,!1,void 0,this),A<=Z.gridSize&&Z4.jsxDEV("text",{x:-5,y:A*H+4,textAnchor:"end",fontSize:"10",fill:"#666",children:A},void 0,!1,void 0,this)]},`coords-${A}`,!0,void 0,this)),Z.mergedCorridors?.map((A)=>F(A,K)),Z.rooms.map(B),Z.entranceDoor&&V(Z.entranceDoor),Z4.jsxDEV("g",{transform:"translate(-15, -15)",children:Array.from({length:Math.ceil(Z.gridSize/5)+1},(A,M)=>M*5).map((A)=>Z4.jsxDEV("g",{children:[A<=Z.gridSize&&Z4.jsxDEV("text",{x:A*H+15,y:10,textAnchor:"middle",fontSize:"12",fill:"#333",fontWeight:"bold",children:A},void 0,!1,void 0,this),A<=Z.gridSize&&Z4.jsxDEV("text",{x:10,y:A*H+19,textAnchor:"middle",fontSize:"12",fill:"#333",fontWeight:"bold",children:A},void 0,!1,void 0,this)]},`overlay-coords-${A}`,!0,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this):Z4.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"text.secondary",fontSize:"1.2rem"},children:"Generate a dungeon to see the map"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Wh=e(J0(),1);var A3=e(x2(),1);function Kh(J){let{onGenerate:Z,onReset:Q,onExport:Y,isGenerating:$,hasMap:H,initialSettings:K}=J,[B,q]=Wh.useState(K),L=(z,F)=>{q((V)=>({...V,[z]:F}))},O=()=>{let z={...B};if(!z.seed||z.seed.trim()==="")z.seed=kN(),q(z);Z(z)};return A3.jsxDEV(K5,{elevation:3,sx:{p:3},children:[A3.jsxDEV(a1,{variant:"h5",gutterBottom:!0,children:"Dungeon Generator"},void 0,!1,void 0,this),A3.jsxDEV(I0,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:[A3.jsxDEV(N3,{label:"Room Count",type:"number",value:B.roomCount,onChange:(z)=>L("roomCount",parseInt(z.target.value)||1),inputProps:{min:oW.MIN_ROOMS_LIMIT,max:oW.MAX_ROOMS_LIMIT},fullWidth:!0,size:"small"},void 0,!1,void 0,this),A3.jsxDEV(N3,{label:"Seed",type:"text",value:B.seed||"",onChange:(z)=>L("seed",z.target.value),placeholder:"Leave blank for random",fullWidth:!0,size:"small"},void 0,!1,void 0,this),A3.jsxDEV(N3,{label:"Grid Size",type:"number",value:B.gridSize,onChange:(z)=>L("gridSize",parseInt(z.target.value)||20),inputProps:{min:oW.MIN_GRID_SIZE,max:oW.MAX_GRID_SIZE},fullWidth:!0,size:"small",helperText:"Grid squares (20-50)"},void 0,!1,void 0,this),A3.jsxDEV(N3,{label:"Room Spacing",type:"number",value:B.roomSpacing,onChange:(z)=>L("roomSpacing",parseInt(z.target.value)||1),inputProps:{min:oW.MIN_ROOM_SPACING,max:oW.MAX_ROOM_SPACING},fullWidth:!0,size:"small",helperText:"Grid squares between rooms"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),A3.jsxDEV(u6,{sx:{my:3}},void 0,!1,void 0,this),A3.jsxDEV(I0,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[A3.jsxDEV(o2,{variant:"contained",color:"primary",onClick:O,disabled:$,size:"large",children:$?"Generating...":"Generate Dungeon"},void 0,!1,void 0,this),A3.jsxDEV(o2,{variant:"outlined",onClick:Q,disabled:!H||$,children:"Reset"},void 0,!1,void 0,this),A3.jsxDEV(o2,{variant:"outlined",color:"secondary",onClick:Y,disabled:!H||$,children:"Export JSON"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function Bh(J,...Z){if(J==null)return!1;return Z.every((Q)=>J[Q]!==void 0)}var F5=e(x2(),1);function qh(J){let{room:Z,dungeonMap:Q}=J;if(!Z)return F5.jsxDEV(K5,{elevation:3,sx:{p:3,height:400},children:F5.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"text.secondary"},children:"Select a room to view details"},void 0,!1,void 0,this)},void 0,!1,void 0,this);let Y=(B)=>{switch(B){case"north":return"↑";case"south":return"↓";case"east":return"→";case"west":return"←";case"northeast":return"↗";case"northwest":return"↖";case"southeast":return"↘";case"southwest":return"↙";default:return"?"}},$=(B)=>{return B.split("-").map((q)=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ")},H=(B)=>{return B.charAt(0).toUpperCase()+B.slice(1)},K=Q?Z.connectionPoints.filter((B)=>F3(B)).map((B)=>{return{corridor:Q.mergedCorridors.find((L)=>L.connectionPoints.some((O)=>Math.abs(O.position.x-B.position.x)<1&&Math.abs(O.position.y-B.position.y)<1))}}).filter((B)=>Bh(B,"corridor")):[];return F5.jsxDEV(K5,{elevation:3,sx:{p:3,height:400,overflow:"auto"},children:[F5.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:"Room Details"},void 0,!1,void 0,this),F5.jsxDEV(I0,{sx:{mb:2},children:F5.jsxDEV(a1,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Room ID: ",Z.id.split("-")[1]?.slice(0,8)||"Unknown"]},void 0,!0,void 0,this)},void 0,!1,void 0,this),F5.jsxDEV(I0,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[F5.jsxDEV(B5,{label:`Shape: ${$(Z.shape)}`,variant:"outlined",size:"small"},void 0,!1,void 0,this),F5.jsxDEV(B5,{label:`Size: ${H(Z.size)}`,variant:"outlined",size:"small",color:"primary"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),F5.jsxDEV(a1,{variant:"body2",gutterBottom:!0,children:[F5.jsxDEV("strong",{children:"Dimensions:"},void 0,!1,void 0,this)," ",Z.width," × ",Z.height," grid squares"]},void 0,!0,void 0,this),F5.jsxDEV(a1,{variant:"body2",gutterBottom:!0,children:[F5.jsxDEV("strong",{children:"Grid Position:"},void 0,!1,void 0,this)," (",Math.round(Z.position.x),", ",Math.round(Z.position.y),")"]},void 0,!0,void 0,this),F5.jsxDEV(a1,{variant:"body2",gutterBottom:!0,sx:{fontSize:"0.75rem",color:"text.secondary"},children:[F5.jsxDEV("strong",{children:"Graph Paper:"},void 0,!1,void 0,this)," Top-left corner at (",Math.round(Z.position.x),", ",Math.round(Z.position.y),"), extends to (",Math.round(Z.position.x+Z.width-1),", ",Math.round(Z.position.y+Z.height-1),")"]},void 0,!0,void 0,this),F5.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),F5.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:["Connection Points (",Z.connectionPoints.length,")"]},void 0,!0,void 0,this),Z.connectionPoints.length>0?F5.jsxDEV(kX,{dense:!0,children:Z.connectionPoints.map((B,q)=>F5.jsxDEV(xX,{sx:{px:0},children:F5.jsxDEV(CX,{primary:F5.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[F5.jsxDEV("span",{children:Y(B.direction)},void 0,!1,void 0,this),F5.jsxDEV("span",{children:$(B.direction)},void 0,!1,void 0,this),F5.jsxDEV(B5,{label:F3(B)?"Connected":"Open",size:"small",color:F3(B)?"success":"warning",variant:"outlined"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),secondary:`Position: (${Math.round(B.position.x)}, ${Math.round(B.position.y)})`},void 0,!1,void 0,this)},q,!1,void 0,this))},void 0,!1,void 0,this):F5.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:"No connection points"},void 0,!1,void 0,this),K.length>0&&F5.jsxDEV(F5.Fragment,{children:[F5.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),F5.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:["Connected Corridors (",K.length,")"]},void 0,!0,void 0,this),F5.jsxDEV(kX,{dense:!0,children:K.map(({corridor:B},q)=>F5.jsxDEV(xX,{sx:{px:0},children:F5.jsxDEV(CX,{primary:`Corridor ${B.id.split("-")[1]?.slice(0,8)||"Unknown"}`,secondary:F5.jsxDEV(B5,{label:`${B.segmentCount} segments`,size:"small",color:"info",variant:"outlined"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},q,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Z.description&&F5.jsxDEV(F5.Fragment,{children:[F5.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),F5.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:"Description"},void 0,!1,void 0,this),F5.jsxDEV(a1,{variant:"body2",children:Z.description},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var Y8=e(x2(),1),Uh=()=>{let[J,Z]=qZ.useState(null),[Q,Y]=qZ.useState(null),[$,H]=qZ.useState(!1),[K,B]=qZ.useState({open:!1,message:"",severity:"info"}),q=qZ.useCallback((M,j="info")=>{B({open:!0,message:M,severity:j})},[]),L=qZ.useCallback(async(M)=>{H(!0),Y(null);try{await new Promise((D)=>setTimeout(D,500));let j=Qh(M);Z(j),q(`Generated dungeon with ${j.totalRooms} rooms!`,"success")}catch(j){console.error("Error generating dungeon:",j),q("Failed to generate dungeon. Please try again.","error")}finally{H(!1)}},[q]),O=qZ.useCallback(()=>{Z(null),Y(null),q("Dungeon cleared","info")},[q]),z=qZ.useCallback(()=>{if(!J)return;try{let M={...J,exportedAt:new Date().toISOString()},j=JSON.stringify(M,null,2),D=new Blob([j],{type:"application/json"}),w=document.createElement("a");w.href=URL.createObjectURL(D),w.download=`${J.name.replace(/\s+/g,"_")}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),q("Dungeon exported successfully!","success")}catch(M){console.error("Error exporting dungeon:",M),q("Failed to export dungeon","error")}},[J,q]),F=qZ.useCallback((M)=>{Y((j)=>j===M?null:M)},[]),V=J?.rooms.find((M)=>M.id===Q)||null,A=()=>{B((M)=>({...M,open:!1}))};return Y8.jsxDEV(Y8.Fragment,{children:[Y8.jsxDEV(RD,{},void 0,!1,void 0,this),Y8.jsxDEV(LJ,{maxWidth:"xl",sx:{py:4},children:[Y8.jsxDEV(I0,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:3},children:[Y8.jsxDEV(I0,{sx:{flex:{xs:"1",lg:"0 0 300px"}},children:Y8.jsxDEV(Kh,{onGenerate:L,onReset:O,onExport:z,isGenerating:$,hasMap:!!J,initialSettings:Xh},void 0,!1,void 0,this)},void 0,!1,void 0,this),Y8.jsxDEV(I0,{sx:{flex:"1"},children:Y8.jsxDEV(Hh,{dungeonMap:J,selectedRoomId:Q,onRoomSelect:F},void 0,!1,void 0,this)},void 0,!1,void 0,this),Y8.jsxDEV(I0,{sx:{flex:{xs:"1",lg:"0 0 300px"}},children:Y8.jsxDEV(qh,{room:V,dungeonMap:J},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Y8.jsxDEV(KL,{open:K.open,autoHideDuration:4000,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Y8.jsxDEV(JZ,{onClose:A,severity:K.severity,variant:"filled",sx:{width:"100%"},children:K.message},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)};var Vw=e(x2(),1);function Iw(){return Vw.jsxDEV(LJ,{maxWidth:!1,sx:{p:0,height:"100vh"},children:Vw.jsxDEV(Uh,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var jZ=e(J0(),1);var x7=e(J0(),1);var Lh=e(F0(),1),Oh=u0(Lh.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var zh=e(F0(),1),yG=u0(zh.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome");var Nh=e(F0(),1),jw=u0(Nh.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");var Fh=e(F0(),1),Dw=u0(Fh.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var Ah=e(F0(),1),RN=u0(Ah.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Mh=e(F0(),1),ww=u0(Mh.jsx("path",{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2zm0 15H5l5-6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"Compare");var _h=e(F0(),1),Ew=u0(_h.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM17 15.74 15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12z"}),"Dangerous");var Vh=e(F0(),1),kw=u0(Vh.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Ih=e(F0(),1),xw=u0(Ih.jsx("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2z"}),"DirectionsRun");var jh=e(F0(),1),Rw=u0(jh.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");var Dh=e(F0(),1),CN=u0(Dh.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var wh=e(F0(),1),bN=u0(wh.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-3.5-.5h2v-3h-2z"}),"HighQuality");var Eh=e(F0(),1),Cw=u0(Eh.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var kh=e(F0(),1),bw=u0(kh.jsx("path",{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3m12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4"}),"Hotel");var xh=e(F0(),1),vw=u0(xh.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Rh=e(F0(),1),fw=u0(Rh.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory");var Ch=e(F0(),1),rW=u0(Ch.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"}),"Keyboard");var bh=e(F0(),1),Sw=u0(bh.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn");var vh=e(F0(),1),vN=u0(vh.jsx("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory");var Tw=e(F0(),1),Pw=u0([Tw.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),Tw.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook");var fh=e(F0(),1),gw=u0(fh.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"MyLocation");var Sh=e(F0(),1),yw=u0(Sh.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Th=e(F0(),1),hw=u0(Th.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var Ph=e(F0(),1),uw=u0(Ph.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");var gh=e(F0(),1),fN=u0(gh.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore");var yh=e(F0(),1),dw=u0(yh.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Room");var hh=e(F0(),1),SN=u0(hh.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var mw=e(F0(),1),cw=u0([mw.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),mw.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule");var uh=e(F0(),1),pw=u0(uh.jsx("path",{d:"M5 3v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2m12 15H7V6h10zm-1-6h-3V8h-2v4H8l4 4z"}),"SecurityUpdate");var dh=e(F0(),1),BL=u0(dh.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed");var mh=e(F0(),1),lw=u0(mh.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store");var ch=e(F0(),1),iw=u0(ch.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer");var ph=e(F0(),1),nw=u0(ph.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var lh=e(F0(),1),aw=u0(lh.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");var FL=e(J0(),1);var pG=[{id:"tinyllama-1.1b",name:"TinyLlama 1.1B",modelPath:"onnx-community/TinyLlama-1.1B-Chat-v1.0-ONNX",parameters:"1.1B",description:"Larger model with better text quality",performanceLevel:"quality"},{id:"qwen-0.5b",name:"Qwen2.5 0.5B",modelPath:"onnx-community/Qwen2.5-0.5B-Instruct",parameters:"500M",description:"Smaller, faster model with good quality",performanceLevel:"fast"}];class j3{generator=null;currentModelId=null;isInitialized=!1;initializationPromise=null;static getAvailableModels(){return[...pG]}static getModelConfig(J){return pG.find((Z)=>Z.id===J)}getCurrentModelId(){return this.currentModelId}async initialize(J="tinyllama-1.1b"){if(this.isInitialized&&this.currentModelId===J)return;if(this.currentModelId!==J)this.isInitialized=!1,this.initializationPromise=null,this.generator=null;if(this.initializationPromise)return this.initializationPromise;this.initializationPromise=this.performInitialization(J),await this.initializationPromise}async performInitialization(J){if(typeof window>"u")throw Error("LLM Narrator requires browser environment");let Z=j3.getModelConfig(J);if(!Z)throw Error(`Unknown model ID: ${J}`);let{pipeline:Q}=await Promise.resolve().then(() => (yn(),gn)),Y=await Q("text-generation",Z.modelPath,{device:"wasm"});if(typeof Y!=="function")throw Error("Failed to create text generation pipeline");this.generator=Y,this.currentModelId=J,this.isInitialized=!0}async describeRoom(J,Z,Q){let Y=Q||this.currentModelId||"tinyllama-1.1b";await this.initialize(Y);let $=this.extractRoomContext(J),H=this.buildRoomPrompt($,Z);if(!this.generator)throw Error("LLM generator not initialized");let K=await this.generator(H,{max_new_tokens:150,temperature:0.7,do_sample:!0,top_p:0.9,repetition_penalty:1.1}),B=Array.isArray(K)&&K.length>0&&K[0]?K[0].generated_text:"";if(!B)throw Error("LLM failed to generate description");return this.cleanGeneratedText(B,H)}async switchModel(J){if(this.currentModelId===J)return;this.isInitialized=!1,this.initializationPromise=null,this.generator=null,this.currentModelId=null,await this.initialize(J)}extractRoomContext(J){return{roomType:J.roomType,exits:Array.from(J.exits.keys()),enemies:J.contents.enemies,items:J.contents.items,hasHazards:Boolean(J.hazards&&J.hazards.length>0),hasInteractiveElements:Boolean(J.interactiveElements&&J.interactiveElements.length>0),visited:J.visited}}buildRoomPrompt(J,Z){let Q=this.getRoomTypeDescriptor(J.roomType),Y=J.exits.length>0?J.exits.join(", "):"none",$="";if(J.enemies.length>0){let K=J.enemies.map((B)=>B.type).join(", ");$+=` There are ${J.enemies.length} enemies here: ${K}.`}if(J.items.length>0)$+=` You can see ${J.items.length} items scattered about.`;if(J.hasHazards)$+=" Environmental hazards are present.";if(J.hasInteractiveElements)$+=" Interactive elements are visible.";let H=J.visited?" You have been here before.":" This is your first time in this area.";return`<|system|>
You are a dungeon master describing a room in a fantasy dungeon. Provide a vivid, atmospheric description in 2-3 sentences. Focus on what the character sees, hears, and feels. Be immersive but concise.

<|user|>
Room type: ${Q}
Exits: ${Y}${$}${H}

Describe this room as a dungeon master would:

<|assistant|>`}getRoomTypeDescriptor(J){return{entrance:"dungeon entrance",corridor:"narrow stone corridor",chamber:"large chamber",armory:"old armory",library:"ancient library",throne_room:"grand throne room",treasure_room:"treasure chamber",generic:"stone room"}[J]||"mysterious room"}cleanGeneratedText(J,Z){let Y=J.replace(Z,"").trim().replace(/<\|.*?\|>/g,"").replace(/^\s*[\[\](){}]+\s*/,"").trim();if(!Y||Y.length<10)return"You find yourself in a mysterious chamber, shadows dancing in the dim light.";return Y.endsWith(".")||Y.endsWith("!")||Y.endsWith("?")?Y:Y+"."}}var u2=e(x2(),1);function a_(J){switch(J){case"fast":return u2.jsxDEV(BL,{fontSize:"small"},void 0,!1,void 0,this);case"quality":return u2.jsxDEV(bN,{fontSize:"small"},void 0,!1,void 0,this);case"balanced":return u2.jsxDEV(vN,{fontSize:"small"},void 0,!1,void 0,this);default:return u2.jsxDEV(vN,{fontSize:"small"},void 0,!1,void 0,this)}}function ak(J){switch(J){case"fast":return"primary";case"quality":return"secondary";case"balanced":return"warning";default:return"primary"}}function hn({selectedModelId:J,onModelChange:Z,isLoading:Q=!1,onShowComparison:Y,compact:$=!1}){let[H,K]=FL.useState(!1),B=j3.getModelConfig(J),q=FL.useCallback((z)=>{Z(z)},[Z]),L=FL.useCallback(()=>{K(!0)},[]),O=FL.useCallback(()=>{K(!1)},[]);if($)return u2.jsxDEV(u2.Fragment,{children:[u2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[u2.jsxDEV(VQ,{title:B?.description||"Select model",children:u2.jsxDEV(B5,{icon:B?a_(B.performanceLevel):u2.jsxDEV(vN,{},void 0,!1,void 0,this),label:B?.name||"No Model",color:B?ak(B.performanceLevel):"default",size:"small",onClick:L,disabled:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this),Q&&u2.jsxDEV(eJ,{size:16},void 0,!1,void 0,this)]},void 0,!0,void 0,this),u2.jsxDEV(k8,{open:H,onClose:O,maxWidth:"sm",fullWidth:!0,children:[u2.jsxDEV(NJ,{children:"LLM Model Information"},void 0,!1,void 0,this),u2.jsxDEV(zJ,{children:u2.jsxDEV(E7,{spacing:2,children:pG.map((z)=>u2.jsxDEV(I0,{sx:{p:2,border:1,borderColor:z.id===J?"primary.main":"divider",borderRadius:1,bgcolor:z.id===J?"primary.light":"background.paper",cursor:"pointer"},onClick:()=>{q(z.id),O()},children:[u2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a_(z.performanceLevel),u2.jsxDEV(a1,{variant:"h6",children:z.name},void 0,!1,void 0,this),u2.jsxDEV(B5,{label:z.parameters,size:"small",color:ak(z.performanceLevel)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),u2.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:z.description},void 0,!1,void 0,this),u2.jsxDEV(a1,{variant:"caption",display:"block",sx:{mt:1},children:["Performance: ",z.performanceLevel]},void 0,!0,void 0,this)]},z.id,!0,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),u2.jsxDEV(OJ,{children:u2.jsxDEV(o2,{onClick:O,children:"Close"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this);return u2.jsxDEV(u2.Fragment,{children:[u2.jsxDEV(I0,{sx:{minWidth:200},children:[u2.jsxDEV(xG,{fullWidth:!0,size:"small",children:[u2.jsxDEV(CG,{children:"LLM Model"},void 0,!1,void 0,this),u2.jsxDEV(PG,{value:J,label:"LLM Model",onChange:(z)=>q(z.target.value),disabled:Q,startAdornment:Q&&u2.jsxDEV(eJ,{size:16,sx:{mr:1}},void 0,!1,void 0,this),children:pG.map((z)=>u2.jsxDEV(YL,{value:z.id,children:u2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[a_(z.performanceLevel),u2.jsxDEV(I0,{sx:{flexGrow:1},children:[u2.jsxDEV(a1,{variant:"body2",component:"div",children:z.name},void 0,!1,void 0,this),u2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:[z.parameters," • ",z.performanceLevel]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},z.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Y&&u2.jsxDEV(o2,{size:"small",startIcon:u2.jsxDEV(ww,{},void 0,!1,void 0,this),onClick:Y,sx:{mt:1,width:"100%"},variant:"outlined",children:"Compare Models"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),u2.jsxDEV(k8,{open:H,onClose:O,maxWidth:"sm",fullWidth:!0,children:[u2.jsxDEV(NJ,{children:"LLM Model Information"},void 0,!1,void 0,this),u2.jsxDEV(zJ,{children:u2.jsxDEV(E7,{spacing:2,children:pG.map((z)=>u2.jsxDEV(I0,{sx:{p:2,border:1,borderColor:z.id===J?"primary.main":"divider",borderRadius:1,bgcolor:z.id===J?"primary.light":"background.paper",cursor:"pointer"},onClick:()=>{q(z.id),O()},children:[u2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a_(z.performanceLevel),u2.jsxDEV(a1,{variant:"h6",children:z.name},void 0,!1,void 0,this),u2.jsxDEV(B5,{label:z.parameters,size:"small",color:ak(z.performanceLevel)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),u2.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:z.description},void 0,!1,void 0,this),u2.jsxDEV(a1,{variant:"caption",display:"block",sx:{mt:1},children:["Performance: ",z.performanceLevel]},void 0,!0,void 0,this)]},z.id,!0,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),u2.jsxDEV(OJ,{children:u2.jsxDEV(o2,{onClick:O,children:"Close"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var D3=e(x2(),1);function un({gameEngine:J,hasMana:Z,selectedModelId:Q,isModelLoading:Y,onModelChange:$,onShowSpellBook:H,onShowSave:K,onShowLoad:B,onShowShortcutsHelp:q,onShowModelComparison:L}){return D3.jsxDEV(I0,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:1},children:D3.jsxDEV(E7,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",children:[$&&D3.jsxDEV(hn,{selectedModelId:Q,onModelChange:$,isLoading:Y,onShowComparison:L,compact:!0},void 0,!1,void 0,this),D3.jsxDEV(E7,{direction:"row",spacing:2,children:[Z&&H&&D3.jsxDEV(o2,{variant:"outlined",startIcon:D3.jsxDEV(yG,{},void 0,!1,void 0,this),onClick:H,size:"small",children:"Spells"},void 0,!1,void 0,this),J&&K&&D3.jsxDEV(o2,{variant:"outlined",startIcon:D3.jsxDEV(SN,{},void 0,!1,void 0,this),onClick:K,size:"small",children:"Save"},void 0,!1,void 0,this),J&&B&&D3.jsxDEV(o2,{variant:"outlined",startIcon:D3.jsxDEV(fN,{},void 0,!1,void 0,this),onClick:B,size:"small",children:"Load"},void 0,!1,void 0,this),D3.jsxDEV(o2,{variant:"outlined",startIcon:D3.jsxDEV(CN,{},void 0,!1,void 0,this),onClick:q,size:"small",children:"Help"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var lG=e(J0(),1);var s_;((H)=>{H.RIDDLE="riddle";H.SEQUENCE="sequence";H.SYMBOL="symbol";H.MATH="math";H.WORD="word"})(s_||={});var o_=e(x2(),1),pn=lG.memo(function({messages:Z,maxMessages:Q=50}){let Y=lG.useRef(null),$=lG.useMemo(()=>Z.slice(-Q),[Z,Q]);lG.useEffect(()=>{if(Y.current){let K=Y.current;K.scrollTop=K.scrollHeight}},[Z.length,Z[Z.length-1]?.id]);let H=(K)=>{switch(K){case"system":return"primary.main";case"action":return"text.primary";case"combat":return"error.main";case"description":return"text.secondary";case"error":return"error.main";default:return"text.primary"}};return o_.jsxDEV(K5,{ref:Y,sx:{p:2,height:"400px",overflow:"auto"},children:o_.jsxDEV(I0,{sx:{display:"flex",flexDirection:"column",gap:1},children:$.map((K)=>o_.jsxDEV(a1,{variant:"body2",sx:{color:H(K.type),fontFamily:"monospace",whiteSpace:"pre-wrap"},children:K.text},K.id,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this)});var r_=e(J0(),1);var t_=e(x2(),1);function ln({onCommand:J,disabled:Z=!1,placeholder:Q="Enter command..."}){let[Y,$]=r_.useState(""),[H,K]=r_.useState([]),[B,q]=r_.useState(-1),L=()=>{if(Y.trim())J(Y.trim()),K((z)=>[...z,Y.trim()]),$(""),q(-1)};return t_.jsxDEV(I0,{bgcolor:"white",p:2,borderRadius:1,boxShadow:3,children:[t_.jsxDEV(a1,{variant:"body2",color:"text.secondary",sx:{mb:1},children:'Type commands like: "north", "look", "get sword", "attack goblin", "inventory"'},void 0,!1,void 0,this),t_.jsxDEV(N3,{fullWidth:!0,value:Y,onChange:(z)=>$(z.target.value),onKeyDown:(z)=>{if(z.key==="Enter")z.preventDefault(),L();else if(z.key==="ArrowUp"){if(z.preventDefault(),H.length>0){let F=B===-1?H.length-1:Math.max(0,B-1);q(F),$(H[F]||"")}}else if(z.key==="ArrowDown"){if(z.preventDefault(),B!==-1){let F=B+1;if(F>=H.length)q(-1),$("");else q(F),$(H[F]||"")}}},disabled:Z,placeholder:Q,variant:"outlined",sx:{"& .MuiInputBase-input":{fontFamily:"monospace"}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var U5=e(x2(),1);function an({combatState:J,onCombatAction:Z,disabled:Q=!1}){let Y=J.participants.find((L)=>L.type==="player"),$=J.participants.filter((L)=>L.type==="enemy"&&L.isActive),H=J.participants.find((L)=>L.id===J.turnOrder[J.currentTurnIndex]),K=H?.type==="player",B=(L,O)=>{return Math.max(0,L/O*100)},q=(L)=>{if(L>50)return"success.main";if(L>25)return"warning.main";return"error.main"};return U5.jsxDEV(K5,{sx:{p:3,bgcolor:"error.light",border:"2px solid",borderColor:"error.main"},children:[U5.jsxDEV(a1,{variant:"h5",gutterBottom:!0,color:"error.contrastText",sx:{fontWeight:"bold"},children:["⚔️ Combat - Round ",J.round]},void 0,!0,void 0,this),U5.jsxDEV(I0,{sx:{mb:2},children:U5.jsxDEV(B5,{label:K?"Your Turn!":`${H?.name}'s Turn`,color:K?"success":"warning",sx:{fontWeight:"bold"}},void 0,!1,void 0,this)},void 0,!1,void 0,this),U5.jsxDEV(x5,{container:!0,spacing:3,children:[U5.jsxDEV(x5,{size:{xs:12,md:6},children:U5.jsxDEV(K5,{sx:{p:2,bgcolor:"background.paper"},children:[U5.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:[Y?.name," (You)"]},void 0,!0,void 0,this),Y?.character&&U5.jsxDEV(U5.Fragment,{children:[U5.jsxDEV(a1,{variant:"body2",gutterBottom:!0,children:["HP: ",Y.character.hp.current," / ",Y.character.hp.max]},void 0,!0,void 0,this),U5.jsxDEV(bG,{variant:"determinate",value:B(Y.character.hp.current,Y.character.hp.max),sx:{height:8,mb:1,"& .MuiLinearProgress-bar":{backgroundColor:q(B(Y.character.hp.current,Y.character.hp.max))}}},void 0,!1,void 0,this),Y.statusEffects.length>0&&U5.jsxDEV(I0,{sx:{mt:1},children:[U5.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:"Status Effects:"},void 0,!1,void 0,this),U5.jsxDEV(E7,{direction:"row",spacing:1,sx:{mt:0.5,flexWrap:"wrap"},children:Y.statusEffects.map((L)=>U5.jsxDEV(B5,{label:`${L.name} (${L.duration})`,size:"small",color:"info"},L.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),U5.jsxDEV(x5,{size:{xs:12,md:6},children:U5.jsxDEV(K5,{sx:{p:2,bgcolor:"background.paper"},children:[U5.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:"Enemies"},void 0,!1,void 0,this),$.map((L)=>U5.jsxDEV(I0,{sx:{mb:2,p:1,border:"1px solid",borderColor:"divider",borderRadius:1},children:[U5.jsxDEV(a1,{variant:"body1",gutterBottom:!0,children:L.name},void 0,!1,void 0,this),L.enemy&&U5.jsxDEV(U5.Fragment,{children:[U5.jsxDEV(a1,{variant:"body2",gutterBottom:!0,children:["HP: ",L.enemy.hp.current," / ",L.enemy.hp.max]},void 0,!0,void 0,this),U5.jsxDEV(bG,{variant:"determinate",value:B(L.enemy.hp.current,L.enemy.hp.max),sx:{height:6,"& .MuiLinearProgress-bar":{backgroundColor:q(B(L.enemy.hp.current,L.enemy.hp.max))}}},void 0,!1,void 0,this),L.statusEffects.length>0&&U5.jsxDEV(E7,{direction:"row",spacing:0.5,sx:{mt:0.5,flexWrap:"wrap"},children:L.statusEffects.map((O)=>U5.jsxDEV(B5,{label:`${O.name} (${O.duration})`,size:"small",color:"warning"},O.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},L.id,!0,void 0,this))]},void 0,!0,void 0,this)},void 0,!1,void 0,this),K&&U5.jsxDEV(x5,{size:12,children:U5.jsxDEV(K5,{sx:{p:2,bgcolor:"background.paper"},children:[U5.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:"Choose Your Action"},void 0,!1,void 0,this),U5.jsxDEV(E7,{direction:"row",spacing:2,sx:{flexWrap:"wrap"},children:[$.map((L)=>U5.jsxDEV(o2,{variant:"contained",color:"error",onClick:()=>Z("attack",L.id),disabled:Q,sx:{mb:1},children:["Attack ",L.name]},`attack-${L.id}`,!0,void 0,this)),U5.jsxDEV(o2,{variant:"outlined",color:"primary",onClick:()=>Z("defend"),disabled:Q,sx:{mb:1},children:"Defend (+2 AC)"},void 0,!1,void 0,this),U5.jsxDEV(o2,{variant:"outlined",color:"warning",onClick:()=>Z("flee"),disabled:Q,sx:{mb:1},children:"Flee"},void 0,!1,void 0,this),Y?.character?.inventory.some((L)=>L.baseType==="potion")&&U5.jsxDEV(o2,{variant:"outlined",color:"success",disabled:!0,sx:{mb:1},children:"Use Item (Coming Soon)"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),J.playerActions.length>0&&U5.jsxDEV(x5,{size:12,children:U5.jsxDEV(K5,{sx:{p:2,bgcolor:"background.default"},children:[U5.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:"Recent Actions"},void 0,!1,void 0,this),U5.jsxDEV(I0,{sx:{maxHeight:150,overflow:"auto"},children:J.playerActions.slice(-5).map((L,O)=>U5.jsxDEV(a1,{variant:"body2",sx:{fontFamily:"monospace",mb:0.5,color:L.type==="attack"?"error.main":"text.primary"},children:L.description},O,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var OK=e(x2(),1);function sn({gameState:J,onCommand:Z,onCombatAction:Q}){return OK.jsxDEV(x5,{size:{xs:12,md:8},children:[J.combatState&&Q&&OK.jsxDEV(I0,{sx:{mb:3},children:OK.jsxDEV(an,{combatState:J.combatState,onCombatAction:Q,disabled:!1},void 0,!1,void 0,this)},void 0,!1,void 0,this),OK.jsxDEV(I0,{sx:{mb:3},children:OK.jsxDEV(pn,{messages:J.messageLog},void 0,!1,void 0,this)},void 0,!1,void 0,this),OK.jsxDEV(ln,{onCommand:Z,disabled:!!J.combatState},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var en=e(J0(),1);var eN;(($)=>{$.FIGHTER="Fighter";$.WIZARD="Wizard";$.ROGUE="Rogue";$.CLERIC="Cleric"})(eN||={});var tk={Fighter:[{id:"weapon_mastery",name:"Weapon Mastery",description:"+1 damage with all weapon attacks",levelRequired:1,abilityType:"passive",effects:[{type:"damage_bonus",value:1,target:"self"}]},{id:"second_wind",name:"Second Wind",description:"Recover 1d10+level HP once per day",levelRequired:1,usesPerDay:1,currentUses:1,abilityType:"active",effects:[{type:"special",value:0,target:"self"}]},{id:"action_surge",name:"Action Surge",description:"Take an extra action in combat once per day",levelRequired:2,usesPerDay:1,currentUses:1,abilityType:"combat",effects:[{type:"special",target:"self"}]}],Wizard:[{id:"arcane_recovery",name:"Arcane Recovery",description:"Recover half your mana once per day during rest",levelRequired:1,usesPerDay:1,currentUses:1,abilityType:"active",effects:[{type:"special",target:"self"}]},{id:"spell_mastery",name:"Spell Mastery",description:"Can cast spells using Intelligence modifier",levelRequired:1,abilityType:"passive",effects:[{type:"spell_slot",value:2,target:"self"}]},{id:"ritual_casting",name:"Ritual Casting",description:"Can cast certain spells without using mana",levelRequired:2,abilityType:"passive",effects:[{type:"special",target:"self"}]}],Rogue:[{id:"sneak_attack",name:"Sneak Attack",description:"+1d6 damage when attacking surprised enemies",levelRequired:1,abilityType:"combat",effects:[{type:"damage_bonus",value:6,condition:"surprised_enemy",target:"target"}]},{id:"thieves_tools",name:"Thieves' Tools",description:"Can attempt to pick locks and disarm traps",levelRequired:1,abilityType:"exploration",effects:[{type:"skill_bonus",value:3,target:"self"}]},{id:"uncanny_dodge",name:"Uncanny Dodge",description:"Reduce damage from one attack by half once per combat",levelRequired:2,usesPerDay:3,currentUses:3,abilityType:"combat",effects:[{type:"special",target:"self"}]}],Cleric:[{id:"divine_spellcasting",name:"Divine Spellcasting",description:"Can cast divine spells using Wisdom modifier",levelRequired:1,abilityType:"passive",effects:[{type:"spell_slot",value:2,target:"self"}]},{id:"turn_undead",name:"Turn Undead",description:"Force undead enemies to flee for 1 minute",levelRequired:1,usesPerDay:2,currentUses:2,abilityType:"combat",effects:[{type:"special",duration:10,target:"all_enemies"}]},{id:"channel_divinity",name:"Channel Divinity",description:"Heal yourself or allies for 2d8+Wisdom HP",levelRequired:2,usesPerDay:1,currentUses:1,abilityType:"active",effects:[{type:"special",target:"self"}]}]};class ek{static getAbilitiesForCharacter(J){return(tk[J.class]||[]).filter((Q)=>J.level>=Q.levelRequired)}static resetDailyAbilities(J){}static canUseAbility(J,Z){let Y=this.getAbilitiesForCharacter(J).find(($)=>$.id===Z);if(!Y)return!1;if(Y.usesPerDay===void 0)return!0;return(Y.currentUses||0)>0}static useAbility(J,Z){let Y=this.getAbilitiesForCharacter(J).find(($)=>$.id===Z);if(!Y||!this.canUseAbility(J,Z))return!1;if(Y.usesPerDay!==void 0&&Y.currentUses!==void 0)Y.currentUses--;return!0}static getStatBonus(J,Z){let Q=this.getAbilitiesForCharacter(J),Y=0;for(let $ of Q)if($.abilityType==="passive"){for(let H of $.effects)if(H.type==="stat_bonus")Y+=H.value||0}return Y}static getDamageBonus(J){let Z=this.getAbilitiesForCharacter(J),Q=0;for(let Y of Z)if(Y.abilityType==="passive"){for(let $ of Y.effects)if($.type==="damage_bonus")Q+=$.value||0}return Q}static getACBonus(J){let Z=this.getAbilitiesForCharacter(J),Q=0;for(let Y of Z)if(Y.abilityType==="passive"){for(let $ of Y.effects)if($.type==="ac_bonus")Q+=$.value||0}return Q}static getHPBonus(J){let Z=this.getAbilitiesForCharacter(J),Q=0;for(let Y of Z)if(Y.abilityType==="passive"){for(let $ of Y.effects)if($.type==="hp_bonus")Q+=$.value||0}return Q}}var p7=e(x2(),1);function $8({title:J,description:Z,type:Q="info",shortcut:Y,children:$,...H}){let K=()=>{switch(Q){case"help":return p7.jsxDEV(CN,{fontSize:"small"},void 0,!1,void 0,this);case"error":return p7.jsxDEV(Rw,{fontSize:"small"},void 0,!1,void 0,this);case"warning":return p7.jsxDEV(aw,{fontSize:"small"},void 0,!1,void 0,this);case"success":return p7.jsxDEV(Dw,{fontSize:"small"},void 0,!1,void 0,this);case"keyboard":return p7.jsxDEV(rW,{fontSize:"small"},void 0,!1,void 0,this);default:return p7.jsxDEV(vw,{fontSize:"small"},void 0,!1,void 0,this)}},q=p7.jsxDEV(I0,{sx:{maxWidth:300},children:[p7.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1,mb:Z?1:0},children:[p7.jsxDEV(I0,{sx:{color:(()=>{switch(Q){case"help":return"info.main";case"error":return"error.main";case"warning":return"warning.main";case"success":return"success.main";case"keyboard":return"secondary.main";default:return"info.main"}})()},children:K()},void 0,!1,void 0,this),p7.jsxDEV(a1,{variant:"subtitle2",sx:{fontWeight:"bold"},children:J},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Z&&p7.jsxDEV(p7.Fragment,{children:p7.jsxDEV(a1,{variant:"body2",sx:{mb:Y?1:0},children:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this),Y&&p7.jsxDEV(p7.Fragment,{children:[Z&&p7.jsxDEV(u6,{sx:{my:1}},void 0,!1,void 0,this),p7.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[p7.jsxDEV(rW,{fontSize:"small",sx:{color:"text.secondary"}},void 0,!1,void 0,this),p7.jsxDEV(a1,{variant:"caption",sx:{fontFamily:"monospace",backgroundColor:"action.selected",px:0.5,py:0.25,borderRadius:0.5,border:"1px solid",borderColor:"divider"},children:Y},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this);return p7.jsxDEV(VQ,{title:q,arrow:!0,enterDelay:300,leaveDelay:100,...H,children:$},void 0,!1,void 0,this)}var L9={commands:{look:{title:"Look Command",description:"Examine your surroundings, objects, or creatures in detail.",shortcut:"L"},inventory:{title:"Inventory",description:"View and manage your carried items and equipment.",shortcut:"I"},move:{title:"Movement",description:"Move in a direction (north, south, east, west) or use arrow keys.",shortcut:"WASD / Arrows"},attack:{title:"Attack",description:"Engage in combat with enemies in the current room.",shortcut:"A"},cast:{title:"Cast Spell",description:"Cast a spell from your spellbook if you have mana.",shortcut:"C"},rest:{title:"Rest",description:"Recover health and mana over time. Cannot rest during combat.",shortcut:"R"},save:{title:"Save Game",description:"Save your current progress to a save slot.",shortcut:"Ctrl+S"},load:{title:"Load Game",description:"Load a previously saved game state.",shortcut:"Ctrl+L"}},stats:{hp:{title:"Health Points",description:"Your life force. When it reaches 0, you die. Recovers through rest or healing.",type:"success"},mana:{title:"Mana Points",description:"Magical energy used to cast spells. Recovers through rest.",type:"info"},strength:{title:"Strength",description:"Affects melee damage and carrying capacity.",type:"info"},dexterity:{title:"Dexterity",description:"Affects accuracy, dodge chance, and initiative in combat.",type:"info"},constitution:{title:"Constitution",description:"Affects maximum health and resistance to effects.",type:"info"},intelligence:{title:"Intelligence",description:"Affects maximum mana, spell damage, and puzzle-solving.",type:"info"},wisdom:{title:"Wisdom",description:"Affects spell resistance and perception of traps and secrets.",type:"info"},charisma:{title:"Charisma",description:"Affects social interactions and some magical abilities.",type:"info"}},combat:{attack:{title:"Attack",description:"Make a melee or ranged attack against a target.",type:"warning"},defend:{title:"Defend",description:"Increase your defensive stance, reducing incoming damage.",type:"info"},flee:{title:"Flee",description:"Attempt to escape from combat. May fail based on enemy speed.",type:"error"}},room:{exits:{title:"Available Exits",description:"Directions you can move from this room.",type:"info"},enemies:{title:"Enemies Present",description:"Hostile creatures in this room. You must defeat or flee from them.",type:"error"},items:{title:"Items Available",description:"Objects you can examine or take from this room.",type:"success"},hazards:{title:"Environmental Hazards",description:"Dangerous environmental effects that may harm you.",type:"warning"}}};var on=(J)=>{return Math.floor((J-10)/2)},gX=(J)=>{let Z=on(J);return Z>=0?`+${Z}`:`${Z}`},rn=(J)=>{let Z=10+on(J.stats.dexterity);if(J.equipment.armor){let Q=J.equipment.armor.properties.find((Y)=>Y.type==="ac_bonus");if(Q)Z+=Q.value}if(J.equipment.shield){let Q=J.equipment.shield.properties.find((Y)=>Y.type==="ac_bonus");if(Q)Z+=Q.value}return Z},Jx=(J)=>{return(J-1)*100},tn=(J,Z)=>{return Jx(Z+1)-J};var $2=e(x2(),1),Ja=en.memo(function({character:Z}){let Q=Z.hp.current/Z.hp.max*100,Y=rn(Z),$=Jx(Z.level+1);return $2.jsxDEV(K5,{sx:{p:2},children:[$2.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:[Z.name," - Level ",Z.level," ",Z.class]},void 0,!0,void 0,this),$2.jsxDEV(I0,{sx:{mb:2},children:[$2.jsxDEV($8,{...L9.stats.hp,children:$2.jsxDEV(a1,{variant:"body2",gutterBottom:!0,sx:{cursor:"help"},children:["HP: ",Z.hp.current," / ",Z.hp.max]},void 0,!0,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(bG,{variant:"determinate",value:Q,sx:{height:8,backgroundColor:"grey.300","& .MuiLinearProgress-bar":{backgroundColor:Q>50?"success.main":Q>25?"warning.main":"error.main"}}},void 0,!1,void 0,this),Z.mana&&$2.jsxDEV(I0,{sx:{mt:2},children:[$2.jsxDEV($8,{...L9.stats.mana,children:$2.jsxDEV(a1,{variant:"body2",gutterBottom:!0,sx:{cursor:"help"},children:["Mana: ",Z.mana.current," / ",Z.mana.max]},void 0,!0,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(bG,{variant:"determinate",value:Z.mana.current/Z.mana.max*100,sx:{height:6,backgroundColor:"grey.300","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:"Ability Scores"},void 0,!1,void 0,this),$2.jsxDEV(x5,{container:!0,spacing:2,sx:{mb:2},children:[$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.strength,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"STR"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.strength},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.strength)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.dexterity,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"DEX"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.dexterity},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.dexterity)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.constitution,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"CON"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.constitution},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.constitution)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.intelligence,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"INT"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.intelligence},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.intelligence)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.wisdom,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"WIS"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.wisdom},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.wisdom)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),$2.jsxDEV(x5,{size:4,children:$2.jsxDEV($8,{...L9.stats.charisma,children:$2.jsxDEV(I0,{sx:{textAlign:"center",cursor:"help"},children:[$2.jsxDEV(a1,{variant:"body2",children:"CHA"},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"h6",children:Z.stats.charisma},void 0,!1,void 0,this),$2.jsxDEV(a1,{variant:"caption",children:gX(Z.stats.charisma)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"body2",sx:{mb:1},children:["Experience: ",Z.experience,"/",$]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"body2",sx:{mb:2},children:["Armor Class: ",Y]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:"Equipment"},void 0,!1,void 0,this),$2.jsxDEV(I0,{sx:{mb:2},children:[$2.jsxDEV(a1,{variant:"body2",children:["Weapon: ",Z.equipment.weapon?.name||"None"]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"body2",children:["Armor: ",Z.equipment.armor?.name||"None"]},void 0,!0,void 0,this),$2.jsxDEV(a1,{variant:"body2",children:["Shield: ",Z.equipment.shield?.name||"None"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),Z.inventory.length>0&&$2.jsxDEV($2.Fragment,{children:[$2.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:["Inventory (",Z.inventory.length," items)"]},void 0,!0,void 0,this),$2.jsxDEV(I0,{sx:{maxHeight:100,overflow:"auto",mb:2},children:[Z.inventory.slice(0,5).map((H,K)=>$2.jsxDEV(a1,{variant:"caption",display:"block",children:["• ",H.name]},K,!0,void 0,this)),Z.inventory.length>5&&$2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:["...and ",Z.inventory.length-5," more items"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),Z.classAbilities&&Z.classAbilities.length>0&&$2.jsxDEV($2.Fragment,{children:[$2.jsxDEV(a1,{variant:"subtitle2",gutterBottom:!0,children:"Class Abilities"},void 0,!1,void 0,this),$2.jsxDEV(E7,{direction:"row",spacing:0.5,sx:{flexWrap:"wrap",gap:0.5,mb:2},children:ek.getAbilitiesForCharacter(Z).map((H)=>$2.jsxDEV(B5,{label:H.name,size:"small",variant:"outlined",color:"primary",title:H.description},H.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)});var $a=e(J0(),1);function yX(J){return J!==null&&J!==void 0}function Za(J){return yX(J.combatState)&&J.combatState.participants.length>0}function Qa(J){return yX(J.mana)}function Xa(J){return yX(J.statusEffects)&&J.statusEffects.length>0}function Ya(J){return yX(J)&&yX(J.enemy)&&yX(J.enemy.hp)}function Ga(J){return yX(J)&&yX(J.character)&&yX(J.character.hp)}var w5=e(x2(),1),Ha=$a.memo(function({gameState:Z,onCommand:Q,onCombatAction:Y,onShowSpellBook:$}){let H=Za(Z),K=!H&&Z.character.hp.current<Z.character.hp.max,B=Qa(Z.character)&&$,q={icon:w5.jsxDEV(nw,{},void 0,!1,void 0,this),label:"Look",command:"look",tooltip:L9.commands.look,disabled:!1},L={icon:w5.jsxDEV(fw,{},void 0,!1,void 0,this),label:"Inventory",command:"inventory",tooltip:L9.commands.inventory,disabled:!1},O={icon:w5.jsxDEV(bw,{},void 0,!1,void 0,this),label:"Rest",command:"rest",tooltip:L9.commands.rest,disabled:!K},z=[q,L],F=[{icon:w5.jsxDEV(pw,{},void 0,!1,void 0,this),label:"Attack",action:"attack",tooltip:L9.combat.attack,disabled:!1},{icon:w5.jsxDEV(xw,{},void 0,!1,void 0,this),label:"Flee",action:"flee",tooltip:L9.combat.flee,disabled:!1}];return w5.jsxDEV(I0,{children:[w5.jsxDEV(I0,{sx:{mb:2,p:1,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[w5.jsxDEV(a1,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Quick Status"},void 0,!1,void 0,this),w5.jsxDEV(E7,{direction:"row",spacing:1,sx:{mb:1,flexWrap:"wrap",gap:0.5},children:[w5.jsxDEV(B5,{size:"small",label:`HP: ${Z.character.hp.current}/${Z.character.hp.max}`,color:Z.character.hp.current/Z.character.hp.max>0.5?"success":Z.character.hp.current/Z.character.hp.max>0.25?"warning":"error",variant:"filled"},void 0,!1,void 0,this),Z.character.mana&&w5.jsxDEV(B5,{size:"small",label:`MP: ${Z.character.mana.current}/${Z.character.mana.max}`,color:"info",variant:"outlined"},void 0,!1,void 0,this),H&&w5.jsxDEV(B5,{size:"small",label:`Combat Round ${Z.combatState.round}`,color:"error",variant:"filled"},void 0,!1,void 0,this),w5.jsxDEV(B5,{size:"small",label:`Turn ${Z.turnCount}`,color:"secondary",variant:"outlined"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Xa(Z.character)&&w5.jsxDEV(I0,{sx:{mt:1},children:[w5.jsxDEV(a1,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:0.5},children:"Status Effects:"},void 0,!1,void 0,this),w5.jsxDEV(E7,{direction:"row",spacing:0.5,sx:{flexWrap:"wrap",gap:0.5},children:Z.character.statusEffects.map((V,A)=>w5.jsxDEV(B5,{size:"small",label:`${V.type} (${V.duration})`,color:"warning",variant:"outlined",sx:{fontSize:"0.65rem"}},A,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),H?w5.jsxDEV(I0,{children:[w5.jsxDEV(a1,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Combat Actions"},void 0,!1,void 0,this),w5.jsxDEV(nU,{variant:"outlined",size:"small",fullWidth:!0,sx:{mb:1},children:F.map((V)=>w5.jsxDEV($8,{...V.tooltip,children:w5.jsxDEV(o2,{startIcon:V.icon,disabled:V.disabled,onClick:()=>Y?.(V.action),children:V.label},void 0,!1,void 0,this)},V.action,!1,void 0,this))},void 0,!1,void 0,this),B&&$&&w5.jsxDEV($8,{...L9.commands.cast,children:w5.jsxDEV(o2,{variant:"outlined",startIcon:w5.jsxDEV(yG,{},void 0,!1,void 0,this),onClick:$,size:"small",fullWidth:!0,children:"Cast Spell"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this):w5.jsxDEV(I0,{children:[w5.jsxDEV(a1,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Quick Commands"},void 0,!1,void 0,this),w5.jsxDEV(E7,{spacing:1,children:[w5.jsxDEV(nU,{variant:"outlined",size:"small",fullWidth:!0,children:z.map((V)=>w5.jsxDEV($8,{...V.tooltip,children:w5.jsxDEV(o2,{startIcon:V.icon,disabled:V.disabled,onClick:()=>Q(V.command),children:V.label},void 0,!1,void 0,this)},V.command,!1,void 0,this))},void 0,!1,void 0,this),w5.jsxDEV(nU,{variant:"outlined",size:"small",fullWidth:!0,children:[w5.jsxDEV($8,{...O.tooltip,children:w5.jsxDEV(o2,{startIcon:O.icon,disabled:O.disabled,onClick:()=>Q(O.command),children:O.label},void 0,!1,void 0,this)},void 0,!1,void 0,this),B&&$&&w5.jsxDEV($8,{...L9.commands.cast,children:w5.jsxDEV(o2,{startIcon:w5.jsxDEV(yG,{},void 0,!1,void 0,this),onClick:$,children:"Spells"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)});var A4=e(x2(),1);function Wa({gameState:J,maxWidth:Z=300,maxHeight:Q=200}){let Y=Array.from(J.dungeon.rooms.entries()).map(([M,j])=>({id:M,room:j,x:j.coordinates.x,y:j.coordinates.y,isVisited:!0,isCurrent:M===J.currentRoomId}));if(Y.length===0)return A4.jsxDEV(K5,{sx:{p:2,width:Z,height:Q,display:"flex",alignItems:"center",justifyContent:"center"},children:A4.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:"No map data"},void 0,!1,void 0,this)},void 0,!1,void 0,this);let $=Math.min(...Y.map((M)=>M.x)),H=Math.max(...Y.map((M)=>M.x)),K=Math.min(...Y.map((M)=>M.y)),B=Math.max(...Y.map((M)=>M.y)),q=H-$+1,L=B-K+1,O=Array(L).fill(null).map(()=>Array(q).fill(null));Y.forEach((M)=>{let j=M.x-$,D=M.y-K;if(D>=0&&D<L&&j>=0&&j<q)O[D][j]=M});let z=(M)=>{switch(M){case"entrance":return A4.jsxDEV(Cw,{fontSize:"small"},void 0,!1,void 0,this);case"treasure_room":return A4.jsxDEV(lw,{fontSize:"small"},void 0,!1,void 0,this);case"armory":return A4.jsxDEV(jw,{fontSize:"small"},void 0,!1,void 0,this);case"library":return A4.jsxDEV(Pw,{fontSize:"small"},void 0,!1,void 0,this);case"throne_room":return A4.jsxDEV(Ew,{fontSize:"small"},void 0,!1,void 0,this);default:return A4.jsxDEV(dw,{fontSize:"small"},void 0,!1,void 0,this)}},F=(M,j)=>{if(j)return"primary.main";switch(M){case"entrance":return"success.main";case"treasure_room":return"warning.main";case"armory":return"secondary.main";case"library":return"info.dark";case"throne_room":return"error.dark";default:return"text.secondary"}},V=(M)=>{let j=M.room.contents.enemies.length,D=M.room.contents.items.length,w=M.room.exits&&M.room.exits instanceof Map?Array.from(M.room.exits.keys()).join(", "):"None";return A4.jsxDEV(I0,{children:[A4.jsxDEV(a1,{variant:"caption",display:"block",sx:{fontWeight:"bold"},children:[M.room.roomType.charAt(0).toUpperCase()+M.room.roomType.slice(1)," Room"]},void 0,!0,void 0,this),A4.jsxDEV(a1,{variant:"caption",display:"block",children:["Coordinates: (",M.x,", ",M.y,")"]},void 0,!0,void 0,this),w!=="None"&&A4.jsxDEV(a1,{variant:"caption",display:"block",children:["Exits: ",w]},void 0,!0,void 0,this),j>0&&A4.jsxDEV(a1,{variant:"caption",display:"block",color:"error.main",children:["Enemies: ",j]},void 0,!0,void 0,this),D>0&&A4.jsxDEV(a1,{variant:"caption",display:"block",color:"success.main",children:["Items: ",D]},void 0,!0,void 0,this),M.room.hazards&&M.room.hazards.length>0&&A4.jsxDEV(a1,{variant:"caption",display:"block",color:"warning.main",children:"Hazards present"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},A=Math.min(Math.floor((Z-32)/q),Math.floor((Q-64)/L),32);return A4.jsxDEV(K5,{sx:{p:2,width:Z,height:Q},children:[A4.jsxDEV(a1,{variant:"h6",gutterBottom:!0,sx:{fontSize:"0.875rem",mb:1},children:"Dungeon Map"},void 0,!1,void 0,this),A4.jsxDEV(I0,{sx:{display:"grid",gridTemplateColumns:`repeat(${q}, ${A}px)`,gridTemplateRows:`repeat(${L}, ${A}px)`,gap:"1px",justifyContent:"center",maxWidth:Z-32,maxHeight:Q-64,overflow:"hidden"},children:O.flat().map((M,j)=>{let D=j%q,w=Math.floor(j/q);if(!M)return A4.jsxDEV(I0,{sx:{width:A,height:A,backgroundColor:"grey.100",border:"1px solid",borderColor:"grey.300"}},`${D}-${w}`,!1,void 0,this);return A4.jsxDEV(VQ,{title:V(M),placement:"top",children:A4.jsxDEV(I0,{sx:{width:A,height:A,backgroundColor:"background.paper",border:"2px solid",borderColor:F(M.room.roomType,M.isCurrent),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},children:[A4.jsxDEV(I0,{sx:{color:F(M.room.roomType,M.isCurrent)},children:z(M.room.roomType)},void 0,!1,void 0,this),M.isCurrent&&A4.jsxDEV(gw,{sx:{position:"absolute",top:-2,right:-2,fontSize:12,color:"primary.main",backgroundColor:"background.paper",borderRadius:"50%"}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},M.id,!1,void 0,this)})},void 0,!1,void 0,this),A4.jsxDEV(I0,{sx:{mt:1,display:"flex",gap:0.5,flexWrap:"wrap",justifyContent:"center"},children:[A4.jsxDEV(a1,{variant:"caption",sx:{px:0.5,py:0.25,backgroundColor:"primary.main",color:"primary.contrastText",borderRadius:0.5,fontSize:"0.6rem"},children:"Current"},void 0,!1,void 0,this),A4.jsxDEV(a1,{variant:"caption",sx:{px:0.5,py:0.25,backgroundColor:"success.main",color:"success.contrastText",borderRadius:0.5,fontSize:"0.6rem"},children:"Entrance"},void 0,!1,void 0,this),A4.jsxDEV(a1,{variant:"caption",sx:{px:0.5,py:0.25,backgroundColor:"warning.main",color:"warning.contrastText",borderRadius:0.5,fontSize:"0.6rem"},children:"Treasure"},void 0,!1,void 0,this),A4.jsxDEV(a1,{variant:"caption",sx:{px:0.5,py:0.25,backgroundColor:"error.main",color:"error.contrastText",borderRadius:0.5,fontSize:"0.6rem"},children:"Boss"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var iG=e(x2(),1);function Ka({gameState:J,onCommand:Z,onCombatAction:Q,onShowSpellBook:Y}){return iG.jsxDEV(x5,{size:{xs:12,md:4},children:[iG.jsxDEV(I0,{sx:{mb:3},children:iG.jsxDEV(Ja,{character:J.character},void 0,!1,void 0,this)},void 0,!1,void 0,this),iG.jsxDEV(I0,{sx:{mb:3},children:iG.jsxDEV(Ha,{gameState:J,onCommand:Z,onCombatAction:Q,onShowSpellBook:Y},void 0,!1,void 0,this)},void 0,!1,void 0,this),iG.jsxDEV(I0,{sx:{mb:3},children:iG.jsxDEV(Wa,{gameState:J},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var m2=e(x2(),1);function Ba({character:J,magicSystem:Z,onCastSpell:Q,onClose:Y,inCombat:$=!1}){if(!J.mana)return m2.jsxDEV(K5,{sx:{p:3,textAlign:"center"},children:[m2.jsxDEV(a1,{variant:"h6",color:"text.secondary",children:"This character cannot cast spells"},void 0,!1,void 0,this),m2.jsxDEV(o2,{onClick:Y,sx:{mt:2},children:"Close"},void 0,!1,void 0,this)]},void 0,!0,void 0,this);let H=Z.getSpellcastingInfo(J),K=H.knownSpells.map((O)=>Z.getSpell(O)).filter(Boolean),B=(O)=>{return Z.canCastSpell(J,O.id).canCast},q=(O)=>{return{evocation:"error.main",abjuration:"primary.main",enchantment:"secondary.main",divination:"info.main",necromancy:"grey.700",conjuration:"success.main",illusion:"warning.main",transmutation:"purple.main"}[O]||"text.secondary"},L=J.mana.current/J.mana.max*100;return m2.jsxDEV(K5,{sx:{p:3,minWidth:600,maxHeight:"80vh",overflow:"auto"},children:[m2.jsxDEV(I0,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[m2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[m2.jsxDEV(yG,{color:"primary"},void 0,!1,void 0,this),m2.jsxDEV(a1,{variant:"h5",children:"Spell Book"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(AQ,{onClick:Y,children:m2.jsxDEV(RN,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(I0,{sx:{mb:3},children:[m2.jsxDEV(a1,{variant:"body1",gutterBottom:!0,children:["Mana: ",J.mana.current," / ",J.mana.max]},void 0,!0,void 0,this),m2.jsxDEV(I0,{sx:{width:"100%",height:8,bgcolor:"grey.300",borderRadius:1,overflow:"hidden"},children:m2.jsxDEV(I0,{sx:{width:`${L}%`,height:"100%",bgcolor:"primary.main",transition:"width 0.3s ease"}},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(I0,{sx:{mb:3,p:2,bgcolor:"background.default",borderRadius:1},children:[m2.jsxDEV(a1,{variant:"body2",children:[m2.jsxDEV("strong",{children:"Spellcasting Ability:"},void 0,!1,void 0,this)," ",H.spellcastingAbility,"(",Math.floor((J.stats[H.spellcastingAbility]-10)/2)>=0?"+":"",Math.floor((J.stats[H.spellcastingAbility]-10)/2),")"]},void 0,!0,void 0,this),m2.jsxDEV(a1,{variant:"body2",children:[m2.jsxDEV("strong",{children:"Spell Save DC:"},void 0,!1,void 0,this)," ",H.spellSaveDC]},void 0,!0,void 0,this),m2.jsxDEV(a1,{variant:"body2",children:[m2.jsxDEV("strong",{children:"Spell Attack Bonus:"},void 0,!1,void 0,this)," +",H.spellAttackBonus]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:["Known Spells (",K.length,")"]},void 0,!0,void 0,this),K.length===0?m2.jsxDEV(a1,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{py:4},children:"No spells known. Learn spells by finding spellbooks or scrolls!"},void 0,!1,void 0,this):m2.jsxDEV(x5,{container:!0,spacing:2,children:K.map((O)=>{let z=B(O);return m2.jsxDEV(x5,{size:{xs:12,sm:6},children:m2.jsxDEV(aU,{sx:{height:"100%",opacity:z?1:0.6,transition:"all 0.2s ease"},children:[m2.jsxDEV(oU,{sx:{pb:1},children:[m2.jsxDEV(I0,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[m2.jsxDEV(a1,{variant:"h6",component:"div",children:O.name},void 0,!1,void 0,this),m2.jsxDEV(E7,{direction:"row",spacing:0.5,children:[m2.jsxDEV(B5,{label:`Level ${O.level}`,size:"small",color:"primary"},void 0,!1,void 0,this),m2.jsxDEV(B5,{label:`${O.manaCost} mana`,size:"small",variant:"outlined"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(B5,{label:O.school,size:"small",sx:{bgcolor:q(O.school),color:"white",mb:1}},void 0,!1,void 0,this),m2.jsxDEV(a1,{variant:"body2",color:"text.secondary",sx:{mb:1},children:O.description},void 0,!1,void 0,this),m2.jsxDEV(I0,{sx:{display:"flex",flexWrap:"wrap",gap:0.5,mb:1},children:[m2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:[m2.jsxDEV("strong",{children:"Cast Time:"},void 0,!1,void 0,this)," ",O.castingTime.replace("_"," ")]},void 0,!0,void 0,this),m2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:["• ",m2.jsxDEV("strong",{children:"Range:"},void 0,!1,void 0,this)," ",O.range]},void 0,!0,void 0,this),O.duration&&m2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:["• ",m2.jsxDEV("strong",{children:"Duration:"},void 0,!1,void 0,this)," ",O.duration>60?`${Math.floor(O.duration/60)} min`:`${O.duration} rounds`]},void 0,!0,void 0,this),O.ritual&&m2.jsxDEV(B5,{label:"Ritual",size:"small",variant:"outlined",color:"info"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),m2.jsxDEV(sU,{sx:{pt:0},children:m2.jsxDEV(VQ,{title:z?"Cast this spell":"Not enough mana",children:m2.jsxDEV("span",{children:m2.jsxDEV(o2,{size:"small",variant:"contained",onClick:()=>Q(O.id),disabled:!z||!$&&O.castingTime!=="ritual",fullWidth:!0,children:$?"Cast":O.ritual?"Cast (Ritual)":"Combat Only"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},O.id,!1,void 0,this)})},void 0,!1,void 0,this),m2.jsxDEV(I0,{sx:{mt:3,p:2,bgcolor:"info.light",borderRadius:1},children:m2.jsxDEV(a1,{variant:"body2",color:"info.contrastText",children:[m2.jsxDEV("strong",{children:"Tip:"},void 0,!1,void 0,this)," ",$?"Select a spell to cast it in combat. Mana will be consumed upon casting.":"Most spells can only be cast in combat. Ritual spells can be cast anytime."]},void 0,!0,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var hX=e(J0(),1);var i2=e(x2(),1);function Zx({open:J,onClose:Z,gameEngine:Q,currentGameState:Y,mode:$,onSaveComplete:H,onLoadComplete:K}){let[B,q]=hX.useState([]),[L,O]=hX.useState(""),[z,F]=hX.useState(null),[V,A]=hX.useState(!1),[M,j]=hX.useState(null),[D,w]=hX.useState("success");hX.useEffect(()=>{if(J)C(),O(""),j(null)},[J]);let C=()=>{let d=Q.getSaveSlots();q(d)},I=async(d)=>{if(!Y)return;A(!0);try{let o=L||`${Y.character.name} - ${Y.character.class}`,v=await Q.saveGame(Y,d,o);if(v.result==="success")j(v.message),w("success"),C(),H?.(!0,v.message);else j(v.message),w("error"),H?.(!1,v.message)}catch(o){let v=o instanceof Error?o.message:"Unknown error occurred";j(v),w("error"),H?.(!1,v)}finally{A(!1)}},b=async(d)=>{A(!0);try{let o=await Q.loadGame(d);if(o.result==="success"&&o.gameState)j(o.message),w("success"),K?.(o.gameState,o.message),Z();else j(o.message),w("error"),K?.(null,o.message)}catch(o){let v=o instanceof Error?o.message:"Unknown error occurred";j(v),w("error"),K?.(null,v)}finally{A(!1)}},E=async(d)=>{if(Q.deleteSave(d))j(`Save slot ${d} deleted successfully.`),w("success"),C();else j(`Failed to delete save slot ${d}.`),w("error");F(null)},k=(d)=>{let o=Math.floor(d/3600000),v=Math.floor(d%3600000/60000);return o>0?`${o}h ${v}m`:`${v}m`},T=(d)=>{return new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},S=(d)=>{let o=d.id===0;return i2.jsxDEV(x5,{size:{xs:12},children:i2.jsxDEV(aU,{variant:d.isEmpty?"outlined":"elevation",sx:{position:"relative",opacity:V?0.6:1,transition:"all 0.2s"},children:[o&&i2.jsxDEV(B5,{icon:i2.jsxDEV(hw,{},void 0,!1,void 0,this),label:"Auto Save",size:"small",color:"secondary",sx:{position:"absolute",top:8,right:8,zIndex:1}},void 0,!1,void 0,this),i2.jsxDEV(oU,{children:d.isEmpty?i2.jsxDEV(I0,{sx:{py:2,textAlign:"center"},children:[i2.jsxDEV(a1,{variant:"h6",color:"text.secondary",children:["Empty Slot ",d.id]},void 0,!0,void 0,this),i2.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:"No save data"},void 0,!1,void 0,this)]},void 0,!0,void 0,this):i2.jsxDEV(I0,{children:[i2.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:d.metadata?.characterName||"Unknown Character"},void 0,!1,void 0,this),i2.jsxDEV(I0,{sx:{display:"flex",gap:1,mb:1,flexWrap:"wrap"},children:[i2.jsxDEV(B5,{icon:i2.jsxDEV(yw,{},void 0,!1,void 0,this),label:d.metadata?.characterClass||"Unknown",size:"small",variant:"outlined"},void 0,!1,void 0,this),i2.jsxDEV(B5,{label:`Level ${d.metadata?.level||0}`,size:"small",variant:"outlined"},void 0,!1,void 0,this),i2.jsxDEV(B5,{icon:i2.jsxDEV(Sw,{},void 0,!1,void 0,this),label:`Seed: ${d.metadata?.dungeonSeed?.substring(0,8)||"Unknown"}`,size:"small",variant:"outlined"},void 0,!1,void 0,this),i2.jsxDEV(B5,{icon:i2.jsxDEV(cw,{},void 0,!1,void 0,this),label:k(d.metadata?.playTime||0),size:"small",variant:"outlined"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),i2.jsxDEV(a1,{variant:"body2",color:"text.secondary",children:["Saved: ",T(d.metadata?.lastSaved||0)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),i2.jsxDEV(u6,{},void 0,!1,void 0,this),i2.jsxDEV(sU,{sx:{justifyContent:"space-between"},children:[i2.jsxDEV(I0,{children:[$==="save"&&Y&&i2.jsxDEV(o2,{startIcon:i2.jsxDEV(SN,{},void 0,!1,void 0,this),onClick:()=>I(d.id),disabled:V,color:"primary",children:"Save Here"},void 0,!1,void 0,this),$==="load"&&!d.isEmpty&&i2.jsxDEV(o2,{startIcon:i2.jsxDEV(fN,{},void 0,!1,void 0,this),onClick:()=>b(d.id),disabled:V,color:"primary",children:"Load Game"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),!d.isEmpty&&i2.jsxDEV(AQ,{onClick:()=>F(d.id),disabled:V,color:"error",size:"small",children:i2.jsxDEV(kw,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},d.id,!1,void 0,this)};return i2.jsxDEV(i2.Fragment,{children:[i2.jsxDEV(k8,{open:J,onClose:Z,maxWidth:"md",fullWidth:!0,children:[i2.jsxDEV(NJ,{children:$==="save"?"Save Game":"Load Game"},void 0,!1,void 0,this),i2.jsxDEV(zJ,{children:[M&&i2.jsxDEV(JZ,{severity:D,sx:{mb:2},onClose:()=>j(null),children:M},void 0,!1,void 0,this),$==="save"&&Y&&i2.jsxDEV(I0,{sx:{mb:3},children:i2.jsxDEV(N3,{fullWidth:!0,label:"Custom Save Name (Optional)",value:L,onChange:(d)=>O(d.target.value),placeholder:`${Y.character.name} - ${Y.character.class}`,size:"small"},void 0,!1,void 0,this)},void 0,!1,void 0,this),i2.jsxDEV(x5,{container:!0,spacing:2,children:B.map(S)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),i2.jsxDEV(OJ,{children:i2.jsxDEV(o2,{onClick:Z,disabled:V,children:"Cancel"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),i2.jsxDEV(k8,{open:z!==null,onClose:()=>F(null),children:[i2.jsxDEV(NJ,{children:"Delete Save"},void 0,!1,void 0,this),i2.jsxDEV(zJ,{children:i2.jsxDEV(a1,{children:["Are you sure you want to delete save slot ",z,"? This action cannot be undone."]},void 0,!0,void 0,this)},void 0,!1,void 0,this),i2.jsxDEV(OJ,{children:[i2.jsxDEV(o2,{onClick:()=>F(null),children:"Cancel"},void 0,!1,void 0,this),i2.jsxDEV(o2,{onClick:()=>z!==null&&E(z),color:"error",children:"Delete"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}var qa=e(J0(),1);function Ua({shortcuts:J,disabled:Z=!1}){return qa.useEffect(()=>{if(Z)return;let Q=(Y)=>{let $=Y.target;if($.tagName==="INPUT"||$.tagName==="TEXTAREA"||$.isContentEditable)return;let H=J.find((K)=>{let B=K.key.toLowerCase()===Y.key.toLowerCase(),q=(K.ctrl||!1)===(Y.ctrlKey||Y.metaKey),L=(K.shift||!1)===Y.shiftKey,O=(K.alt||!1)===Y.altKey;return B&&q&&L&&O});if(H)Y.preventDefault(),H.action()};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[J,Z]),null}var La=(J)=>[{key:"ArrowUp",action:()=>J.onCommand("north"),description:"Move North"},{key:"ArrowDown",action:()=>J.onCommand("south"),description:"Move South"},{key:"ArrowLeft",action:()=>J.onCommand("west"),description:"Move West"},{key:"ArrowRight",action:()=>J.onCommand("east"),description:"Move East"},{key:"w",action:()=>J.onCommand("north"),description:"Move North"},{key:"s",action:()=>J.onCommand("south"),description:"Move South"},{key:"a",action:()=>J.onCommand("west"),description:"Move West"},{key:"d",action:()=>J.onCommand("east"),description:"Move East"},{key:"l",action:()=>J.onCommand("look"),description:"Look around"},{key:"i",action:()=>J.onCommand("inventory"),description:"Open inventory"},{key:"r",action:()=>J.onCommand("rest"),description:"Rest"},{key:"Enter",action:()=>J.onCommand("look"),description:"Look around"},{key:"Space",action:()=>J.onCombatAction?.("attack"),description:"Attack in combat"},{key:"f",action:()=>J.onCombatAction?.("flee"),description:"Flee from combat"},{key:"c",action:()=>J.onShowSpellBook?.(),description:"Open spell book"},{key:"s",ctrl:!0,action:()=>J.onShowSave?.(),description:"Save game"},{key:"l",ctrl:!0,action:()=>J.onShowLoad?.(),description:"Load game"},{key:"Escape",action:()=>{let Z=new KeyboardEvent("keydown",{key:"Escape"});document.dispatchEvent(Z)},description:"Close dialogs"}];function Oa(J){let Z=[];if(J.ctrl)Z.push("Ctrl");if(J.shift)Z.push("Shift");if(J.alt)Z.push("Alt");let Q=J.key;switch(J.key){case"ArrowUp":Q="↑";break;case"ArrowDown":Q="↓";break;case"ArrowLeft":Q="←";break;case"ArrowRight":Q="→";break;case"Enter":Q="Enter";break;case"Space":Q="Space";break;case"Escape":Q="Esc";break;default:Q=J.key.toUpperCase()}return Z.push(Q),Z.join("+")}var Q7=e(x2(),1);function za({open:J,onClose:Z,shortcuts:Q}){let Y=Q.filter((q)=>q.description.toLowerCase().includes("move")||["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d"].includes(q.key)),$=Q.filter((q)=>!Y.includes(q)&&!q.ctrl&&!q.description.toLowerCase().includes("combat")&&!q.description.toLowerCase().includes("save")&&!q.description.toLowerCase().includes("load")),H=Q.filter((q)=>q.description.toLowerCase().includes("combat")||q.description.toLowerCase().includes("attack")||q.description.toLowerCase().includes("flee")),K=Q.filter((q)=>q.ctrl||q.description.toLowerCase().includes("save")||q.description.toLowerCase().includes("load")||q.description.toLowerCase().includes("spell")||q.description.toLowerCase().includes("dialog")),B=(q,L)=>{if(L.length===0)return null;return Q7.jsxDEV(I0,{sx:{mb:3},children:[Q7.jsxDEV(a1,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[Q7.jsxDEV(rW,{fontSize:"small"},void 0,!1,void 0,this),q]},void 0,!0,void 0,this),Q7.jsxDEV(x5,{container:!0,spacing:1,children:L.map((O,z)=>Q7.jsxDEV(x5,{size:{xs:12},children:Q7.jsxDEV(I0,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:0.5},children:[Q7.jsxDEV(a1,{variant:"body2",children:O.description},void 0,!1,void 0,this),Q7.jsxDEV(B5,{label:Oa(O),size:"small",variant:"outlined",sx:{fontFamily:"monospace",fontSize:"0.75rem",minWidth:"auto"}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},z,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)};return Q7.jsxDEV(k8,{open:J,onClose:Z,maxWidth:"md",fullWidth:!0,children:[Q7.jsxDEV(NJ,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Keyboard Shortcuts",Q7.jsxDEV(AQ,{onClick:Z,size:"small",children:Q7.jsxDEV(RN,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Q7.jsxDEV(zJ,{children:[Q7.jsxDEV(a1,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Use these keyboard shortcuts to play more efficiently. Shortcuts don't work while typing in text fields."},void 0,!1,void 0,this),B("Movement",Y),Y.length>0&&$.length>0&&Q7.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),B("Actions",$),$.length>0&&H.length>0&&Q7.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),B("Combat",H),H.length>0&&K.length>0&&Q7.jsxDEV(u6,{sx:{my:2}},void 0,!1,void 0,this),B("Interface",K),Q7.jsxDEV(I0,{sx:{mt:3,p:2,bgcolor:"info.light",borderRadius:1},children:Q7.jsxDEV(a1,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:1},children:[Q7.jsxDEV(rW,{fontSize:"small"},void 0,!1,void 0,this),Q7.jsxDEV("strong",{children:"Tip:"},void 0,!1,void 0,this)," Press ",Q7.jsxDEV(B5,{label:"?",size:"small",sx:{mx:0.5}},void 0,!1,void 0,this)," at any time to see this help dialog"]},void 0,!0,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Q7.jsxDEV(OJ,{children:Q7.jsxDEV(o2,{onClick:Z,children:"Close"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var VZ=e(x2(),1);function Na({gameState:J,gameEngine:Z,magicSystem:Q,showSpellBook:Y,showSaveDialog:$,showLoadDialog:H,showShortcutsHelp:K,onCloseSpellBook:B,onCloseSaveDialog:q,onCloseLoadDialog:L,onCloseShortcutsHelp:O,onCastSpell:z,onGameStateChange:F,shortcuts:V,notification:A,onCloseNotification:M}){return VZ.jsxDEV(VZ.Fragment,{children:[VZ.jsxDEV(k8,{open:Y,onClose:B,maxWidth:"md",fullWidth:!0,children:Q&&VZ.jsxDEV(Ba,{character:J.character,magicSystem:Q,inCombat:!!J.combatState,onCastSpell:z?(j)=>z(j,[]):()=>{},onClose:B},void 0,!1,void 0,this)},void 0,!1,void 0,this),Z&&VZ.jsxDEV(Zx,{open:$,onClose:q,gameEngine:Z,currentGameState:J,mode:"save",onSaveComplete:(j,D)=>{q()}},void 0,!1,void 0,this),Z&&VZ.jsxDEV(Zx,{open:H,onClose:L,gameEngine:Z,currentGameState:J,mode:"load",onLoadComplete:(j,D)=>{if(j&&F)F(j);L()}},void 0,!1,void 0,this),VZ.jsxDEV(za,{open:K,onClose:O,shortcuts:V},void 0,!1,void 0,this),VZ.jsxDEV(KL,{open:!!A,autoHideDuration:4000,onClose:M,anchorOrigin:{vertical:"top",horizontal:"center"},children:VZ.jsxDEV(JZ,{onClose:M,severity:A?.type||"info",variant:"filled",children:A?.message||""},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var nG=e(J0(),1);var T5=e(x2(),1);function Fa({open:J,onClose:Z,currentRoom:Q,gameState:Y}){let[$,H]=nG.useState([]),[K,B]=nG.useState(!1),[q,L]=nG.useState(null),O=nG.useCallback(async()=>{if(!Q||!Y){console.error("No room or game state available for comparison");return}B(!0),H([]),L(null);let M=[];for(let j of pG){let D=new j3,w=performance.now();try{let C=await D.describeRoom(Q,Y,j.id),I=performance.now(),b=Math.round(I-w);M.push({modelId:j.id,model:j,description:C,generationTime:b})}catch(C){let I=performance.now(),b=Math.round(I-w);M.push({modelId:j.id,model:j,description:"",generationTime:b,error:C instanceof Error?C.message:"Unknown error"})}}H(M),B(!1)},[Q,Y]),z=nG.useCallback((M,j)=>{H((D)=>D.map((w)=>w.modelId===M?{...w,userRating:j}:w))},[]),F=nG.useCallback((M)=>{L(M)},[]),V=(M)=>{switch(M){case"fast":return T5.jsxDEV(BL,{fontSize:"small"},void 0,!1,void 0,this);case"quality":return T5.jsxDEV(bN,{fontSize:"small"},void 0,!1,void 0,this);default:return T5.jsxDEV(BL,{fontSize:"small"},void 0,!1,void 0,this)}},A=(M)=>{switch(M){case"fast":return"primary";case"quality":return"secondary";default:return"primary"}};return T5.jsxDEV(k8,{open:J,onClose:Z,maxWidth:"lg",fullWidth:!0,children:[T5.jsxDEV(NJ,{children:"Model Comparison"},void 0,!1,void 0,this),T5.jsxDEV(zJ,{children:T5.jsxDEV(E7,{spacing:3,children:!Q||!Y?T5.jsxDEV(JZ,{severity:"warning",children:"Enter a game room first to compare model descriptions"},void 0,!1,void 0,this):T5.jsxDEV(T5.Fragment,{children:[T5.jsxDEV(I0,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T5.jsxDEV(a1,{variant:"body1",children:"Compare how different models describe the same room"},void 0,!1,void 0,this),T5.jsxDEV(o2,{variant:"contained",startIcon:K?T5.jsxDEV(eJ,{size:16},void 0,!1,void 0,this):T5.jsxDEV(uw,{},void 0,!1,void 0,this),onClick:O,disabled:K,children:K?"Generating...":"Generate Comparison"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),$.length>0&&T5.jsxDEV(x5,{container:!0,spacing:3,children:$.map((M)=>T5.jsxDEV(x5,{size:{xs:12,md:6},children:T5.jsxDEV(K5,{sx:{p:3,height:"100%",border:q===M.modelId?2:1,borderColor:q===M.modelId?"primary.main":"divider",cursor:"pointer"},onClick:()=>F(M.modelId),children:T5.jsxDEV(E7,{spacing:2,children:[T5.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[V(M.model.performanceLevel),T5.jsxDEV(a1,{variant:"h6",children:M.model.name},void 0,!1,void 0,this),T5.jsxDEV(B5,{label:M.model.parameters,size:"small",color:A(M.model.performanceLevel)},void 0,!1,void 0,this),q===M.modelId&&T5.jsxDEV(B5,{label:"Winner",color:"success",size:"small"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),T5.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",gap:1},children:[T5.jsxDEV(iw,{fontSize:"small",color:"action"},void 0,!1,void 0,this),T5.jsxDEV(a1,{variant:"caption",children:[M.generationTime,"ms generation time"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),M.error?T5.jsxDEV(JZ,{severity:"error",children:M.error},void 0,!1,void 0,this):T5.jsxDEV(a1,{variant:"body2",sx:{minHeight:100,p:2,bgcolor:"background.default",borderRadius:1,fontStyle:"italic"},children:['"',M.description,'"']},void 0,!0,void 0,this),!M.error&&T5.jsxDEV(I0,{children:[T5.jsxDEV(a1,{variant:"caption",display:"block",gutterBottom:!0,children:"Rate this description:"},void 0,!1,void 0,this),T5.jsxDEV(L_,{value:M.userRating||0,onChange:(j,D)=>D&&z(M.modelId,D),size:"small"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},M.modelId,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),T5.jsxDEV(OJ,{children:T5.jsxDEV(o2,{onClick:Z,children:"Close"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var uX=e(x2(),1);function Aa({gameState:J,gameEngine:Z,selectedModelId:Q="tinyllama-1.1b",isModelLoading:Y,onCommand:$,onCombatAction:H,onCastSpell:K,onGameStateChange:B,onModelChange:q}){let[L,O]=x7.useState(!1),[z,F]=x7.useState(!1),[V,A]=x7.useState(!1),[M,j]=x7.useState(!1),[D,w]=x7.useState(!1),[C,I]=x7.useState(null),b=x7.useMemo(()=>!!J.character.mana,[J.character.mana]),E=x7.useMemo(()=>b&&!!K,[b,K]),k=x7.useCallback(()=>O(!0),[]),T=x7.useCallback(()=>F(!0),[]),S=x7.useCallback(()=>A(!0),[]),d=x7.useCallback(()=>j(!0),[]),o=x7.useCallback(()=>{w(!0)},[]),v=x7.useCallback(()=>{w(!1)},[]),y=x7.useMemo(()=>{let i=La({onCommand:$,onShowSpellBook:E?k:void 0,onShowSave:Z?T:void 0,onShowLoad:Z?S:void 0,onCombatAction:J.combatState&&H?H:void 0});return i.push({key:"?",action:d,description:"Show keyboard shortcuts help"}),i},[$,E,Z,J.combatState,H,k,T,S,d]);return uX.jsxDEV(LJ,{maxWidth:"lg",sx:{py:2},children:[uX.jsxDEV(Ua,{shortcuts:y},void 0,!1,void 0,this),uX.jsxDEV(un,{gameEngine:Z,hasMana:b,selectedModelId:Q,isModelLoading:Y,onModelChange:q,onShowSpellBook:E?k:void 0,onShowSave:Z?T:void 0,onShowLoad:Z?S:void 0,onShowShortcutsHelp:d,onShowModelComparison:o},void 0,!1,void 0,this),uX.jsxDEV(x5,{container:!0,spacing:3,children:[uX.jsxDEV(sn,{gameState:J,onCommand:$,onCombatAction:H},void 0,!1,void 0,this),uX.jsxDEV(Ka,{gameState:J,onCommand:$,onCombatAction:H,onShowSpellBook:E?k:void 0},void 0,!1,void 0,this)]},void 0,!0,void 0,this),uX.jsxDEV(Na,{gameState:J,gameEngine:Z,showSpellBook:L,showSaveDialog:z,showLoadDialog:V,showShortcutsHelp:M,onCloseSpellBook:x7.useCallback(()=>O(!1),[]),onCloseSaveDialog:x7.useCallback(()=>F(!1),[]),onCloseLoadDialog:x7.useCallback(()=>A(!1),[]),onCloseShortcutsHelp:x7.useCallback(()=>j(!1),[]),onCastSpell:K,onGameStateChange:B,shortcuts:y,notification:C,onCloseNotification:x7.useCallback(()=>I(null),[])},void 0,!1,void 0,this),uX.jsxDEV(Fa,{open:D,onClose:v,currentRoom:J.dungeon?.rooms.get(J.currentRoomId),gameState:J},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var AL=e(J0(),1);var c2=e(x2(),1),aG={Fighter:{name:"Fighter",description:"Masters of martial combat, fighters excel with weapons and armor.",primaryStat:"Strength",startingStats:{strength:16,dexterity:13,constitution:15,intelligence:10,wisdom:12,charisma:8},hitDie:10,features:["Weapon Mastery","Heavy Armor Proficiency","+2 HP per level"]},Wizard:{name:"Wizard",description:"Arcane spellcasters who wield magic through study and preparation.",primaryStat:"Intelligence",startingStats:{strength:8,dexterity:14,constitution:12,intelligence:16,wisdom:13,charisma:10},hitDie:6,features:["Spellcasting","Arcane Recovery","Spell Learning from Books"]},Rogue:{name:"Rogue",description:"Stealthy specialists who strike from shadows and avoid danger.",primaryStat:"Dexterity",startingStats:{strength:10,dexterity:16,constitution:13,intelligence:12,wisdom:14,charisma:8},hitDie:8,features:["Sneak Attack","Stealth","Trap Detection","Lockpicking"]},Cleric:{name:"Cleric",description:"Divine spellcasters who channel the power of their deity.",primaryStat:"Wisdom",startingStats:{strength:13,dexterity:10,constitution:14,intelligence:8,wisdom:16,charisma:12},hitDie:8,features:["Divine Spellcasting","Turn Undead","Healing Magic","Medium Armor"]}};function Ma({onCharacterCreated:J}){let[Z,Q]=AL.useState(""),[Y,$]=AL.useState("Fighter"),[H,K]=AL.useState(null),[B,q]=AL.useState(27),[L,O]=AL.useState(!1),z=L&&H?H:aG[Y].startingStats,F=()=>{if(!Z.trim()){alert("Please enter a character name");return}let M=aG[Y],j=z,D=Math.floor((j.constitution-10)/2),w=M.hitDie+D,C={name:Z.trim(),class:Y,level:1,stats:j,hp:{current:w,max:w},equipment:{},inventory:[],experience:0,classAbilities:[]};if(Y==="Wizard"||Y==="Cleric"){let I=Y==="Wizard"?j.intelligence:j.wisdom,b=Math.floor((I-10)/2),E=Math.max(1,1+b);C.mana={current:E,max:E}}J(C)},V=()=>{K({strength:8,dexterity:8,constitution:8,intelligence:8,wisdom:8,charisma:8}),q(27),O(!0)},A=(M,j)=>{if(!H||!L)return;let D=H[M]+j;if(D<8||D>15)return;let w=(E)=>{if(E<=13)return E-8;return E-8+(E-13)},C=w(H[M]),b=w(D)-C;if(B-b<0)return;K({...H,[M]:D}),q(B-b)};return c2.jsxDEV(K5,{sx:{p:4,maxWidth:800,margin:"auto"},children:[c2.jsxDEV(a1,{variant:"h4",gutterBottom:!0,textAlign:"center",children:"Create Your Character"},void 0,!1,void 0,this),c2.jsxDEV(I0,{sx:{mb:3},children:c2.jsxDEV(N3,{fullWidth:!0,label:"Character Name",value:Z,onChange:(M)=>Q(M.target.value),variant:"outlined"},void 0,!1,void 0,this)},void 0,!1,void 0,this),c2.jsxDEV(I0,{sx:{mb:3},children:[c2.jsxDEV(xG,{fullWidth:!0,children:[c2.jsxDEV(CG,{children:"Character Class"},void 0,!1,void 0,this),c2.jsxDEV(PG,{value:Y,label:"Character Class",onChange:(M)=>$(M.target.value),children:Object.values(eN).map((M)=>c2.jsxDEV(YL,{value:M,children:M},M,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(K5,{sx:{p:2,mt:2,bgcolor:"background.default"},children:[c2.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:aG[Y].name},void 0,!1,void 0,this),c2.jsxDEV(a1,{variant:"body2",color:"text.secondary",sx:{mb:2},children:aG[Y].description},void 0,!1,void 0,this),c2.jsxDEV(a1,{variant:"body2",sx:{mb:1},children:[c2.jsxDEV("strong",{children:"Primary Stat:"},void 0,!1,void 0,this)," ",aG[Y].primaryStat]},void 0,!0,void 0,this),c2.jsxDEV(a1,{variant:"body2",sx:{mb:1},children:[c2.jsxDEV("strong",{children:"Hit Die:"},void 0,!1,void 0,this)," d",aG[Y].hitDie]},void 0,!0,void 0,this),c2.jsxDEV(I0,{children:[c2.jsxDEV(a1,{variant:"body2",sx:{mb:1},children:c2.jsxDEV("strong",{children:"Class Features:"},void 0,!1,void 0,this)},void 0,!1,void 0,this),c2.jsxDEV(I0,{sx:{display:"flex",flexWrap:"wrap",gap:0.5},children:aG[Y].features.map((M)=>c2.jsxDEV(B5,{label:M,size:"small"},M,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(I0,{sx:{mb:3},children:[c2.jsxDEV(I0,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c2.jsxDEV(a1,{variant:"h6",children:"Ability Scores"},void 0,!1,void 0,this),!L&&c2.jsxDEV(o2,{variant:"outlined",onClick:V,children:"Customize Stats"},void 0,!1,void 0,this),L&&c2.jsxDEV(I0,{children:[c2.jsxDEV(a1,{variant:"body2",children:["Points Remaining: ",B]},void 0,!0,void 0,this),c2.jsxDEV(o2,{variant:"outlined",size:"small",onClick:()=>{O(!1),K(null)},sx:{ml:1},children:"Use Class Defaults"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(x5,{container:!0,spacing:2,children:Object.keys(z).map((M)=>c2.jsxDEV(x5,{size:4,children:c2.jsxDEV(K5,{sx:{p:2,textAlign:"center"},children:[c2.jsxDEV(a1,{variant:"body2",sx:{textTransform:"uppercase",mb:1},children:M.slice(0,3)},void 0,!1,void 0,this),c2.jsxDEV(I0,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[L&&c2.jsxDEV(o2,{size:"small",onClick:()=>A(M,-1),disabled:z[M]<=8,children:"-"},void 0,!1,void 0,this),c2.jsxDEV(a1,{variant:"h5",children:z[M]},void 0,!1,void 0,this),L&&c2.jsxDEV(o2,{size:"small",onClick:()=>A(M,1),disabled:z[M]>=15||B<=0,children:"+"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(a1,{variant:"caption",color:"text.secondary",children:gX(z[M])},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},M,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(u6,{sx:{my:3}},void 0,!1,void 0,this),c2.jsxDEV(I0,{sx:{mb:3},children:[c2.jsxDEV(a1,{variant:"h6",gutterBottom:!0,children:"Character Summary"},void 0,!1,void 0,this),c2.jsxDEV(a1,{variant:"body2",children:[c2.jsxDEV("strong",{children:"Name:"},void 0,!1,void 0,this)," ",Z||"Unnamed Hero"]},void 0,!0,void 0,this),c2.jsxDEV(a1,{variant:"body2",children:[c2.jsxDEV("strong",{children:"Class:"},void 0,!1,void 0,this)," ",Y]},void 0,!0,void 0,this),c2.jsxDEV(a1,{variant:"body2",children:[c2.jsxDEV("strong",{children:"Starting HP:"},void 0,!1,void 0,this)," ",aG[Y].hitDie+Math.floor((z.constitution-10)/2)]},void 0,!0,void 0,this),c2.jsxDEV(a1,{variant:"body2",children:[c2.jsxDEV("strong",{children:"Armor Class:"},void 0,!1,void 0,this)," ",10+Math.floor((z.dexterity-10)/2)," (base)"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),c2.jsxDEV(o2,{variant:"contained",size:"large",fullWidth:!0,onClick:F,disabled:!Z.trim(),children:"Begin Your Adventure"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var Qx={templates:{goblin:{name:"Goblin",baseStats:{strength:8,dexterity:14,constitution:10,intelligence:8,wisdom:8,charisma:8},baseHp:7,baseAc:15,attacks:[{name:"Scimitar",damageRoll:"1d6+2",hitBonus:4,description:"slashes with a rusty scimitar at"},{name:"Shortbow",damageRoll:"1d6+2",hitBonus:4,description:"shoots an arrow at"}],loot:{gold:{min:1,max:4},items:[{template:"rusty_scimitar",chance:0.3},{template:"leather_armor",chance:0.2}]},minLevel:1,maxLevel:3},orc:{name:"Orc",baseStats:{strength:16,dexterity:12,constitution:16,intelligence:7,wisdom:11,charisma:10},baseHp:15,baseAc:13,attacks:[{name:"Greataxe",damageRoll:"1d12+3",hitBonus:5,description:"swings a massive greataxe at"},{name:"Javelin",damageRoll:"1d6+3",hitBonus:5,description:"hurls a javelin at"}],loot:{gold:{min:3,max:8},items:[{template:"greataxe",chance:0.4},{template:"studded_leather",chance:0.3}]},minLevel:2,maxLevel:5},skeleton:{name:"Skeleton",baseStats:{strength:10,dexterity:14,constitution:15,intelligence:6,wisdom:8,charisma:5},baseHp:13,baseAc:13,attacks:[{name:"Shortsword",damageRoll:"1d6+2",hitBonus:4,description:"strikes with a bone shortsword at"},{name:"Shortbow",damageRoll:"1d6+2",hitBonus:4,description:"fires a bone arrow at"}],loot:{gold:{min:0,max:2},items:[{template:"bone_dust",chance:0.5},{template:"shortsword",chance:0.2}]},minLevel:1,maxLevel:4,immunities:["poison"],resistances:["necrotic"]},rat:{name:"Giant Rat",baseStats:{strength:7,dexterity:15,constitution:11,intelligence:2,wisdom:10,charisma:4},baseHp:7,baseAc:12,attacks:[{name:"Bite",damageRoll:"1d4+2",hitBonus:4,description:"bites"}],loot:{gold:{min:0,max:1},items:[{template:"rat_tail",chance:0.3}]},minLevel:1,maxLevel:2,pack:!0,packSize:{min:2,max:4}},spider:{name:"Giant Spider",baseStats:{strength:14,dexterity:16,constitution:12,intelligence:2,wisdom:11,charisma:4},baseHp:26,baseAc:14,attacks:[{name:"Bite",damageRoll:"1d8+2",hitBonus:5,description:"bites with venomous fangs"},{name:"Web",damageRoll:"0",hitBonus:5,description:"shoots webbing at",effect:"restrained"}],loot:{gold:{min:2,max:5},items:[{template:"spider_silk",chance:0.6},{template:"poison_gland",chance:0.4}]},minLevel:2,maxLevel:4},bandit:{name:"Bandit",baseStats:{strength:11,dexterity:12,constitution:12,intelligence:10,wisdom:10,charisma:10},baseHp:11,baseAc:12,attacks:[{name:"Scimitar",damageRoll:"1d6+1",hitBonus:3,description:"attacks with a scimitar"},{name:"Light Crossbow",damageRoll:"1d8+1",hitBonus:3,description:"fires a crossbow bolt at"}],loot:{gold:{min:5,max:15},items:[{template:"scimitar",chance:0.5},{template:"leather_armor",chance:0.4},{template:"health_potion",chance:0.3}]},minLevel:1,maxLevel:3},dragon_wyrmling:{name:"Red Dragon Wyrmling",baseStats:{strength:19,dexterity:10,constitution:17,intelligence:12,wisdom:11,charisma:15},baseHp:75,baseAc:17,attacks:[{name:"Bite",damageRoll:"1d10+4",hitBonus:7,description:"bites with massive jaws"},{name:"Fire Breath",damageRoll:"7d6",hitBonus:0,description:"breathes fire on",areaEffect:!0,recharge:5}],loot:{gold:{min:50,max:200},items:[{template:"dragon_scale",chance:0.8},{template:"magic_sword",chance:0.3},{template:"treasure_hoard",chance:1}]},minLevel:5,maxLevel:10,boss:!0,legendary:!0}},encounterTables:{level1:{common:["rat","goblin"],uncommon:["skeleton"],rare:["spider"]},level2:{common:["goblin","skeleton"],uncommon:["orc","bandit"],rare:["spider"]},level3:{common:["orc","bandit"],uncommon:["skeleton","spider"],rare:["dragon_wyrmling"]},boss:{common:["dragon_wyrmling"],uncommon:[],rare:[]}}};var ML={abilities:{spider_web:{id:"spider_web",name:"Web Shot",description:"Shoots sticky webbing to restrain the target",type:"active",targetType:"enemy",cooldown:3,cost:{type:"none",amount:0},effect:{type:"debuff",statusEffect:{name:"Webbed",description:"Restrained by spider webs",type:"restrained",duration:3,modifier:-2},description:"Target becomes restrained, reducing their movement and attack accuracy"},conditions:[],priority:80},goblin_gang_up:{id:"goblin_gang_up",name:"Gang Up",description:"Coordinates with other goblins to gain advantage",type:"active",targetType:"self",cooldown:5,cost:{type:"none",amount:0},effect:{type:"buff",statusEffect:{name:"Pack Tactics",description:"Fighting with pack coordination",type:"strength",duration:4,modifier:3},description:"Gains bonus to attack and damage when allies are present"},conditions:[{type:"ally_count",value:1,comparison:"greater_than"}],priority:70},orc_rage:{id:"orc_rage",name:"Berserker Rage",description:"Enters a wild rage, increasing damage but reducing defense",type:"active",targetType:"self",cooldown:6,cost:{type:"health",amount:2},effect:{type:"buff",statusEffect:{name:"Raging",description:"Berserker fury increases damage but reduces AC",type:"rage",duration:5,modifier:5},description:"Deals extra damage but becomes easier to hit"},conditions:[{type:"health_percentage",value:60,comparison:"less_than"}],priority:85},skeleton_formation:{id:"skeleton_formation",name:"Undead Formation",description:"Organizes with other undead into a defensive formation",type:"active",targetType:"all_allies",cooldown:8,cost:{type:"none",amount:0},effect:{type:"buff",statusEffect:{name:"Formation Fighting",description:"Increased AC and coordination with allies",type:"strength",duration:6,modifier:2},description:"All undead allies gain defensive bonuses and coordination"},conditions:[{type:"ally_count",value:1,comparison:"greater_than"}],priority:65},dragon_breath:{id:"dragon_breath",name:"Fire Breath",description:"Breathes a cone of intense flames",type:"active",targetType:"area",cooldown:5,cost:{type:"energy",amount:10},effect:{type:"damage",damage:"7d6",areaEffect:{shape:"cone",size:30,affectsAllies:!1,affectsEnemies:!0},description:"Devastating fire damage in a cone area"},conditions:[{type:"round_number",value:2,comparison:"greater_than"}],priority:95},rat_swarm:{id:"rat_swarm",name:"Swarm Attack",description:"Coordinates with other rats for overwhelming numbers",type:"reactive",targetType:"self",cooldown:4,cost:{type:"none",amount:0},effect:{type:"buff",statusEffect:{name:"Swarming",description:"Part of an overwhelming swarm",type:"haste",duration:3,modifier:2},description:"Gains extra attacks when in a group"},conditions:[{type:"ally_count",value:2,comparison:"greater_than"}],priority:60},bandit_dirty_fighting:{id:"bandit_dirty_fighting",name:"Dirty Fighting",description:"Uses underhanded tactics to gain an advantage",type:"active",targetType:"enemy",cooldown:4,cost:{type:"none",amount:0},effect:{type:"debuff",damage:"1d4",statusEffect:{name:"Blinded",description:"Temporarily blinded by dirt or sand",type:"weakness",duration:2,modifier:-3},description:"Small damage plus blindness effect"},conditions:[],priority:75},healing_potion:{id:"healing_potion",name:"Drink Healing Potion",description:"Quickly drinks a healing potion",type:"active",targetType:"self",cooldown:10,cost:{type:"none",amount:0},effect:{type:"healing",healing:"2d4+2",description:"Restores health"},conditions:[{type:"health_percentage",value:30,comparison:"less_than"}],priority:90}},enemyAbilityMappings:{goblin:["goblin_gang_up"],orc:["orc_rage"],skeleton:["skeleton_formation"],rat:["rat_swarm"],spider:["spider_web"],bandit:["bandit_dirty_fighting","healing_potion"],dragon_wyrmling:["dragon_breath","healing_potion"]}};class Xx{rng;templates;enemyAbilities;abilityMappings;constructor(J){this.rng=J,this.templates=Qx.templates,this.enemyAbilities=ML.abilities,this.abilityMappings=ML.enemyAbilityMappings}generateEncounter(J,Z=!1){let Q=[];if(Z){let Y=this.generateBoss(J);if(Y)Q.push(Y)}else{let Y=this.selectEncounterType(J),$=this.determineEnemyCount(J);for(let H=0;H<$;H++){let K=this.generateEnemy(Y,J);if(K)Q.push(K)}}return Q}generateEnemy(J,Z){let Q=this.templates[J];if(!Q)return console.warn(`Enemy template not found: ${J}`),null;let Y=this.scaleEnemyToLevel(Q,Z);return{id:`${J}-${Date.now()}-${Math.random()}`,name:Q.name,type:this.getEnemyType(J),stats:Y.baseStats,hp:{current:Y.baseHp,max:Y.baseHp},ac:Y.baseAc,attacks:Y.attacks,loot:this.generateLootTable(Q.loot),abilities:this.assignAbilities(J,Z),resources:this.generateResources(J,Z)}}generateBoss(J){let Z=Object.entries(this.templates).filter(([Y,$])=>$.boss).filter(([Y,$])=>J>=$.minLevel);if(Z.length===0)return this.generateEnemy("orc",Math.max(3,J));let[Q]=this.rng.choose(Z);return this.generateEnemy(Q,J)}selectEncounterType(J){let Z=Math.min(3,Math.max(1,Math.ceil(J/3))),Q=Qx.encounterTables[`level${Z}`];if(!Q)return"goblin";let Y=this.rng.next(),$;if(Y<0.7)$=Q.common||[];else if(Y<0.9)$=Q.uncommon||[];else $=Q.rare||[];if($.length===0)$=Q.common||["goblin"];return this.rng.choose($)}determineEnemyCount(J){let Z=Math.min(0.6,J*0.1);if(this.rng.chance(Z))return this.rng.nextInt(1,Math.min(3,Math.max(1,Math.floor(J/2))));return 1}scaleEnemyToLevel(J,Z){let Q=Math.max(0.5,Z/J.minLevel);return{...J,baseHp:Math.floor(J.baseHp*Q),baseAc:Math.floor(J.baseAc+(Z-J.minLevel)*0.5),baseStats:{strength:Math.floor(J.baseStats.strength+(Z-J.minLevel)*0.5),dexterity:Math.floor(J.baseStats.dexterity+(Z-J.minLevel)*0.5),constitution:Math.floor(J.baseStats.constitution+(Z-J.minLevel)*0.5),intelligence:J.baseStats.intelligence,wisdom:J.baseStats.wisdom,charisma:J.baseStats.charisma},attacks:J.attacks.map((Y)=>({...Y,hitBonus:Y.hitBonus+Math.floor((Z-J.minLevel)*0.5)}))}}generateLootTable(J){let Z=[];for(let Q of J.items)if(this.rng.chance(Q.chance)){let Y={id:`loot-${Q.template}-${Date.now()}`,name:this.getItemNameFromTemplate(Q.template),baseType:"treasure",properties:[],rarity:"common"};Z.push({item:Y,chance:Q.chance})}return{items:Z,gold:J.gold}}getItemNameFromTemplate(J){return{rusty_scimitar:"Rusty Scimitar",leather_armor:"Leather Armor",greataxe:"Greataxe",studded_leather:"Studded Leather Armor",bone_dust:"Bone Dust",shortsword:"Shortsword",rat_tail:"Rat Tail",spider_silk:"Spider Silk",poison_gland:"Poison Gland",scimitar:"Scimitar",health_potion:"Health Potion",dragon_scale:"Dragon Scale",magic_sword:"Magic Sword",treasure_hoard:"Treasure Hoard"}[J]||J.replace(/_/g," ").replace(/\b\w/g,(Q)=>Q.toUpperCase())}getEnemyType(J){return{goblin:"goblin",orc:"orc",skeleton:"skeleton",rat:"rat",spider:"spider",bandit:"bandit",dragon_wyrmling:"dragon"}[J]||"goblin"}shouldHaveEncounter(J,Z){let Q=0.4;switch(Z){case"entrance":return!1;case"treasure_room":Q=0.8;break;case"armory":case"library":Q=0.6;break;case"corridor":Q=0.2;break}return Q+=J*0.05,Q=Math.min(0.8,Q),this.rng.chance(Q)}assignAbilities(J,Z){let Q=[],Y=this.abilityMappings[J]||[];for(let $ of Y){let H=this.enemyAbilities[$];if(H){let K={...H,id:`${$}-${Date.now()}-${Math.random()}`,priority:H.priority+Z*2};if(K.effect.damage)K.effect.damage=this.scaleDiceRoll(K.effect.damage,Z);if(K.effect.healing)K.effect.healing=this.scaleDiceRoll(K.effect.healing,Z);Q.push(K)}}return Q}generateResources(J,Z){let Q={};switch(J){case"dragon_wyrmling":Q.energy={current:20+Z*5,max:20+Z*5};break;case"skeleton":case"bandit":if(this.rng.chance(0.3))Q.mana={current:10+Z*2,max:10+Z*2};break;case"orc":Q.rage={current:0,max:15+Z*3};break}return Object.keys(Q).length>0?Q:void 0}scaleDiceRoll(J,Z){let Q=Math.floor(Z/3);if(Q>0)return J.includes("+")?J.replace(/\+(\d+)/,(Y,$)=>`+${parseInt($)+Q}`):`${J}+${Q}`;return J}}var dX={weapons:{dagger:{name:"Dagger",baseType:"weapon",damage:"1d4",weight:1,value:2,rarity:"common",properties:[{type:"damage_bonus",value:4}]},shortsword:{name:"Shortsword",baseType:"weapon",damage:"1d6",weight:2,value:10,rarity:"common",properties:[{type:"damage_bonus",value:6}]},longsword:{name:"Longsword",baseType:"weapon",damage:"1d8",weight:3,value:15,rarity:"common",properties:[{type:"damage_bonus",value:8}]},scimitar:{name:"Scimitar",baseType:"weapon",damage:"1d6",weight:3,value:25,rarity:"common",properties:[{type:"damage_bonus",value:6}]},greataxe:{name:"Greataxe",baseType:"weapon",damage:"1d12",weight:7,value:30,rarity:"uncommon",properties:[{type:"damage_bonus",value:12}]},warhammer:{name:"Warhammer",baseType:"weapon",damage:"1d8",weight:2,value:15,rarity:"common",properties:[{type:"damage_bonus",value:8}]}},armor:{leather_armor:{name:"Leather Armor",baseType:"armor",ac:1,weight:10,value:10,rarity:"common",properties:[{type:"ac_bonus",value:1}]},studded_leather:{name:"Studded Leather Armor",baseType:"armor",ac:2,weight:13,value:45,rarity:"common",properties:[{type:"ac_bonus",value:2}]},chain_mail:{name:"Chain Mail",baseType:"armor",ac:4,weight:55,value:75,rarity:"uncommon",properties:[{type:"ac_bonus",value:4}]},plate_armor:{name:"Plate Armor",baseType:"armor",ac:6,weight:65,value:1500,rarity:"rare",properties:[{type:"ac_bonus",value:6}]}},shields:{buckler:{name:"Buckler",baseType:"shield",ac:1,weight:5,value:5,rarity:"common",properties:[{type:"ac_bonus",value:1}]},shield:{name:"Shield",baseType:"shield",ac:2,weight:6,value:10,rarity:"common",properties:[{type:"ac_bonus",value:2}]}},consumables:{health_potion:{name:"Health Potion",baseType:"potion",weight:0.5,value:50,rarity:"common",properties:[{type:"healing",value:8}],consumable:!0,useDescription:"You feel your wounds closing as you drink the potion."},greater_health_potion:{name:"Greater Health Potion",baseType:"potion",weight:0.5,value:150,rarity:"uncommon",properties:[{type:"healing",value:20}],consumable:!0,useDescription:"A surge of vitality flows through your body."},strength_potion:{name:"Potion of Strength",baseType:"potion",weight:0.5,value:100,rarity:"uncommon",properties:[{type:"stat_bonus",value:2,stat:"strength"}],consumable:!0,duration:10,useDescription:"You feel your muscles bulge with newfound power."}},treasures:{gold_coin:{name:"Gold Coin",baseType:"treasure",weight:0.02,value:1,rarity:"common",properties:[],stackable:!0},gem:{name:"Precious Gem",baseType:"treasure",weight:0.1,value:100,rarity:"rare",properties:[]},art_object:{name:"Ancient Artifact",baseType:"treasure",weight:2,value:250,rarity:"rare",properties:[]}},magic_prefixes:[{name:"Sharp",rarity:"uncommon",applicableTo:["weapon"],properties:[{type:"damage_bonus",value:1}],valueMultiplier:1.5},{name:"Keen",rarity:"rare",applicableTo:["weapon"],properties:[{type:"damage_bonus",value:2}],valueMultiplier:2},{name:"Reinforced",rarity:"uncommon",applicableTo:["armor","shield"],properties:[{type:"ac_bonus",value:1}],valueMultiplier:1.5},{name:"Fortified",rarity:"rare",applicableTo:["armor","shield"],properties:[{type:"ac_bonus",value:2}],valueMultiplier:2},{name:"Giant's",rarity:"rare",applicableTo:["weapon","armor"],properties:[{type:"stat_bonus",value:1,stat:"strength"}],valueMultiplier:2.5},{name:"Swift",rarity:"rare",applicableTo:["weapon","armor"],properties:[{type:"stat_bonus",value:1,stat:"dexterity"}],valueMultiplier:2.5}],magic_suffixes:[{name:"of Power",rarity:"uncommon",applicableTo:["weapon"],properties:[{type:"damage_bonus",value:1}],valueMultiplier:1.3},{name:"of Protection",rarity:"uncommon",applicableTo:["armor","shield"],properties:[{type:"ac_bonus",value:1}],valueMultiplier:1.3},{name:"of the Bear",rarity:"rare",applicableTo:["armor"],properties:[{type:"stat_bonus",value:2,stat:"constitution"}],valueMultiplier:2},{name:"of the Eagle",rarity:"rare",applicableTo:["weapon"],properties:[{type:"stat_bonus",value:2,stat:"dexterity"}],valueMultiplier:2}],loot_tables:{common:{weapons:0.3,armor:0.2,shields:0.1,consumables:0.3,treasures:0.1},uncommon:{weapons:0.4,armor:0.3,shields:0.1,consumables:0.1,treasures:0.1},rare:{weapons:0.5,armor:0.3,shields:0.1,consumables:0.05,treasures:0.05}}};class Yx{rng;weaponTemplates;armorTemplates;shieldTemplates;consumableTemplates;treasureTemplates;magicPrefixes;magicSuffixes;lootTables;constructor(J){this.rng=J,this.weaponTemplates=dX.weapons,this.armorTemplates=dX.armor,this.shieldTemplates=dX.shields,this.consumableTemplates=dX.consumables,this.treasureTemplates=dX.treasures,this.magicPrefixes=dX.magic_prefixes,this.magicSuffixes=dX.magic_suffixes,this.lootTables=dX.loot_tables}generateRandomItem(J="common",Z=1){let Q=this.selectItemCategory(J),Y=this.selectItemTemplate(Q,J);if(!Y)return this.generateGold(this.rng.nextInt(1,10));return this.createItemFromTemplate(Y,J,Z)}generateSpecificItem(J,Z){let Q;switch(Z){case"weapons":Q=this.weaponTemplates[J];break;case"armor":Q=this.armorTemplates[J];break;case"shields":Q=this.shieldTemplates[J];break;case"consumables":Q=this.consumableTemplates[J];break;case"treasures":Q=this.treasureTemplates[J];break}if(!Q)return null;return this.createItemFromTemplate(Q,this.parseRarity(Q.rarity))}generateLoot(J,Z=!1){let Q=[],Y=this.determineLootRarity(J,Z),$=this.determineItemCount(Y,Z);for(let K=0;K<$;K++){let B=this.generateRandomItem(Y,J);Q.push(B)}let H=this.rng.nextInt(J*2,J*10+(Z?50:0));if(H>0)Q.push(this.generateGold(H));return Q}generateTreasureHoard(J){let Z=[],Q=this.rng.nextInt(3,8),Y={common:0.2,uncommon:0.4,rare:0.3,epic:0.08,legendary:0.02};for(let H=0;H<Q;H++){let K=this.rollWeightedRarity(Y),B=this.generateRandomItem(K,J);Z.push(B)}let $=this.rng.nextInt(50,200)+J*20;return Z.push(this.generateGold($)),Z}selectItemCategory(J){let Z=this.lootTables[J]||this.lootTables.common,Q=this.rng.next(),Y=0;for(let $ in Z){let H=Z[$];if(typeof H==="number"){if(Y+=H,Q<=Y)return $}}return"consumables"}selectItemTemplate(J,Z){let Q;switch(J){case"weapons":Q=this.weaponTemplates;break;case"armor":Q=this.armorTemplates;break;case"shields":Q=this.shieldTemplates;break;case"consumables":Q=this.consumableTemplates;break;case"treasures":Q=this.treasureTemplates;break;default:return null}let Y=Object.values(Q).filter(($)=>{let H=this.parseRarity($.rarity),K=this.getRarityValue(Z);return this.getRarityValue(H)<=K});if(Y.length===0)return Object.values(Q)[0]||null;return this.rng.choose(Y)}createItemFromTemplate(J,Z,Q=1){let Y=J.name,$=[...J.properties],H=J.value;if(Z>="uncommon"){let B=this.applyMagicAffixes(J,Z);Y=B.name,$=B.properties,H=Math.floor(H*B.valueMultiplier)}return{id:`item-${Date.now()}-${Math.random()}`,name:Y,baseType:this.parseItemType(J.baseType),properties:$,rarity:Z}}applyMagicAffixes(J,Z){let Q=J.name,Y=[...J.properties],$=1,H=this.magicPrefixes.filter((B)=>B.applicableTo.includes(J.baseType)&&this.parseRarity(B.rarity)<=Z),K=this.magicSuffixes.filter((B)=>B.applicableTo.includes(J.baseType)&&this.parseRarity(B.rarity)<=Z);if(H.length>0&&this.rng.chance(0.6)){let B=this.rng.choose(H);Q=`${B.name} ${Q}`,Y.push(...B.properties),$*=B.valueMultiplier}if(K.length>0&&this.rng.chance(0.4)){let B=this.rng.choose(K);Q=`${Q} ${B.name}`,Y.push(...B.properties),$*=B.valueMultiplier}return{name:Q,properties:Y,valueMultiplier:$}}determineLootRarity(J,Z){let Q={common:Math.max(0.1,0.7-J*0.05),uncommon:0.2+J*0.02,rare:0.08+J*0.01,epic:Math.min(0.05,J*0.005),legendary:Math.min(0.02,J*0.002)};if(Z)Q["common"]*=0.5,Q["rare"]*=1.5,Q["epic"]*=2,Q["legendary"]*=3;return this.rollWeightedRarity(Q)}rollWeightedRarity(J){let Z=Object.values(J).reduce(($,H)=>$+H,0),Q=this.rng.next()*Z,Y=0;for(let[$,H]of Object.entries(J))if(Y+=H,Q<=Y)return $;return"common"}determineItemCount(J,Z){let Q=1;if(J>="uncommon")Q++;if(J>="rare")Q++;if(Z)Q+=2;return this.rng.nextInt(1,Q+1)}generateGold(J){return{id:`gold-${Date.now()}-${Math.random()}`,name:`${J} Gold Coins`,baseType:"treasure",properties:[],rarity:"common"}}parseRarity(J){switch(J.toLowerCase()){case"common":return"common";case"uncommon":return"uncommon";case"rare":return"rare";case"epic":return"epic";case"legendary":return"legendary";default:return"common"}}getRarityValue(J){switch(J){case"common":return 0;case"uncommon":return 1;case"rare":return 2;case"epic":return 3;case"legendary":return 4;default:return 0}}parseItemType(J){switch(J.toLowerCase()){case"weapon":return"weapon";case"armor":return"armor";case"shield":return"shield";case"potion":return"potion";case"accessory":return"accessory";case"treasure":return"treasure";default:return"treasure"}}}class z5{static roll(J){return Math.floor(Math.random()*J)+1}static rollD20(){return z5.roll(20)}static rollD6(){return z5.roll(6)}static rollD4(){return z5.roll(4)}static rollMultiple(J,Z,Q=0){let Y=0;for(let $=0;$<J;$++)Y+=z5.roll(Z);return Y+Q}static parseDiceRoll(J){let Z=J.match(/(\d+)d(\d+)([+-]\d+)?/);if(!Z||!Z[1]||!Z[2])throw Error(`Invalid dice roll format: ${J}`);let Q=parseInt(Z[1]),Y=parseInt(Z[2]),$=Z[3]?parseInt(Z[3]):0;return z5.rollMultiple(Q,Y,$)}static rollWithAdvantage(){return Math.max(z5.rollD20(),z5.rollD20())}static rollWithDisadvantage(){return Math.min(z5.rollD20(),z5.rollD20())}}class IZ{seed;constructor(J){if(typeof J==="string")this.seed=this.hashString(J);else if(typeof J==="number")this.seed=J;else this.seed=Math.floor(Math.random()*1e6)}hashString(J){let Z=0;for(let Q=0;Q<J.length;Q++){let Y=J.charCodeAt(Q);Z=(Z<<5)-Z+Y,Z=Z&Z}return Math.abs(Z)}next(){return this.seed=(this.seed*9301+49297)%233280,this.seed/233280}nextInt(J,Z){return Math.floor(this.next()*(Z-J+1))+J}choose(J){if(J.length===0)throw Error("Cannot choose from empty array");return J[this.nextInt(0,J.length-1)]}shuffle(J){let Z=[...J];for(let Q=Z.length-1;Q>0;Q--){let Y=this.nextInt(0,Q);[Z[Q],Z[Y]]=[Z[Y],Z[Q]]}return Z}chance(J){return this.next()<J}rollDie(J){return this.nextInt(1,J)}random(){return this.next()}}class zK{rng;constructor(){this.rng=new IZ}attemptLockPicking(J,Z){if(Z.unlocked)return{success:!1,message:"This lock is already unlocked."};let Q=Math.floor((J.stats.dexterity-10)/2),Y=Math.ceil(J.level/4)+1,$=J.class==="Rogue"?3:0,H=z5.rollD20(),K=H+Q+Y+$;if(Z.attempts=(Z.attempts||0)+1,K>=Z.difficulty)return Z.unlocked=!0,{success:!0,message:`Successfully picked the lock! (rolled ${H} + ${K-H} = ${K} vs DC ${Z.difficulty})`};else{let B=`Failed to pick the lock. (rolled ${H} + ${K-H} = ${K} vs DC ${Z.difficulty})`;if(Z.type==="complex"&&Z.attempts>=3)B+=" The lock mechanism jams from too many failed attempts!",Z.difficulty+=5;return{success:!1,message:B}}}useKey(J,Z,Q){if(Z.unlocked)return{success:!1,message:"This lock is already unlocked."};if(Z.keyId!==Q)return{success:!1,message:"This key doesn't fit this lock."};if(!J.inventory.some(($)=>$.id===Q))return{success:!1,message:"You don't have the required key."};return Z.unlocked=!0,{success:!0,message:"The key fits perfectly! The lock opens with a satisfying click."}}attemptTrapDetection(J,Z){if(Z.detected)return{success:!0,message:"You already know about this trap."};let Q=Math.floor((J.stats.wisdom-10)/2),Y=Math.ceil(J.level/4)+1,$=J.class==="Rogue"?3:0,H=z5.rollD20(),K=H+Q+Y+$;if(K>=Z.detectionDC)return Z.detected=!0,{success:!0,message:`You spot a ${Z.name}! ${Z.description} (rolled ${H} + ${K-H} = ${K} vs DC ${Z.detectionDC})`};else return{success:!1,message:`You don't notice anything suspicious. (rolled ${H} + ${K-H} = ${K} vs DC ${Z.detectionDC})`}}attemptTrapDisarming(J,Z){if(!Z.detected)return{success:!1,message:"You must detect the trap first before attempting to disarm it."};if(Z.disarmed)return{success:!1,message:"This trap has already been disarmed."};let Q=Math.floor((J.stats.dexterity-10)/2),Y=Math.ceil(J.level/4)+1,$=J.class==="Rogue"?4:0,H=z5.rollD20(),K=H+Q+Y+$;if(K>=Z.disarmDC)return Z.disarmed=!0,{success:!0,message:`Successfully disarmed the ${Z.name}! (rolled ${H} + ${K-H} = ${K} vs DC ${Z.disarmDC})`};else{if(H===1)return this.triggerTrap(J,Z);return{success:!1,message:`Failed to disarm the trap. (rolled ${H} + ${K-H} = ${K} vs DC ${Z.disarmDC}) Be careful - one wrong move could trigger it!`}}}triggerTrap(J,Z){if(Z.triggered||Z.disarmed)return{success:!1,message:"This trap has already been triggered or disarmed."};Z.triggered=!0;let Q=0,Y=`The ${Z.name} triggers! `,$;if(Z.damage)Q=z5.parseDiceRoll(Z.damage),J.hp.current=Math.max(0,J.hp.current-Q),Y+=`You take ${Q} damage! `;switch(Z.effect){case"poison":$="poisoned",Y+="You feel sick from the poison!";break;case"paralysis":$="paralyzed",Y+="Your muscles seize up!";break;case"alarm":Y+="A loud alarm echoes through the dungeon!";break;default:Y+=Z.description}return{success:!1,message:Y,damage:Q,effectApplied:$}}attemptPuzzle(J,Z,Q){if(Z.solved)return{success:!1,message:"This puzzle has already been solved."};if(Z.attempts++,Z.maxAttempts&&Z.attempts>Z.maxAttempts)return{success:!1,message:"You've made too many attempts at this puzzle. It locks you out permanently."};if(Q.toLowerCase().trim()===Z.solution.toLowerCase().trim()){Z.solved=!0;let $=`Correct! You solve the ${Z.name}. `,H=Z.reward||[];if(H.length>0)$+=`You find: ${H.map((K)=>K.name).join(", ")}`;return{success:!0,message:$,itemsFound:H}}else{let $="Incorrect answer. ";if(Z.maxAttempts){let H=Z.maxAttempts-Z.attempts;$+=`You have ${H} attempts remaining.`}if(Z.penalty&&this.rng.random()<0.3)$+=` ${Z.penalty}`;return{success:!1,message:$}}}checkTrapTriggers(J,Z){if(!Z.traps)return[];let Q=[];for(let Y of Z.traps){if(Y.triggered||Y.disarmed||Y.detected)continue;if(Y.type==="pit"||Y.type==="alarm"){let $=Math.floor((J.stats.dexterity-10)/2);if(z5.rollD20()+$<Y.detectionDC)Q.push(this.triggerTrap(J,Y))}}return Q}generateRandomPuzzle(){let J=Object.values(s_),Z=J[Math.floor(this.rng.random()*J.length)];if(!Z)throw Error("No puzzle types available");let Y=this.getPuzzleTemplates()[Z];if(!Y||Y.length===0)throw Error(`No puzzles available for type: ${Z}`);let $=Y[Math.floor(this.rng.random()*Y.length)];if(!$)throw Error(`No template found for puzzle type: ${Z}`);return{id:`puzzle_${Date.now()}`,name:$.name,description:$.description,type:Z,solved:!1,solution:$.solution,attempts:0,maxAttempts:$.maxAttempts}}getPuzzleTemplates(){return{riddle:[{name:"Ancient Riddle",description:"Carved into the wall: 'I speak without a mouth and hear without ears. I have no body, but come alive with the wind. What am I?'",solution:"echo",maxAttempts:3},{name:"Sphinx's Question",description:"A mystical voice asks: 'What has keys but no locks, space but no room, you can enter but not go inside?'",solution:"keyboard",maxAttempts:3}],math:[{name:"Arithmetic Lock",description:"A combination lock with the equation: If I have 3 apples and buy 4 more, then eat 2, how many do I have?",solution:"5",maxAttempts:5}],sequence:[{name:"Pattern Lock",description:"A sequence of gems: Red, Blue, Red, Blue, Red, ___. What color comes next?",solution:"blue",maxAttempts:3}],word:[{name:"Word Scramble",description:"Unscramble these letters to find the key word: GNDRUAOE",solution:"dragon",maxAttempts:5}],symbol:[{name:"Symbol Cipher",description:"Ancient symbols spell out a word. ☀️\uD83C\uDF19⭐ represents 'sun moon star'. What does \uD83D\uDD25\uD83D\uDCA7\uD83C\uDF0D represent?",solution:"fire water earth",maxAttempts:3}]}}}class JF{rng;constructor(){this.rng=new IZ}processRoomHazards(J,Z){let Q=[];if(Z.hazards)for(let Y of Z.hazards){let $=this.processHazard(J,Y);if($)Q.push($)}return Q}processHazard(J,Z){if(Z.triggeredByMovement)return null;let Q=0,Y=[],$="";switch(Z.type){case"extreme_heat":if(Z.damagePerTurn&&Z.damagePerTurn.includes("d"))try{Q=z5.parseDiceRoll(Z.damagePerTurn),J.hp.current=Math.max(0,J.hp.current-Q),$=`\uD83D\uDD25 You take ${Q} heat damage from the ${Z.name}!`}catch{Q=1,J.hp.current=Math.max(0,J.hp.current-1),$=`\uD83D\uDD25 You take 1 heat damage from the ${Z.name}!`}break;case"poison_gas":let H=Math.floor((J.stats.constitution-10)/2),K=z5.rollD20()+H,B=this.getHazardSaveDC(Z.severity);if(K<B)Y.push({type:"cursed",duration:3,description:"Poisoned"}),$=`☠️ You are poisoned by the ${Z.name}! (Save: ${K} vs DC ${B})`;else $=`\uD83D\uDC9A You resist the poison from the ${Z.name}. (Save: ${K} vs DC ${B})`;break;case"extreme_cold":Y.push({type:"slowed",duration:2,description:"Chilled to the bone"}),$=`\uD83E\uDDCA The cold from the ${Z.name} chills you to the bone!`;break;case"arcane_storm":if(this.rng.choose(["mana_drain","stat_debuff","confusion"])==="mana_drain"&&J.mana){let z=Math.min(2,J.mana.current);J.mana.current-=z,$=`✨ The ${Z.name} drains ${z} mana from you!`}else $=`✨ You feel strange magic from the ${Z.name}.`;break;case"unstable_floor":let L=Math.floor((J.stats.dexterity-10)/2),O=z5.rollD20()+L;if(O<this.getHazardSaveDC(Z.severity))try{Q=z5.parseDiceRoll("2d6"),J.hp.current=Math.max(0,J.hp.current-Q),$=`\uD83D\uDCA5 You take ${Q} falling damage from the ${Z.name}!`}catch{Q=4,J.hp.current=Math.max(0,J.hp.current-Q),$=`\uD83D\uDCA5 You take ${Q} falling damage from the ${Z.name}!`}else $=`\uD83D\uDCAA You dodge the ${Z.name}! (Save: ${O} vs DC ${this.getHazardSaveDC(Z.severity)})`;break}if(Y.length>0){if(!J.statusEffects)J.statusEffects=[];J.statusEffects.push(...Y)}if(!Z.isPermanent&&Z.duration!==void 0){if(Z.duration--,Z.duration<=0);}return{success:Q===0,message:$,damage:Q,statusEffects:Y}}generateHazard(J,Z,Q){let Y=this.getHazardTypesForRoom(J);if(Y.length===0)return null;let $=Q.choose(Y),H=this.getHazardSeverityForDepth(Z);return this.createHazard($,H)}getHazardSaveDC(J){switch(J){case"minor":return 10;case"moderate":return 13;case"severe":return 16;case"extreme":return 20}}getHazardTypesForRoom(J){switch(J){case"treasury":return["arcane_storm"];case"forge":return["extreme_heat"];case"crypt":return["poison_gas","extreme_cold"];case"trap_room":return["unstable_floor","extreme_heat"];default:return["extreme_heat","poison_gas"]}}getHazardSeverityForDepth(J){if(J<=2)return"minor";if(J<=4)return"moderate";if(J<=6)return"severe";return"extreme"}createHazard(J,Z){let Q=this.getHazardData(J,Z);return{id:`hazard_${Date.now()}_${Math.random()}`,name:Q.name,type:J,severity:Z,description:Q.description,damagePerTurn:Q.damagePerTurn,triggeredByMovement:!1,isPermanent:Q.isPermanent,duration:Q.duration}}getHazardData(J,Z){let Q={minor:1,moderate:1.5,severe:2,extreme:3}[Z],Y=Math.floor(2*Q);switch(J){case"extreme_heat":return{name:`${Z} Heat`,description:"Extreme heat radiates from the environment",damagePerTurn:`${Y}d4`,isPermanent:!0,duration:void 0};case"poison_gas":return{name:`${Z} Poison Gas`,description:"Toxic vapors seep from cracks in the ground",damagePerTurn:`${Math.max(1,Y-1)}d4`,isPermanent:!1,duration:5+Math.floor(Q*2)};case"extreme_cold":return{name:`${Z} Cold`,description:"An unnatural chill permeates the area",damagePerTurn:`${Y}d3`,isPermanent:!0,duration:void 0};case"arcane_storm":return{name:`${Z} Arcane Storm`,description:"Chaotic magical energy crackles in the air",damagePerTurn:`${Y}d6`,isPermanent:!1,duration:3+Math.floor(Q*3)};case"unstable_floor":return{name:`${Z} Unstable Floor`,description:"The ground shifts dangerously underfoot",damagePerTurn:`${Y+1}d6`,isPermanent:!1,duration:2};default:return{name:"Unknown Hazard",description:"Something dangerous lurks here",damagePerTurn:"1d4",isPermanent:!1,duration:3}}}}class ZF{constructor(){}activateInteractiveElement(J,Z,Q){let Y=this.canUseInteractiveElement(J,Z,Q.turnCount);if(!Y.success)return{success:!1,message:Y.message};if(Z.usesRemaining!==void 0)Z.usesRemaining--;if(Z.cooldownTurns!==void 0)Z.lastUsedTurn=Q.turnCount;return this.applyInteractiveEffect(J,Z.effect,Q)}canUseInteractiveElement(J,Z,Q){if(Z.usesRemaining!==void 0&&Z.usesRemaining<=0)return{success:!1,message:`The ${Z.name} has no more uses.`};if(Z.cooldownTurns&&Z.lastUsedTurn!==void 0){let Y=Q-Z.lastUsedTurn;if(Y<Z.cooldownTurns)return{success:!1,message:`The ${Z.name} is still recharging (${Z.cooldownTurns-Y} turns remaining).`}}if(Z.requiresItem){if(!J.inventory.some(($)=>$.id===Z.requiresItem))return{success:!1,message:`You need a specific item to use the ${Z.name}.`}}if(Z.skillRequired&&Z.difficultyClass){let Y=this.makeSkillCheck(J,Z.skillRequired,Z.difficultyClass);if(!Y.success)return{success:!1,message:`${Y.message} You fail to activate the ${Z.name}.`}}return{success:!0,message:""}}applyInteractiveEffect(J,Z,Q){let Y=0,$=0,H=[],K=[],B=!1,q=Z.description;switch(Z.type){case"character":if(Z.characterEffect){if(!J.statusEffects)J.statusEffects=[];J.statusEffects.push(Z.characterEffect),H.push(Z.characterEffect)}if(Z.healAmount&&Z.healAmount.includes("d"))try{Y=z5.parseDiceRoll(Z.healAmount),J.hp.current=Math.min(J.hp.max,J.hp.current+Y),q+=` You are healed for ${Y} points.`}catch{Y=5,J.hp.current=Math.min(J.hp.max,J.hp.current+Y),q+=` You are healed for ${Y} points.`}if(Z.damageAmount&&Z.damageAmount.includes("d"))try{$=z5.parseDiceRoll(Z.damageAmount),J.hp.current=Math.max(0,J.hp.current-$),q+=` You take ${$} damage.`}catch{$=3,J.hp.current=Math.max(0,J.hp.current-$),q+=` You take ${$} damage.`}break;case"spawn_items":if(Z.spawnItems){K.push(...Z.spawnItems);let L=Q.dungeon.rooms.get(Q.currentRoomId);if(L){L.contents.items.push(...Z.spawnItems);let O=Z.spawnItems.map((z)=>z.name).join(", ");q+=` ${O} appear${Z.spawnItems.length===1?"s":""}.`}}break;case"room":if(Z.roomModification)B=!0,q+=" The room itself seems to change.";break;case"teleport":if(Z.teleportDestination)q+=" Reality bends around you...";break;case"door":q+=" You hear mechanical sounds in the distance.";break;default:q+=" Nothing seems to happen."}return{success:!0,message:q,healing:Y,damage:$,statusEffects:H,itemsSpawned:K,roomModified:B}}makeSkillCheck(J,Z,Q){let Y=0;switch(Z.toLowerCase()){case"strength":Y=Math.floor((J.stats.strength-10)/2);break;case"dexterity":Y=Math.floor((J.stats.dexterity-10)/2);break;case"intelligence":Y=Math.floor((J.stats.intelligence-10)/2);break;case"wisdom":Y=Math.floor((J.stats.wisdom-10)/2);break}let $=Math.ceil(J.level/4)+1;if(J.class==="Rogue"&&Z.toLowerCase()==="dexterity")Y+=2;if(J.class==="Wizard"&&Z.toLowerCase()==="intelligence")Y+=2;let H=z5.rollD20(),K=H+Y+$;return{success:K>=Q,message:`${Z} check: ${H} + ${Y+$} = ${K} vs DC ${Q}`}}generateInteractiveElement(J,Z,Q){let Y=this.getInteractiveTypesForRoom(J);if(Y.length===0)return null;let $=Q.choose(Y);return this.createInteractiveElement($,Z)}getInteractiveTypesForRoom(J){switch(J){case"shrine":return["altar","fountain"];case"library":return["bookshelf"];case"treasury":return["lever","switch"];case"laboratory":return["crystal","switch"];default:return["lever","pressure_plate"]}}createInteractiveElement(J,Z){let Q=this.getInteractiveElementData(J,Z);return{id:`interactive_${Date.now()}_${Math.random()}`,name:Q.name,type:J,description:Q.description,activated:!1,usesRemaining:Q.usesRemaining,skillRequired:Q.skillRequired,difficultyClass:Q.difficultyClass,cooldownTurns:Q.cooldownTurns,requiresItem:Q.requiresItem,effect:Q.effect}}getInteractiveElementData(J,Z){let Q=Math.min(20,10+Z*2);switch(J){case"lever":return{name:"Ancient Lever",description:"A worn stone lever jutting from the wall",usesRemaining:void 0,skillRequired:"strength",difficultyClass:Q-2,cooldownTurns:void 0,requiresItem:void 0,effect:{type:"room",description:"The lever clicks into place with a grinding sound"}};case"fountain":return{name:"Mystical Fountain",description:"Crystal clear water flows from an ornate fountain",usesRemaining:3,skillRequired:void 0,difficultyClass:void 0,cooldownTurns:void 0,requiresItem:void 0,effect:{type:"character",description:"The water tastes refreshing",healAmount:"2d4+1",characterEffect:{type:"blessed",duration:5,description:"Blessed by sacred waters"}}};case"altar":return{name:"Sacred Altar",description:"A stone altar carved with divine symbols",usesRemaining:1,skillRequired:"wisdom",difficultyClass:Q,cooldownTurns:void 0,requiresItem:void 0,effect:{type:"character",description:"Divine energy flows through you",healAmount:"3d4+3",characterEffect:{type:"protected",duration:10,description:"Protected by divine grace"}}};default:return{name:"Unknown Element",description:"An unidentified interactive element",usesRemaining:1,skillRequired:void 0,difficultyClass:void 0,cooldownTurns:void 0,requiresItem:void 0,effect:{type:"character",description:"Nothing happens"}}}}}class Gx{rng;enemyGenerator;itemGenerator;interactionSystem;hazardSystem;interactiveElementSystem;constructor(J){this.rng=J,this.enemyGenerator=new Xx(J),this.itemGenerator=new Yx(J),this.interactionSystem=new zK,this.hazardSystem=new JF,this.interactiveElementSystem=new ZF}generateDungeon(J=15){let Z=new Map,Q=this.createRoom("entrance",0,0,"entrance");Z.set(Q.id,Q);let Y=new Set;return Y.add("0,0"),this.generateRoomsRecursively(Z,Y,Q,J-1,0),this.placeSpecialRooms(Z),this.distributeContent(Z,Q.id),this.addAdvancedFeatures(Z,Q.id),this.addEnvironmentalFeatures(Z,Q.id),{id:`dungeon-${Date.now()}`,seed:this.rng.toString(),rooms:Z,entranceRoomId:Q.id}}generateRoomsRecursively(J,Z,Q,Y,$){if(Y<=0)return;let H=this.shuffleDirections(),K=Math.max(1,4-$);for(let B of H){if(Y<=0)break;let{x:q,y:L}=this.getAdjacentCoordinates(Q.coordinates,B),O=`${q},${L}`;if(Z.has(O))continue;let z=Math.max(0.3,1-$*0.1);if(!this.rng.chance(z))continue;let F=$>5?this.selectSpecialRoomType():"chamber",V=this.createRoom(`room-${q}-${L}`,q,L,F);if(J.set(V.id,V),Z.add(O),Q.exits.set(B,V.id),V.exits.set(this.getOppositeDirection(B),Q.id),Y--,$<8&&Y>0)this.generateRoomsRecursively(J,Z,V,Math.min(Y,K),$+1)}}createRoom(J,Z,Q,Y){return{id:J,coordinates:{x:Z,y:Q},exits:new Map,roomType:Y,description:{template:Y},contents:{enemies:[],items:[],features:[],searched:!1},visited:!1}}selectSpecialRoomType(){let J=["armory","library","chamber","chamber","generic"];return this.rng.choose(J)}shuffleDirections(){let J=["north","south","east","west"];return this.rng.shuffle(J)}getAdjacentCoordinates(J,Z){switch(Z){case"north":return{x:J.x,y:J.y-1};case"south":return{x:J.x,y:J.y+1};case"east":return{x:J.x+1,y:J.y};case"west":return{x:J.x-1,y:J.y};default:throw Error(`Invalid direction: ${Z}`)}}getOppositeDirection(J){switch(J){case"north":return"south";case"south":return"north";case"east":return"west";case"west":return"east";default:throw Error(`Invalid direction: ${J}`)}}placeSpecialRooms(J){let Z=Array.from(J.values()),Q=Z.find((H)=>H.roomType==="entrance");if(!Q)return;let Y=Q,$=0;for(let H of Z){let K=Math.abs(H.coordinates.x-Q.coordinates.x)+Math.abs(H.coordinates.y-Q.coordinates.y);if(K>$)$=K,Y=H}if(Y!==Q)Y.roomType="treasure_room"}distributeContent(J,Z){let Q=J.get(Z);if(!Q)return;for(let Y of J.values()){if(Y.id===Z)continue;let $=this.calculateRoomDepth(Y,Q);if(this.enemyGenerator.shouldHaveEncounter($,Y.roomType)){let H=Y.roomType==="treasure_room",K=this.enemyGenerator.generateEncounter($,H);Y.contents.enemies=K}this.distributeRoomItems(Y,$)}}calculateRoomDepth(J,Z){return Math.abs(J.coordinates.x-Z.coordinates.x)+Math.abs(J.coordinates.y-Z.coordinates.y)}distributeRoomItems(J,Z){switch(J.roomType){case"treasure_room":let Q=this.itemGenerator.generateTreasureHoard(Z);J.contents.items=Q;break;case"armory":if(this.rng.chance(0.8)){let Y=this.itemGenerator.generateSpecificItem(this.rng.choose(["shortsword","longsword","greataxe","warhammer"]),"weapons");if(Y)J.contents.items.push(Y)}if(this.rng.chance(0.6)){let Y=this.itemGenerator.generateSpecificItem(this.rng.choose(["leather_armor","studded_leather","chain_mail"]),"armor");if(Y)J.contents.items.push(Y)}break;case"library":if(this.rng.chance(0.5)){let Y=this.itemGenerator.generateSpecificItem(this.rng.choose(["health_potion","strength_potion"]),"consumables");if(Y)J.contents.items.push(Y)}break;case"chamber":case"generic":if(this.rng.chance(0.3)){let Y=this.itemGenerator.generateRandomItem(this.rng.choose(["common","uncommon"]),Z);J.contents.items.push(Y)}break;default:if(this.rng.chance(0.15)){let Y=this.itemGenerator.generateRandomItem("common",Z);J.contents.items.push(Y)}break}if(this.rng.chance(0.2))J.contents.features.push({id:`hidden-${J.id}`,name:"Hidden Compartment",description:"A small hidden compartment in the wall.",searchable:!0,searched:!1,hidden_items:[this.itemGenerator.generateRandomItem("common",Z)]})}addAdvancedFeatures(J,Z){this.addLockedDoors(J),this.addTraps(J,Z),this.addPuzzles(J,Z)}addLockedDoors(J){for(let Z of J.values()){let Q=Array.from(Z.exits.entries());for(let[Y,$]of Q)if(this.rng.chance(0.2)){if(!Z.lockedExits)Z.lockedExits=new Map;let H=this.rng.choose(["simple","complex","magical"]),K=12;switch(H){case"simple":K=10+this.rng.rollDie(6);break;case"complex":K=15+this.rng.rollDie(6);break;case"magical":K=18+this.rng.rollDie(8);break}let B={id:`lock-${Z.id}-${Y}`,type:H,difficulty:K,unlocked:!1,attempts:0};if(this.rng.chance(0.3))B.keyId=`key-${B.id}`;Z.lockedExits.set(Y,B)}}}addTraps(J,Z){for(let Q of J.values()){if(Q.id===Z)continue;if(this.rng.chance(0.3)){let Y=this.rng.choose(["poison_dart","pit","spike","fire","alarm"]),$=this.createTrap(Q,Y);if(!Q.traps)Q.traps=[];Q.traps.push($)}}}createTrap(J,Z){let Q,Y,$,H,K,B;switch(Z){case"poison_dart":Q="Poison Dart Trap",Y="Darts shoot from hidden holes in the walls!",$="1d4+2",H="poison",K=15,B=13;break;case"pit":Q="Pit Trap",Y="The floor gives way to a deep pit!",$="2d6",K=12,B=15;break;case"spike":Q="Spike Trap",Y="Sharp spikes spring from the ground!",$="1d8+3",K=14,B=14;break;case"fire":Q="Fire Trap",Y="Flames burst from vents in the floor!",$="2d4",K=16,B=16;break;case"alarm":Q="Alarm Trap",Y="A magical alarm sounds throughout the dungeon!",H="alarm",K=18,B=12;break;default:Q="Unknown Trap",Y="Something dangerous activates!",$="1d6",K=15,B=15}return{id:`trap-${J.id}-${Z}`,name:Q,description:Y,type:Z,detected:!1,disarmed:!1,triggered:!1,detectionDC:K,disarmDC:B,damage:$,effect:H}}addPuzzles(J,Z){for(let Q of J.values()){if(Q.id===Z)continue;let Y=0.1;switch(Q.roomType){case"library":Y=0.6;break;case"treasure_room":Y=0.8;break;case"throne_room":Y=0.5;break;case"chamber":Y=0.3;break}if(this.rng.chance(Y)){let $=this.interactionSystem.generateRandomPuzzle();if(Q.roomType==="treasure_room"||Q.roomType==="library"){let H=this.itemGenerator.generateRandomItem("uncommon",3);$.reward=[H]}if(!Q.puzzles)Q.puzzles=[];Q.puzzles.push($)}}}addEnvironmentalFeatures(J,Z){for(let Q of J.values()){if(Q.id===Z)continue;let Y=this.calculateRoomDepth(Q,J.get(Z)),$=Math.min(0.4,0.15+Y*0.05);if(this.rng.chance($)){let K=this.hazardSystem.generateHazard(Q.roomType,Y,this.rng);if(K){if(!Q.hazards)Q.hazards=[];Q.hazards.push(K)}}let H=0.2;switch(Q.roomType){case"library":H=0.7;break;case"throne_room":H=0.8;break;case"treasure_room":H=0.6;break;case"chamber":H=0.4;break}if(this.rng.chance(H)){let K=this.interactiveElementSystem.generateInteractiveElement(Q.roomType,Y,this.rng);if(K){if(!Q.interactiveElements)Q.interactiveElements=[];Q.interactiveElements.push(K)}}}}}class $x{llmNarrator;constructor(){this.llmNarrator=new j3}isDirectionCommand(J){return["north","south","east","west","n","s","e","w","northeast","northwest","southeast","southwest","ne","nw","se","sw","up","down","u","d"].includes(J)}parseDirection(J){switch(J){case"north":case"n":return"north";case"south":case"s":return"south";case"east":case"e":return"east";case"west":case"w":return"west";case"northeast":case"ne":return"northeast";case"northwest":case"nw":return"northwest";case"southeast":case"se":return"southeast";case"southwest":case"sw":return"southwest";case"up":case"u":return"up";case"down":case"d":return"down";default:throw Error(`Invalid direction: ${J}`)}}async executeMove(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q)return{success:!1,message:"You cannot move from here.",messageType:"error"};if(!Q.exits.has(J))return{success:!1,message:`You cannot go ${J.toLowerCase()}.`,messageType:"action"};if(Q.lockedExits?.has(J)){if(!Q.lockedExits.get(J).unlocked)return{success:!1,message:`The ${J.toLowerCase()} exit is locked.`,messageType:"action"}}let Y=Q.exits.get(J),$=Z.dungeon.rooms.get(Y);if(!$)return{success:!1,message:"That path leads nowhere.",messageType:"error"};Z.currentRoomId=Y,$.visited=!0,Z.turnCount++;let H=this.getDirectionName(J),K;try{K=await this.llmNarrator.describeRoom($,Z)}catch(z){console.error("LLM description failed:",z),K="You find yourself in a mysterious location, though the details are unclear."}let B=Array.from($.exits.keys()).map((z)=>z.toLowerCase()).join(", "),q=B?` Exits: ${B}.`:" There are no visible exits.",L="";if($.contents.enemies.length>0)L=` Enemies: ${$.contents.enemies.map((F)=>F.name).join(", ")}.`;let O="";if($.contents.items.length>0)O=` Items: ${$.contents.items.map((F)=>F.name).join(", ")}.`;return{success:!0,message:`You go ${H}. ${K}${q}${L}${O}`,messageType:"action"}}getDirectionName(J){switch(J){case"north":return"north";case"south":return"south";case"east":return"east";case"west":return"west";case"northeast":return"northeast";case"northwest":return"northwest";case"southeast":return"southeast";case"southwest":return"southwest";case"up":return"up";case"down":return"down";default:return J}}}class Hx{executeInventory(J){let{character:Z}=J,{inventory:Q}=Z;if(Q.length===0)return{success:!0,message:"Your inventory is empty.",messageType:"action"};let Y=`Inventory:
`;if(Q.forEach(($,H)=>{if(Y+=`  ${H+1}. ${$.name}`,$.description)Y+=` - ${$.description}`;Y+=`
`}),Y+=`
Equipped:
`,Z.equipment.weapon)Y+=`  Weapon: ${Z.equipment.weapon.name}
`;if(Z.equipment.armor)Y+=`  Armor: ${Z.equipment.armor.name}
`;if(Z.equipment.shield)Y+=`  Shield: ${Z.equipment.shield.name}
`;return{success:!0,message:Y,messageType:"action"}}executeGet(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q)return{success:!1,message:"Cannot get items from here.",messageType:"error"};if(!J)return{success:!1,message:"What do you want to get?",messageType:"error"};let Y=Q.contents.items.findIndex((H)=>H.name.toLowerCase().includes(J.toLowerCase()));if(Y===-1)return{success:!1,message:`There is no ${J} here.`,messageType:"action"};let $=Q.contents.items[Y];if(!$)return{success:!1,message:"Item not found.",messageType:"error"};if(!this.canCarryItem(Z.character,$))return{success:!1,message:"Your inventory is full.",messageType:"action"};return Q.contents.items.splice(Y,1),Z.character.inventory.push($),{success:!0,message:`You take the ${$.name}.`,messageType:"action"}}executeDrop(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q)return{success:!1,message:"Cannot drop items here.",messageType:"error"};if(!J)return{success:!1,message:"What do you want to drop?",messageType:"error"};let Y=Z.character.inventory.findIndex((H)=>H.name.toLowerCase().includes(J.toLowerCase()));if(Y===-1)return{success:!1,message:`You don't have a ${J}.`,messageType:"action"};let $=Z.character.inventory[Y];if(!$)return{success:!1,message:"Item not found in inventory.",messageType:"error"};return Z.character.inventory.splice(Y,1),Q.contents.items.push($),{success:!0,message:`You drop the ${$.name}.`,messageType:"action"}}executeEquip(J,Z){if(!J)return{success:!1,message:"What do you want to equip?",messageType:"error"};let Q=Z.character.inventory.find(($)=>$.name.toLowerCase().includes(J.toLowerCase()));if(!Q)return{success:!1,message:`You don't have a ${J}.`,messageType:"action"};if(!this.isEquippable(Q))return{success:!1,message:`You cannot equip the ${Q.name}.`,messageType:"action"};return{success:!0,message:this.equipItem(Z.character,Q).message,messageType:"action"}}executeUnequip(J,Z){if(!J)return{success:!1,message:"What do you want to unequip?",messageType:"error"};let Q=Z.character,Y=null;if(Q.equipment.weapon?.name.toLowerCase().includes(J.toLowerCase()))Y=Q.equipment.weapon,Q.equipment.weapon=void 0;else if(Q.equipment.armor?.name.toLowerCase().includes(J.toLowerCase()))Y=Q.equipment.armor,Q.equipment.armor=void 0;else if(Q.equipment.shield?.name.toLowerCase().includes(J.toLowerCase()))Y=Q.equipment.shield,Q.equipment.shield=void 0;if(!Y)return{success:!1,message:`You don't have a ${J} equipped.`,messageType:"action"};if(this.canCarryItem(Q,Y))return Q.inventory.push(Y),{success:!0,message:`You unequip the ${Y.name}.`,messageType:"action"};else{let $=Z.dungeon.rooms.get(Z.currentRoomId);if($)$.contents.items.push(Y);return{success:!0,message:`You unequip the ${Y.name} and drop it (inventory full).`,messageType:"action"}}}canCarryItem(J,Z){return J.inventory.length<20}isEquippable(J){return["weapon","armor","shield"].includes(J.baseType)}equipItem(J,Z){let Q=`You equip the ${Z.name}.`;switch(Z.baseType){case"weapon":if(J.equipment.weapon)J.inventory.push(J.equipment.weapon),Q=`You unequip the ${J.equipment.weapon.name} and equip the ${Z.name}.`;J.equipment.weapon=Z;break;case"armor":if(J.equipment.armor)J.inventory.push(J.equipment.armor),Q=`You remove the ${J.equipment.armor.name} and equip the ${Z.name}.`;J.equipment.armor=Z;break;case"shield":if(J.equipment.shield)J.inventory.push(J.equipment.shield),Q=`You lower the ${J.equipment.shield.name} and equip the ${Z.name}.`;J.equipment.shield=Z;break;default:return{message:`Cannot equip the ${Z.name}.`}}let Y=J.inventory.findIndex(($)=>$===Z);if(Y>-1)J.inventory.splice(Y,1);return{message:Q}}}class Wx{executeAttack(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q)return{success:!1,message:"You cannot attack here.",messageType:"error"};if(Q.contents.enemies.length===0)return{success:!1,message:"There are no enemies here to attack.",messageType:"action"};return{success:!1,message:"You are already in combat! Use combat actions instead.",messageType:"error"}}executeDefend(J){if(!J.combatState)return{success:!1,message:"You are not in combat.",messageType:"action"};return{success:!1,message:"Use the combat interface to defend.",messageType:"error"}}executeFlee(J){if(!J.combatState)return{success:!1,message:"You are not in combat.",messageType:"action"};return{success:!1,message:"Use the combat interface to flee.",messageType:"error"}}}class Kx{interactionSystem;interactiveElementSystem;llmNarrator;constructor(){this.interactionSystem=new zK,this.interactiveElementSystem=new ZF,this.llmNarrator=new j3}async executeLook(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z)return{success:!1,message:"You cannot see anything here.",messageType:"error"};let Q;try{Q=await this.llmNarrator.describeRoom(Z,J)}catch(K){console.error("LLM description failed:",K),Q="You find yourself in a mysterious location, though the details are unclear."}let Y=Array.from(Z.exits.keys()).map((K)=>K.toLowerCase()).join(", "),$=Y?`Exits: ${Y}.`:"There are no visible exits.",H=`${Q}

${$}`;if(Z.contents.enemies.length>0){let K=Z.contents.enemies.map((B)=>B.name).join(", ");H+=`

Enemies: ${K}.`}if(Z.contents.items.length>0){let K=Z.contents.items.map((B)=>B.name).join(", ");H+=`

Items: ${K}.`}if(Z.contents.features.length>0){let K=Z.contents.features.map((B)=>B.name).join(", ");H+=`

Features: ${K}.`}if(Z.hazards&&Z.hazards.length>0){let K=Z.hazards.map((B)=>B.name).join(", ");H+=`

Hazards: ${K}.`}if(Z.interactiveElements&&Z.interactiveElements.length>0){let K=Z.interactiveElements.map((B)=>B.name).join(", ");H+=`

Interactive: ${K}.`}return{success:!0,message:H,messageType:"description"}}executeSearch(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z)return{success:!1,message:"There is nothing to search here.",messageType:"error"};let Q=!1,Y="You search the room carefully.";for(let $ of Z.contents.features)if($.searchable&&!$.searched&&$.hidden_items){$.searched=!0,Q=!0;for(let K of $.hidden_items)Z.contents.items.push(K);let H=$.hidden_items.map((K)=>K.name).join(", ");Y+=`

You find hidden items in the ${$.name}: ${H}.`}if(Z.contents.searched=!0,!Q)Y+=`

You don't find anything new.`;return{success:!0,message:Y,messageType:"action"}}executeExamine(J,Z){if(!J)return{success:!1,message:"What do you want to examine?",messageType:"error"};let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q)return{success:!1,message:"There is nothing to examine here.",messageType:"error"};let Y=J.toLowerCase(),$=Q.contents.items.find((q)=>q.name.toLowerCase().includes(Y));if($)return{success:!0,message:$.description||`It's a ${$.name}.`,messageType:"description"};let H=Z.character.inventory.find((q)=>q.name.toLowerCase().includes(Y));if(H)return{success:!0,message:H.description||`It's your ${H.name}.`,messageType:"description"};let K=Q.contents.features.find((q)=>q.name.toLowerCase().includes(Y));if(K)return{success:!0,message:K.description,messageType:"description"};let B=Q.contents.enemies.find((q)=>q.name.toLowerCase().includes(Y));if(B){let q=B.hp.current===B.hp.max?"uninjured":B.hp.current>B.hp.max*0.5?"lightly wounded":B.hp.current>B.hp.max*0.25?"wounded":"heavily wounded";return{success:!0,message:`${B.description||`It's a ${B.name}.`} The ${B.name} appears ${q}.`,messageType:"description"}}return{success:!1,message:`You don't see a ${J} here.`,messageType:"action"}}executeUse(J,Z){if(!J)return{success:!1,message:"What do you want to use?",messageType:"error"};let Q=Z.character.inventory.find((Y)=>Y.name.toLowerCase().includes(J.toLowerCase()));if(!Q)return{success:!1,message:`You don't have a ${J}.`,messageType:"action"};return this.handleItemUse(Q,Z)}executePickLock(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q||!Q.lockedExits)return{success:!1,message:"There are no locks to pick here.",messageType:"action"};let $=Array.from(Q.lockedExits.values()).find((K)=>K.type.toLowerCase().includes(J.toLowerCase()));if(!$)return{success:!1,message:`You don't see a ${J} lock here.`,messageType:"action"};let H=this.interactionSystem.attemptLockPicking(Z.character,$);return{success:H.success,message:H.message,messageType:H.success?"action":"error"}}executeDetectTraps(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z||!Z.traps)return{success:!0,message:"You carefully search but find no traps.",messageType:"action"};let Q=!1,Y="You carefully search for traps.",$=[];for(let H of Z.traps)if(!H.detected){let K=this.interactionSystem.attemptTrapDetection(J.character,H);if($.push(K.message),K.success)Q=!0}if($.length>0)Y+=`
`+$.join(`
`);if(!Q&&$.length===0)Y+=" You find no traps.";return{success:!0,message:Y,messageType:"action"}}executeDisarmTrap(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q||!Q.traps)return{success:!1,message:"There are no traps here to disarm.",messageType:"action"};let Y=Q.traps.find((H)=>H.name.toLowerCase().includes(J.toLowerCase()));if(!Y)return{success:!1,message:`You don't see a ${J} trap here.`,messageType:"action"};let $=this.interactionSystem.attemptTrapDisarming(Z.character,Y);return{success:$.success,message:$.message,messageType:$.success?"action":"error"}}executeSolvePuzzle(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q||!Q.puzzles||Q.puzzles.length===0)return{success:!1,message:"There are no puzzles here to solve.",messageType:"action"};let Y=Q.puzzles.find((H)=>!H.solved);if(!Y)return{success:!1,message:"All puzzles here have been solved.",messageType:"action"};let $=this.interactionSystem.attemptPuzzle(Z.character,Y,J);return{success:$.success,message:$.message,messageType:$.success?"action":"error"}}executeActivate(J,Z){let Q=Z.dungeon.rooms.get(Z.currentRoomId);if(!Q||!Q.interactiveElements)return{success:!1,message:"There are no interactive elements here.",messageType:"action"};let Y=Q.interactiveElements.find((H)=>H.name.toLowerCase().includes(J.toLowerCase()));if(!Y)return{success:!1,message:`You don't see a ${J} to activate here.`,messageType:"action"};let $=this.interactiveElementSystem.activateInteractiveElement(Z.character,Y,Z);return{success:$.success,message:$.message,messageType:$.success?"action":"error"}}executePull(J,Z){return this.genericElementInteraction(J,Z,"pull")}executePush(J,Z){return this.genericElementInteraction(J,Z,"push")}executeTouch(J,Z){return this.genericElementInteraction(J,Z,"touch")}genericElementInteraction(J,Z,Q){let Y=Z.dungeon.rooms.get(Z.currentRoomId);if(!Y)return{success:!1,message:`Cannot ${Q} anything here.`,messageType:"error"};if(Y.interactiveElements){let H=Y.interactiveElements.find((K)=>K.name.toLowerCase().includes(J.toLowerCase()));if(H){let K=this.interactiveElementSystem.activateInteractiveElement(Z.character,H,Z);return{success:K.success,message:`You ${Q} the ${H.name}. ${K.message}`,messageType:K.success?"action":"error"}}}let $=Y.contents.features.find((H)=>H.name.toLowerCase().includes(J.toLowerCase()));if($)return{success:!0,message:`You ${Q} the ${$.name}. ${$.description}`,messageType:"action"};return{success:!1,message:`You don't see a ${J} to ${Q} here.`,messageType:"action"}}executeWait(J){return J.turnCount++,{success:!0,message:"You wait for a moment.",messageType:"action"}}executeRest(J){if(J.combatState)return{success:!1,message:"You cannot rest during combat!",messageType:"error"};let Z=J.dungeon.rooms.get(J.currentRoomId);if(Z&&Z.contents.enemies&&Z.contents.enemies.length>0)return{success:!1,message:"You cannot rest with enemies nearby!",messageType:"error"};let Q=J.character,Y=Math.floor(Q.hp.max*0.25),$=Math.min(Y,Q.hp.max-Q.hp.current);Q.hp.current+=$;let H="";if(Q.mana){let K=Math.floor(Q.mana.max*0.25),B=Math.min(K,Q.mana.max-Q.mana.current);Q.mana.current+=B,H=` You also restore ${B} mana.`}return J.turnCount++,{success:!0,message:`You rest and recover ${$} health.${H}`,messageType:"action"}}executeHelp(){return{success:!0,message:`Available Commands:

Movement: north, south, east, west (or n, s, e, w)
Actions: look, search, examine [target], get [item], drop [item]
Inventory: inventory, equip [item], unequip [item], use [item]
Combat: attack [target], defend, flee, cast [spell]
Interaction: activate [target], pull [target], push [target], touch [target]
Locks & Traps: pick lock [direction], detect traps, disarm trap [target]
Other: rest, wait, help

You can also use the mouse to click on UI elements and buttons for common actions.`,messageType:"system"}}handleItemUse(J,Z){switch(J.baseType){case"potion":return{success:!0,message:`You use the ${J.name}.`,messageType:"action"};case"treasure":return{success:!0,message:`You use the ${J.name}.`,messageType:"action"};default:return{success:!1,message:`You can't use the ${J.name} like that.`,messageType:"action"}}}}class Bx{movementProcessor;inventoryProcessor;combatProcessor;interactionProcessor;constructor(){this.movementProcessor=new $x,this.inventoryProcessor=new Hx,this.combatProcessor=new Wx,this.interactionProcessor=new Kx}parseCommand(J){let Z=J.toLowerCase().trim().split(/\s+/),Q=Z[0]||"",Y=Z.slice(1).join(" ");if(this.movementProcessor.isDirectionCommand(Q))return{action:"move",direction:this.movementProcessor.parseDirection(Q)};switch(Q){case"look":case"l":return{action:"look"};case"search":return{action:"search"};case"inventory":case"inv":case"i":return{action:"inventory"};case"get":case"take":return{action:"get",target:Y};case"drop":return{action:"drop",target:Y};case"examine":case"exam":case"x":return{action:"examine",target:Y};case"equip":case"wield":return{action:"equip",target:Y};case"unequip":case"unwield":return{action:"unequip",target:Y};case"use":return{action:"use",target:Y};case"attack":case"kill":case"fight":return{action:"attack",target:Y};case"defend":case"block":return{action:"defend"};case"flee":case"run":case"escape":return{action:"flee"};case"cast":case"spell":return{action:"cast",spellId:Y};case"pick":case"lockpick":if(Z[1]==="lock"||Z.includes("lock"))return{action:"pick_lock",target:Y};return{action:"get",target:Y};case"detect":if(Z[1]==="traps"||Z.includes("traps"))return{action:"detect_traps"};return{action:"search"};case"disarm":return{action:"disarm_trap",target:Y};case"solve":case"answer":return{action:"solve_puzzle",answer:Y};case"activate":if(Z.includes("lever")||Z.includes("switch")||Z.includes("altar")||Z.includes("fountain"))return{action:"activate",target:Y};return{action:"use",target:Y};case"pull":return{action:"pull",target:Y};case"push":return{action:"push",target:Y};case"touch":return{action:"touch",target:Y};case"wait":return{action:"wait"};case"rest":case"sleep":return{action:"rest"};case"help":case"?":return{action:"help"};default:throw Error(`Unknown command: ${Q}. Type 'help' for available commands.`)}}async executeCommand(J,Z){switch(J.action){case"move":return await this.movementProcessor.executeMove(J.direction,Z);case"look":return await this.interactionProcessor.executeLook(Z);case"search":return this.interactionProcessor.executeSearch(Z);case"examine":return this.interactionProcessor.executeExamine(J.target||"",Z);case"use":return this.interactionProcessor.executeUse(J.target||"",Z);case"pick_lock":return this.interactionProcessor.executePickLock(J.target||"",Z);case"detect_traps":return this.interactionProcessor.executeDetectTraps(Z);case"disarm_trap":return this.interactionProcessor.executeDisarmTrap(J.target||"",Z);case"solve_puzzle":return this.interactionProcessor.executeSolvePuzzle(J.answer||"",Z);case"activate":return this.interactionProcessor.executeActivate(J.target||"",Z);case"pull":return this.interactionProcessor.executePull(J.target||"",Z);case"push":return this.interactionProcessor.executePush(J.target||"",Z);case"touch":return this.interactionProcessor.executeTouch(J.target||"",Z);case"wait":return this.interactionProcessor.executeWait(Z);case"rest":return this.interactionProcessor.executeRest(Z);case"help":return this.interactionProcessor.executeHelp();case"inventory":return this.inventoryProcessor.executeInventory(Z);case"get":return this.inventoryProcessor.executeGet(J.target||"",Z);case"drop":return this.inventoryProcessor.executeDrop(J.target||"",Z);case"equip":return this.inventoryProcessor.executeEquip(J.target||"",Z);case"unequip":return this.inventoryProcessor.executeUnequip(J.target||"",Z);case"attack":return this.combatProcessor.executeAttack(J.target,Z);case"defend":return this.combatProcessor.executeDefend(Z);case"flee":return this.combatProcessor.executeFlee(Z);case"cast":return{success:!1,message:"Spell casting is handled by the magic system.",messageType:"error"};default:return{success:!1,message:`Command not implemented: ${J.action}`,messageType:"error"}}}}class qx{rng;constructor(J){this.rng=new IZ(J)}selectEnemyAction(J,Z,Q=[]){if(!J.enemy)return{action:"defend",reasoning:"No enemy data available",priority:0};let Y=this.evaluateTacticalSituation(J,Z),$=this.getAIProfile(J.enemy),H=this.generatePossibleActions(J,Z,Q,Y,$);return this.selectOptimalAction(H,$)}evaluateTacticalSituation(J,Z){let Q=Z.participants.find((K)=>K.type==="player"),Y=Z.participants.filter((K)=>K.type==="enemy"&&K.isActive&&K.id!==J.id),$=Ya(J)?J.enemy.hp.current/J.enemy.hp.max:0,H=Ga(Q)?Q.character.hp.current/Q.character.hp.max:0;return{enemyHealthPercentage:$,playerHealthPercentage:H,allyCount:Y.length,enemyCount:1,roundNumber:Z.round,canUseAbilities:[],inMeleeRange:!0,playerIsWounded:H<0.5,hasAdvantage:Y.length>0}}getAIProfile(J){let Z={goblin:{behaviorType:"cowardly",aggressiveness:0.6,selfPreservation:0.8,tacticalAwareness:0.4,abilityUsage:0.3,groupCoordination:0.7,environmentalAwareness:0.3},orc:{behaviorType:"berserker",aggressiveness:0.9,selfPreservation:0.2,tacticalAwareness:0.3,abilityUsage:0.4,groupCoordination:0.4,environmentalAwareness:0.2},skeleton:{behaviorType:"tactical",aggressiveness:0.7,selfPreservation:0.1,tacticalAwareness:0.8,abilityUsage:0.5,groupCoordination:0.9,environmentalAwareness:0.6},spider:{behaviorType:"pack_hunter",aggressiveness:0.6,selfPreservation:0.6,tacticalAwareness:0.7,abilityUsage:0.8,groupCoordination:0.5,environmentalAwareness:0.8},dragon:{behaviorType:"boss",aggressiveness:0.8,selfPreservation:0.7,tacticalAwareness:0.9,abilityUsage:0.9,groupCoordination:0.3,environmentalAwareness:0.9}},Q=J.type.toLowerCase();return Z[Q]||Z.goblin}generatePossibleActions(J,Z,Q,Y,$){let H=[],K=Z.participants.find((B)=>B.type==="player");if(K?.isActive)H.push({action:"attack",targetId:K.id,reasoning:"Direct attack on player",priority:$.aggressiveness*100});if(Y.enemyHealthPercentage<0.5)H.push({action:"defend",reasoning:"Low health, taking defensive stance",priority:$.selfPreservation*80});for(let B of Q)if(this.canUseAbility(B,Y,Z.round)){let q=this.calculateAbilityPriority(B,Y,$);H.push({action:"cast_spell",abilityId:B.id,targetId:this.selectAbilityTarget(B,Z),reasoning:`Use special ability: ${B.name}`,priority:q})}if($.behaviorType==="cowardly"&&Y.enemyHealthPercentage<0.3)H.push({action:"flee",reasoning:"Cowardly retreat due to low health",priority:$.selfPreservation*90});return H}canUseAbility(J,Z,Q){if(J.lastUsedRound&&Q-J.lastUsedRound<J.cooldown)return!1;if(J.conditions){for(let Y of J.conditions)if(!this.evaluateCondition(Y,Z))return!1}return!0}evaluateCondition(J,Z){let Q;switch(J.type){case"health_percentage":Q=Z.enemyHealthPercentage*100;break;case"ally_count":Q=Z.allyCount;break;case"enemy_count":Q=Z.enemyCount;break;case"round_number":Q=Z.roundNumber;break;default:return!0}let Y=typeof J.value==="number"?J.value:parseFloat(J.value);switch(J.comparison){case"less_than":return Q<Y;case"greater_than":return Q>Y;case"equals":return Q===Y;case"not_equals":return Q!==Y;default:return!0}}calculateAbilityPriority(J,Z,Q){let Y=J.priority;if(Z.enemyHealthPercentage<0.3&&J.effect.healing)Y+=50;if(Z.playerIsWounded&&J.effect.damage)Y+=30;return Y*=Q.abilityUsage,Y+=this.rng.nextInt(-10,10),Y}selectAbilityTarget(J,Z){switch(J.targetType){case"enemy":return Z.participants.find(($)=>$.type==="player")?.id;case"self":return;case"ally":let Y=Z.participants.filter(($)=>$.type==="enemy"&&$.isActive);return Y.length>0?this.rng.choose(Y).id:void 0;default:return}}selectOptimalAction(J,Z){if(J.length===0)return{action:"defend",reasoning:"No valid actions available",priority:0};J.sort((Y,$)=>$.priority-Y.priority);let Q=J.slice(0,Math.min(3,J.length));if(Z.behaviorType==="berserker"){let Y=Q.find(($)=>$.action==="attack");if(Y)return Y}if(Z.behaviorType==="tactical"&&Z.tacticalAwareness>0.7){let Y=Q.find(($)=>$.abilityId);if(Y&&this.rng.chance(0.7))return Y}return Q[0]||{action:"defend",reasoning:"No valid actions available",priority:0}}coordinateGroupActions(J,Z){let Q=new Map;if(J.length>1){let Y=Z.participants.find(($)=>$.type==="player");if(Y){let $=!0;for(let H of J)if(H.enemy){if(this.getAIProfile(H.enemy).groupCoordination>0.6&&$)Q.set(H.id,{action:"attack",targetId:Y.id,reasoning:"Group focus fire coordination",priority:100})}}}return Q}}class Ux{rng;aiBehavior;enemyAbilities;constructor(J){this.rng=new IZ(J),this.aiBehavior=new qx(J),this.enemyAbilities=ML.abilities}initiateCombat(J,Z,Q={}){let Y=[],$=this.rollInitiative(J.stats.dexterity);Y.push({id:"player",name:J.name,type:"player",character:J,initiative:$,isActive:J.hp.current>0,statusEffects:[]}),Z.forEach((K,B)=>{let q=this.rollInitiative(K.stats.dexterity);Y.push({id:`enemy-${B}`,name:K.name,type:"enemy",enemy:K,initiative:q,isActive:K.hp.current>0,statusEffects:[]})}),Y.sort((K,B)=>B.initiative-K.initiative);let H=Y.map((K)=>K.id);return{participants:Y,turnOrder:H,currentTurnIndex:0,round:1,playerActions:[],status:"active"}}processPlayerAction(J,Z,Q,Y){let $=this.getActivePlayer(J);if(!$?.character)throw Error("No active player found");let H=[];switch(Z){case"attack":if(!Q)throw Error("Attack requires a target");let K=J.participants.find((L)=>L.id===Q);if(!K?.enemy)throw Error("Invalid attack target");let B=this.performAttack($.character,K.enemy);if(H.push({type:"attack",actor:$.id,target:Q,damage:B.damage,description:B.description}),K.enemy.hp.current=Math.max(0,K.enemy.hp.current-B.damage),K.enemy.hp.current===0)K.isActive=!1;break;case"defend":this.applyDefendingStance($),H.push({type:"defend",actor:$.id,description:`${$.name} takes a defensive stance, gaining +2 AC until their next turn.`});break;case"flee":if(this.attemptFlee(J))J.status="fled",H.push({type:"flee",actor:$.id,description:`${$.name} successfully flees from combat!`});else H.push({type:"flee",actor:$.id,description:`${$.name} attempts to flee but fails!`});break;default:throw Error(`Combat action ${Z} not implemented`)}return J.playerActions.push(...H),H}processEnemyTurns(J){let Z=[],Q=J.participants.filter((Y)=>Y.type==="enemy"&&Y.isActive);for(let Y of Q){if(!Y.enemy)continue;let $=this.getEnemyAction(Y,J),H=this.executeEnemyAction(Y,$.action,J,$.targetId,$.abilityId);Z.push(...H)}return Z}processSingleEnemyTurn(J,Z){if(!J.enemy)return[];let Q=this.getEnemyAction(J,Z);return this.executeEnemyAction(J,Q.action,Z,Q.targetId,Q.abilityId)}checkCombatEnd(J){let Z=this.getActivePlayer(J),Q=J.participants.filter((Y)=>Y.type==="enemy"&&Y.isActive);if(!Z?.isActive||Z.character&&Z.character.hp.current<=0)return"defeat";if(Q.length===0)return"victory";return J.status}rollInitiative(J){let Z=Math.floor((J-10)/2);return z5.rollD20()+Z}performAttack(J,Z){let Q=J.level,Y=Math.floor((J.stats.strength-10)/2),$=Math.ceil(Q/4)+1,H=this.getWeaponDamage(J),K=`${H}+${Y}`,B=z5.rollD20(),q=Y+$,L=B+q,O=L>=Z.ac,z=B===20,F=0,V="";if(O)if(z)F=z5.parseDiceRoll(H)+z5.parseDiceRoll(H)+Y,V=`${H} + ${H} + ${Y} (critical)`;else F=z5.parseDiceRoll(K),V=K;let A=O?`${J.name} hits ${Z.name} for ${F} damage! (${L} vs AC ${Z.ac})`:`${J.name} misses ${Z.name}. (${L} vs AC ${Z.ac})`;return{hit:O,damage:F,critical:z,attackRoll:L,damageRoll:V,description:A}}getWeaponDamage(J){let Z=J.equipment.weapon;if(Z){let Q=Z.properties.find((Y)=>Y.type==="damage_bonus");if(Q)return`1d${Q.value}`}return"1d4"}applyDefendingStance(J){let Z={id:"defending",name:"Defending",description:"Taking defensive stance, +2 AC",duration:1,effects:{damageReduction:2}};J.statusEffects.push(Z)}attemptFlee(J){let Z=0.5,Q=this.getActivePlayer(J);if(Q?.character){let $=Math.floor((Q.character.stats.dexterity-10)/2);Z+=$*0.1}let Y=J.participants.filter(($)=>$.type==="enemy"&&$.isActive).length;return Z-=(Y-1)*0.1,Z=Math.max(0.1,Math.min(0.9,Z)),this.rng.chance(Z)}getEnemyAction(J,Z){if(!J.enemy)return{action:"defend"};let Q=this.getEnemyAbilities(J.enemy),Y=this.aiBehavior.selectEnemyAction(J,Z,Q);return{action:Y.action,targetId:Y.targetId,abilityId:Y.abilityId}}executeEnemyAction(J,Z,Q,Y,$){if(!J.enemy)return[];switch(Z){case"attack":return this.executeEnemyAttack(J,Q);case"special_ability":case"cast_spell":if($)return this.executeEnemyAbility(J,$,Q,Y);return[];case"defend":return this.executeEnemyDefend(J);case"flee":return this.executeEnemyFlee(J,Q);default:return[]}}executeEnemyAttack(J,Z){let Q=this.getActivePlayer(Z);if(!Q?.character||!J.enemy)return[];let Y=J.enemy.attacks||[],$=Y.length>0?this.rng.choose(Y):this.getDefaultAttack(),H=this.performEnemyAttack(J.enemy,$,Q.character);if(Q.character.hp.current=Math.max(0,Q.character.hp.current-H.damage),Q.character.hp.current===0)Q.isActive=!1;return[{type:"attack",actor:J.id,target:Q.id,damage:H.damage,description:H.description}]}performEnemyAttack(J,Z,Q){let Y=z5.rollD20()+Z.hitBonus,$=this.calculateAC(Q),H=Y>=$,K=Y-Z.hitBonus===20,B=0;if(H)if(Z.damageRoll==="0")B=0;else try{B=K?z5.parseDiceRoll(Z.damageRoll)*2:z5.parseDiceRoll(Z.damageRoll)}catch(L){console.warn(`Invalid damage roll for ${J.name}: ${Z.damageRoll}`,L),B=0}let q=H?`${J.name} ${Z.description} ${Q.name} for ${B} damage!`:`${J.name} ${Z.description} ${Q.name} but misses!`;return{hit:H,damage:B,critical:K,attackRoll:Y,damageRoll:Z.damageRoll,description:q}}getDefaultAttack(){return{name:"Claw",damageRoll:"1d4",hitBonus:2,description:"claws at"}}calculateAC(J){let Z=10+Math.floor((J.stats.dexterity-10)/2);if(J.equipment.armor){let Q=J.equipment.armor.properties.find((Y)=>Y.type==="ac_bonus");if(Q)Z+=Q.value}if(J.equipment.shield){let Q=J.equipment.shield.properties.find((Y)=>Y.type==="ac_bonus");if(Q)Z+=Q.value}return Z}getActivePlayer(J){return J.participants.find((Z)=>Z.type==="player")}getEnemyAbilities(J){if(J.abilities)return J.abilities;let Z=ML.enemyAbilityMappings,Q=J.type.toLowerCase();return(Z[Q]||[]).map(($)=>this.enemyAbilities[$]).filter(Boolean)}executeEnemyAbility(J,Z,Q,Y){let $=this.enemyAbilities[Z];if(!$||!J.enemy)return[];$.lastUsedRound=Q.round;let H=Y?Q.participants.find((B)=>B.id===Y):null,K=[];switch($.effect.type){case"damage":if(H?.character&&$.effect.damage)try{let q=z5.parseDiceRoll($.effect.damage);if(H.character.hp.current=Math.max(0,H.character.hp.current-q),H.character.hp.current===0)H.isActive=!1;K.push({type:"special_ability",actor:J.id,target:Y,damage:q,description:`${J.name} uses ${$.name}! ${$.effect.description}. ${q} damage dealt!`})}catch(q){K.push({type:"special_ability",actor:J.id,description:`${J.name} tries to use ${$.name} but it fails!`})}break;case"healing":if($.effect.healing)try{let q=z5.parseDiceRoll($.effect.healing);J.enemy.hp.current=Math.min(J.enemy.hp.max,J.enemy.hp.current+q),K.push({type:"special_ability",actor:J.id,healing:q,description:`${J.name} uses ${$.name}! ${$.effect.description}. Healed ${q} HP!`})}catch(q){K.push({type:"special_ability",actor:J.id,description:`${J.name} tries to use ${$.name} but it fails!`})}break;case"buff":case"debuff":let B=$.targetType==="self"?J:H||J;if($.effect.statusEffect)K.push({type:"special_ability",actor:J.id,target:B.id,description:`${J.name} uses ${$.name}! ${$.effect.description}`});break;default:K.push({type:"special_ability",actor:J.id,description:`${J.name} uses ${$.name}! ${$.effect.description}`})}return K}executeEnemyDefend(J){return this.applyDefendingStance(J),[{type:"defend",actor:J.id,description:`${J.name} takes a defensive stance.`}]}executeEnemyFlee(J,Z){return J.isActive=!1,[{type:"flee",actor:J.id,description:`${J.name} flees from combat!`}]}}var e_={wizard_spells:{magic_missile:{id:"magic_missile",name:"Magic Missile",description:"Fires 3 magical darts that automatically hit for 1d4+1 damage each",level:1,manaCost:1,school:"evocation",castingTime:"action",range:"120 feet",damage:"3d4+3",targetType:"single",effects:[{type:"damage",damageType:"force",value:"3d4+3",autoHit:!0}]},fireball:{id:"fireball",name:"Fireball",description:"Explodes in a burst of flame dealing 8d6 fire damage to all enemies",level:3,manaCost:3,school:"evocation",castingTime:"action",range:"150 feet",damage:"8d6",targetType:"area",effects:[{type:"damage",damageType:"fire",value:"8d6",saveType:"dexterity",saveDC:15}]},shield:{id:"shield",name:"Shield",description:"Grants +5 AC until the start of your next turn",level:1,manaCost:1,school:"abjuration",castingTime:"reaction",range:"self",duration:1,targetType:"self",effects:[{type:"ac_bonus",value:5,duration:1}]},mage_armor:{id:"mage_armor",name:"Mage Armor",description:"Sets base AC to 13 + Dex modifier for 8 hours",level:1,manaCost:1,school:"abjuration",castingTime:"action",range:"self",duration:480,targetType:"self",effects:[{type:"ac_base",value:13,duration:480}]},burning_hands:{id:"burning_hands",name:"Burning Hands",description:"Sprays fire in a cone, dealing 3d6 fire damage",level:1,manaCost:1,school:"evocation",castingTime:"action",range:"15 feet",damage:"3d6",targetType:"area",effects:[{type:"damage",damageType:"fire",value:"3d6",saveType:"dexterity",saveDC:13}]},detect_magic:{id:"detect_magic",name:"Detect Magic",description:"Reveals magical auras and hidden magical items in the area",level:1,manaCost:1,school:"divination",castingTime:"action",range:"self",duration:10,targetType:"self",ritual:!0,effects:[{type:"utility",effect:"detect_magic",duration:10}]}},cleric_spells:{heal:{id:"heal",name:"Heal",description:"Restores 1d8+wisdom modifier hit points",level:1,manaCost:1,school:"evocation",castingTime:"action",range:"touch",targetType:"single",effects:[{type:"healing",value:"1d8",scalingAttribute:"wisdom"}]},cure_wounds:{id:"cure_wounds",name:"Cure Wounds",description:"Heals 2d8+wisdom modifier hit points",level:2,manaCost:2,school:"evocation",castingTime:"action",range:"touch",targetType:"single",effects:[{type:"healing",value:"2d8",scalingAttribute:"wisdom"}]},turn_undead:{id:"turn_undead",name:"Turn Undead",description:"Forces undead creatures to flee for 1 minute",level:1,manaCost:1,school:"enchantment",castingTime:"action",range:"30 feet",duration:10,targetType:"area",effects:[{type:"fear",target:"undead",duration:10,saveType:"wisdom",saveDC:13}]},bless:{id:"bless",name:"Bless",description:"Grants +1d4 to attack rolls and saving throws for 10 minutes",level:1,manaCost:1,school:"enchantment",castingTime:"action",range:"30 feet",duration:600,targetType:"single",effects:[{type:"attack_bonus",value:"1d4",duration:600},{type:"save_bonus",value:"1d4",duration:600}]},sanctuary:{id:"sanctuary",name:"Sanctuary",description:"Protects a creature from attacks until they attack or cast a spell",level:1,manaCost:1,school:"abjuration",castingTime:"bonus_action",range:"30 feet",duration:60,targetType:"single",effects:[{type:"sanctuary",duration:60,saveType:"wisdom",saveDC:13}]},spiritual_weapon:{id:"spiritual_weapon",name:"Spiritual Weapon",description:"Creates a floating weapon that attacks for 1d8+wisdom force damage",level:2,manaCost:2,school:"evocation",castingTime:"bonus_action",range:"60 feet",duration:60,targetType:"utility",effects:[{type:"summon",summonType:"spiritual_weapon",duration:60,damage:"1d8",scalingAttribute:"wisdom"}]}},spell_schools:{evocation:{name:"Evocation",description:"Magic that manipulates energy or taps an unseen source of power"},abjuration:{name:"Abjuration",description:"Protective spells that block, banish, or guard"},enchantment:{name:"Enchantment",description:"Magic that affects minds, influencing or controlling behavior"},divination:{name:"Divination",description:"Magic that reveals information, whether secrets long forgotten or truths never before spoken"}},starting_spells:{wizard:["magic_missile","shield","burning_hands"],cleric:["heal","bless","turn_undead"]}};class Lx{spells;constructor(){this.spells=this.loadSpells()}loadSpells(){let J={};return Object.values(e_.wizard_spells).forEach((Z)=>{J[Z.id]=Z}),Object.values(e_.cleric_spells).forEach((Z)=>{J[Z.id]=Z}),J}canCastSpell(J,Z){let Q=this.spells[Z];if(!Q)return{canCast:!1,reason:"Unknown spell"};if(!this.getSpellcastingInfo(J).knownSpells.includes(Z))return{canCast:!1,reason:"Spell not known"};if(!J.mana||J.mana.current<Q.manaCost)return{canCast:!1,reason:"Not enough mana"};return{canCast:!0}}castSpell(J,Z,Q,Y){let $=this.canCastSpell(J,Z);if(!$.canCast)return{success:!1,message:$.reason||"Cannot cast spell",effectsApplied:[],manaCost:0};let H=this.spells[Z];if(!H)return{success:!1,message:"Unknown spell",effectsApplied:[],manaCost:0};let K=this.getSpellcastingInfo(J);if(J.mana)J.mana.current-=H.manaCost;let B=this.processSpellEffects(J,H,Q,Y,K);return{success:!0,message:`${J.name} casts ${H.name}! ${B.message}`,damage:B.damage,healing:B.healing,effectsApplied:B.effectsApplied,manaCost:H.manaCost}}processSpellEffects(J,Z,Q,Y,$){let H=0,K=0,B=[],q=[];for(let L of Z.effects)switch(L.type){case"damage":let O=this.calculateDamage(L,J,$);if(H+=O,Q&&Q.length>0)Q.forEach((F)=>{if("hp"in F){let V=this.applyDamage(F,O,L);q.push(`${F.name} takes ${V} ${L.damageType||"magical"} damage`)}});break;case"healing":let z=this.calculateHealing(L,J,$);if(K+=z,Q&&Q.length>0)Q.forEach((F)=>{if("hp"in F){let V=this.applyHealing(F,z);q.push(`${F.name} recovers ${V} hit points`)}});break;case"ac_bonus":case"ac_base":case"attack_bonus":case"save_bonus":if(L.duration&&L.duration>0){let F={spellId:Z.id,casterName:J.name,targetId:Y?.[0],remainingDuration:L.duration,effects:[L]};B.push(F),q.push(`${L.type.replace("_"," ")} effect applied`)}break;case"utility":q.push(this.processUtilityEffect(L,J,Q));break;default:q.push(`${L.type} effect applied`);break}return{success:!0,message:q.join(". "),damage:H,healing:K,effectsApplied:B,manaCost:Z.manaCost}}calculateDamage(J,Z,Q){let Y=0;if(J.value)if(typeof J.value==="string")Y=z5.parseDiceRoll(J.value);else Y=J.value;if(J.scalingAttribute&&Q){let $=Z.stats[J.scalingAttribute],H=Math.floor(($-10)/2);Y+=H}return Math.max(0,Y)}calculateHealing(J,Z,Q){let Y=0;if(J.value)if(typeof J.value==="string")Y=z5.parseDiceRoll(J.value);else Y=J.value;if(J.scalingAttribute&&Q){let $=Z.stats[J.scalingAttribute],H=Math.floor(($-10)/2);Y+=H}return Math.max(1,Y)}applyDamage(J,Z,Q){let Y=Math.min(Z,J.hp.current);return J.hp.current-=Y,Y}applyHealing(J,Z){let Q=Math.min(Z,J.hp.max-J.hp.current);return J.hp.current+=Q,Q}processUtilityEffect(J,Z,Q){switch(J.effect){case"detect_magic":return"You sense magical auras in the area";default:return`${J.effect} activated`}}getSpellcastingInfo(J){let Z=J.class==="Wizard"?"intelligence":"wisdom",Q=J.stats[Z],Y=Math.floor((Q-10)/2),$=Math.ceil(J.level/4)+1;return{knownSpells:this.getKnownSpells(J),spellcastingAbility:Z,spellSaveDC:8+Y+$,spellAttackBonus:Y+$}}getKnownSpells(J){let Z=e_.starting_spells;if(J.class==="Wizard")return Z.wizard||[];else if(J.class==="Cleric")return Z.cleric||[];return[]}getSpell(J){return this.spells[J]}getAllSpells(){return Object.values(this.spells)}getSpellsForClass(J){return this.getKnownSpells({class:J}).map((Q)=>this.spells[Q]).filter((Q)=>Q!==void 0)}restoreMana(J,Z){if(!J.mana)return 0;let Q=Z||J.mana.max,Y=Math.min(Q,J.mana.max-J.mana.current);return J.mana.current+=Y,Y}}class Ox{processStatusEffects(J){if(!J.statusEffects||J.statusEffects.length===0)return null;let Z=[],Q=0;if(J.statusEffects=J.statusEffects.filter((Y)=>{switch(Q++,Y.duration--,Y.type){case"blessed":if(Y.duration===0)return Z.push("\uD83C\uDF1F Your blessing fades away."),!1;break;case"cursed":if(Y.duration===0)return Z.push("\uD83D\uDE08 The curse lifts from you."),!1;break;case"exhausted":if(Y.duration===0)return Z.push("\uD83D\uDCAA You feel refreshed as your exhaustion fades."),!1;break;case"energized":if(Y.duration===0)Z.push("⚡ Your energy boost wears off.");else if(J.mana&&J.mana.current<J.mana.max){let $=Math.min(1,J.mana.max-J.mana.current);if(J.mana.current+=$,$>0)Z.push(`⚡ Your energized state restores ${$} mana.`)}return Y.duration>0;case"blinded":if(Y.duration===0)return Z.push("\uD83D\uDC41️ Your vision clears."),!1;break;case"slowed":if(Y.duration===0)return Z.push("\uD83C\uDFC3 You can move at normal speed again."),!1;break;case"protected":if(Y.duration===0)return Z.push("\uD83D\uDEE1️ Your protective ward dissipates."),!1;break}return Y.duration>0}),Z.length===0)return null;return{success:!0,message:Z.join(" "),effectsRemoved:Q-J.statusEffects.length}}addStatusEffect(J,Z){if(!J.statusEffects)J.statusEffects=[];let Q=J.statusEffects.find((Y)=>Y.type===Z.type);if(Q){if(Z.duration>Q.duration)Q.duration=Z.duration}else J.statusEffects.push({...Z})}removeStatusEffect(J,Z){if(!J.statusEffects)return!1;let Q=J.statusEffects.length;return J.statusEffects=J.statusEffects.filter((Y)=>Y.type!==Z),J.statusEffects.length<Q}hasStatusEffect(J,Z){return J.statusEffects?.some((Q)=>Q.type===Z)||!1}getActiveEffects(J){return J.statusEffects||[]}clearAllEffects(J){let Z=J.statusEffects?.length||0;return J.statusEffects=[],Z}getStatModifier(J,Z){if(!J.statusEffects)return 0;let Q=0;for(let Y of J.statusEffects)switch(Y.type){case"blessed":Q+=2;break;case"cursed":Q-=2;break;case"exhausted":if(Z==="strength"||Z==="dexterity")Q-=3;break;case"energized":if(Z==="intelligence"||Z==="charisma")Q+=2;break}return Q}canPerformAction(J,Z){if(!J.statusEffects)return!0;for(let Q of J.statusEffects)switch(Q.type){case"blinded":if(Z==="ranged_attack"||Z==="cast_spell")return!1;break;case"slowed":if(Z==="movement")return!1;break;case"exhausted":if(Z==="run"||Z==="sprint")return!1;break}return!0}}var NK={MAX_SAVE_SLOTS:5,SAVE_VERSION:"1.0.0",STORAGE_KEY_PREFIX:"dungeon_crawler_save_",AUTO_SAVE_SLOT:0,COMPRESSION_ENABLED:!1,BACKUP_ENABLED:!1};class zx{storageKeyPrefix;maxSaveSlots;constructor(){this.storageKeyPrefix=NK.STORAGE_KEY_PREFIX,this.maxSaveSlots=NK.MAX_SAVE_SLOTS}async saveGame(J,Z,Q){try{if(Z<0||Z>=this.maxSaveSlots)return{result:"invalid_data",message:`Invalid save slot: ${Z}. Must be between 0 and ${this.maxSaveSlots-1}.`};if(!this.isStorageAvailable())return{result:"storage_full",message:"Local storage is not available or full."};if(J.combatState)console.warn("Attempting to save game state with active combat - this may cause issues");let Y=this.createSaveData(J,Z,Q),$=this.getSaveKey(Z),H=JSON.stringify(Y);return localStorage.setItem($,H),this.updateSaveSlotIndex(),{result:"success",message:`Game saved successfully to slot ${Z}.`,saveData:Y}}catch(Y){return console.error("Save operation failed:",Y),{result:"unknown",message:`Failed to save game: ${Y instanceof Error?Y.message:"Unknown error"}`}}}async loadGame(J){try{if(J<0||J>=this.maxSaveSlots)return{result:"not_found",message:`Invalid save slot: ${J}.`};let Z=this.getSaveKey(J),Q=localStorage.getItem(Z);if(!Q)return{result:"not_found",message:`No save data found in slot ${J}.`};let Y=JSON.parse(Q),$=this.validateSaveData(Y);if($!=="success")return{result:$,message:this.getValidationErrorMessage($)};let H=this.deserializeGameState(Y.gameState);return{result:"success",message:`Game loaded successfully from slot ${J}.`,gameState:H,saveData:Y}}catch(Z){return console.error("Load operation failed:",Z),{result:"corrupted",message:`Failed to load game: ${Z instanceof Error?Z.message:"Corrupted save data"}`}}}getSaveSlots(){let J=[];for(let Z=0;Z<this.maxSaveSlots;Z++){let Q=this.getSaveKey(Z),Y=localStorage.getItem(Q);if(Y)try{let $=JSON.parse(Y);J.push({id:Z,isEmpty:!1,saveData:$,metadata:$.metadata})}catch{J.push({id:Z,isEmpty:!0})}else J.push({id:Z,isEmpty:!0})}return J}deleteSave(J){try{if(J<0||J>=this.maxSaveSlots)return!1;let Z=this.getSaveKey(J);return localStorage.removeItem(Z),this.updateSaveSlotIndex(),!0}catch{return!1}}async autoSave(J){return this.saveGame(J,NK.AUTO_SAVE_SLOT,"Auto Save")}clearAllSaves(){try{for(let J=0;J<this.maxSaveSlots;J++){let Z=this.getSaveKey(J);localStorage.removeItem(Z)}return!0}catch{return!1}}hasAutoSave(){let J=this.getSaveKey(NK.AUTO_SAVE_SLOT);return localStorage.getItem(J)!==null}getMostRecentSave(){let J=this.getSaveSlots(),Z=null,Q=0;for(let Y of J)if(!Y.isEmpty&&Y.saveData&&Y.saveData.timestamp>Q)Q=Y.saveData.timestamp,Z={slotId:Y.id,saveData:Y.saveData};return Z}async loadMostRecentSave(){let J=this.getMostRecentSave();if(J)return await this.loadGame(J.slotId);else return{result:"not_found",message:"No saves found to load."}}createSaveData(J,Z,Q){let Y=Date.now(),$=this.calculatePlayTime(J),H={characterName:Q||J.character.name,characterClass:J.character.class,level:J.character.level,currentRoom:J.currentRoomId,playTime:$,dungeonSeed:J.dungeon.seed,lastSaved:Y,saveSlot:Z};return{id:`save_${Z}_${Y}`,version:NK.SAVE_VERSION,metadata:H,gameState:this.serializeGameState(J),timestamp:Y}}serializeGameState(J){return{character:J.character,dungeon:this.serializeDungeon(J.dungeon),currentRoomId:J.currentRoomId,combatState:J.combatState,messageLog:J.messageLog,turnCount:J.turnCount,playTimeStart:Date.now()}}serializeDungeon(J){let Z=Array.from(J.rooms.entries()).map(([Q,Y])=>[Q,this.serializeRoom(Y)]);return{id:J.id,seed:J.seed,rooms:Z,entranceRoomId:J.entranceRoomId}}deserializeGameState(J){return{character:J.character,dungeon:this.deserializeDungeon(J.dungeon),currentRoomId:J.currentRoomId,combatState:J.combatState,messageLog:J.messageLog,turnCount:J.turnCount}}deserializeDungeon(J){let Z=new Map(J.rooms.map(([Q,Y])=>[Q,this.deserializeRoom(Y)]));return{id:J.id,seed:J.seed,rooms:Z,entranceRoomId:J.entranceRoomId}}serializeRoom(J){let Z={...J};if(J.exits&&J.exits instanceof Map)Z.exits=Array.from(J.exits.entries());if(J.lockedExits&&J.lockedExits instanceof Map)Z.lockedExits=Array.from(J.lockedExits.entries());return Z}deserializeRoom(J){let Z={...J};try{if(Array.isArray(J.exits))Z.exits=new Map(J.exits);else if(J.exits&&typeof J.exits==="object")Z.exits=new Map(Object.entries(J.exits));else Z.exits=new Map}catch(Q){console.warn("Failed to deserialize room exits, creating empty Map:",Q),Z.exits=new Map}try{if(Array.isArray(J.lockedExits))Z.lockedExits=new Map(J.lockedExits);else if(J.lockedExits&&typeof J.lockedExits==="object")Z.lockedExits=new Map(Object.entries(J.lockedExits))}catch(Q){console.warn("Failed to deserialize room lockedExits:",Q)}return Z}validateSaveData(J){if(!J||typeof J!=="object")return"corrupted";if(J.version!==NK.SAVE_VERSION)return"version_mismatch";if(!J.metadata||!J.gameState||!J.timestamp)return"corrupted";return"success"}calculatePlayTime(J){return J.turnCount*30000}getSaveKey(J){return`${this.storageKeyPrefix}${J}`}isStorageAvailable(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch{return!1}}updateSaveSlotIndex(){}getValidationErrorMessage(J){switch(J){case"corrupted":return"Save data is corrupted or invalid.";case"version_mismatch":return"Save data is from an incompatible version.";case"not_found":return"Save data not found.";default:return"Unknown error occurred while validating save data."}}}class Nx{saveSystem;lastAutoSaveTurn=0;AUTOSAVE_INTERVAL=10;constructor(J){this.saveSystem=J}shouldAutoSave(J){return J.turnCount-this.lastAutoSaveTurn>=this.AUTOSAVE_INTERVAL}async performPeriodicAutoSave(J){if(!this.shouldAutoSave(J))return;this.lastAutoSaveTurn=J.turnCount,await this.triggerAutoSave(J,`periodic save after ${J.turnCount} turns`)}async autoSaveOnRoomMovement(J,Z){if(Z.includes("You enter")||Z.includes("You go"))await this.triggerAutoSave(J,"room movement")}async autoSaveOnCombatEvent(J,Z){let Q=Z==="victory"?"combat victory":"combat defeat - player respawned";await this.triggerAutoSave(J,Q)}async autoSaveOnLevelUp(J,Z){await this.triggerAutoSave(J,`level up to ${Z}`)}async directAutoSave(J){return await this.saveSystem.autoSave(J)}async triggerAutoSave(J,Z){try{let Q=await this.saveSystem.autoSave(J);if(Q.result==="success")console.log(`Auto-save successful: ${Z}`);else console.warn(`Auto-save failed: ${Q.message}`)}catch(Q){console.error(`Auto-save error: ${Q instanceof Error?Q.message:"Unknown error"}`)}}}class Fx{dungeonGenerator;commandProcessor;combatSystem;magicSystem;interactionSystem;hazardSystem;statusEffectSystem;saveSystem;autoSaveService;rng;llmNarrator;constructor(){this.rng=new IZ,this.dungeonGenerator=new Gx(this.rng),this.commandProcessor=new Bx,this.combatSystem=new Ux,this.magicSystem=new Lx,this.interactionSystem=new zK,this.hazardSystem=new JF,this.statusEffectSystem=new Ox,this.saveSystem=new zx,this.autoSaveService=new Nx(this.saveSystem),this.llmNarrator=new j3}getMagicSystem(){return this.magicSystem}getCurrentModelId(){return this.llmNarrator.getCurrentModelId()}getAvailableModels(){return j3.getAvailableModels()}async switchModel(J){await this.llmNarrator.switchModel(J)}async saveGame(J,Z,Q){let Y=await this.saveSystem.saveGame(J,Z,Q);if(Y.result==="success"&&Z!==0)await this.saveSystem.autoSave(J);return Y}async loadGame(J){return await this.saveSystem.loadGame(J)}async autoSave(J){return await this.autoSaveService.directAutoSave(J)}getSaveSlots(){return this.saveSystem.getSaveSlots()}deleteSave(J){return this.saveSystem.deleteSave(J)}hasAutoSave(){return this.saveSystem.hasAutoSave()}clearAllSaves(){return this.saveSystem.clearAllSaves()}getMostRecentSave(){return this.saveSystem.getMostRecentSave()}async loadMostRecentSave(){return await this.saveSystem.loadMostRecentSave()}async startNewGame(J){let Z=J||this.createDefaultCharacter();this.initializeCharacterAbilities(Z);let Q=this.dungeonGenerator.generateDungeon(),Y={character:Z,dungeon:Q,currentRoomId:Q.entranceRoomId,messageLog:[],turnCount:0};return this.addMessage(Y,`Welcome to the Dungeon Crawler, ${Z.name}!`,"system"),this.addMessage(Y,"Type 'help' for available commands.","system"),await this.lookAtCurrentRoom(Y),Y}async processCombatAction(J,Z,Q){if(!Z.combatState)throw Error("No active combat state");let Y=this.createGameStateCopy(Z),$=Y.combatState;if(!$)throw Error("Combat state is undefined");try{let H=this.combatSystem.processPlayerAction($,J,Q);for(let B of H)this.addMessage(Y,B.description,"combat");let K=this.combatSystem.checkCombatEnd($);if(K!=="active")return this.handleCombatEnd(Y,K),Y;if($.currentTurnIndex=($.currentTurnIndex+1)%$.turnOrder.length,$.currentTurnIndex===0)$.round++;while($.currentTurnIndex<$.turnOrder.length){let B=$.turnOrder[$.currentTurnIndex],q=$.participants.find((O)=>O.id===B);if(q?.type==="player")break;if(q?.type==="enemy"&&q.isActive){let O=this.combatSystem.processSingleEnemyTurn(q,$);for(let z of O)this.addMessage(Y,z.description,"combat")}if($.currentTurnIndex=($.currentTurnIndex+1)%$.turnOrder.length,$.currentTurnIndex===0)$.round++;let L=this.combatSystem.checkCombatEnd($);if(L!=="active")return this.handleCombatEnd(Y,L),Y}if(Y.combatState)this.autoSave(Y);return Y}catch(H){return this.addMessage(Y,`Combat error: ${H instanceof Error?H.message:"Unknown error"}`,"error"),Y}}handleCombatEnd(J,Z){switch(Z){case"victory":this.addMessage(J,"\uD83C\uDF89 Victory! You have defeated all enemies!","system"),this.handleCombatVictory(J);break;case"defeat":this.addMessage(J,"\uD83D\uDC80 You have been defeated...","system"),this.handleCombatDefeat(J);break;case"fled":this.addMessage(J,"\uD83C\uDFC3 You successfully fled from combat.","system");break}J.combatState=void 0;let Q=J.dungeon.rooms.get(J.currentRoomId);if(Q&&Z==="victory")Q.contents.enemies=[];if(Z==="victory")this.autoSaveService.autoSaveOnCombatEvent(J,"victory");else if(Z==="defeat")this.autoSaveService.autoSaveOnCombatEvent(J,"defeat")}handleCombatVictory(J){J.character.experience+=50;let Q=tn(J.character.experience,J.character.level);this.addMessage(J,`You gained 50 experience points! (${Q} XP to next level)`,"system");let Y=Math.floor(J.character.experience/100)+1;if(Y>J.character.level){J.character.level=Y;let $=5;J.character.hp.max+=$,J.character.hp.current+=$,this.addMessage(J,`\uD83C\uDF8A Level up! You are now level ${Y}! (+${$} HP)`,"system"),this.autoSaveService.autoSaveOnLevelUp(J,Y)}}handleCombatDefeat(J){J.character.hp.current=1,J.currentRoomId=J.dungeon.entranceRoomId,this.addMessage(J,"You awaken back at the dungeon entrance, barely alive...","system")}checkForCombat(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z||Z.contents.enemies.length===0)return;J.combatState=this.combatSystem.initiateCombat(J.character,Z.contents.enemies),this.addMessage(J,"⚔️ Combat begins!","combat");let Q=Z.contents.enemies.map((Y)=>Y.name);this.addMessage(J,`You face: ${Q.join(", ")}`,"combat"),this.processEnemyTurnsUntilPlayer(J)}checkForTraps(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z||!Z.traps)return;let Q=this.interactionSystem.checkTrapTriggers(J.character,Z);for(let Y of Q){if(this.addMessage(J,Y.message,"error"),Y.damage)this.addMessage(J,`You take ${Y.damage} damage!`,"error");if(Y.effectApplied)this.addMessage(J,`You are ${Y.effectApplied}!`,"error")}}async castSpell(J,Z,Q){let Y=this.createGameStateCopy(Z);try{let $=[];if(Y.combatState)$=Y.combatState.participants.filter((B)=>B.type==="enemy"&&B.isActive).map((B)=>B.enemy).filter(Boolean);let H=this.magicSystem.castSpell(Y.character,J,$,Q);if(H.success){if(this.addMessage(Y,H.message,"combat"),Y.combatState&&H.damage&&H.damage>0)Y.combatState.participants.forEach((K)=>{if(K.type==="enemy"&&K.enemy){if(K.enemy.hp.current<=0)K.isActive=!1}})}else this.addMessage(Y,H.message,"error");return Y}catch($){return this.addMessage(Y,`Spell casting failed: ${$ instanceof Error?$.message:"Unknown error"}`,"error"),Y}}processEnemyTurnsUntilPlayer(J){let Z=J.combatState;if(!Z)return;while(!0){let Q=Z.turnOrder[Z.currentTurnIndex],Y=Z.participants.find((H)=>H.id===Q);if(Y?.type==="player")return;if(Y?.type==="enemy"&&Y.isActive){let H=this.combatSystem.executeEnemyAction(Y,"attack",Z);for(let K of H)this.addMessage(J,K.description,"combat")}if(Z.currentTurnIndex=(Z.currentTurnIndex+1)%Z.turnOrder.length,Z.currentTurnIndex===0)Z.round++;let $=this.combatSystem.checkCombatEnd(Z);if($!=="active"){this.handleCombatEnd(J,$);return}}}async processCommand(J,Z){try{let Q=this.commandProcessor.parseCommand(J),Y=this.createGameStateCopy(Z),$=await this.commandProcessor.executeCommand(Q,Y);if($.success){if(Y.turnCount++,$.message)this.addMessage(Y,$.message,$.messageType||"action");if(this.processEnvironmentalEffects(Y),this.checkForTraps(Y),this.checkForCombat(Y),this.autoSaveService.performPeriodicAutoSave(Y),$.message)this.autoSaveService.autoSaveOnRoomMovement(Y,$.message)}else this.addMessage(Y,$.message||"Command failed.","error");return Y}catch(Q){let Y=this.createGameStateCopy(Z);return this.addMessage(Y,`Error: ${Q instanceof Error?Q.message:"Unknown error"}`,"error"),Y}}createDefaultCharacter(){let J={strength:14,dexterity:13,constitution:15,intelligence:12,wisdom:14,charisma:10},Z=this.calculateHitPoints(J.constitution,1);return{name:"Adventurer",class:"Fighter",level:1,stats:J,hp:{current:Z,max:Z},equipment:{},inventory:[],experience:0,classAbilities:[]}}initializeCharacterAbilities(J){let Z=tk[J.class]||[];if(J.classAbilities=Z.filter((Q)=>J.level>=Q.levelRequired).map((Q)=>Q.id),J.class==="Wizard"||J.class==="Cleric"){let Q=J.class==="Wizard"?J.stats.intelligence:J.stats.wisdom,Y=Math.floor((Q-10)/2),$=Math.max(1,1+Y+J.level);J.mana={current:$,max:$}}}calculateHitPoints(J,Z){let Q=Math.floor((J-10)/2),Y=10+Q,$=(Z-1)*(5+Q);return Math.max(1,Y+$)}async lookAtCurrentRoom(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z){this.addMessage(J,"You are in an unknown location.","error");return}let Q;try{Q=await this.llmNarrator.describeRoom(Z,J)}catch($){console.error("LLM description failed:",$),Q="You find yourself in a mysterious location, though the details are unclear."}let Y=Array.from(Z.exits.keys());if(Y.length>0){let $=Y.map((H)=>{let K=Z.lockedExits?.get(H);if(K&&!K.unlocked)return`${H} (locked)`;return H});Q+=`

Exits: ${$.join(", ")}`}if(Z.traps&&Z.traps.some(($)=>$.detected&&!$.disarmed)){let $=Z.traps.filter((H)=>H.detected&&!H.disarmed).map((H)=>H.name);Q+=`

⚠️ Traps: ${$.join(", ")}`}if(Z.puzzles&&Z.puzzles.some(($)=>!$.solved)){let $=Z.puzzles.filter((H)=>!H.solved).map((H)=>H.name);Q+=`

\uD83E\uDDE9 Puzzles: ${$.join(", ")}`}if(Z.contents.items.length>0){let $=Z.contents.items.map((H)=>H.name);Q+=`

You see: ${$.join(", ")}`}if(Z.contents.enemies.length>0){let $=Z.contents.enemies.map((H)=>H.name);Q+=`

Enemies: ${$.join(", ")}`}Z.visited=!0,this.addMessage(J,Q,"description")}processEnvironmentalEffects(J){let Z=J.dungeon.rooms.get(J.currentRoomId);if(!Z)return;if(Z.hazards&&Z.hazards.length>0){let Y=this.hazardSystem.processRoomHazards(J.character,Z).map(($)=>({success:$.success,message:$.message,damage:$.damage,statusEffects:$.statusEffects}));for(let $ of Y)this.addMessage(J,$.message,"system")}if(J.character.statusEffects){let Q=this.statusEffectSystem.processStatusEffects(J.character);if(Q)this.addMessage(J,Q.message,"system")}}createGameStateCopy(J){return{...J,messageLog:[...J.messageLog],character:{...J.character,hp:{...J.character.hp},mana:J.character.mana?{...J.character.mana}:void 0,stats:{...J.character.stats},equipment:{...J.character.equipment,weapon:J.character.equipment.weapon?{...J.character.equipment.weapon}:void 0,armor:J.character.equipment.armor?{...J.character.equipment.armor}:void 0,shield:J.character.equipment.shield?{...J.character.equipment.shield}:void 0},inventory:[...J.character.inventory],statusEffects:J.character.statusEffects?[...J.character.statusEffects]:[]},dungeon:{...J.dungeon,rooms:new Map(Array.from(J.dungeon.rooms,([Z,Q])=>[Z,{...Q,contents:{...Q.contents,enemies:[...Q.contents.enemies],items:[...Q.contents.items],features:[...Q.contents.features]},exits:new Map(Q.exits),lockedExits:Q.lockedExits?new Map(Q.lockedExits):void 0,traps:Q.traps?[...Q.traps]:void 0,puzzles:Q.puzzles?[...Q.puzzles]:void 0,hazards:Q.hazards?[...Q.hazards]:void 0,interactiveElements:Q.interactiveElements?[...Q.interactiveElements]:void 0}]))},combatState:J.combatState?{...J.combatState,participants:J.combatState.participants.map((Z)=>({...Z,character:Z.character?{...Z.character}:void 0,enemy:Z.enemy?{...Z.enemy}:void 0})),turnOrder:[...J.combatState.turnOrder]}:void 0}}addMessage(J,Z,Q){let Y={id:`${Date.now()}-${Math.random()}`,text:Z,timestamp:Date.now(),type:Q};if(J.messageLog.push(Y),J.messageLog.length>100)J.messageLog=J.messageLog.slice(-100)}}var QF=e(x2(),1);function Ax(){let[J]=jZ.useState(()=>new Fx),[Z,Q]=jZ.useState(null),[Y,$]=jZ.useState(!0),[H,K]=jZ.useState(!1),[B,q]=jZ.useState(!1),[L,O]=jZ.useState("tinyllama-1.1b"),[z,F]=jZ.useState(!1);jZ.useEffect(()=>{let w=async()=>{try{if(K(!0),J.getMostRecentSave()){let I=await J.loadMostRecentSave();if(I.result==="success"&&I.gameState)Q(I.gameState),$(!1);else console.warn("Failed to load most recent save:",I.message),$(!0)}else $(!0)}catch(C){console.error("Error checking for existing saves:",C),$(!0)}finally{K(!1),q(!0)}};if(!B)w()},[J,B]),jZ.useEffect(()=>{let w=localStorage.getItem("dungeonCrawler_selectedModel");if(w&&(w==="tinyllama-1.1b"||w==="qwen-0.5b"))O(w)},[]);let V=async(w)=>{K(!0),$(!1);try{let C=await J.startNewGame(w);Q(C)}catch(C){console.error("Failed to initialize game:",C)}finally{K(!1)}},A=async(w)=>{if(!Z)return;try{let C=await J.processCommand(w,Z);Q(C)}catch(C){console.error("Failed to process command:",C)}},M=async(w,C)=>{if(!Z)return;try{let I=await J.processCombatAction(w,Z,C);Q(I)}catch(I){console.error("Failed to process combat action:",I)}},j=async(w,C)=>{if(!Z)return;try{let I=await J.castSpell(w,Z,C);Q(I)}catch(I){console.error("Failed to cast spell:",I)}};if(!B||H)return QF.jsxDEV("div",{children:"Loading game..."},void 0,!1,void 0,this);if(Y)return QF.jsxDEV(Ma,{onCharacterCreated:V},void 0,!1,void 0,this);if(!Z)return QF.jsxDEV("div",{children:"Failed to load game"},void 0,!1,void 0,this);return QF.jsxDEV(Aa,{gameState:Z,gameEngine:J,selectedModelId:L,isModelLoading:z,onCommand:A,onCombatAction:M,onCastSpell:j,onGameStateChange:Q,onModelChange:async(w)=>{F(!0);try{await J.switchModel(w),O(w),localStorage.setItem("dungeonCrawler_selectedModel",w)}catch(C){console.error("Failed to switch model:",C)}finally{F(!1)}}},void 0,!1,void 0,this)}var E6=e(x2(),1),EL1=xL1();function Mx(){return E6.jsxDEV(hI,{basename:EL1,children:E6.jsxDEV(PI,{children:[E6.jsxDEV(BG,{index:!0,element:E6.jsxDEV(zw,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),E6.jsxDEV(BG,{element:E6.jsxDEV(kL1,{},void 0,!1,void 0,this),children:[E6.jsxDEV(BG,{path:"foo",element:E6.jsxDEV(Nw,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),E6.jsxDEV(BG,{path:"dungeon-generator",element:E6.jsxDEV(Iw,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),E6.jsxDEV(BG,{path:"dungeon-crawler",element:E6.jsxDEV(Ax,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function kL1(){return E6.jsxDEV(E6.Fragment,{children:[E6.jsxDEV(Z_,{component:NX,to:"/",sx:{position:"fixed",top:16,left:16},children:E6.jsxDEV(Oh,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),E6.jsxDEV(SI,{},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}function xL1(){try{return"/playground"}catch(J){return"/"}}var _x=e(x2(),1),ja=document.getElementById("root");if(!ja)throw Error("Root element not found");var RL1=_x.jsxDEV(Va.StrictMode,{children:_x.jsxDEV(Mx,{},void 0,!1,void 0,this)},void 0,!1,void 0,this);Ia.createRoot(ja).render(RL1);

//# debugId=B6EE327C77E013E064756E2164756E21
//# sourceMappingURL=index-9qhbfhq5.js.map
